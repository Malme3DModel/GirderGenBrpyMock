var cye=Math.pow;(self.webpackChunkthreeTest=self.webpackChunkthreeTest||[]).push([[179],{3784:(Z,ae,b)=>{"use strict";var O={};b.r(O),b.d(O,{Decoder:()=>Oj,Encoder:()=>jxe,PacketType:()=>Do,protocol:()=>zxe});var S={};function R(n){return"function"==typeof n}function E(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}b.r(S),b.d(S,{CONTEXTMENU_ITEMS_ADD_COMMENT:()=>ZY,CONTEXTMENU_ITEMS_ALIGNMENT:()=>eG,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>aG,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>nG,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>iG,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>tG,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>sG,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>rG,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>oG,CONTEXTMENU_ITEMS_BORDERS:()=>lG,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>dG,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>fG,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>cG,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>uG,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>VY,CONTEXTMENU_ITEMS_COPY:()=>zY,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:()=>WY,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:()=>UY,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:()=>jY,CONTEXTMENU_ITEMS_CUT:()=>YY,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>qY,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>GY,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>gG,CONTEXTMENU_ITEMS_HIDE_ROW:()=>vG,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>PY,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>LY,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>KY,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>mG,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>pG,CONTEXTMENU_ITEMS_NO_ITEMS:()=>AY,CONTEXTMENU_ITEMS_READ_ONLY:()=>BY,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>QY,CONTEXTMENU_ITEMS_REDO:()=>HY,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>hG,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>NY,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>JY,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>IY,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>OY,CONTEXTMENU_ITEMS_ROW_BELOW:()=>kY,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>yG,CONTEXTMENU_ITEMS_SHOW_ROW:()=>_G,CONTEXTMENU_ITEMS_UNDO:()=>FY,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>$Y,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>XY,CONTEXT_MENU_ITEMS_NAMESPACE:()=>use,FILTERS_BUTTONS_CANCEL:()=>YG,FILTERS_BUTTONS_CLEAR:()=>UG,FILTERS_BUTTONS_OK:()=>WG,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>GG,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>KG,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>$G,FILTERS_BUTTONS_SELECT_ALL:()=>jG,FILTERS_CONDITIONS_AFTER:()=>LG,FILTERS_CONDITIONS_BEFORE:()=>IG,FILTERS_CONDITIONS_BEGINS_WITH:()=>xG,FILTERS_CONDITIONS_BETWEEN:()=>kG,FILTERS_CONDITIONS_BY_VALUE:()=>KUe,FILTERS_CONDITIONS_CONTAINS:()=>EG,FILTERS_CONDITIONS_EMPTY:()=>bG,FILTERS_CONDITIONS_ENDS_WITH:()=>CG,FILTERS_CONDITIONS_EQUAL:()=>SG,FILTERS_CONDITIONS_GREATER_THAN:()=>RG,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>DG,FILTERS_CONDITIONS_LESS_THAN:()=>AG,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>OG,FILTERS_CONDITIONS_NAMESPACE:()=>ta,FILTERS_CONDITIONS_NONE:()=>pF,FILTERS_CONDITIONS_NOT_BETWEEN:()=>PG,FILTERS_CONDITIONS_NOT_CONTAIN:()=>TG,FILTERS_CONDITIONS_NOT_EMPTY:()=>wG,FILTERS_CONDITIONS_NOT_EQUAL:()=>MG,FILTERS_CONDITIONS_TODAY:()=>NG,FILTERS_CONDITIONS_TOMORROW:()=>FG,FILTERS_CONDITIONS_YESTERDAY:()=>HG,FILTERS_DIVS_FILTER_BY_CONDITION:()=>BG,FILTERS_DIVS_FILTER_BY_VALUE:()=>VG,FILTERS_LABELS_CONJUNCTION:()=>zG,FILTERS_LABELS_DISJUNCTION:()=>mF,FILTERS_NAMESPACE:()=>Gu,FILTERS_VALUES_BLANK_CELLS:()=>gF});const A=E(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class N{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(o){e=o instanceof A?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{te(o)}catch(s){e=null!=e?e:[],s instanceof A?e=[...e,...s.errors]:e.push(s)}}if(e)throw new A(e)}}add(e){var t;if(e&&e!==this)if(this.closed)te(e);else{if(e instanceof N){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&I(t,e)}remove(e){const{_finalizers:t}=this;t&&I(t,e),e instanceof N&&e._removeParent(this)}}N.EMPTY=(()=>{const n=new N;return n.closed=!0,n})();const W=N.EMPTY;function $(n){return n instanceof N||n&&"closed"in n&&R(n.remove)&&R(n.add)&&R(n.unsubscribe)}function te(n){R(n)?n():n.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oe={setTimeout(n,e,...t){const{delegate:r}=oe;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=oe;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function fe(n){oe.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw n;e(n)})}function K(){}const ce=Ae("C",void 0,void 0);function Ae(n,e,t){return{kind:n,value:e,error:t}}let Ve=null;function Qe(n){if(se.useDeprecatedSynchronousErrorHandling){const e=!Ve;if(e&&(Ve={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ve;if(Ve=null,t)throw r}}else n()}class Ne extends N{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$(e)&&e.add(this)):this.destination=Bt}static create(e,t,r){return new dt(e,t,r)}next(e){this.isStopped?At(function Fe(n){return Ae("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?At(function we(n){return Ae("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?At(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function ct(n,e){return Ke.call(n,e)}class st{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){kt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){kt(r)}else kt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){kt(t)}}}class dt extends Ne{constructor(e,t,r){let i;if(super(),R(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&se.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ct(e.next,o),error:e.error&&ct(e.error,o),complete:e.complete&&ct(e.complete,o)}):i=e}this.destination=new st(i)}}function kt(n){se.useDeprecatedSynchronousErrorHandling?function qe(n){se.useDeprecatedSynchronousErrorHandling&&Ve&&(Ve.errorThrown=!0,Ve.error=n)}(n):fe(n)}function At(n,e){const{onStoppedNotification:t}=se;t&&oe.setTimeout(()=>t(n,e))}const Bt={closed:!0,next:K,error:function It(n){throw n},complete:K},Ut="function"==typeof Symbol&&Symbol.observable||"@@observable";function sn(n){return n}function ye(n){return 0===n.length?sn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let gt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function an(n){return n&&n instanceof Ne||function Xt(n){return n&&R(n.next)&&R(n.error)&&R(n.complete)}(n)&&$(n)}(t)?t:new dt(t,r,i);return Qe(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Et(r))((i,o)=>{const s=new dt({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ut](){return this}pipe(...t){return ye(t)(this)}toPromise(t){return new(t=Et(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Et(n){var e;return null!==(e=null!=n?n:se.Promise)&&void 0!==e?e:Promise}const kn=E(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pt=(()=>{class n extends gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new zn(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kn}next(t){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?W:(this.currentObservers=null,o.push(t),new N(()=>{this.currentObservers=null,I(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new gt;return t.source=this,t}}return n.create=(e,t)=>new zn(e,t),n})();class zn extends Pt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:W}}function vr(n){return R(null==n?void 0:n.lift)}function dr(n){return e=>{if(vr(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $n(n,e,t,r,i){return new Ur(n,e,t,r,i)}class Ur extends Ne{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vn(n,e){return dr((t,r)=>{let i=0;t.subscribe($n(r,o=>{r.next(n.call(e,o,i++))}))})}function rr(n){return this instanceof rr?(this.v=n,this):new rr(n)}function _r(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(v){return new Promise(function(w,M){o.push([g,v,w,M])>1||a(g,v)})})}function a(g,v){try{!function u(g){g.value instanceof rr?Promise.resolve(g.value.v).then(c,f):p(o[0][2],g)}(r[g](v))}catch(w){p(o[0][3],w)}}function c(g){a("next",g)}function f(g){a("throw",g)}function p(g,v){g(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Kn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ze(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rl(n){return R(null==n?void 0:n.then)}function zl(n){return R(n[Ut])}function Ap(n){return Symbol.asyncIterator&&R(null==n?void 0:n[Symbol.asyncIterator])}function Hc(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ir=function bf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sh(n){return R(null==n?void 0:n[ir])}function Vs(n){return _r(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield rr(t.read());if(i)return yield rr(void 0);yield yield rr(r)}}finally{t.releaseLock()}})}function Io(n){return R(null==n?void 0:n.getReader)}function Rs(n){if(n instanceof gt)return n;if(null!=n){if(zl(n))return function go(n){return new gt(e=>{const t=n[Ut]();if(R(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(vl(n))return function Rd(n){return new gt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(rl(n))return function Bc(n){return new gt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fe)})}(n);if(Ap(n))return _l(n);if(Sh(n))return function _s(n){return new gt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Io(n))return function jl(n){return _l(Vs(n))}(n)}throw Hc(n)}function _l(n){return new gt(e=>{(function fs(n,e){var t,r,i,o;return function Ot(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(p){s(p)}}function u(f){try{c(r.throw(f))}catch(p){s(p)}}function c(f){f.done?o(f.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(f.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Kn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Wi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yi(n,e,t=1/0){return R(e)?yi((r,i)=>vn((o,s)=>e(r,o,i,s))(Rs(n(r,i))),t):("number"==typeof e&&(t=e),dr((r,i)=>function Ul(n,e,t,r,i,o,s,a){const u=[];let c=0,f=0,p=!1;const g=()=>{p&&!u.length&&!c&&e.complete()},v=M=>c<r?w(M):u.push(M),w=M=>{o&&e.next(M),c++;let C=!1;Rs(t(M,f++)).subscribe($n(e,L=>{null==i||i(L),o?v(L):e.next(L)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){const L=u.shift();s?Wi(e,s,()=>w(L)):w(L)}g()}catch(L){e.error(L)}}))};return n.subscribe($n(e,v,()=>{p=!0,g()})),()=>{null==a||a()}}(r,i,n,t)))}function Mu(n=1/0){return yi(sn,n)}const yo=new gt(n=>n.complete());function tc(n){return n&&R(n.schedule)}function Vc(n){return n[n.length-1]}function Ad(n){return R(Vc(n))?n.pop():void 0}function xu(n){return tc(Vc(n))?n.pop():void 0}function eu(n,e=0){return dr((t,r)=>{t.subscribe($n(r,i=>Wi(r,n,()=>r.next(i),e),()=>Wi(r,n,()=>r.complete(),e),i=>Wi(r,n,()=>r.error(i),e)))})}function Od(n,e=0){return dr((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Sf(n,e){if(!n)throw new Error("Iterable cannot be null");return new gt(t=>{Wi(t,e,()=>{const r=n[Symbol.asyncIterator]();Wi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function is(n,e){return e?function Dg(n,e){if(null!=n){if(zl(n))return function Mh(n,e){return Rs(n).pipe(Od(e),eu(e))}(n,e);if(vl(n))return function wf(n,e){return new gt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(rl(n))return function jc(n,e){return Rs(n).pipe(Od(e),eu(e))}(n,e);if(Ap(n))return Sf(n,e);if(Sh(n))return function kd(n,e){return new gt(t=>{let r;return Wi(t,e,()=>{r=n[ir](),Wi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>R(null==r?void 0:r.return)&&r.return()})}(n,e);if(Io(n))return function Op(n,e){return Sf(Vs(n),e)}(n,e)}throw Hc(n)}(n,e):Rs(n)}function bl(...n){const e=xu(n),t=function zc(n,e){return"number"==typeof Vc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rs(r[0]):Mu(t)(is(r,e)):yo}function wl(n={}){const{connector:e=(()=>new Pt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,f=!1,p=!1;const g=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{g(),s=u=void 0,f=p=!1},w=()=>{const M=s;v(),null==M||M.unsubscribe()};return dr((M,C)=>{c++,!p&&!f&&g();const L=u=null!=u?u:e();C.add(()=>{c--,0===c&&!p&&!f&&(a=tu(w,i))}),L.subscribe(C),!s&&c>0&&(s=new dt({next:H=>L.next(H),error:H=>{p=!0,g(),a=tu(v,t,H),L.error(H)},complete:()=>{f=!0,g(),a=tu(v,r),L.complete()}}),Rs(M).subscribe(s))})(o)}}function tu(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new dt({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function ko(n){for(let e in n)if(n[e]===ko)return e;throw Error("Could not find renamed property on target object.")}function Mf(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function lo(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(lo).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Cu(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const xh=ko({__forward_ref__:ko});function Ii(n){return n.__forward_ref__=Ii,n.toString=function(){return lo(this())},n}function kr(n){return Sl(n)?n():n}function Sl(n){return"function"==typeof n&&n.hasOwnProperty(xh)&&n.__forward_ref__===Ii}class pn extends Error{constructor(e,t){super(function Uc(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function di(n){return"string"==typeof n?n:null==n?"":String(n)}function nu(n,e){throw new pn(-201,!1)}function ol(n,e){null==n&&function io(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function gn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ei(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pr(n){return wt(n,Ti)||wt(n,es)}function wt(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ni(n){return n&&(n.hasOwnProperty(ps)||n.hasOwnProperty(Rh))?n[ps]:null}const Ti=ko({\u0275prov:ko}),ps=ko({\u0275inj:ko}),es=ko({ngInjectableDef:ko}),Rh=ko({ngInjectorDef:ko});var pr=(()=>((pr=pr||{})[pr.Default=0]="Default",pr[pr.Host=1]="Host",pr[pr.Self=2]="Self",pr[pr.SkipSelf=4]="SkipSelf",pr[pr.Optional=8]="Optional",pr))();let Cf;function Ha(n){const e=Cf;return Cf=n,e}function Yc(n,e,t){const r=Pr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&pr.Optional?null:void 0!==e?e:void nu(lo(n))}function Fd(n){return{toString:n}.toString()}var Ks=(()=>((Ks=Ks||{})[Ks.OnPush=0]="OnPush",Ks[Ks.Default=1]="Default",Ks))(),Eu=(()=>{return(n=Eu||(Eu={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Eu;var n})();const Wo=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Ml={},Po=[],Ig=ko({\u0275cmp:ko}),qv=ko({\u0275dir:ko}),Ng=ko({\u0275pipe:ko}),c0=ko({\u0275mod:ko}),Gc=ko({\u0275fac:ko}),Pp=ko({__NG_ELEMENT_ID__:ko});let JE=0;function vi(n){return Fd(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ks.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Po,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Eu.Emulated,id:"c"+JE++,styles:n.styles||Po,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=zs(n.inputs,r),i.outputs=zs(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(sa).filter(ic):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(wa).filter(ic):null,i})}function sa(n){return Vo(n)||vo(n)}function ic(n){return null!==n}function An(n){return Fd(()=>({type:n.type,bootstrap:n.bootstrap||Po,declarations:n.declarations||Po,imports:n.imports||Po,exports:n.exports||Po,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zs(n,e){if(null==n)return Ml;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Mn=vi;function Vo(n){return n[Ig]||null}function vo(n){return n[qv]||null}function wa(n){return n[Ng]||null}function Ri(n,e){const t=n[c0]||null;if(!t&&!0===e)throw new Error(`Type ${lo(n)} does not have '\u0275mod' property.`);return t}function Ws(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ds(n){return Array.isArray(n)&&!0===n[1]}function Jv(n){return 0!=(8&n.flags)}function El(n){return 2==(2&n.flags)}function Ma(n){return 1==(1&n.flags)}function sl(n){return null!==n.template}function Wl(n){return 0!=(256&n[2])}function xa(n,e){return n.hasOwnProperty(Gc)?n[Gc]:null}class Zc{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function As(){return lc}function lc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ah),Dh}function Dh(){const n=Bp(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ml)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ah(n,e,t,r){const i=Bp(n)||function Bg(n,e){return n[Hg]=e}(n,{previous:Ml,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],u=s[a];o[a]=new Zc(u&&u.currentValue,e,s===Ml),n[r]=e}As.ngInherit=!0;const Hg="__ngSimpleChanges__";function Bp(n){return n[Hg]||null}function xs(n){for(;Array.isArray(n);)n=n[0];return n}function su(n,e){return xs(e[n])}function Zi(n,e){return xs(e[n.index])}function Kr(n,e){return n.data[e]}function Ca(n,e){const t=e[n];return Ws(t)?t:t[0]}function Oh(n){return 4==(4&n[2])}function jd(n){return 64==(64&n[2])}function au(n,e){return null==e?null:n[e]}function Ud(n){n[18]=0}function Of(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const yn={lFrame:qc(null),bindingsEnabled:!0};function Yl(){return yn.bindingsEnabled}function ln(){return yn.lFrame.lView}function zi(){return yn.lFrame.tView}function uo(n){return yn.lFrame.contextLView=n,n[8]}function fr(n){return yn.lFrame.contextLView=null,n}function Ys(){let n=kf();for(;null!==n&&64===n.type;)n=n.parent;return n}function kf(){return yn.lFrame.currentTNode}function Ea(n,e){const t=yn.lFrame;t.currentTNode=n,t.isParent=e}function cc(){return yn.lFrame.isParent}function Tu(){yn.lFrame.isParent=!1}function dc(){return yn.lFrame.bindingIndex++}function dn(n,e){const t=yn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lh(e)}function Lh(n){yn.lFrame.currentDirectiveIndex=n}function fc(n){const e=yn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Gi(){return yn.lFrame.currentQueryIndex}function Os(n){yn.lFrame.currentQueryIndex=n}function a_(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function zg(n,e,t){if(t&pr.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&pr.Host||(i=a_(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=yn.lFrame=ll();return r.currentTNode=e,r.lView=n,!0}function l_(n){const e=ll(),t=n[1];yn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ll(){const n=yn.lFrame,e=null===n?null:n.child;return null===e?qc(n):e}function qc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ks(){const n=yn.lFrame;return yn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const If=ks;function Ba(){const n=ks();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function da(){return yn.lFrame.selectedIndex}function Gl(n){yn.lFrame.selectedIndex=n}function Ko(){const n=yn.lFrame;return Kr(n.tView,n.selectedIndex)}function Jc(){yn.lFrame.currentNamespace="svg"}function Ug(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function Wg(n,e,t){m0(n,e,3,t)}function Yg(n,e,t,r){(3&n[2])===t&&m0(n,e,t,r)}function u_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function m0(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(cT(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function cT(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Yp{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];y0(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function g0(n){return 3===n||4===n||6===n}function y0(n){return 64===n.charCodeAt(0)}function $g(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||hc(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function hc(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Ff(n){return-1!==n}function Nh(n){return 32767&n}function Fh(n,e){let t=function mT(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let c_=!0;function Kg(n){const e=c_;return c_=n,e}let ho=0;const T={};function J(n,e){const t=ve(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,le(r.data,n),le(e,null),le(r.blueprint,null));const i=ft(n,e),o=n.injectorIndex;if(Ff(i)){const s=Nh(i),a=Fh(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function le(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ve(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ft(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Tk(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function qt(n,e,t){!function F(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pp)&&(r=t[Pp]),null==r&&(r=t[Pp]=ho++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Fi(n,e,t){if(t&pr.Optional)return n;nu()}function jo(n,e,t,r){if(t&pr.Optional&&void 0===r&&(r=null),0==(t&(pr.Self|pr.Host))){const i=n[9],o=Ha(void 0);try{return i?i.get(e,r,t&pr.Optional):Yc(e,r,t&pr.Optional)}finally{Ha(o)}}return Fi(r,0,t)}function Va(n,e,t,r=pr.Default,i){if(null!==n){if(1024&e[2]){const s=function B3(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=pc(o,s,t,r|pr.Self,T);if(a!==T)return a;let u=o.parent;if(!u){const c=s[21];if(c){const f=c.get(t,T,r);if(f!==T)return f}u=Tk(s),s=s[15]}o=u}return i}(n,e,t,r,T);if(s!==T)return s}const o=pc(n,e,t,r,T);if(o!==T)return o}return jo(e,t,r,i)}function pc(n,e,t,r,i){const o=function F3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Pp)?n[Pp]:void 0;return"number"==typeof e?e>=0?255&e:H3:e}(t);if("function"==typeof o){if(!zg(e,n,r))return r&pr.Host?Fi(i,0,r):jo(e,t,r,i);try{const s=o(r);if(null!=s||r&pr.Optional)return s;nu()}finally{If()}}else if("number"==typeof o){let s=null,a=ve(n,e),u=-1,c=r&pr.Host?e[16][6]:null;for((-1===a||r&pr.SkipSelf)&&(u=-1===a?ft(n,e):e[a+8],-1!==u&&Ek(r,!1)?(s=e[1],a=Nh(u),e=Fh(u,e)):a=-1);-1!==a;){const f=e[1];if(Ck(o,a,f.data)){const p=Yd(a,e,t,s,r,c);if(p!==T)return p}u=e[a+8],-1!==u&&Ek(r,e[1].data[a+8]===c)&&Ck(o,a,e)?(s=f,a=Nh(u),e=Fh(u,e)):a=-1}}return i}function Yd(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],f=_0(a,s,t,null==r?El(a)&&c_:r!=s&&0!=(3&a.type),i&pr.Host&&o===a);return null!==f?d_(e,s,f,a):T}function _0(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,f=o>>20,g=i?a+f:n.directiveEnd;for(let v=r?a:a+f;v<g;v++){const w=s[v];if(v<u&&t===w||v>=u&&w.type===t)return v}if(i){const v=s[u];if(v&&sl(v)&&v.type===t)return u}return null}function d_(n,e,t,r){let i=n[t];const o=e.data;if(function dT(n){return n instanceof Yp}(i)){const s=i;s.resolving&&function Ag(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new pn(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():di(n)}(o[t]));const a=Kg(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ha(s.injectImpl):null;zg(n,r,pr.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Qc(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=lc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&Ha(u),Kg(a),s.resolving=!1,If()}}return i}function Ck(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Ek(n,e){return!(n&pr.Self||n&pr.Host&&e)}class Xg{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Va(this._tNode,this._lView,e,r,t)}}function H3(){return new Xg(Ys(),ln())}function xo(n){return Fd(()=>{const e=n.prototype.constructor,t=e[Gc]||gT(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Gc]||gT(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gT(n){return Sl(n)?()=>{const e=gT(kr(n));return e&&e()}:xa(n)}function Tk(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Bf(n){return function Gr(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(g0(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ys(),n)}const qg="__parameters__";function Qg(n,e,t){return Fd(()=>{const r=function yT(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,f){const p=u.hasOwnProperty(qg)?u[qg]:Object.defineProperty(u,qg,{value:[]})[qg];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=gn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ru(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Ru(r,e)):e!==n&&e.push(r)}return e}function Vf(n,e){n.forEach(t=>Array.isArray(t)?Vf(t,e):e(t))}function Dk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function b0(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function p_(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Du(n,e,t){let r=ey(n,e);return r>=0?n[1|r]=t:(r=~r,function U3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function _T(n,e){const t=ey(n,e);if(t>=0)return n[1|t]}function ey(n,e){return function kk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const m_={},wT="__NG_DI_FLAG__",S0="ngTempTokenPath",q3=/\n/gm,Pk="__source";let g_;function ty(n){const e=g_;return g_=n,e}function Q3(n,e=pr.Default){if(void 0===g_)throw new pn(-203,!1);return null===g_?Yc(n,void 0,e):g_.get(n,e&pr.Optional?null:void 0,e)}function _t(n,e=pr.Default){return(function Lg(){return Cf}()||Q3)(kr(n),e)}function ws(n,e=pr.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),_t(n,e)}function ST(n){const e=[];for(let t=0;t<n.length;t++){const r=kr(n[t]);if(Array.isArray(r)){if(0===r.length)throw new pn(900,!1);let i,o=pr.Default;for(let s=0;s<r.length;s++){const a=r[s],u=eB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(_t(i,o))}else e.push(_t(r))}return e}function y_(n,e){return n[wT]=e,n.prototype[wT]=e,n}function eB(n){return n[wT]}const Hh=y_(Qg("Optional"),8),ny=y_(Qg("SkipSelf"),4);let C0,__;function td(n){var e;return(null===(e=function E0(){if(void 0===__&&(__=null,Wo.trustedTypes))try{__=Wo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return __}())||void 0===e?void 0:e.createHTML(n))||n}class Kp{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hB extends Kp{getTypeName(){return"HTML"}}class pB extends Kp{getTypeName(){return"Style"}}class mB extends Kp{getTypeName(){return"Script"}}class gB extends Kp{getTypeName(){return"URL"}}class yB extends Kp{getTypeName(){return"ResourceURL"}}function Ou(n){return n instanceof Kp?n.changingThisBreaksApplicationSecurity:n}function Gd(n,e){const t=function vB(n){return n instanceof Kp&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class xB{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(td(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class CB{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=td(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=td(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const TB=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,RB=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function b_(n){return(n=String(n)).match(TB)||n.match(RB)?n:"unsafe:"+n}function $d(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function w_(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Yk=$d("area,br,col,hr,img,wbr"),Gk=$d("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RT=$d("rp,rt"),DT=w_(Yk,w_(Gk,$d("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w_(RT,$d("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),w_(RT,Gk)),Kd=$d("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),R0=$d("srcset"),AT=w_(Kd,R0,$d("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$d("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kk=$d("script,style,template");class S_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!DT.hasOwnProperty(t))return this.sanitizedSomething=!0,!Kk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!AT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;Kd[a]&&(u=b_(u)),R0[a]&&(n=u,u=(n=String(n)).split(",").map(e=>b_(e.trim())).join(", ")),this.buf.push(" ",s,'="',Xk(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();DT.hasOwnProperty(t)&&!Yk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Xk(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const OB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kB=/([^\#-~ |!])/g;function Xk(n){return n.replace(/&/g,"&amp;").replace(OB,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let D0;function Zk(n,e){let t=null;try{D0=D0||function Uk(n){const e=new CB(n);return function EB(){try{return!!(new window.DOMParser).parseFromString(td(""),"text/html")}catch(n){return!1}}()?new xB(e):e}(n);let r=e?String(e):"";t=D0.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=D0.getInertBodyElement(r)}while(r!==o);return td((new S_).sanitizeChildren(Xp(t)||t))}finally{if(t){const r=Xp(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Xp(n){return"content"in n&&function qk(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fo=(()=>((Fo=Fo||{})[Fo.NONE=0]="NONE",Fo[Fo.HTML=1]="HTML",Fo[Fo.STYLE=2]="STYLE",Fo[Fo.SCRIPT=3]="SCRIPT",Fo[Fo.URL=4]="URL",Fo[Fo.RESOURCE_URL=5]="RESOURCE_URL",Fo))();const PT=new Rn("ENVIRONMENT_INITIALIZER"),nP=new Rn("INJECTOR",-1),rP=new Rn("INJECTOR_DEF_TYPES");class iP{get(e,t=m_){if(t===m_){const r=new Error(`NullInjectorError: No provider for ${lo(e)}!`);throw r.name="NullInjectorError",r}return t}}function NB(...n){return{\u0275providers:oP(0,n)}}function oP(n,...e){const t=[],r=new Set;let i;return Vf(e,o=>{const s=o;IT(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&LT(i,t),t}function LT(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Vf(i,o=>{e.push(o)})}}function IT(n,e,t,r){if(!(n=kr(n)))return!1;let i=null,o=Ni(n);const s=!o&&Vo(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Ni(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)IT(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Vf(o.imports,f=>{IT(f,e,t,r)&&(c||(c=[]),c.push(f))})}finally{}void 0!==c&&LT(c,e)}if(!a){const c=xa(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Po},{provide:rP,useValue:i,multi:!0},{provide:PT,useValue:()=>_t(i),multi:!0})}const u=o.providers;null==u||a||Vf(u,f=>{e.push(f)})}}return i!==n&&void 0!==n.providers}const FB=ko({provide:String,useValue:ko});function NT(n){return null!==n&&"object"==typeof n&&FB in n}function Bh(n){return"function"==typeof n}const iy=new Rn("Set Injector scope."),Zp={},BB={};let FT;function x_(){return void 0===FT&&(FT=new iP),FT}class Vh{}class lP extends Vh{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qp(e,s=>this.processProvider(s)),this.records.set(nP,Jp(void 0,this)),i.has("environment")&&this.records.set(Vh,Jp(void 0,this));const o=this.records.get(iy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rP.multi,Po,pr.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ty(this),r=Ha(void 0);try{return e()}finally{ty(t),Ha(r)}}get(e,t=m_,r=pr.Default){this.assertNotDestroyed();const i=ty(this),o=Ha(void 0);try{if(!(r&pr.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function ss(n){return"function"==typeof n||"object"==typeof n&&n instanceof Rn}(e)&&Pr(e);a=u&&this.injectableDefInScope(u)?Jp(A0(e),Zp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&pr.Self?x_():this.parent).get(e,t=r&pr.Optional&&t===m_?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[S0]=s[S0]||[]).unshift(lo(e)),i)throw s;return function tB(n,e,t,r){const i=n[S0];throw e[Pk]&&i.unshift(e[Pk]),n.message=function nB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=lo(e);if(Array.isArray(e))i=e.map(lo).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):lo(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(q3,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[S0]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Ha(o),ty(i)}}resolveInjectorInitializers(){const e=ty(this),t=Ha(void 0);try{const r=this.get(PT.multi,Po,pr.Self);for(const i of r)i()}finally{ty(e),Ha(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(lo(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pn(205,!1)}processProvider(e){let t=Bh(e=kr(e))?e:kr(e&&e.provide);const r=function qp(n){return NT(n)?Jp(void 0,n.useValue):Jp(oy(n),Zp)}(e);if(Bh(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Jp(void 0,Zp,!0),i.factory=()=>ST(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Zp&&(t.value=BB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zB(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=kr(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function A0(n){const e=Pr(n),t=null!==e?e.factory:xa(n);if(null!==t)return t;if(n instanceof Rn)throw new pn(204,!1);if(n instanceof Function)return function O0(n){const e=n.length;if(e>0)throw p_(e,"?"),new pn(204,!1);const t=function Pn(n){const e=n&&(n[Ti]||n[es]);if(e){const t=function tr(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new pn(204,!1)}function oy(n,e,t){let r;if(Bh(n)){const i=kr(n);return xa(i)||A0(i)}if(NT(n))r=()=>kr(n.useValue);else if(function aP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ST(n.deps||[]));else if(function sP(n){return!(!n||!n.useExisting)}(n))r=()=>_t(kr(n.useExisting));else{const i=kr(n&&(n.useClass||n.provide));if(!function VB(n){return!!n.deps}(n))return xa(i)||A0(i);r=()=>new i(...ST(n.deps))}return r}function Jp(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uP(n){return!!n.\u0275providers}function Qp(n,e){for(const t of n)Array.isArray(t)?Qp(t,e):uP(t)?Qp(t.\u0275providers,e):e(t)}class E_{}class k0{resolveComponentFactory(e){throw function fu(n){const e=Error(`No component factory found for ${lo(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let gc=(()=>{class n{}return n.NULL=new k0,n})();function T_(){return nd(Ys(),ln())}function nd(n,e){return new mi(Zi(n,e))}let mi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=T_,n})();function sy(n){return n instanceof mi?n.nativeElement:n}class ay{}let yc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function R_(){const n=ln(),t=Ca(Ys().index,n);return(Ws(t)?t:n)[11]}(),n})(),L0=(()=>{class n{}return n.\u0275prov=gn({token:n,providedIn:"root",factory:()=>null}),n})();class jh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const HT=new jh("14.1.3"),I0={};function dy(n){return n.ngOriginalError}class gs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&dy(e);for(;t&&dy(t);)t=dy(t);return t||null}}const ul=new Map;let UT=0;const O_="__ngContext__";function cl(n,e){Ws(e)?(n[O_]=e[20],function gP(n){ul.set(n[20],n)}(e)):n[O_]=e}function fy(n){const e=n[O_];return"number"==typeof e?function j0(n){return ul.get(n)||null}(e):e||null}function hy(n){const e=fy(n);return e?Ws(e)?e:e.lView:null}const GB=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wo))();function GT(n){return n.ownerDocument.defaultView}function jf(n){return n instanceof Function?n():n}var hu=(()=>((hu=hu||{})[hu.Important=1]="Important",hu[hu.DashCase=2]="DashCase",hu))();function KT(n,e){return undefined(n,e)}function L_(n){const e=n[3];return Ds(e)?e[3]:e}function q0(n){return N_(n[13])}function yy(n){return N_(n[4])}function N_(n){for(;null!==n&&!Ds(n);)n=n[4];return n}function Xd(n,e,t,r,i){if(null!=r){let o,s=!1;Ds(r)?o=r:Ws(r)&&(s=!0,r=r[0]);const a=xs(r);0===n&&null!==t?null==i?by(e,t,a):im(e,t,a,i||null,!0):1===n&&null!==t?im(e,t,a,i||null,!0):2===n?function rS(n,e,t){const r=om(n,e);r&&function J0(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function ku(n,e,t,r,i){const o=t[7];o!==xs(t)&&Xd(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];am(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function nm(n,e,t){return n.createElement(e,t)}function SP(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Of(i,-1)),t.splice(r,1)}function QT(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&SP(i,r),e>0&&(n[t-1][4]=r[4]);const o=b0(n,10+e);!function JT(n,e){am(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function F_(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&am(n,e,t,3,null,null),function bP(n){let e=n[13];if(!e)return vy(n[1],n);for(;e;){let t=null;if(Ws(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ws(e)&&vy(e[1],e),e=e[3];null===e&&(e=n),Ws(e)&&vy(e[1],e),t=e&&e[4]}e=t}}(e)}}function vy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function rm(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Yp)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function H_(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):xs(e[s]),u=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ds(e[3])){t!==e[3]&&SP(t,e);const r=e[19];null!==r&&r.detachView(n)}!function U0(n){ul.delete(n[20])}(e)}}function B_(n,e,t){return function _y(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Eu.None||i===Eu.Emulated)return null}return Zi(r,t)}(n,e.parent,t)}function im(n,e,t,r,i){n.insertBefore(e,t,r,i)}function by(n,e,t){n.appendChild(e,t)}function V_(n,e,t,r,i){null!==r?im(n,e,t,r,i):by(n,e,t)}function om(n,e){return n.parentNode(e)}function eS(n,e,t){return tS(n,e,t)}let tS=function Rl(n,e,t){return 40&n.type?Zi(n,t):null};function od(n,e,t,r){const i=B_(n,r,e),o=e[11],a=eS(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)V_(o,i,t[u],a,!1);else V_(o,i,t,a,!1)}function sm(n,e){if(null!==e){const t=e.type;if(3&t)return Zi(e,n);if(4&t)return z_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return sm(n,r);{const i=n[e.index];return Ds(i)?z_(-1,i):xs(i)}}if(32&t)return KT(e,n)()||xs(n[e.index]);{const r=nS(n,e);return null!==r?Array.isArray(r)?r[0]:sm(L_(n[16]),r):sm(n,e.next)}}return null}function nS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function z_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return sm(r,i)}return e[7]}function j_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&cl(xs(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)j_(n,e,t.child,r,i,o,!1),Xd(e,n,i,a,o);else if(32&u){const c=KT(t,r);let f;for(;f=c();)Xd(e,n,i,f,o);Xd(e,n,i,a,o)}else 16&u?ys(n,e,r,t,i,o):Xd(e,n,i,a,o);t=s?t.projectionNext:t.next}}function am(n,e,t,r,i,o){j_(t,r,n.firstChild,e,i,o,!1)}function ys(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Xd(e,n,i,u[c],o);else j_(n,e,u,s[3],i,o,!0)}function wy(n,e,t){n.setAttribute(e,"style",t)}function Sy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vc(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const oS="ng-template";function U_(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==vc(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function W_(n){return 4===n.type&&n.value!==oS}function xy(n,e,t){return e===(4!==n.type||t?n.value:oS)}function lm(n,e,t){let r=4;const i=n.attrs||[],o=function um(n){for(let e=0;e<n.length;e++)if(g0(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!xy(n,u,t)||""===u&&1===e.length){if($l(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!U_(n.attrs,c,t)){if($l(r))return!1;s=!0}continue}const p=Y_(8&r?"class":u,i,W_(n),t);if(-1===p){if($l(r))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":i[p+1].toLowerCase();const v=8&r?g:null;if(v&&-1!==vc(v,c,0)||2&r&&c!==g){if($l(r))return!1;s=!0}}}}else{if(!s&&!$l(r)&&!$l(u))return!1;if(s&&$l(u))continue;s=!1,r=u|1&r}}return $l(r)||s}function $l(n){return 0==(1&n)}function Y_(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function t1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function MP(n,e,t=!1){for(let r=0;r<e.length;r++)if(lm(n,e[r],t))return!0;return!1}function xP(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Ls(n,e){return n?":not("+e.trim()+")":e}function sd(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!$l(s)&&(e+=Ls(o,i),i=""),r=s,o=o||!$l(r);t++}return""!==i&&(e+=Ls(o,i)),e}const Si={};function Fr(n){n1(zi(),ln(),da()+n,!1)}function n1(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Wg(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Yg(e,o,0,t)}Gl(t)}function uS(n,e=null,t=null,r){const i=cS(n,e,t,r);return i.resolveInjectorInitializers(),i}function cS(n,e=null,t=null,r,i=new Set){const o=[t||Po,NB(n)];return r=r||("object"==typeof n?void 0:lo(n)),new lP(o,e||x_(),r||null,i)}let Xs=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return uS({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return uS({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=m_,n.NULL=new iP,n.\u0275prov=gn({token:n,providedIn:"any",factory:()=>_t(nP)}),n.__NG_ELEMENT_ID__=-1,n})();function Le(n,e=pr.Default){const t=ln();return null===t?_t(n,e):Va(Ys(),t,kr(n),e)}function cm(){throw new Error("invalid")}function q_(n,e){return n<<17|e<<2}function Pu(n){return n>>17&32767}function J_(n){return 2|n}function Lu(n){return(131068&n)>>2}function yS(n,e){return-131069&n|e<<2}function dm(n){return 1|n}function FP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Os(i),s.contentQueries(2,e[o],o)}}}function rb(n,e,t,r,i,o,s,a,u,c,f){const p=e.blueprint.slice();return p[0]=i,p[2]=76|r,(null!==f||n&&1024&n[2])&&(p[2]|=1024),Ud(p),p[3]=p[15]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=o,p[20]=function tm(){return UT++}(),p[21]=f,p[16]=2==e.type?n[16]:p,p}function ky(n,e,t,r,i){let o=n.data[e];if(null===o)o=function CS(n,e,t,r,i){const o=kf(),s=cc(),u=n.data[e]=function zP(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function s_(){return yn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Pf(){const n=yn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ea(o,!0),o}function Yf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Py(n,e,t){l_(e);try{const r=n.viewQuery;null!==r&&P1(1,r,t);const i=n.template;null!==i&&S1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FP(n,e),n.staticViewQueries&&P1(2,n.viewQuery,t);const o=n.components;null!==o&&function Dl(n,e){for(let t=0;t<e.length;t++)wV(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Ba()}}function fm(n,e,t,r){const i=e[2];if(128!=(128&i)){l_(e);try{Ud(e),function uu(n){return yn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&S1(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Wg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Yg(e,c,0,null),u_(e,0)}if(function bV(n){for(let e=q0(n);null!==e;e=yy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Of(o,1),i[2]|=512}}}(e),function O1(n){for(let e=q0(n);null!==e;e=yy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];jd(r)&&fm(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&FP(n,e),s){const c=n.contentCheckHooks;null!==c&&Wg(e,c)}else{const c=n.contentHooks;null!==c&&Yg(e,c,1),u_(e,1)}!function fV(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Gl(~i);else{const o=i,s=t[++r],a=t[++r];dn(s,o),a(2,e[o])}}}finally{Gl(-1)}}(n,e);const a=n.components;null!==a&&function HP(n,e){for(let t=0;t<e.length;t++)GP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&P1(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Wg(e,c)}else{const c=n.viewHooks;null!==c&&Yg(e,c,2),u_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Of(e[3],-1))}finally{Ba()}}}function w1(n,e,t,r){const i=e[10],s=Oh(e);try{!s&&i.begin&&i.begin(),s&&Py(n,e,r),fm(n,e,t,r)}finally{!s&&i.end&&i.end()}}function S1(n,e,t,r,i){const o=da(),s=2&r;try{Gl(-1),s&&e.length>22&&n1(n,e,22,!1),t(r,i)}finally{Gl(o)}}function ES(n,e,t){if(Jv(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function M1(n,e,t){!Yl()||(function WP(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||J(t,e),cl(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=sl(u);c&&Zs(e,t,u);const f=d_(e,n,a,t);cl(f,e),null!==s&&yV(0,a-i,f,u,0,s),c&&(Ca(t.index,e)[8]=f)}}(n,e,t,Zi(t,e)),128==(128&t.flags)&&function mV(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function lT(){return yn.lFrame.currentDirectiveIndex}();try{Gl(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Lh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&D1(u,c)}}finally{Gl(-1),Lh(s)}}(n,e,t))}function x1(n,e,t=Zi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function C1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=$h(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function $h(n,e,t,r,i,o,s,a,u,c){const f=22+r,p=f+i,g=function BP(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Si);return t}(f,p),v="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1}}function Ly(n,e,t,r){const i=L1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&sb(n).push(r,i.length-1))}function jP(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Gf(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const f=i[c],p=f.inputs,g=null===o||W_(e)?null:vV(p,o);s.push(g),a=jP(p,c,a),u=jP(f.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=u}function Xl(n,e,t,r,i,o,s,a){const u=Zi(e,t);let f,c=e.inputs;!a&&null!=c&&(f=c[r])?(Xf(n,t,f,r,i),El(e)&&T1(t,e.index)):3&e.type&&(r=function TS(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function T1(n,e){const t=Ca(e,n);16&t[2]||(t[2]|=32)}function RS(n,e,t,r){let i=!1;if(Yl()){const o=function DS(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];MP(t,s.selectors,!1)&&(i||(i=[]),qt(J(t,e),n,s.type),sl(s)?(A1(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,Is(t,n.data.length,o.length);for(let f=0;f<o.length;f++){const p=o[f];p.providersResolver&&p.providersResolver(p)}let a=!1,u=!1,c=Yf(n,e,o.length,null);for(let f=0;f<o.length;f++){const p=o[f];t.mergedAttrs=$g(t.mergedAttrs,p.hostAttrs),YP(n,t,e,c,p),AS(c,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}Gf(n,t)}s&&function gV(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new pn(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=$g(t.mergedAttrs,t.attrs),i}function R1(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function pV(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function D1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function A1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function AS(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sl(e)&&(t[""]=n)}}function Is(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function YP(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=xa(i.type)),s=new Yp(o,sl(i),Le);n.blueprint[r]=s,t[r]=s,R1(n,e,0,r,Yf(n,t,i.hostVars,Si),i)}function Zs(n,e,t){const r=Zi(e,n),i=C1(t),o=n[10],s=$f(n,rb(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Iu(n,e,t,r,i,o){const s=Zi(n,e);!function OS(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?di(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function yV(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],f=s[u++],p=s[u++];null!==a?r.setInput(t,p,c,f):t[f]=p}}}function vV(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ib(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function GP(n,e){const t=Ca(e,n);if(jd(t)){const r=t[1];48&t[2]?fm(r,t,r.template,t[8]):t[5]>0&&kS(t)}}function kS(n){for(let r=q0(n);null!==r;r=yy(r))for(let i=10;i<r.length;i++){const o=r[i];if(jd(o))if(512&o[2]){const s=o[1];fm(s,o,s.template,o[8])}else o[5]>0&&kS(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ca(t[r],n);jd(i)&&i[5]>0&&kS(i)}}function wV(n,e){const t=Ca(e,n),r=t[1];(function SV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Py(r,t,t[8])}function $f(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function qd(n){for(;n;){n[2]|=32;const e=L_(n);if(Wl(n)&&!e)return n;n=e}return null}function hm(n){!function k1(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=hy(t);if(null!==r){const i=r[1];w1(i,r,i.template,t)}}}(n[8])}function P1(n,e,t){Os(0),e(n,t)}const ob=(()=>Promise.resolve(null))();function L1(n){return n[7]||(n[7]=[])}function sb(n){return n.cleanup||(n.cleanup=[])}function I1(n,e,t){return(null===n||sl(n))&&(t=function n_(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function LS(n,e){const t=n[9],r=t?t.get(gs,null):null;r&&r.handleError(e)}function Xf(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ab(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Cu(i,a):2==o&&(r=Cu(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function lb(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(xs(o)),Ds(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&lb(u[1],u,c,r)}const s=t.type;if(8&s)lb(n,e,t.child,r);else if(32&s){const a=KT(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=nS(e,t);if(Array.isArray(a))r.push(...a);else{const u=L_(e[16]);lb(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ub{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lb(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ds(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(QT(e,r),b0(t,r))}this._attachedToViewContainer=!1}F_(this._lView[1],this._lView)}onDestroy(e){Ly(this._lView[1],this._lView,null,e)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function PS(n,e,t){const r=e[10];r.begin&&r.begin();try{fm(n,e,n.template,t)}catch(i){throw LS(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uf(n,e){am(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pn(902,!1);this._appRef=e}}class MV extends ub{constructor(e){super(e),this._view=e}detectChanges(){hm(this._view)}checkNoChanges(){}get context(){return null}}class N1 extends gc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Vo(e);return new Ny(t,this.ngModule)}}function F1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class xV{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,I0,r);return i!==I0||t===I0?i:this.parentInjector.get(e,t,r)}}class Ny extends E_{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _c(n){return n.map(sd).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return F1(this.componentDef.inputs)}get outputs(){return F1(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Vh?i:null==i?void 0:i.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new xV(e,o):e,a=s.get(ay,null);if(null===a)throw new pn(407,!1);const u=s.get(L0,null),c=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function VP(n,e,t){return n.selectRootElement(e,t===Eu.ShadowDom)}(c,r,this.componentDef.encapsulation):nm(a.createRenderer(null,this.componentDef),f,function IS(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),g=this.componentDef.onPush?288:272,v=function TV(n,e){return{components:[],scheduler:n||GB,clean:ob,playerHandler:e||null,flags:0}}(),w=$h(0,null,null,1,0,null,null,null,null,null),M=rb(null,w,v,g,null,null,a,c,u,s,null);let C,L;l_(M);try{const H=function CV(n,e,t,r,i,o){const s=t[1];t[22]=n;const u=ky(s,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(ab(u,c,!0),null!==n&&(Gg(i,n,c),null!==u.classes&&Sy(i,n,u.classes),null!==u.styles&&wy(i,n,u.styles)));const f=r.createRenderer(n,e),p=rb(t,C1(e),null,e.onPush?32:16,t[22],u,r,f,o||null,null,null);return s.firstCreatePass&&(qt(J(u,t),s,e.type),A1(s,u),Is(u,t.length,1)),$f(t,p),t[22]=p}(p,this.componentDef,M,a,c);if(p)if(r)Gg(c,p,["ng-version",HT.full]);else{const{attrs:V,classes:z}=function JB(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!$l(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);V&&Gg(c,p,V),z&&z.length>0&&Sy(c,p,z.join(" "))}if(L=Kr(w,22),void 0!==t){const V=L.projection=[];for(let z=0;z<this.ngContentSelectors.length;z++){const X=t[z];V.push(null!=X?Array.from(X):null)}}C=function EV(n,e,t,r,i){const o=t[1],s=function hV(n,e,t){const r=Ys();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),YP(n,r,e,Yf(n,e,1,null),t),Gf(n,r));const i=d_(e,n,r.directiveStart,r);cl(i,e);const o=Zi(r,e);return o&&cl(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const u of i)u(s,e);if(e.contentQueries){const u=Ys();e.contentQueries(1,s,u.directiveStart)}const a=Ys();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Gl(a.index),R1(t[1],a,0,a.directiveStart,a.directiveEnd,e),D1(e,s)),s}(H,this.componentDef,M,v,[RV]),Py(w,M,null)}finally{Ba()}return new H1(this.componentType,C,nd(L,M),M,L)}}class H1 extends class C_{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new MV(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;Xf(o[1],o,i,e,t),T1(o,this._tNode.index)}}get injector(){return new Xg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function RV(){const n=Ys();Ug(ln()[1],n)}function wr(n){let e=function ZP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(sl(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new pn(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=B1(n.inputs),s.declaredInputs=B1(n.declaredInputs),s.outputs=B1(n.outputs);const a=i.hostBindings;a&&kV(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&AV(n,u),c&&OV(n,c),Mf(n.inputs,i.inputs),Mf(n.declaredInputs,i.declaredInputs),Mf(n.outputs,i.outputs),sl(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===wr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function DV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$g(i.hostAttrs,t=$g(t,i.hostAttrs))}}(r)}function B1(n){return n===Ml?{}:n===Po?[]:n}function AV(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function OV(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function kV(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let NS=null;function pm(){if(!NS){const n=Wo.Symbol;if(n&&n.iterator)NS=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(NS=r)}}}return NS}function cb(n){return!!V1(n)&&(Array.isArray(n)||!(n instanceof Map)&&pm()in n)}function V1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Al(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ts(n,e,t,r){const i=ln();return Al(i,dc(),e)&&(zi(),Iu(Ko(),i,n,e,t,r)),ts}function ie(n,e,t,r,i,o,s,a){const u=ln(),c=zi(),f=n+22,p=c.firstCreatePass?function de(n,e,t,r,i,o,s,a,u){const c=e.consts,f=ky(e,n,4,s||null,au(c,a));RS(e,t,f,au(c,u)),Ug(e,f);const p=f.tViews=$h(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}(f,c,u,e,t,r,i,o,s):c.data[f];Ea(p,!1);const g=u[11].createComment("");od(c,u,g,p),cl(g,u),$f(u,u[f]=ib(g,u,g,p)),Ma(p)&&M1(c,u,p),null!=s&&x1(u,p,a)}function ke(n){return function uc(n,e){return n[e]}(function i_(){return yn.lFrame.contextLView}(),22+n)}function _e(n,e,t){const r=ln();return Al(r,dc(),e)&&Xl(zi(),Ko(),r,n,e,r[11],t,!1),_e}function We(n,e,t,r,i){const s=i?"class":"style";Xf(n,t,e.inputs[s],s,r)}function Re(n,e,t,r){const i=ln(),o=zi(),s=22+n,a=i[11],u=i[s]=nm(a,e,function Wp(){return yn.lFrame.currentNamespace}()),c=o.firstCreatePass?function Ee(n,e,t,r,i,o,s){const a=e.consts,c=ky(e,n,2,i,au(a,o));return RS(e,t,c,au(a,s)),null!==c.attrs&&ab(c,c.attrs,!1),null!==c.mergedAttrs&&ab(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];Ea(c,!0);const f=c.mergedAttrs;null!==f&&Gg(a,u,f);const p=c.classes;null!==p&&Sy(a,u,p);const g=c.styles;return null!==g&&wy(a,u,g),64!=(64&c.flags)&&od(o,i,u,c),0===function sT(){return yn.lFrame.elementDepthCount}()&&cl(u,i),function zp(){yn.lFrame.elementDepthCount++}(),Ma(c)&&(M1(o,i,c),ES(o,c,i)),null!==r&&x1(i,c),Re}function $e(){let n=Ys();cc()?Tu():(n=n.parent,Ea(n,!1));const e=n;!function aT(){yn.lFrame.elementDepthCount--}();const t=zi();return t.firstCreatePass&&(Ug(t,n),Jv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function hT(n){return 0!=(16&n.flags)}(e)&&We(t,e,ln(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pT(n){return 0!=(32&n.flags)}(e)&&We(t,e,ln(),e.stylesWithoutHost,!1),$e}function lt(n,e,t,r){return Re(n,e,t,r),$e(),lt}function Ht(n,e,t){const r=ln(),i=zi(),o=n+22,s=i.firstCreatePass?function Dt(n,e,t,r,i){const o=e.consts,s=au(o,r),a=ky(e,n,8,"ng-container",s);return null!==s&&ab(a,s,!0),RS(e,t,a,au(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Ea(s,!0);const a=r[o]=r[11].createComment("");return od(i,r,a,s),cl(a,r),Ma(s)&&(M1(i,r,s),ES(i,s,r)),null!=t&&x1(r,s),Ht}function $t(){let n=Ys();const e=zi();return cc()?Tu():(n=n.parent,Ea(n,!1)),e.firstCreatePass&&(Ug(e,n),Jv(n)&&e.queries.elementEnd(n)),$t}function xt(){return ln()}function jt(n){return!!n&&"function"==typeof n.then}const Nn=function tn(n){return!!n&&"function"==typeof n.subscribe};function on(n,e,t,r){const i=ln(),o=zi(),s=Ys();return Lr(o,i,i[11],s,n,e,0,r),on}function mr(n,e){const t=Ys(),r=ln(),i=zi();return Lr(i,r,I1(fc(i.data),t,r),t,n,e),mr}function Lr(n,e,t,r,i,o,s,a){const u=Ma(r),f=n.firstCreatePass&&sb(n),p=e[8],g=L1(e);let v=!0;if(3&r.type||a){const C=Zi(r,e),L=a?a(C):C,H=g.length,V=a?X=>a(xs(X[r.index])):r.index;let z=null;if(!a&&u&&(z=function Vr(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,v=!1;else{o=Mi(r,e,p,o,!1);const X=t.listen(L,i,o);g.push(o,X),f&&f.push(i,V,H,H+1)}}else o=Mi(r,e,p,o,!1);const w=r.outputs;let M;if(v&&null!==w&&(M=w[i])){const C=M.length;if(C)for(let L=0;L<C;L+=2){const re=e[M[L]][M[L+1]].subscribe(o),me=g.length;g.push(o,re),f&&f.push(i,r.index,me,-(me+1))}}}function oo(n,e,t,r){try{return!1!==t(r)}catch(i){return LS(n,i),!1}}function Mi(n,e,t,r,i){return function o(s){if(s===Function)return r;qd(2&n.flags?Ca(n.index,e):e);let u=oo(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=oo(e,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function _i(n=1){return function jg(n){return(yn.lFrame.contextLView=function Nf(n,e){for(;n>0;)e=e[15],n--;return e}(n,yn.lFrame.contextLView))[8]}(n)}function Ho(n,e){let t=null;const r=function qB(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?MP(n,o,!0):xP(r,o))return i}else t=i}return t}function fn(n){const e=ln()[16][6];if(!e.projection){const r=e.projection=p_(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?Ho(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Ji(n,e=0,t){const r=ln(),i=zi(),o=ky(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Tu(),64!=(64&o.flags)&&function ZB(n,e,t){ys(e[11],0,e,t,B_(n,t,e),eS(t.parent||e[6],t,e))}(i,r,o)}function Mt(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Pu(o):Lu(o),u=!1;for(;0!==a&&(!1===u||s);){const f=n[a+1];jn(n[a],e)&&(u=!0,n[a+1]=r?dm(f):J_(f)),a=r?Pu(f):Lu(f)}u&&(n[t+1]=r?J_(o):dm(o))}function jn(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ey(n,e)>=0}function wc(n,e,t){return Ra(n,e,t,!1),wc}function ha(n,e){return Ra(n,e,null,!0),ha}function Ra(n,e,t,r){const i=ln(),o=zi(),s=function cu(n){const e=yn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function tL(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[da()],s=function eL(n,e){return e>=n.expandoStartIndex}(n,t);(function Mc(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function Ue(n,e,t,r){const i=fc(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=$i(t=or(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=or(i,n,e,t,r),null===o){let u=function nn(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Lu(r))return n[Pu(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=or(null,n,e,u[1],r),u=$i(u,e.attrs,r),function Zt(n,e,t,r){n[Pu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function un(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=$i(r,n[o].hostAttrs,t);return $i(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function wn(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Pu(s),u=Lu(s);n[r]=t;let f,c=!1;if(Array.isArray(t)){const p=t;f=p[1],(null===f||ey(p,f)>0)&&(c=!0)}else f=t;if(i)if(0!==u){const g=Pu(n[a+1]);n[r+1]=q_(g,a),0!==g&&(n[g+1]=yS(n[g+1],r)),n[a+1]=function h1(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=q_(a,0),0!==a&&(n[a+1]=yS(n[a+1],r)),a=r;else n[r+1]=q_(u,0),0===a?a=r:n[u+1]=yS(n[u+1],r),u=r;c&&(n[r+1]=J_(n[r+1])),Mt(n,f,r,!0),Mt(n,f,r,!1),function On(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ey(o,e)>=0&&(t[r+1]=dm(t[r+1]))}(e,f,n,r,o),s=q_(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Si&&Al(i,s,e)&&function Ns(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];xi(function vS(n){return 1==(1&n)}(c)?ls(u,e,t,i,Lu(c),s):void 0)||(xi(o)||function gS(n){return 2==(2&n)}(c)&&(o=ls(u,null,t,i,a,s)),function iS(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:hu.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hu.Important),n.setStyle(t,r,i,o))}}(r,s,su(da(),t),i,o))}(o,o.data[da()],i,i[11],n,i[s+1]=function Xo(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=lo(Ou(n)))),n}(e,t),r,s)}function or(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=$i(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function $i(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Du(n,s,!!t||e[++o]))}return void 0===n?null:n}function ls(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),f=c?u[1]:u,p=null===f;let g=t[i+1];g===Si&&(g=p?Po:void 0);let v=p?_T(g,r):f===r?g:void 0;if(c&&!xi(v)&&(v=_T(u,r)),xi(v)&&(a=v,s))return a;const w=n[i+1];i=s?Pu(w):Lu(w)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=_T(u,r))}return a}function xi(n){return void 0!==n}function Xn(n,e=""){const t=ln(),r=zi(),i=n+22,o=r.firstCreatePass?ky(r,i,1,e,null):r.data[i],s=t[i]=function ZT(n,e){return n.createText(e)}(t[11],e);od(r,t,s,o),Ea(o,!1)}function _o(n,e,t){const r=ln(),i=function Hy(n,e,t,r){return Al(n,dc(),t)?e+di(t)+r:Si}(r,n,e,t);return i!==Si&&function mu(n,e,t){const r=su(e,n);!function qT(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,da(),i),_o}function BS(n,e,t){const r=ln();return Al(r,dc(),e)&&Xl(zi(),Ko(),r,n,e,r[11],t,!0),BS}function VV(n,e,t){const r=ln();if(Al(r,dc(),e)){const o=zi(),s=Ko();Xl(o,s,r,n,e,I1(fc(o.data),s,r),t,!0)}return VV}const zS="en-US";let Q$=zS;function UV(n,e,t,r,i){if(n=kr(n),Array.isArray(n))for(let o=0;o<n.length;o++)UV(n[o],e,t,r,i);else{const o=zi(),s=ln();let a=Bh(n)?n:kr(n.provide),u=oy(n);const c=Ys(),f=1048575&c.providerIndexes,p=c.directiveStart,g=c.providerIndexes>>20;if(Bh(n)||!n.multi){const v=new Yp(u,i,Le),w=YV(a,e,i?f:f+g,p);-1===w?(qt(J(c,s),o,a),WV(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),s.push(v)):(t[w]=v,s[w]=v)}else{const v=YV(a,e,f+g,p),w=YV(a,e,f,f+g),M=v>=0&&t[v],C=w>=0&&t[w];if(i&&!C||!i&&!M){qt(J(c,s),o,a);const L=function Rve(n,e,t,r,i){const o=new Yp(n,t,Le);return o.multi=[],o.index=e,o.componentProviders=0,xK(o,i,r&&!t),o}(i?Tve:Eve,t.length,i,r,u);!i&&C&&(t[w].providerFactory=L),WV(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(L),s.push(L)}else WV(o,n,v>-1?v:w,xK(t[i?w:v],u,!i&&r));!i&&r&&C&&t[w].componentProviders++}}}function WV(n,e,t,r){const i=Bh(e),o=function HB(n){return!!n.useClass}(e);if(i||o){const u=(o?kr(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=c.indexOf(t);-1===f?c.push(t,[r,u]):c[f+1].push(r,u)}else c.push(t,u)}}}function xK(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function YV(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Eve(n,e,t,r){return GV(this.multi,[])}function Tve(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=d_(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),GV(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],GV(i,o);return o}function GV(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ki(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Cve(n,e,t){const r=zi();if(r.firstCreatePass){const i=sl(n);UV(t,r.data,r.blueprint,i,!0),UV(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class hb{}class CK{}class EK extends hb{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N1(this);const r=Ri(e);this._bootstrapComponents=jf(r.bootstrap),this._r3Injector=cS(e,t,[{provide:hb,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],lo(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $V extends CK{constructor(e){super(),this.moduleType=e}create(e){return new EK(this.moduleType,e)}}class Ave extends hb{constructor(e,t,r){super(),this.componentFactoryResolver=new N1(this),this.instance=null;const i=new lP([...e,{provide:hb,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],t||x_(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sL(n,e,t=null){return new Ave(n,e,t).injector}function PK(n,e,t,r){return function LK(n,e,t,r,i,o){const s=e+t;return Al(n,s,i)?function Qd(n,e,t){return n[e]=t}(n,s+1,o?r.call(o,i):r(i)):function $1(n,e){const t=n[e];return t===Si?void 0:t}(n,s+1)}(ln(),function ca(){const n=yn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function XV(n){return e=>{setTimeout(n,void 0,e)}}const bo=class r_e extends Pt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const p=e;a=null===(i=p.next)||void 0===i?void 0:i.bind(p),u=null===(o=p.error)||void 0===o?void 0:o.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(u=XV(u),a&&(a=XV(a)),c&&(c=XV(c)));const f=super.subscribe({next:a,error:u,complete:c});return e instanceof N&&e.add(f),f}};function i_e(){return this._results[pm()]()}class US{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=pm(),r=US.prototype;r[t]||(r[t]=i_e)}get changes(){return this._changes||(this._changes=new bo)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Ru(e);(this._changesDetected=!function z3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dl=(()=>{class n{}return n.__NG_ELEMENT_ID__=a_e,n})();const o_e=dl,s_e=class extends o_e{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=rb(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Py(r,i,e),new ub(i)}};function a_e(){return aL(Ys(),ln())}function aL(n,e){return 4&n.type?new s_e(e,n,nd(n,e)):null}let Ol=(()=>{class n{}return n.__NG_ELEMENT_ID__=l_e,n})();function l_e(){return zK(Ys(),ln())}const u_e=Ol,BK=class extends u_e{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new Xg(this._hostTNode,this._hostLView)}get parentInjector(){const e=ft(this._hostTNode,this._hostLView);if(Ff(e)){const t=Fh(e,this._hostLView),r=Nh(e);return new Xg(t[1].data[r+8],t)}return new Xg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=VK(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function h_(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?e:new Ny(Vo(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(s?c:this.parentInjector).get(Vh,null);g&&(o=g)}const f=u.create(c,i,void 0,o);return this.insert(f.hostView,a),f}insert(e,t){const r=e._lView,i=r[1];if(function Af(n){return Ds(n[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const p=r[3],g=new BK(p,p[6],p[3]);g.detach(g.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function wP(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],Dk(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function Wf(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=z_(o,s),u=r[11],c=om(u,s[7]);return null!==c&&function XB(n,e,t,r,i,o){r[0]=i,r[6]=e,am(n,r,t,1,i,o)}(i,s[6],u,r,c,a),e.attachToViewContainerRef(),Dk(ZV(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=VK(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=QT(this._lContainer,t);r&&(b0(ZV(this._lContainer),t),F_(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=QT(this._lContainer,t);return r&&null!=b0(ZV(this._lContainer),t)?new ub(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function VK(n){return n[8]}function ZV(n){return n[8]||(n[8]=[])}function zK(n,e){let t;const r=e[n.index];if(Ds(r))t=r;else{let i;if(8&n.type)i=xs(r);else{const o=e[11];i=o.createComment("");const s=Zi(n,e);im(o,om(o,s),i,function Q0(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=ib(r,e,i,n),$f(e,t)}return new BK(t,n,e)}class qV{constructor(e){this.queryList=e,this.matches=null}clone(){return new qV(this.queryList)}setDirty(){this.queryList.setDirty()}}class JV{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new JV(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GK(e,t).matches&&this.queries[t].setDirty()}}class jK{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class QV{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new QV(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ez{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ez(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,f_e(t,o)),this.matchTNodeWithReadOption(e,t,_0(t,e,o,!1,!1))}else r===dl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_0(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===mi||i===Ol||i===dl&&4&t.type)this.addMatch(t.index,-2);else{const o=_0(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function f_e(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function p_e(n,e,t,r){return-1===t?function h_e(n,e){return 11&n.type?nd(n,e):4&n.type?aL(n,e):null}(e,n):-2===t?function m_e(n,e,t){return t===mi?nd(e,n):t===dl?aL(e,n):t===Ol?zK(e,n):void 0}(n,e,r):d_(n,n[1],t,e)}function UK(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:p_e(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function tz(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=UK(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],f=e[-u];for(let p=10;p<f.length;p++){const g=f[p];g[17]===g[3]&&tz(g[1],g,c,r)}if(null!==f[9]){const p=f[9];for(let g=0;g<p.length;g++){const v=p[g];tz(v[1],v,c,r)}}}}}return r}function To(n){const e=ln(),t=zi(),r=Gi();Os(r+1);const i=GK(t,r);if(n.dirty&&Oh(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?tz(t,e,r,[]):UK(t,e,i,r);n.reset(o,sy),n.notifyOnChanges()}return!0}return!1}function kl(n,e,t){const r=zi();r.firstCreatePass&&(YK(r,new jK(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),WK(r,ln(),e)}function fl(n,e,t,r){const i=zi();if(i.firstCreatePass){const o=Ys();YK(i,new jK(e,t,r),o.index),function y_e(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}WK(i,ln(),t)}function Ro(){return function g_e(n,e){return n[19].queries[e].queryList}(ln(),Gi())}function WK(n,e,t){const r=new US(4==(4&t));Ly(n,e,r,r.destroy),null===e[19]&&(e[19]=new JV),e[19].queries.push(new qV(r))}function YK(n,e,t){null===n.queries&&(n.queries=new QV),n.queries.track(new ez(e,t))}function GK(n,e){return n.queries.getByIndex(e)}function uL(...n){}const cL=new Rn("Application Initializer");let dL=(()=>{class n{constructor(t){this.appInits=t,this.resolve=uL,this.reject=uL,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(jt(o))t.push(o);else if(Nn(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(_t(cL,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z1=new Rn("AppId",{providedIn:"root",factory:function dX(){return`${sz()}${sz()}${sz()}`}});function sz(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fX=new Rn("Platform Initializer"),fL=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hX=new Rn("appBootstrapListener"),Kh=new Rn("AnimationModuleType");let H_e=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Xh=new Rn("LocaleId",{providedIn:"root",factory:()=>ws(Xh,pr.Optional|pr.SkipSelf)||function B_e(){return"undefined"!=typeof $localize&&$localize.locale||zS}()});class z_e{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let az=(()=>{class n{compileModuleSync(t){return new $V(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=jf(Ri(t).declarations).reduce((s,a)=>{const u=Vo(a);return u&&s.push(new Ny(u)),s},[]);return new z_e(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W_e=(()=>Promise.resolve(0))();function lz(n){"undefined"==typeof Zone?W_e.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ci{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),"undefined"==typeof Zone)throw new pn(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Y_e(){let n=Wo.requestAnimationFrame,e=Wo.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function K_e(n){const e=()=>{!function $_e(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wo,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cz(n),n.isCheckStableRunning=!0,uz(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cz(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return gX(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),yX(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return gX(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),yX(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,cz(n),uz(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new pn(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new pn(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,G_e,uL,uL);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const G_e={};function uz(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cz(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gX(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yX(n){n._nesting--,uz(n)}class X_e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const vX=new Rn(""),hL=new Rn("");let q1,dz=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q1||(function Z_e(n){q1=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),lz(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lz(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(_t(Ci),_t(fz),_t(hL))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),fz=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i;return null!==(i=null==q1?void 0:q1.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Zh=null;const _X=new Rn("AllowMultipleToken"),hz=new Rn("PlatformDestroyListeners");class bX{constructor(e,t){this.name=e,this.token=t}}function SX(n,e,t=[]){const r=`Platform: ${e}`,i=new Rn(r);return(o=[])=>{let s=pz();if(!s||s.injector.get(_X,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function Q_e(n){if(Zh&&!Zh.get(_X,!1))throw new pn(400,!1);Zh=n;const e=n.get(xX);(function wX(n){const e=n.get(fX,null);e&&e.forEach(t=>t())})(n)}(function MX(n=[],e){return Xs.create({name:e,providers:[{provide:iy,useValue:"platform"},{provide:hz,useValue:new Set([()=>Zh=null])},...n]})}(a,r))}return function tbe(n){const e=pz();if(!e)throw new pn(401,!1);return e}()}}function pz(){var n;return null!==(n=null==Zh?void 0:Zh.get(xX))&&void 0!==n?n:null}let xX=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function nbe(n,e){let t;return t="noop"===n?new X_e:("zone.js"===n?void 0:n)||new Ci(e),t}(null==r?void 0:r.ngZone,function CX(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ci,useValue:i}];return i.run(()=>{const s=Xs.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(gs,null);if(!u)throw new pn(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:f=>{u.handleError(f)}});a.onDestroy(()=>{pL(this._modules,a),c.unsubscribe()})}),function EX(n,e,t){try{const r=t();return jt(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(dL);return c.runInitializers(),c.donePromise.then(()=>(function eK(n){ol(n,"Expected localeId to be defined"),"string"==typeof n&&(Q$=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Xh,zS)||zS),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=TX({},r);return function q_e(n,e,t){const r=new $V(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get($S);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new pn(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pn(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(hz,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(_t(Xs))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function TX(n,e){return Array.isArray(e)?e.reduce(TX,n):Object.assign(Object.assign({},n),e)}let $S=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new gt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new gt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),lz(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=bl(o,s.pipe(wl()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof E_;if(!this._injector.get(dL).done)throw!i&&function YS(n){const e=Vo(n)||vo(n)||wa(n);return null!==e&&e.standalone}(t),new pn(405,false);let s;s=i?t:this._injector.get(gc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function J_e(n){return n.isBoundToModule}(s)?void 0:this._injector.get(hb),c=s.create(Xs.NULL,[],r||s.selector,a),f=c.location.nativeElement,p=c.injector.get(vX,null);return null==p||p.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),pL(this.components,c),null==p||p.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new pn(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pL(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hX,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pL(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new pn(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(_t(Ci),_t(Vh),_t(gs))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let DX=!0,Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=obe,n})();function obe(n){return function sbe(n,e,t){if(El(n)&&!t){const r=Ca(n.index,e);return new ub(r,r)}return 47&n.type?new ub(e[16],e):null}(Ys(),ln(),16==(16&n))}class LX{constructor(){}supports(e){return cb(e)}create(e){return new fbe(e)}}const dbe=(n,e)=>e;class fbe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dbe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<NX(r,i,o)?t:r,a=NX(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,f=u-i;if(c!=f){for(let g=0;g<c;g++){const v=g<o.length?o[g]:o[g]=0,w=v+g;f<=w&&w<c&&(o[g]=v+1)}o[s.previousIndex]=f-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!cb(e))throw new pn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function FV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[pm()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new hbe(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IX),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IX),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hbe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pbe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IX{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new pbe,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NX(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class FX{constructor(){}supports(e){return e instanceof Map||V1(e)}create(){return new mbe}}class mbe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||V1(e)))throw new pn(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new gbe(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class gbe{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HX(){return new vm([new LX])}let vm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||HX()),deps:[[n,new ny,new Hh]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new pn(901,!1)}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:HX}),n})();function BX(){return new J1([new FX])}let J1=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BX()),deps:[[n,new ny,new Hh]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new pn(901,!1)}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:BX}),n})();const _be=SX(null,"core",[]);let bbe=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(_t($S))},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})();let yL=null;function qh(){return yL}const Pi=new Rn("DocumentToken");let _z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:function(){return function xbe(){return _t(VX)}()},providedIn:"platform"}),n})();const Cbe=new Rn("Location Initialized");let VX=(()=>{class n extends _z{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qh().getBaseHref(this._doc)}onPopState(t){const r=qh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=qh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){zX()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){zX()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:function(){return function Ebe(){return new VX(_t(Pi))}()},providedIn:"platform"}),n})();function zX(){return!!window.history.pushState}function bz(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jX(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function bm(n){return n&&"?"!==n[0]?"?"+n:n}let mb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:function(){return ws(WX)},providedIn:"root"}),n})();const UX=new Rn("appBaseHref");let WX=(()=>{class n extends mb{constructor(t,r){var i,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(i=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(o=ws(Pi).location)||void 0===o?void 0:o.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bz(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+bm(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+bm(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+bm(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(_t(_z),_t(UX,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tbe=(()=>{class n extends mb{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=bz(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bm(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bm(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(_t(_z),_t(UX,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),Q1=(()=>{class n{constructor(t){this._subject=new bo,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=jX(YX(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bm(r))}normalize(t){return n.stripTrailingSlash(function Dbe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,YX(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bm(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bm(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=bm,n.joinWithSlash=bz,n.stripTrailingSlash=jX,n.\u0275fac=function(t){return new(t||n)(_t(mb))},n.\u0275prov=gn({token:n,factory:function(){return function Rbe(){return new Q1(_t(mb))}()},providedIn:"root"}),n})();function YX(n){return n.replace(/\/index.html$/,"")}function eZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let tZ=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(cb(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${lo(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(Le(vm),Le(J1),Le(mi),Le(yc))},n.\u0275dir=Mn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hwe{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Az=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hwe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),iZ(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{iZ(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Le(Ol),Le(dl),Le(vm))},n.\u0275dir=Mn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function iZ(n,e){n.context.$implicit=e.item}let nR=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mwe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oZ("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oZ("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Le(Ol),Le(dl))},n.\u0275dir=Mn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mwe{constructor(){this.$implicit=null,this.ngIf=null}}function oZ(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${lo(e)}'.`)}class Oz{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let TL=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),sZ=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Oz(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Le(Ol),Le(dl),Le(TL,9))},n.\u0275dir=Mn({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})();const cZ="browser";let Wwe=(()=>{class n{}return n.\u0275prov=gn({token:n,providedIn:"root",factory:()=>new Ywe(_t(Pi),window)}),n})();class Ywe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gwe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dZ(this.window.history)||dZ(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function dZ(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fZ{}class Lz extends class $we extends class Mbe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Sbe(n){yL||(yL=n)}(new Lz)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kwe(){return rR=rR||document.querySelector("base"),rR?rR.getAttribute("href"):null}();return null==t?null:function Xwe(n){RL=RL||document.createElement("a"),RL.setAttribute("href",n);const e=RL.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rR=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eZ(document.cookie,e)}}let RL,rR=null;const hZ=new Rn("TRANSITION_ID"),qwe=[{provide:cL,useFactory:function Zwe(n,e,t){return()=>{t.get(dL).donePromise.then(()=>{const r=qh(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[hZ,Pi,Xs],multi:!0}];let Qwe=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const DL=new Rn("EventManagerPlugins");let AL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_t(DL),_t(Ci))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();class pZ{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=qh().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mZ=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),iR=(()=>{class n extends mZ{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gZ),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gZ))}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();function gZ(n){qh().remove(n)}const Iz={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nz=/%COMP%/g;function OL(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?OL(n,i,t):(i=i.replace(Nz,n),t.push(i))}return t}function _Z(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let kL=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fz(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Eu.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new o0e(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Eu.ShadowDom:return new s0e(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=OL(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_t(AL),_t(iR),_t(Z1))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();class Fz{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Iz[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wZ(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wZ(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Iz[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Iz[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hu.DashCase|hu.Important)?e.style.setProperty(t,r,i&hu.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_Z(r)):this.eventManager.addEventListener(e,t,_Z(r))}}function wZ(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class o0e extends Fz{constructor(e,t,r,i){super(e),this.component=r;const o=OL(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function n0e(n){return"_ngcontent-%COMP%".replace(Nz,n)}(i+"-"+r.id),this.hostAttr=function r0e(n){return"_nghost-%COMP%".replace(Nz,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class s0e extends Fz{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=OL(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let a0e=(()=>{class n extends pZ{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const SZ=["alt","control","meta","shift"],u0e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MZ={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},c0e={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let d0e=(()=>{class n extends pZ{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(SZ.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function f0e(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&MZ.hasOwnProperty(e)&&(e=MZ[e]))}return u0e[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),SZ.forEach(o=>{o!=i&&(0,c0e[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const g0e=SX(_be,"browser",[{provide:fL,useValue:cZ},{provide:fX,useValue:function h0e(){Lz.makeCurrent()},multi:!0},{provide:Pi,useFactory:function m0e(){return function Bk(n){C0=n}(document),document},deps:[]}]),CZ=new Rn(""),EZ=[{provide:hL,useClass:class Jwe{addToWindow(e){Wo.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Wo.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wo.getAllAngularRootElements=()=>e.getAllRootElements(),Wo.frameworkStabilizers||(Wo.frameworkStabilizers=[]),Wo.frameworkStabilizers.push(r=>{const i=Wo.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?qh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:vX,useClass:dz,deps:[Ci,fz,hL]},{provide:dz,useClass:dz,deps:[Ci,fz,hL]}],TZ=[{provide:iy,useValue:"root"},{provide:gs,useFactory:function p0e(){return new gs},deps:[]},{provide:DL,useClass:a0e,multi:!0,deps:[Pi,Ci,fL]},{provide:DL,useClass:d0e,multi:!0,deps:[Pi]},{provide:kL,useClass:kL,deps:[AL,iR,Z1]},{provide:ay,useExisting:kL},{provide:mZ,useExisting:iR},{provide:iR,useClass:iR,deps:[Pi]},{provide:AL,useClass:AL,deps:[DL,Ci]},{provide:fZ,useClass:Qwe,deps:[]},[]];let RZ=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Z1,useValue:t.appId},{provide:hZ,useExisting:Z1},qwe]}}}return n.\u0275fac=function(t){return new(t||n)(_t(CZ,12))},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[...TZ,...EZ],imports:[gb,bbe]}),n})(),DZ=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:function(t){let r=null;return r=t?new t:function v0e(){return new DZ(_t(Pi))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:function(t){let r=null;return r=t?new(t||n):_t(kZ),r},providedIn:"root"}),n})(),kZ=(()=>{class n extends Vz{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fo.NONE:return r;case Fo.HTML:return Gd(r,"HTML")?Ou(r):Zk(this._doc,String(r)).toString();case Fo.STYLE:return Gd(r,"Style")?Ou(r):r;case Fo.SCRIPT:if(Gd(r,"Script"))return Ou(r);throw new Error("unsafe value used in a script context");case Fo.URL:return Gd(r,"URL")?Ou(r):b_(String(r));case Fo.RESOURCE_URL:if(Gd(r,"ResourceURL"))return Ou(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function _B(n){return new hB(n)}(t)}bypassSecurityTrustStyle(t){return function bB(n){return new pB(n)}(t)}bypassSecurityTrustScript(t){return function wB(n){return new mB(n)}(t)}bypassSecurityTrustUrl(t){return function SB(n){return new gB(n)}(t)}bypassSecurityTrustResourceUrl(t){return function MB(n){return new yB(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:function(t){let r=null;return r=t?new t:function C0e(n){return new kZ(n.get(Pi))}(_t(Xs)),r},providedIn:"root"}),n})();function Hr(...n){return is(n,xu(n))}class cd extends Pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const PL=E(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:E0e}=Array,{getPrototypeOf:T0e,prototype:R0e,keys:D0e}=Object;function PZ(n){if(1===n.length){const e=n[0];if(E0e(e))return{args:e,keys:null};if(function A0e(n){return n&&"object"==typeof n&&T0e(n)===R0e}(e)){const t=D0e(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:O0e}=Array;function zz(n){return vn(e=>function k0e(n,e){return O0e(e)?n(...e):n(e)}(n,e))}function LZ(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jz(...n){const e=xu(n),t=Ad(n),{args:r,keys:i}=PZ(n);if(0===r.length)return is([],e);const o=new gt(function P0e(n,e,t=sn){return r=>{IZ(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)IZ(e,()=>{const c=is(n[u],e);let f=!1;c.subscribe($n(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>LZ(i,s):sn));return t?o.pipe(zz(t)):o}function IZ(n,e,t){n?Wi(t,n,e):e()}function oR(...n){return function L0e(){return Mu(1)}()(is(n,xu(n)))}function LL(n){return new gt(e=>{Rs(n()).subscribe(e)})}function KS(n,e){const t=R(n)?n:()=>n,r=i=>i.error(t());return new gt(e?i=>e.schedule(r,0,i):r)}function Uz(){return dr((n,e)=>{let t=null;n._refCount++;const r=$n(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Wz extends gt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vr(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new N;const t=this.getSubject();e.add(this.source.subscribe($n(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=N.EMPTY)}return e}refCount(){return Uz()(this)}}function nf(n,e){return dr((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe($n(r,u=>{null==i||i.unsubscribe();let c=0;const f=o++;Rs(n(u,f)).subscribe(i=$n(r,p=>r.next(e?e(u,p,f,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pl(n){return n<=0?()=>yo:dr((e,t)=>{let r=0;e.subscribe($n(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Sm(...n){const e=xu(n);return dr((t,r)=>{(e?oR(n,t,e):oR(n,t)).subscribe(r)})}function Ua(n,e){return dr((t,r)=>{let i=0;t.subscribe($n(r,o=>n.call(e,o,i++)&&r.next(o)))})}function IL(n){return dr((e,t)=>{let r=!1;e.subscribe($n(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function NZ(n=I0e){return dr((e,t)=>{let r=!1;e.subscribe($n(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function I0e(){return new PL}function Wy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ua((i,o)=>n(i,o,r)):sn,pl(1),t?IL(e):NZ(()=>new PL))}function Yy(n,e){return R(e)?yi(n,e,1):yi(n,1)}function Wa(n,e,t){const r=R(n)||e||t?{next:n,error:e,complete:t}:n;return r?dr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe($n(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):sn}function Mm(n){return dr((e,t)=>{let o,r=null,i=!1;r=e.subscribe($n(t,void 0,void 0,s=>{o=Rs(n(s,Mm(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function N0e(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe($n(s,f=>{const p=c++;u=a?n(u,f,p):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function FZ(n,e){return dr(N0e(n,e,arguments.length>=2,!0))}function Yz(n){return n<=0?()=>yo:dr((e,t)=>{let r=[];e.subscribe($n(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function HZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ua((i,o)=>n(i,o,r)):sn,Yz(1),t?IL(e):NZ(()=>new PL))}function BZ(n){return vn(()=>n)}function NL(n){return dr((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const co="primary";class H0e{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function XS(n){return new H0e(n)}function B0e(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Jh(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!VZ(n[i],e[i]))return!1;return!0}function VZ(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function zZ(n){return Array.prototype.concat.apply([],n)}function jZ(n){return n.length>0?n[n.length-1]:null}function ql(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xm(n){return Nn(n)?n:jt(n)?is(Promise.resolve(n)):Hr(n)}const j0e={exact:function YZ(n,e,t){if(!vb(n.segments,e.segments)||!FL(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!YZ(n.children[r],e.children[r],t))return!1;return!0},subset:GZ},UZ={exact:function U0e(n,e){return Jh(n,e)},subset:function W0e(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VZ(n[t],e[t]))},ignored:()=>!0};function WZ(n,e,t){return j0e[t.paths](n.root,e.root,t.matrixParams)&&UZ[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function GZ(n,e,t){return $Z(n,e,e.segments,t)}function $Z(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!vb(i,t)||e.hasChildren()||!FL(i,t,r))}if(n.segments.length===t.length){if(!vb(n.segments,t)||!FL(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!GZ(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(vb(n.segments,i)&&FL(n.segments,i,r)&&n.children[co])&&$Z(n.children[co],e,o,r)}}function FL(n,e,t){return e.every((r,i)=>UZ[t](n[i].parameters,r.parameters))}class yb{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XS(this.queryParams)),this._queryParamMap}toString(){return $0e.serialize(this)}}class po{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ql(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return HL(this)}}class sR{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=XS(this.parameters)),this._parameterMap}toString(){return qZ(this)}}function vb(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let KZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:function(){return new $z},providedIn:"root"}),n})();class $z{parse(e){const t=new nSe(e);return new yb(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${aR(e.root,!0)}`,r=function Z0e(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${BL(t)}=${BL(i)}`).join("&"):`${BL(t)}=${BL(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function K0e(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $0e=new $z;function HL(n){return n.segments.map(e=>qZ(e)).join("/")}function aR(n,e){if(!n.hasChildren())return HL(n);if(e){const t=n.children[co]?aR(n.children[co],!1):"",r=[];return ql(n.children,(i,o)=>{o!==co&&r.push(`${o}:${aR(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function G0e(n,e){let t=[];return ql(n.children,(r,i)=>{i===co&&(t=t.concat(e(r,i)))}),ql(n.children,(r,i)=>{i!==co&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===co?[aR(n.children[co],!1)]:[`${i}:${aR(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[co]?`${HL(n)}/${t[0]}`:`${HL(n)}/(${t.join("//")})`}}function XZ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function BL(n){return XZ(n).replace(/%3B/gi,";")}function Kz(n){return XZ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function VL(n){return decodeURIComponent(n)}function ZZ(n){return VL(n.replace(/\+/g,"%20"))}function qZ(n){return`${Kz(n.path)}${function X0e(n){return Object.keys(n).map(e=>`;${Kz(e)}=${Kz(n[e])}`).join("")}(n.parameters)}`}const q0e=/^[^\/()?;=#]+/;function zL(n){const e=n.match(q0e);return e?e[0]:""}const J0e=/^[^=?&#]+/,eSe=/^[^&#]+/;class nSe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new po([],{}):new po([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[co]=new po(e,t)),r}parseSegment(){const e=zL(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new pn(4009,!1);return this.capture(e),new sR(VL(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=zL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=zL(this.remaining);i&&(r=i,this.capture(r))}e[VL(t)]=VL(r)}parseQueryParam(e){const t=function Q0e(n){const e=n.match(J0e);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function tSe(n){const e=n.match(eSe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=ZZ(t),o=ZZ(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zL(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new pn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=co);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[co]:new po([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new pn(4011,!1)}}function Xz(n){return n.segments.length>0?new po([],{[co]:n}):n}function jL(n){const e={};for(const r of Object.keys(n.children)){const o=jL(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function rSe(n){if(1===n.numberOfChildren&&n.children[co]){const e=n.children[co];return new po(n.segments.concat(e.segments),e.children)}return n}(new po(n.segments,e))}function _b(n){return n instanceof yb}function sSe(n,e,t,r,i){var o;if(0===t.length)return ZS(e.root,e.root,e.root,r,i);const a=function eq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QZ(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ql(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new QZ(t,e,r)}(t);return a.toRoot()?ZS(e.root,e.root,new po([],{}),r,i):function u(f){var p;const g=function lSe(n,e,t,r){if(n.isAbsolute)return new qS(e.root,!0,0);if(-1===r)return new qS(t,t===e.root,0);return function tq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pn(4005,!1);i=r.segments.length}return new qS(r,!1,i-o)}(t,r+(lR(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,null===(p=n.snapshot)||void 0===p?void 0:p._urlSegment,f),v=g.processChildren?cR(g.segmentGroup,g.index,a.commands):qz(g.segmentGroup,g.index,a.commands);return ZS(e.root,g.segmentGroup,v,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function lR(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uR(n){return"object"==typeof n&&null!=n&&n.outlets}function ZS(n,e,t,r,i){let s,o={};r&&ql(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),s=n===e?t:JZ(n,e,t);const a=Xz(jL(s));return new yb(a,o,i)}function JZ(n,e,t){const r={};return ql(n.children,(i,o)=>{r[o]=i===e?t:JZ(i,e,t)}),new po(n.segments,r)}class QZ{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lR(r[0]))throw new pn(4003,!1);const i=r.find(uR);if(i&&i!==jZ(r))throw new pn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qS{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qz(n,e,t){if(n||(n=new po([],{})),0===n.segments.length&&n.hasChildren())return cR(n,e,t);const r=function cSe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(uR(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!rq(u,c,s))return o;r+=2}else{if(!rq(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new po(n.segments.slice(0,r.pathIndex),{});return o.children[co]=new po(n.segments.slice(r.pathIndex),n.children),cR(o,0,i)}return r.match&&0===i.length?new po(n.segments,{}):r.match&&!n.hasChildren()?Jz(n,e,t):r.match?cR(n,0,i):Jz(n,e,t)}function cR(n,e,t){if(0===t.length)return new po(n.segments,{});{const r=function uSe(n){return uR(n[0])?n[0].outlets:{[co]:n}}(t),i={};return ql(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=qz(n.children[s],e,o))}),ql(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new po(n.segments,i)}}function Jz(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(uR(o)){const u=dSe(o.outlets);return new po(r,u)}if(0===i&&lR(t[0])){r.push(new sR(n.segments[e].path,nq(t[0]))),i++;continue}const s=uR(o)?o.outlets[co]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&lR(a)?(r.push(new sR(s,nq(a))),i+=2):(r.push(new sR(s,{})),i++)}return new po(r,{})}function dSe(n){const e={};return ql(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Jz(new po([],{}),0,t))}),e}function nq(n){const e={};return ql(n,(t,r)=>e[r]=`${t}`),e}function rq(n,e,t){return n==t.path&&Jh(e,t.parameters)}class Cm{constructor(e,t){this.id=e,this.url=t}}class Qz extends Cm{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bb extends Cm{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class UL extends Cm{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iq extends Cm{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fSe extends Cm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hSe extends Cm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pSe extends Cm{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mSe extends Cm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gSe extends Cm{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ySe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vSe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _Se{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bSe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wSe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SSe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oq{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sq{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ej(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ej(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tj(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tj(e,this._root).map(t=>t.value)}}function ej(n,e){if(n===e.value)return e;for(const t of e.children){const r=ej(n,t);if(r)return r}return null}function tj(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tj(n,t);if(r.length)return r.unshift(e),r}return[]}class Em{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function JS(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class aq extends sq{constructor(e,t){super(e),this.snapshot=t,nj(this,e)}toString(){return this.snapshot.toString()}}function lq(n,e){const t=function xSe(n,e){const s=new WL([],{},{},"",{},co,e,null,n.root,-1,{});return new cq("",new Em(s,[]))}(n,e),r=new cd([new sR("",{})]),i=new cd({}),o=new cd({}),s=new cd({}),a=new cd(""),u=new QS(r,i,s,a,o,co,e,t.root);return u.snapshot=t.root,new aq(new Em(u,[]),t)}class QS{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vn(e=>XS(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vn(e=>XS(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uq(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function CSe(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class WL{constructor(e,t,r,i,o,s,a,u,c,f,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=f,this._correctedLastPathIndex=null!=g?g:f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=XS(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XS(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cq extends sq{constructor(e,t){super(t),this.url=e,nj(this,t)}toString(){return dq(this._root)}}function nj(n,e){e.value._routerState=n,e.children.forEach(t=>nj(n,t))}function dq(n){const e=n.children.length>0?` { ${n.children.map(dq).join(", ")} } `:"";return`${n.value}${e}`}function rj(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jh(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jh(e.params,t.params)||n.params.next(t.params),function V0e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jh(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jh(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ij(n,e){const t=Jh(n.params,e.params)&&function Y0e(n,e){return vb(n,e)&&n.every((t,r)=>Jh(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ij(n.parent,e.parent))}function dR(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function TSe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dR(n,r,i);return dR(n,r)})}(n,e,t);return new Em(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>dR(n,a)),s}}const r=function RSe(n){return new QS(new cd(n.url),new cd(n.params),new cd(n.queryParams),new cd(n.fragment),new cd(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>dR(n,o));return new Em(r,i)}}const oj="ngNavigationCancelingError";function fq(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=_b(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hq(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function hq(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[oj]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pq(n){return mq(n)&&_b(n.url)}function mq(n){return n&&n[oj]}class DSe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fR,this.attachRef=null}}let fR=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new DSe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YL=!1;let gq=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new bo,this.deactivateEvents=new bo,this.attachEvents=new bo,this.detachEvents=new bo,this.name=i||co,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pn(4012,YL);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pn(4012,YL);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pn(4012,YL);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new pn(4013,YL);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ASe(t,a,i.injector);if(r&&function OSe(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Le(fR),Le(Ol),Bf("name"),Le(Hu),Le(Vh))},n.\u0275dir=Mn({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ASe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===QS?this.route:e===fR?this.childContexts:this.parent.get(e,t)}}let yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=vi({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&lt(0,"router-outlet")},dependencies:[gq],encapsulation:2}),n})();function vq(n,e){var t;return n.providers&&!n._injector&&(n._injector=sL(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function aj(n){const e=n.children&&n.children.map(aj),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==co&&(t.component=yq),t}function rf(n){return n.outlet||co}function _q(n,e){const t=n.filter(r=>rf(r)===e);return t.push(...n.filter(r=>rf(r)!==e)),t}function bq(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class NSe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rj(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=JS(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),ql(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=JS(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=JS(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=JS(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new SSe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bSe(e.value.snapshot))}activateRoutes(e,t,r){var i;const o=e.value,s=t?t.value:null;if(rj(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),rj(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=bq(o.snapshot),c=null!==(i=null==u?void 0:u.get(gc))&&void 0!==i?i:null;a.attachRef=null,a.route=o,a.resolver=c,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class wq{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class GL{constructor(e,t){this.component=e,this.route=t}}function FSe(n,e,t){const r=n._root;return hR(r,e?e._root:null,t,[r.value])}function $L(n,e,t){const r=bq(e);return(null!=r?r:t).get(n)}function hR(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=JS(e);return n.children.forEach(s=>{(function BSe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function VSe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vb(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vb(n.url,e.url)||!Jh(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ij(n,e)||!Jh(n.queryParams,e.queryParams);default:return!ij(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wq(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hR(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new GL(a.outlet.component,s))}else s&&pR(e,a,i),i.canActivateChecks.push(new wq(r)),hR(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),ql(o,(s,a)=>pR(s,t.getContext(a),i)),i}function pR(n,e,t){const r=JS(n),i=n.value;ql(r,(o,s)=>{pR(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new GL(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function mR(n){return"function"==typeof n}function lj(n){return n instanceof PL||"EmptyError"===(null==n?void 0:n.name)}const KL=Symbol("INITIAL_VALUE");function eM(){return nf(n=>jz(n.map(e=>e.pipe(pl(1),Sm(KL)))).pipe(vn(e=>{for(const t of e)if(!0!==t){if(t===KL)return KL;if(!1===t||t instanceof yb)return t}return!0}),Ua(e=>e!==KL),pl(1)))}function Sq(n){return function Te(...n){return ye(n)}(Wa(e=>{if(_b(e))throw fq(0,e)}),vn(e=>!0===e))}const uj={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mq(n,e,t,r,i){const o=cj(n,e,t);return o.matched?function rMe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Hr(i.map(s=>{const a=n.get(s),u=function GSe(n){return n&&mR(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return xm(u)})).pipe(eM(),Sq()):Hr(!0)}(r=vq(e,r),e,t).pipe(vn(s=>!0===s?o:Object.assign({},uj))):Hr(o)}function cj(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},uj):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||B0e)(t,n,e);if(!o)return Object.assign({},uj);const s={};ql(o.posParams,(u,c)=>{s[c]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function XL(n,e,t,r,i="corrected"){if(t.length>0&&function sMe(n,e,t){return t.some(r=>ZL(n,e,r)&&rf(r)!==co)}(n,t,r)){const s=new po(e,function oMe(n,e,t,r){const i={};i[co]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&rf(o)!==co){const s=new po([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[rf(o)]=s}return i}(n,e,r,new po(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function aMe(n,e,t){return t.some(r=>ZL(n,e,r))}(n,t,r)){const s=new po(n.segments,function iMe(n,e,t,r,i,o){const s={};for(const a of r)if(ZL(n,t,a)&&!i[rf(a)]){const u=new po([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[rf(a)]=u}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new po(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function ZL(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xq(n,e,t,r){return!!(rf(n)===r||r!==co&&ZL(e,t,n))&&("**"===n.path||cj(e,n,t).matched)}function Cq(n,e,t){return 0===e.length&&!n.children[t]}const qL=!1;class JL{constructor(e){this.segmentGroup=e||null}}class Eq{constructor(e){this.urlTree=e}}function gR(n){return KS(new JL(n))}function Tq(n){return KS(new Eq(n))}class dMe{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=XL(this.urlTree.root,[],[],this.config).segmentGroup,t=new po(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,co).pipe(vn(o=>this.createUrlTree(jL(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mm(o=>{if(o instanceof Eq)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof JL?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,co).pipe(vn(i=>this.createUrlTree(jL(i),e.queryParams,e.fragment))).pipe(Mm(i=>{throw i instanceof JL?this.noMatchError(i):i}))}noMatchError(e){return new pn(4002,qL)}createUrlTree(e,t,r){const i=Xz(e);return new yb(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(vn(o=>new po([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return is(i).pipe(Yy(o=>{const s=r.children[o],a=_q(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(vn(u=>({segment:u,outlet:o})))}),FZ((o,s)=>(o[s.outlet]=s.segment,o),{}),HZ())}expandSegment(e,t,r,i,o,s){return is(r).pipe(Yy(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Mm(c=>{if(c instanceof JL)return Hr(null);throw c}))),Wy(a=>!!a),Mm((a,u)=>{if(lj(a))return Cq(t,i,o)?Hr(new po([],{})):gR(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return xq(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):gR(t):gR(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tq(o):this.lineralizeSegments(r,o).pipe(yi(s=>{const a=new po(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:f}=cj(t,i,o);if(!a)return gR(t);const p=this.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?Tq(p):this.lineralizeSegments(i,p).pipe(yi(g=>this.expandSegment(e,t,r,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=vq(r,e),r.loadChildren?(r._loadedRoutes?Hr({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(vn(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new po(i,{})))):Hr(new po(i,{}))):Mq(t,r,i,e).pipe(nf(({matched:s,consumedSegments:a,remainingSegments:u})=>{var c;return s?(e=null!==(c=r._injector)&&void 0!==c?c:e,this.getChildConfig(e,r,i).pipe(yi(p=>{var g;const v=null!==(g=p.injector)&&void 0!==g?g:e,w=p.routes,{segmentGroup:M,slicedSegments:C}=XL(t,a,u,w),L=new po(M.segments,M.children);if(0===C.length&&L.hasChildren())return this.expandChildren(v,w,L).pipe(vn(X=>new po(a,X)));if(0===w.length&&0===C.length)return Hr(new po(a,{}));const H=rf(r)===o;return this.expandSegment(v,L,w,C,H?co:o,!0).pipe(vn(z=>new po(a.concat(z.segments),z.children)))}))):gR(t)}))}getChildConfig(e,t,r){return t.children?Hr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Hr({routes:t._loadedRoutes,injector:t._loadedInjector}):function nMe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Hr(!0):Hr(i.map(s=>{const a=n.get(s),u=function jSe(n){return n&&mR(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return xm(u)})).pipe(eM(),Sq())}(e,t,r).pipe(yi(i=>i?this.configLoader.loadChildren(e,t).pipe(Wa(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function uMe(n){return KS(hq(qL,3))}())):Hr({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Hr(r);if(i.numberOfChildren>1||!i.children[co])return KS(new pn(4e3,qL));i=i.children[co]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new yb(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ql(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return ql(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new po(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new pn(4001,qL);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class hMe{}class gMe{constructor(e,t,r,i,o,s,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=XL(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,co).pipe(vn(t=>{if(null===t)return null;const r=new WL([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},co,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Em(r,t),o=new cq(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=uq(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return is(Object.keys(r.children)).pipe(Yy(i=>{const o=r.children[i],s=_q(t,i);return this.processSegmentGroup(e,s,o,i)}),FZ((i,o)=>i&&o?(i.push(...o),i):null),function F0e(n,e=!1){return dr((t,r)=>{let i=0;t.subscribe($n(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),IL(null),HZ(),vn(i=>{if(null===i)return null;const o=Rq(i);return function yMe(n){n.sort((e,t)=>e.value.outlet===co?-1:t.value.outlet===co?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return is(t).pipe(Yy(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,r,i,o)}),Wy(s=>!!s),Mm(s=>{if(lj(s))return Cq(r,i,o)?Hr([]):Hr(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){var s,a;if(t.redirectTo||!xq(t,r,i,o))return Hr(null);let u;if("**"===t.path){const c=i.length>0?jZ(i).parameters:{},f=Aq(r)+i.length;u=Hr({snapshot:new WL(i,c,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kq(t),rf(t),null!==(a=null!==(s=t.component)&&void 0!==s?s:t._loadedComponent)&&void 0!==a?a:null,t,Dq(r),f,Pq(t),f),consumedSegments:[],remainingSegments:[]})}else u=Mq(r,t,i,e).pipe(vn(({matched:c,consumedSegments:f,remainingSegments:p,parameters:g})=>{var v,w;if(!c)return null;const M=Aq(r)+f.length;return{snapshot:new WL(f,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kq(t),rf(t),null!==(w=null!==(v=t.component)&&void 0!==v?v:t._loadedComponent)&&void 0!==w?w:null,t,Dq(r),M,Pq(t),M),consumedSegments:f,remainingSegments:p}}));return u.pipe(nf(c=>{var f,p;if(null===c)return Hr(null);const{snapshot:g,consumedSegments:v,remainingSegments:w}=c;e=null!==(f=t._injector)&&void 0!==f?f:e;const M=null!==(p=t._loadedInjector)&&void 0!==p?p:e,C=function vMe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:H}=XL(r,v,w,C.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===H.length&&L.hasChildren())return this.processChildren(M,C,L).pipe(vn(z=>null===z?null:[new Em(g,z)]));if(0===C.length&&0===H.length)return Hr([new Em(g,[])]);const V=rf(t)===o;return this.processSegment(M,C,L,H,V?co:o).pipe(vn(z=>null===z?null:[new Em(g,z)]))}))}}function _Me(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Rq(n){const e=[],t=new Set;for(const r of n){if(!_Me(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Rq(r.children);e.push(new Em(r.value,i))}return e.filter(r=>!t.has(r))}function Dq(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Aq(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function kq(n){return n.data||{}}function Pq(n){return n.resolve||{}}const dj=Symbol("RouteTitle");function Lq(n){return"string"==typeof n.title||null===n.title}function fj(n){return nf(e=>{const t=n(e);return t?is(t).pipe(vn(()=>e)):Hr(e)})}let Iq=(()=>{class n{buildTitle(t){var r;let i,o=t.root;for(;void 0!==o;)i=null!==(r=this.getResolvedTitleForRoute(o))&&void 0!==r?r:i,o=o.children.find(s=>s.outlet===co);return i}getResolvedTitleForRoute(t){return t.data[dj]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:function(){return ws(Nq)},providedIn:"root"}),n})(),Nq=(()=>{class n extends Iq{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(_t(DZ))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TMe{}class DMe extends class RMe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hj=new Rn("",{providedIn:"root",factory:()=>({})}),pj=new Rn("ROUTES");let mj=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Hr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xm(t.loadComponent()).pipe(Wa(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),NL(()=>{this.componentLoaders.delete(t)})),i=new Wz(r,()=>new Pt).pipe(Uz());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Hr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(vn(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,f=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=zZ(u.get(pj,[],pr.Self|pr.Optional)));return{routes:c.map(aj),injector:u}}),NL(()=>{this.childrenLoaders.delete(r)})),s=new Wz(o,()=>new Pt).pipe(Uz());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return xm(t()).pipe(yi(r=>r instanceof CK||Array.isArray(r)?Hr(r):is(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(_t(Xs),_t(az))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OMe{}class kMe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function PMe(n){throw n}function LMe(n,e,t){return e.parse("/")}const IMe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NMe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Hq(){var n,e;const t=ws(KZ),r=ws(fR),i=ws(Q1),o=ws(Xs),s=ws(az),a=null!==(n=ws(pj,{optional:!0}))&&void 0!==n?n:[],u=null!==(e=ws(hj,{optional:!0}))&&void 0!==e?e:{},c=ws(Nq),f=ws(Iq,{optional:!0}),p=ws(OMe,{optional:!0}),g=ws(TMe,{optional:!0}),v=new Bu(null,t,r,i,o,s,zZ(a));return p&&(v.urlHandlingStrategy=p),g&&(v.routeReuseStrategy=g),v.titleStrategy=null!=f?f:c,function FMe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),v}let Bu=(()=>{class n{constructor(t,r,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pt,this.errorHandler=PMe,this.malformedUriErrorHandler=LMe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Hr(void 0),this.urlHandlingStrategy=new kMe,this.routeReuseStrategy=new DMe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(mj),this.configLoader.onLoadEndListener=g=>this.triggerEvent(new vSe(g)),this.configLoader.onLoadStartListener=g=>this.triggerEvent(new ySe(g)),this.ngModule=s.get(hb),this.console=s.get(H_e);const p=s.get(Ci);this.isNgZoneEnabled=p instanceof Ci&&Ci.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function z0e(){return new yb(new po([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lq(this.currentUrlTree,this.rootComponentType),this.transitions=new cd({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ua(i=>0!==i.id),vn(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),nf(i=>{let o=!1,s=!1;return Hr(i).pipe(Wa(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nf(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Bq(a.source)&&(this.browserUrlTree=a.extractedUrl),Hr(a).pipe(nf(p=>{const g=this.transitions.getValue();return r.next(new Qz(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions.getValue()?yo:Promise.resolve(p)}),function fMe(n,e,t,r){return nf(i=>function cMe(n,e,t,r,i){return new dMe(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(vn(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wa(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects}),i.urlAfterRedirects=p.urlAfterRedirects}),function wMe(n,e,t,r,i,o){return yi(s=>function mMe(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new gMe(n,e,t,r,i,s,a,o).recognize().pipe(nf(u=>null===u?function pMe(n){return new gt(e=>e.error(n))}(new hMe):Hr(u)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(vn(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Wa(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(v,p)}this.browserUrlTree=p.urlAfterRedirects}const g=new fSe(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);r.next(g)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:v,source:w,restoredState:M,extras:C}=a,L=new Qz(g,this.serializeUrl(v),w,M);r.next(L);const H=lq(v,this.rootComponentType).snapshot;return Hr(i=Object.assign(Object.assign({},a),{targetSnapshot:H,urlAfterRedirects:v,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),yo}),Wa(a=>{const u=new hSe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),vn(a=>i=Object.assign(Object.assign({},a),{guards:FSe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function KSe(n,e){return yi(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Hr(Object.assign(Object.assign({},t),{guardsResult:!0})):function XSe(n,e,t,r){return is(n).pipe(yi(i=>function tMe(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Hr(o.map(a=>{const u=$L(a,e,i);return xm(function YSe(n){return n&&mR(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):u(n,e,t,r)).pipe(Wy())})).pipe(eM()):Hr(!0)}(i.component,i.route,t,e,r)),Wy(i=>!0!==i,!0))}(s,r,i,n).pipe(yi(a=>a&&function zSe(n){return"boolean"==typeof n}(a)?function ZSe(n,e,t,r){return is(e).pipe(Yy(i=>oR(function JSe(n,e){return null!==n&&e&&e(new _Se(n)),Hr(!0)}(i.route.parent,r),function qSe(n,e){return null!==n&&e&&e(new wSe(n)),Hr(!0)}(i.route,r),function eMe(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function HSe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>LL(()=>Hr(s.guards.map(u=>{const c=$L(u,s.node,t);return xm(function WSe(n){return n&&mR(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(Wy())})).pipe(eM())));return Hr(o).pipe(eM())}(n,i.path,t),function QSe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Hr(!0);const i=r.map(o=>LL(()=>{const s=$L(o,e,t);return xm(function USe(n){return n&&mR(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(Wy())}));return Hr(i).pipe(eM())}(n,i.route,t))),Wy(i=>!0!==i,!0))}(r,o,n,e):Hr(a)),vn(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Wa(a=>{if(i.guardsResult=a.guardsResult,_b(a.guardsResult))throw fq(0,a.guardsResult);const u=new pSe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Ua(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),fj(a=>{if(a.guards.canActivateChecks.length)return Hr(a).pipe(Wa(u=>{const c=new mSe(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),nf(u=>{let c=!1;return Hr(u).pipe(function SMe(n,e){return yi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Hr(t);let o=0;return is(i).pipe(Yy(s=>function MMe(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!Lq(i)&&(o[dj]=i.title),function xMe(n,e,t,r){const i=function CMe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Hr({});const o={};return is(i).pipe(yi(s=>function EMe(n,e,t,r){const i=$L(n,e,r);return xm(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(Wy(),Wa(a=>{o[s]=a}))),Yz(1),BZ(o),Mm(s=>lj(s)?yo:KS(s)))}(o,n,e,r).pipe(vn(s=>(n._resolvedData=s,n.data=uq(n,t).resolve,i&&Lq(i)&&(n.data[dj]=i.title),null)))}(s.route,r,n,e)),Wa(()=>o++),Yz(1),yi(s=>o===i.length?Hr(t):yo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wa({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Wa(u=>{const c=new gSe(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),fj(a=>{const u=c=>{var f;const p=[];(null===(f=c.routeConfig)||void 0===f?void 0:f.loadComponent)&&!c.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(c.routeConfig).pipe(Wa(g=>{c.component=g}),vn(()=>{})));for(const g of c.children)p.push(...u(g));return p};return jz(u(a.targetSnapshot.root)).pipe(IL(),pl(1))}),fj(()=>this.afterPreactivation()),vn(a=>{const u=function ESe(n,e,t){const r=dR(n,e._root,t?t._root:void 0);return new aq(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i=Object.assign(Object.assign({},a),{targetRouterState:u})}),Wa(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>vn(r=>(new NSe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Wa({next(){o=!0},complete(){o=!0}}),NL(()=>{var a;o||s||this.cancelNavigationTransition(i,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Mm(a=>{var u;if(s=!0,mq(a)){pq(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new UL(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),pq(a)){const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bq(i.source)};this.scheduleNavigation(f,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new iq(i.id,this.serializeUrl(i.extractedUrl),a,null!==(u=i.targetSnapshot)&&void 0!==u?u:void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(f){i.reject(f)}}return yo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(aj),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,f=u?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),sSe(c,this.currentUrlTree,t,p,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=_b(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HMe(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new pn(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},IMe):!1===r?Object.assign({},NMe):r,_b(t))return WZ(this.currentUrlTree,t,i);const o=this.parseUrl(t);return WZ(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let c,f,p;s?(c=s.resolve,f=s.reject,p=s.promise):p=new Promise((w,M)=>{c=w,f=M});const g=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),v=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):v=0,this.setTransition({id:g,targetPageId:v,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:c,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new UL(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){cm()},n.\u0275prov=gn({token:n,factory:function(){return Hq()},providedIn:"root"}),n})();function Bq(n){return"imperative"!==n}class Vq{}let zq=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ua(t=>t instanceof bb),Yy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,o,s;const a=[];for(const u of r){u.providers&&!u._injector&&(u._injector=sL(u.providers,t,`Route: ${u.path}`));const c=null!==(i=u._injector)&&void 0!==i?i:t,f=null!==(o=u._loadedInjector)&&void 0!==o?o:c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(f,null!==(s=u.children)&&void 0!==s?s:u._loadedRoutes))}return is(a).pipe(Mu())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Hr(null);const o=i.pipe(yi(s=>{var a;return null===s?Hr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?is([o,this.loader.loadComponent(r)]).pipe(Mu()):o})}}return n.\u0275fac=function(t){return new(t||n)(_t(Bu),_t(az),_t(Vh),_t(Vq),_t(mj))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const jq=new Rn("");let zMe=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qz?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oq&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new oq(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){cm()},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const Uq=new Rn("ROUTER_FORROOT_GUARD"),Wq=new Rn(""),jMe=[Q1,{provide:KZ,useClass:$z},{provide:Bu,useFactory:Hq},fR,{provide:QS,useFactory:function UMe(n){return n.routerState.root},deps:[Bu]},mj];function WMe(){return new bX("Router",Bu)}let Yq=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jMe,[],Gq(t),{provide:Uq,useFactory:KMe,deps:[[Bu,new Hh,new ny]]},{provide:hj,useValue:r||{}},null!=r&&r.useHash?{provide:mb,useClass:Tbe}:{provide:mb,useClass:WX},{provide:jq,useFactory:()=>{const n=ws(Bu),e=ws(Wwe),t=ws(hj);return t.scrollOffset&&e.setOffset(t.scrollOffset),new zMe(n,e,t)}},null!=r&&r.preloadingStrategy?txe(r.preloadingStrategy):[],{provide:bX,multi:!0,useFactory:WMe},null!=r&&r.initialNavigation?ZMe(r):[],[{provide:$q,useFactory:XMe},{provide:hX,multi:!0,useExisting:$q}]]}}static forChild(t){return{ngModule:n,providers:[Gq(t)]}}}return n.\u0275fac=function(t){return new(t||n)(_t(Uq,8))},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})();function KMe(n){return"guarded"}function Gq(n){return[{provide:pj,multi:!0,useValue:n}]}function XMe(){const n=ws(Xs);return e=>{var t,r;const i=n.get($S);if(e!==i.components[0])return;const o=n.get(Bu),s=n.get(Kq);1===n.get(vj)&&o.initialNavigation(),null===(t=n.get(Wq,null,pr.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(jq,null,pr.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.next(),s.complete()}}const $q=new Rn("");function ZMe(n){return["disabled"===n.initialNavigation?[{provide:cL,multi:!0,useFactory:()=>{const n=ws(Bu);return()=>{n.setUpLocationChangeListener()}}},{provide:vj,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:vj,useValue:0},{provide:cL,multi:!0,deps:[Xs],useFactory:n=>{const e=n.get(Cbe,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(Bu),s=n.get(Kq);(function r(i){n.get(Bu).events.pipe(Ua(s=>s instanceof bb||s instanceof UL||s instanceof iq),vn(s=>s instanceof bb||s instanceof UL&&(0===s.code||1===s.code)&&null),Ua(s=>null!==s),pl(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?Hr(void 0):s),o.initialNavigation()}))}}]:[]]}const Kq=new Rn("",{factory:()=>new Pt}),vj=new Rn("",{providedIn:"root",factory:()=>1});function txe(n){return[zq,{provide:Wq,useExisting:zq},{provide:Vq,useExisting:n}]}const nxe=[];let rxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Yq.forRoot(nxe),Yq]}),n})();const Qh=Object.create(null);Qh.open="0",Qh.close="1",Qh.ping="2",Qh.pong="3",Qh.message="4",Qh.upgrade="5",Qh.noop="6";const tI=Object.create(null);Object.keys(Qh).forEach(n=>{tI[Qh[n]]=n});const _j={type:"error",data:"parser error"},Xq="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Zq="function"==typeof ArrayBuffer,qq=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,bj=({type:n,data:e},t,r)=>Xq&&e instanceof Blob?t?r(e):Jq(e,r):Zq&&(e instanceof ArrayBuffer||qq(e))?t?r(e):Jq(new Blob([e]),r):r(Qh[n]+(e||"")),Jq=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function Qq(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let wj;const tM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yR="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<tM.length;n++)yR[tM.charCodeAt(n)]=n;const sxe="function"==typeof ArrayBuffer,Sj=(n,e)=>{if("string"!=typeof n)return{type:"message",data:eJ(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:axe(n.substring(1),e)}:tI[t]?n.length>1?{type:tI[t],data:n.substring(1)}:{type:tI[t]}:_j},axe=(n,e)=>{if(sxe){const t=(n=>{let r,o,s,a,u,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),f=new Uint8Array(c);for(r=0;r<t;r+=4)o=yR[n.charCodeAt(r)],s=yR[n.charCodeAt(r+1)],a=yR[n.charCodeAt(r+2)],u=yR[n.charCodeAt(r+3)],f[i++]=o<<2|s>>4,f[i++]=(15&s)<<4|a>>2,f[i++]=(3&a)<<6|63&u;return c})(n);return eJ(t,e)}return{base64:!0,data:n}},eJ=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer,tJ=String.fromCharCode(30);let Mj;function nI(n){return n.reduce((e,t)=>e+t.length,0)}function rI(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ya(n){if(n)return function fxe(n){for(var e in Ya.prototype)n[e]=Ya.prototype[e];return n}(n)}Ya.prototype.on=Ya.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ya.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ya.prototype.off=Ya.prototype.removeListener=Ya.prototype.removeAllListeners=Ya.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ya.prototype.emitReserved=Ya.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Ya.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ya.prototype.hasListeners=function(n){return!!this.listeners(n).length};const sf="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function rJ(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const hxe=sf.setTimeout,pxe=sf.clearTimeout;function iI(n,e){e.useNativeTimers?(n.setTimeoutFn=hxe.bind(sf),n.clearTimeoutFn=pxe.bind(sf)):(n.setTimeoutFn=sf.setTimeout.bind(sf),n.clearTimeoutFn=sf.clearTimeout.bind(sf))}function gxe(n){return"string"==typeof n?function yxe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class bxe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class xj extends Ya{constructor(e){super(),this.writable=!1,iI(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new bxe(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Sj(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function vxe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}const iJ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),oJ={};let aJ,sJ=0,$y=0;function lJ(n){let e="";do{e=iJ[n%64]+e,n=Math.floor(n/64)}while(n>0);return e}function uJ(){const n=lJ(+new Date);return n!==aJ?(sJ=0,aJ=n):n+"."+lJ(sJ++)}for(;$y<64;$y++)oJ[iJ[$y]]=$y;let cJ=!1;try{cJ="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){}const wxe=cJ;function dJ(n){const e=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||wxe))return new XMLHttpRequest}catch(t){}if(!e)try{return new(sf[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function Sxe(){}const Mxe=null!=new dJ({xdomain:!1}).responseType;let sI=(()=>{class n extends Ya{constructor(t,r){super(),iI(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=void 0!==r.data?r.data:null,this.create()}create(){var t;const r=rJ(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const i=this.xhr=new dJ(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{i.setRequestHeader("Accept","*/*")}catch(o){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var o;3===i.readyState&&(null===(o=this.opts.cookieJar)||void 0===o||o.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=Sxe,t)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function fJ(){for(let n in sI.requests)sI.requests.hasOwnProperty(n)&&sI.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",fJ):"function"==typeof addEventListener&&addEventListener("onpagehide"in sf?"pagehide":"unload",fJ,!1));const Cj="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),aI=sf.WebSocket||sf.MozWebSocket,hJ="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Rxe={websocket:class Exe extends xj{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=hJ?{}:rJ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=hJ?new aI(e,t,r):t?new aI(e,t):new aI(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;bj(e[t],this.supportsBinary,o=>{try{this.ws.send(o)}catch(a){}i&&Cj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uJ()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!aI}},webtransport:class Txe extends xj{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=function dxe(n,e){Mj||(Mj=new TextDecoder);const t=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(0===r){if(nI(t)<1)break;const u=rI(t,1);o=128==(128&u[0]),i=127&u[0],r=i<126?3:126===i?1:2}else if(1===r){if(nI(t)<2)break;const u=rI(t,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(2===r){if(nI(t)<8)break;const u=rI(t,8),c=new DataView(u.buffer,u.byteOffset,u.length),f=c.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(_j);break}i=f*Math.pow(2,32)+c.getUint32(4),r=3}else{if(nI(t)<i)break;const u=rI(t,i);a.enqueue(Sj(o?u:Mj.decode(u),e)),r=0}if(0===i||i>n){a.enqueue(_j);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=function cxe(){return new TransformStream({transform(n,e){!function ixe(n,e){Xq&&n.data instanceof Blob?n.data.arrayBuffer().then(Qq).then(e):Zq&&(n.data instanceof ArrayBuffer||qq(n.data))?e(Qq(n.data)):bj(n,!1,t=>{wj||(wj=new TextEncoder),e(wj.encode(t))})}(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&"string"!=typeof n.data&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const o=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;this.writer.write(e[t]).then(()=>{i&&Cj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class xxe extends xj{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port}this.supportsBinary=Mxe&&!(e&&e.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(tJ),r=[];for(let i=0;i<t.length;i++){const o=Sj(t[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((o,s)=>{bj(o,!1,a=>{r[s]=a,++i===t&&e(r.join(tJ))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=uJ()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new sI(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}},Dxe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Axe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Tj(n){if(n.length>2e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Dxe.exec(n||""),o={},s=14;for(;s--;)o[Axe[s]]=i[s]||"";return-1!=t&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function Oxe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function kxe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}(0,o.query),o}let pJ=(()=>{class n extends Ya{constructor(t,r={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(r=t,t=null),t?(t=Tj(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Tj(r.host).host),iI(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function _xe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Rxe[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!i)if("pong"===g.type&&"probe"===g.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))};function s(){i||(i=!0,p(),r.close(),r=null)}const a=g=>{const v=new Error("probe error: "+g);v.transport=r.name,s(),this.emitReserved("upgradeError",v)};function u(){a("transport closed")}function c(){a("socket closed")}function f(g){r&&g.name!==r.name&&s()}const p=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",u),this.off("close",c),this.off("upgrading",f)};r.once("open",o),r.once("error",a),r.once("close",u),this.once("close",c),this.once("upgrading",f),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=gxe(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})();const Lxe="function"==typeof ArrayBuffer,mJ=Object.prototype.toString,Nxe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===mJ.call(Blob),Fxe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===mJ.call(File);function Rj(n){return Lxe&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||Nxe&&n instanceof Blob||Fxe&&n instanceof File}function lI(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(lI(n[t]))return!0;return!1}if(Rj(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return lI(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&lI(n[t]))return!0;return!1}function Hxe(n){const e=[],r=n;return r.data=Dj(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function Dj(n,e){if(!n)return n;if(Rj(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Dj(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Dj(n[r],e));return t}return n}function Bxe(n,e){return n.data=Aj(n.data,e),delete n.attachments,n}function Aj(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Aj(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Aj(n[t],e));return n}const Vxe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zxe=5;var Do=(()=>{return(n=Do||(Do={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",Do;var n})();class jxe{constructor(e){this.replacer=e}encode(e){return e.type!==Do.EVENT&&e.type!==Do.ACK||!lI(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Do.EVENT?Do.BINARY_EVENT:Do.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Do.BINARY_EVENT||e.type===Do.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Hxe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function gJ(n){return"[object Object]"===Object.prototype.toString.call(n)}class Oj extends Ya{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Do.BINARY_EVENT;r||t.type===Do.BINARY_ACK?(t.type=r?Do.EVENT:Do.ACK,this.reconstructor=new Uxe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Rj(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Do[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Do.BINARY_EVENT||r.type===Do.BINARY_ACK){const o=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const o=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(o,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const o=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(!Oj.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Do.CONNECT:return gJ(t);case Do.DISCONNECT:return void 0===t;case Do.CONNECT_ERROR:return"string"==typeof t||gJ(t);case Do.EVENT:case Do.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Vxe.indexOf(t[0]));case Do.ACK:case Do.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Uxe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Bxe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Qf(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Wxe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yJ extends Ya{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Qf(e,"open",this.onopen.bind(this)),Qf(e,"packet",this.onpacket.bind(this)),Qf(e,"error",this.onerror.bind(this)),Qf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Wxe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const r={type:Do.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const s=this.ids++,a=t.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{const o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Do.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Do.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Do.EVENT:case Do.BINARY_EVENT:this.onevent(e);break;case Do.ACK:case Do.BINARY_ACK:this.onack(e);break;case Do.DISCONNECT:this.ondisconnect();break;case Do.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Do.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Do.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function nM(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}nM.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=0==(1&Math.floor(10*e))?n-t:n+t}return 0|Math.min(n,this.max)},nM.prototype.reset=function(){this.attempts=0},nM.prototype.setMin=function(n){this.ms=n},nM.prototype.setMax=function(n){this.max=n},nM.prototype.setJitter=function(n){this.jitter=n};class kj extends Ya{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,iI(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new nM({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||O;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new pJ(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Qf(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Qf(t,"error",o);if(!1!==this._timeout){const u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Qf(e,"ping",this.onping.bind(this)),Qf(e,"data",this.ondata.bind(this)),Qf(e,"error",this.onerror.bind(this)),Qf(e,"close",this.onclose.bind(this)),Qf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Cj(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new yJ(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const vR={};function uI(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function Pxe(n,e="",t){let r=n;t=t||"undefined"!=typeof location&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==t?t.protocol+"//"+n:"https://"+n),r=Tj(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||vR[i]&&t.path in vR[i].nsps?u=new kj(r,e):(vR[i]||(vR[i]=new kj(r,e)),u=vR[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(uI,{Manager:kj,Socket:yJ,io:uI,connect:uI});let Pj,vJ=(()=>{class n{constructor(){this.comments=[{user:!1,content:"\u3054\u8cea\u554f\u306f\u3054\u3056\u3044\u307e\u3059\u304b\uff1f"}]}setupSocketConnection(){console.log("setupSocketConnection:","https://intense-plains-31465.herokuapp.com/"),this.socket=uI("https://intense-plains-31465.herokuapp.com/"),this.socket.on("HelpDesk->Customer",t=>{null!=t&&0!==t.trim().length&&(this.comments.push({user:!1,content:t}),console.log("receive a message from HelpDesk:",t))})}sendMessage(t){null!=t&&0!==t.trim().length&&(this.socket.emit("Customer->HelpDesk",t),this.comments.push({user:!0,content:t}),console.log("send a message to HelpDesk: ",t))}disconnect(){this.socket&&(this.socket.disconnect(),console.log("disconnect"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Pj="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Pj=!1}let _R,wb,Lj,Cc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Uwe(n){return n===cZ}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pj)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(_t(fL))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iM(n){return function Yxe(){if(null==_R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_R=!0}))}finally{_R=_R||!1}return _R}()?n:!!n.capture}function Gxe(){if(null==wb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wb=!1,wb;if("scrollBehavior"in document.documentElement.style)wb=!0;else{const n=Element.prototype.scrollTo;wb=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return wb}function bJ(n){if(function $xe(){if(null==Lj){const n="undefined"!=typeof document?document.head:null;Lj=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Lj}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ij(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Sb(n){return n.composedPath?n.composedPath()[0]:n.target}function Nj(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class Fj{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Hj extends Fj{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Bj extends Fj{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Kxe extends Fj{constructor(e){super(),this.element=e instanceof mi?e.nativeElement:e}}class Vj{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Hj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Bj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Kxe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xxe extends Vj{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");a.parentNode.insertBefore(u,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Xs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let zj=(()=>{class n extends Vj{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new bo,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(Le(gc),Le(Ol),Le(Pi))},n.\u0275dir=Mn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[wr]}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})();function Mb(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class aCe extends N{constructor(e,t){super()}schedule(e,t=0){return this}}const gI={setInterval(n,e,...t){const{delegate:r}=gI;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=gI;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Uj extends aCe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return gI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&gI.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const EJ={now:()=>(EJ.delegate||Date).now(),delegate:void 0};class wR{constructor(e,t=wR.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wR.now=EJ.now;class Wj extends wR{constructor(e,t=wR.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const yI=new Wj(Uj),lCe=yI;function Yj(n,e=yI){return dr((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function u(){const c=s+n,f=e.now();if(f<c)return i=this.schedule(void 0,c-f),void r.add(i);a()}t.subscribe($n(r,c=>{o=c,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function TJ(n){return Ua((e,t)=>n<=t)}function cCe(n,e){return n===e}function Vu(n){return dr((e,t)=>{Rs(n).subscribe($n(t,()=>t.complete(),K)),!t.closed&&e.subscribe(t)})}function Aa(n){return null!=n&&"false"!=`${n}`}function ep(n,e=0){return function dCe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function vI(n){return Array.isArray(n)?n:[n]}function Ga(n){return null==n?"":"string"==typeof n?n:`${n}px`}function xb(n){return n instanceof mi?n.nativeElement:n}let RJ=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fCe=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=xb(t);return new gt(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Pt,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(_t(RJ))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hCe=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new bo,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Aa(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ep(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Yj(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Le(fCe),Le(mi),Le(Ci))},n.\u0275dir=Mn({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[RJ]}),n})();const DJ=new Set;let oM,pCe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gCe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mCe(n){if(!DJ.has(n))try{oM||(oM=document.createElement("style"),oM.setAttribute("type","text/css"),document.head.appendChild(oM)),oM.sheet&&(oM.sheet.insertRule(`@media ${n} {body{ }}`,0),DJ.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(_t(Cc))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gCe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let yCe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Pt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return AJ(vI(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=jz(AJ(vI(t)).map(s=>this._registerQuery(s).observable));return o=oR(o.pipe(pl(1)),o.pipe(TJ(1),Yj(0))),o.pipe(vn(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:c})=>{a.matches=a.matches||u,a.breakpoints[c]=u}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new gt(s=>{const a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Sm(r),vn(({matches:s})=>({query:t,matches:s})),Vu(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(_t(pCe),_t(Ci))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AJ(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class PJ extends class bCe{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pt,this._typeaheadSubscription=N.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Pt,this.change=new Pt,e instanceof US&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Wa(t=>this._pressedLetters.push(t)),Yj(e),Ua(()=>this._pressedLetters.length>0),vn(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Mb(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof US?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let _I=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function SCe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function wCe(n){try{return n.frameElement}catch(e){return null}}(function ACe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===IJ(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=IJ(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function RCe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function DCe(n){return!function xCe(n){return function ECe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function MCe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function CCe(n){return function TCe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||LJ(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(_t(Cc))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LJ(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function IJ(n){if(!LJ(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class OCe{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(pl(1)).subscribe(e)}}let $j=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new OCe(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(_t(_I),_t(Ci),_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kj(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Xj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kCe=new Rn("cdk-input-modality-detector-options"),PCe={ignoreKeys:[18,17,224,91,16]},sM=iM({passive:!0,capture:!0});let LCe=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new cd(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,u;null!==(u=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)&&void 0!==u&&u.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sb(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Kj(s)?"keyboard":"mouse"),this._mostRecentTarget=Sb(s))},this._onTouchstart=s=>{Xj(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sb(s))},this._options=Object.assign(Object.assign({},PCe),o),this.modalityDetected=this._modality.pipe(TJ(1)),this.modalityChanged=this.modalityDetected.pipe(function uCe(n,e=sn){return n=null!=n?n:cCe,dr((t,r)=>{let i,o=!0;t.subscribe($n(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,sM),i.addEventListener("mousedown",this._onMousedown,sM),i.addEventListener("touchstart",this._onTouchstart,sM)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sM),document.removeEventListener("mousedown",this._onMousedown,sM),document.removeEventListener("touchstart",this._onTouchstart,sM))}}return n.\u0275fac=function(t){return new(t||n)(_t(Cc),_t(Ci),_t(Pi),_t(kCe,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NCe=new Rn("cdk-focus-monitor-default-options"),bI=iM({passive:!0,capture:!0});let Tm=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pt,this._rootNodeFocusAndBlurListener=a=>{for(let c=Sb(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(t,r=!1){const i=xb(t);if(!this._platform.isBrowser||1!==i.nodeType)return Hr(null);const o=bJ(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Pt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=xb(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=xb(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Sb(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,bI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,bI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vu(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(_t(Ci),_t(Cc),_t(LCe),_t(Pi,8),_t(NCe,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FJ="cdk-high-contrast-black-on-white",HJ="cdk-high-contrast-white-on-black",Zj="cdk-high-contrast-active";let BJ=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ws(yCe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Zj,FJ,HJ),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Zj,FJ):2===r&&t.add(Zj,HJ)}}}return n.\u0275fac=function(t){return new(t||n)(_t(Cc),_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VJ=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(_t(BJ))},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Gj]}),n})();const FCe=["addListener","removeListener"],HCe=["addEventListener","removeEventListener"],BCe=["on","off"];function qj(n,e,t,r){if(R(t)&&(r=t,t=void 0),r)return qj(n,e,t).pipe(zz(r));const[i,o]=function jCe(n){return R(n.addEventListener)&&R(n.removeEventListener)}(n)?HCe.map(s=>a=>n[s](e,a,t)):function VCe(n){return R(n.addListener)&&R(n.removeListener)}(n)?FCe.map(zJ(n,e)):function zCe(n){return R(n.on)&&R(n.off)}(n)?BCe.map(zJ(n,e)):[];if(!i&&vl(n))return yi(s=>qj(s,e,t))(Rs(n));if(!i)throw new TypeError("Invalid event target");return new gt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function zJ(n,e){return t=>r=>n[t](e,r)}const SR={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=SR;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new N(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=SR;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=SR;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class WCe extends Wj{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class UCe extends Uj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=SR.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(SR.cancelAnimationFrame(t),e._scheduled=void 0)}});let Jj,GCe=1;const wI={};function jJ(n){return n in wI&&(delete wI[n],!0)}const $Ce={setImmediate(n){const e=GCe++;return wI[e]=!0,Jj||(Jj=Promise.resolve()),Jj.then(()=>jJ(e)&&n()),e},clearImmediate(n){jJ(n)}},{setImmediate:KCe,clearImmediate:XCe}=$Ce,SI={setImmediate(...n){const{delegate:e}=SI;return((null==e?void 0:e.setImmediate)||KCe)(...n)},clearImmediate(n){const{delegate:e}=SI;return((null==e?void 0:e.clearImmediate)||XCe)(n)},delegate:void 0},Qj=new class qCe extends Wj{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class ZCe extends Uj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=SI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(SI.clearImmediate(t),e._scheduled=void 0)}});function UJ(n=0,e,t=lCe){let r=-1;return null!=e&&(tc(e)?t=e:r=e),new gt(i=>{let o=function QCe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function WJ(n,e=yI){return function JCe(n){return dr((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe($n(t,c=>{r=!0,i=c,o||Rs(n(c)).subscribe(o=$n(t,a,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>UJ(n,e))}const eEe=new Rn("cdk-dir-doc",{providedIn:"root",factory:function tEe(){return ws(Pi)}}),nEe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new bo,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function rEe(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?nEe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(_t(eEe,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})(),oEe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Pt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new gt(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(WJ(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Hr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ua(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=xb(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qj(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(_t(Ci),_t(Cc),_t(Pi,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MI=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Pt,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(WJ(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(_t(Cc),_t(Ci),_t(Pi,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[MR,xR,MR,xR]}),n})();const YJ=Gxe();class aEe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ga(-this._previousScrollPosition.left),e.style.top=Ga(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),YJ&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),YJ&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class lEe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class GJ{enable(){}disable(){}attach(){}}function tU(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function $J(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class uEe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();tU(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cEe=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new GJ,this.close=s=>new lEe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new aEe(this._viewportRuler,this._document),this.reposition=s=>new uEe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(_t(oEe),_t(MI),_t(Ci),_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nU{constructor(e){if(this.scrollStrategy=new GJ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class dEe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class CR{constructor(e,t,r,i,o,s,a,u,c,f=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=c,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new Pt,this._attachments=new Pt,this._detachments=new Pt,this._locationChanges=N.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Pt,this._outsidePointerEvents=new Pt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof(null==t?void 0:t.onDestroy)&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ga(this._config.width),e.height=Ga(this._config.height),e.minWidth=Ga(this._config.minWidth),e.minHeight=Ga(this._config.minHeight),e.maxWidth=Ga(this._config.maxWidth),e.maxHeight=Ga(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),this._animationsDisabled||"undefined"==typeof requestAnimationFrame?this._backdropElement.classList.add(e):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})})}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=vI(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Vu(bl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let xI=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nj()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),Nj()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi),_t(Cc))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KJ="cdk-overlay-connected-position-bounding-box",fEe=/([A-Za-z%]+)$/;class hEe{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt,this._resizeSubscription=N.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(KJ),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(u,t,a),f=this._getOverlayFit(c,t,r,a);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(f,c,r)?o.push({position:a,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:c,originPoint:u,position:a,overlayRect:t})}if(o.length){let a=null,u=-1;for(const c of o){const f=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);f>u&&(u=f,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KJ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=ZJ(t);let{x:s,y:a}=e,u=this._getOffset(i,"x"),c=this._getOffset(i,"y");u&&(s+=u),c&&(a+=c);let g=0-a,v=a+o.height-r.height,w=this._subtractOverflows(o.width,0-s,s+o.width-r.width),M=this._subtractOverflows(o.height,g,v),C=w*M;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:M===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=XJ(this._overlayRef.getConfig().minHeight),a=XJ(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ZJ(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let f=0,p=0;return f=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,p=i.height<=o.height?u||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new dEe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,f,p,g;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const v=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,f=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)p=e.x,f=r.right-e.x;else{const v=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;f=2*v,p=e.x-v,f>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:f,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Ga(r.height),i.top=Ga(r.top),i.bottom=Ga(r.bottom),i.width=Ga(r.width),i.left=Ga(r.left),i.right=Ga(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ga(o)),s&&(i.maxWidth=Ga(s))}this._lastBoundingBoxSize=r,Cb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Cb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const f=this._viewportRuler.getViewportScrollPosition();Cb(r,this._getExactOverlayY(t,e,f)),Cb(r,this._getExactOverlayX(t,e,f))}else r.position="static";let a="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(a+=`translateX(${u}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Ga(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Ga(s.maxWidth):o&&(r.maxWidth="")),Cb(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ga(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ga(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$J(e,r),isOriginOutsideView:tU(e,r),isOverlayClipped:$J(t,r),isOverlayOutsideView:tU(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&vI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof mi)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Cb(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XJ(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(fEe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ZJ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qJ="cdk-global-overlay-wrapper";class pEe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qJ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),f=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",w="",M="";u?M="flex-start":"center"===f?(M="center",g?w=p:v=p):g?"left"===f||"end"===f?(M="flex-end",v=p):("right"===f||"start"===f)&&(M="flex-start",w=p):"left"===f||"start"===f?(M="flex-start",v=p):("right"===f||"end"===f)&&(M="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=u?"0":v,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":w,t.justifyContent=M,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(qJ),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let mEe=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new pEe}flexibleConnectedTo(t){return new hEe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(_t(MI),_t(Pi),_t(Cc),_t(xI))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JJ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gEe=(()=>{class n extends JJ{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi),_t(Ci,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yEe=(()=>{class n extends JJ{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Sb(o)},this._clickListener=o=>{const s=Sb(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){const f=u[c];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(s)||f.overlayElement.contains(a))break;const p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi),_t(Cc),_t(Ci,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vEe=0,Ky=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p,g,v){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=u,this._document=c,this._directionality=f,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new nU(t);return s.direction=s.direction||this._directionality.value,new CR(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vEe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get($S)),new Xxe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(_t(cEe),_t(xI),_t(gc),_t(mEe),_t(gEe),_t(Xs),_t(Ci),_t(Pi),_t(aM),_t(Q1),_t(yEe),_t(Kh,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const wEe={provide:new Rn("cdk-connected-overlay-scroll-strategy"),deps:[Ky],useFactory:function bEe(n){return()=>n.scrollStrategies.reposition()}};let rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[Ky,wEe],imports:[MR,bR,eU,eU]}),n})();function SEe(n,e){}class CI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let QJ=(()=>{class n extends Vj{constructor(t,r,i,o,s,a,u,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=u,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=f=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Ij(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ij();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ij())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le($j),Le(Pi,8),Le(CI),Le(_I),Le(Ci),Le(CR),Le(Tm))},n.\u0275cmp=vi({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&kl(zj,7),2&t){let i;To(i=Ro())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&ts("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[wr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&ie(0,SEe,0,0,"ng-template",0)},dependencies:[zj],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class iU{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Pt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!Mb(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=(null==t?void 0:t.focusOrigin)||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const eQ=new Rn("DialogScrollStrategy"),MEe=new Rn("DialogData"),xEe=new Rn("DefaultDialogConfig"),EEe={provide:eQ,deps:[Ky],useFactory:function CEe(n){return()=>n.scrollStrategies.block()}};let TEe=0,tQ=(()=>{class n{constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt,this._afterOpenedAtThisLevel=new Pt,this._ariaHiddenElements=new Map,this.afterAllClosed=LL(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sm(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){const i=this._defaultOptions||new CI;(r=Object.assign(Object.assign({},i),r)).id=r.id||"cdk-dialog-"+TEe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new iU(s,r),u=this._attachContainer(s,a,r);return a.containerInstance=u,this._attachDialogContent(t,a,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oU(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){oU(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),oU(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new nU({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){var o;const s=i.injector||(null===(o=i.viewContainerRef)||void 0===o?void 0:o.injector),a=[{provide:CI,useValue:i},{provide:iU,useValue:r},{provide:CR,useValue:t}];let u;i.container?"function"==typeof i.container?u=i.container:(u=i.container.type,a.push(...i.container.providers(i))):u=QJ;const c=new Hj(u,i.viewContainerRef,Xs.create({parent:s||this._injector,providers:a}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof dl){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=Object.assign(Object.assign({},a),"function"==typeof o.templateContext?o.templateContext():o.templateContext)),i.attachTemplatePortal(new Bj(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new Hj(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,o){var s;const a=t.injector||(null===(s=t.viewContainerRef)||void 0===s?void 0:s.injector),u=[{provide:MEe,useValue:t.data},{provide:iU,useValue:r}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(r,t,i)):u.push(...t.providers)),t.direction&&(!a||!a.get(aM,null,pr.Optional))&&u.push({provide:aM,useValue:{value:t.direction,change:Hr()}}),Xs.create({parent:a||o,providers:u})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(_t(Ky),_t(Xs),_t(xEe,8),_t(n,12),_t(xI),_t(eQ))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();function oU(n,e){let t=n.length;for(;t--;)e(n[t])}let nQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[tQ,EEe],imports:[rU,bR,VJ,bR]}),n})();const DEe=new Rn("mat-sanity-checks",{providedIn:"root",factory:function REe(){return!0}});let Ao=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Nj()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(_t(BJ),_t(DEe,8),_t(Pi))},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[MR,MR]}),n})();function EI(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Aa(e)}}}function lM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function ER(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Aa(e)}}}function aQ(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ep(t):this.defaultTabIndex}}}let OEe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function TR(n,e,t){n.nativeElement.classList.toggle(e,t)}let lQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,Ao]}),n})();class LEe{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uQ={enterDuration:225,exitDuration:150},sU=iM({passive:!0}),cQ=["mousedown","touchstart"],dQ=["mouseup","mouseleave","touchend","touchcancel"];class NEe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=xb(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},uQ),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function FEe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,u=t-i.top,c=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-s+"px",f.style.top=u-s+"px",f.style.height=2*s+"px",f.style.width=2*s+"px",null!=r.color&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(f);const p=window.getComputedStyle(f),v=p.transitionDuration,w="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v,M=new LEe(this,f,r,w);f.style.transform="scale3d(1, 1, 1)",M.state=0,r.persistent||(this._mostRecentTransientRipple=M);let C=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const L=()=>this._finishRippleTransition(M),H=()=>this._destroyRipple(M);f.addEventListener("transitionend",L),f.addEventListener("transitioncancel",H),C={onTransitionEnd:L,onTransitionCancel:H}}),this._activeRipples.set(M,C),(w||!c)&&this._finishRippleTransition(M),M}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r=Object.assign(Object.assign({},uQ),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=xb(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(cQ))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dQ),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const r=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Kj(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Xj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,sU)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(cQ.forEach(e=>{this._triggerElement.removeEventListener(e,this,sU)}),this._pointerUpEventsRegistered&&dQ.forEach(e=>{this._triggerElement.removeEventListener(e,this,sU)}))}}const HEe=new Rn("mat-ripple-global-options");let uM=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new NEe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Ci),Le(Cc),Le(HEe,8),Le(Kh,8))},n.\u0275dir=Mn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&ha("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,Ao]}),n})(),BEe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(Le(Kh,8))},n.\u0275cmp=vi({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&ha("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),fQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao]}),n})();class hQ{}const Rm="*";function cM(n,e){return{type:7,name:n,definitions:e,options:{}}}function tp(n,e=null){return{type:4,styles:e,timings:n}}function RI(n,e=null){return{type:3,steps:n,options:e}}function pQ(n,e=null){return{type:2,steps:n,options:e}}function Jl(n){return{type:6,styles:n,offset:null}}function Dm(n,e,t){return{type:0,name:n,styles:e,options:t}}function np(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function DI(n=null){return{type:9,options:n}}function AI(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function mQ(n){Promise.resolve(null).then(n)}class RR{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mQ(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gQ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?mQ(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function zEe(n,e){}const dM={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},jEe={dialogContainer:cM("dialogContainer",[Dm("void, exit",Jl({opacity:0,transform:"scale(0.7)"})),Dm("enter",Jl({transform:"none"})),np("* => enter",RI([tp("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Jl({transform:"none",opacity:1})),AI("@*",DI(),{optional:!0})]),dM),np("* => void, * => exit",RI([tp("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Jl({opacity:0})),AI("@*",DI(),{optional:!0})]),dM)])};class OI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=dM.params.enterAnimationDuration,this.exitAnimationDuration=dM.params.exitAnimationDuration}}let UEe=(()=>{class n extends QJ{constructor(t,r,i,o,s,a,u,c){super(t,r,i,o,s,a,u,c),this._animationStateChanged=new bo}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le($j),Le(Pi,8),Le(OI),Le(_I),Le(Ci),Le(CR),Le(Tm))},n.\u0275cmp=vi({type:n,selectors:[["ng-component"]],features:[wr],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),WEe=(()=>{class n extends UEe{constructor(t,r,i,o,s,a,u,c,f){super(t,r,i,o,s,a,u,f),this._changeDetectorRef=c,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||dM.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||dM.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le($j),Le(Pi,8),Le(OI),Le(_I),Le(Ci),Le(CR),Le(Hu),Le(Tm))},n.\u0275cmp=vi({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&mr("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&t&&(BS("id",r._config.id),ts("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),VV("@dialogContainer",r._getAnimationState()))},features:[wr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&ie(0,zEe,0,0,"ng-template",0)},dependencies:[zj],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[jEe.dialogContainer]}}),n})();class dd{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Pt,this._beforeClosed=new Pt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ua(i=>"opened"===i.state),pl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ua(i=>"closed"===i.state),pl(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),bl(this.backdropClick(),this.keydownEvents().pipe(Ua(i=>27===i.keyCode&&!this.disableClose&&!Mb(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),yQ(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ua(t=>"closing"===t.state),pl(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function yQ(n,e,t){return n._closeInteractionType=e,n.close(t)}const YEe=new Rn("MatDialogData"),GEe=new Rn("mat-dialog-default-options"),vQ=new Rn("mat-dialog-scroll-strategy"),KEe={provide:vQ,deps:[Ky],useFactory:function $Ee(n){return()=>n.scrollStrategies.block()}};let XEe=0,ZEe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p){this._overlay=t,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=u,this._dialogContainerType=c,this._dialogDataToken=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt,this._afterOpenedAtThisLevel=new Pt,this._idPrefix="mat-dialog-",this.afterAllClosed=LL(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sm(void 0))),this._scrollStrategy=a,this._dialog=r.get(tQ)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r=Object.assign(Object.assign({},this._defaultOptions||new OI),r)).id=r.id||`${this._idPrefix}${XEe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,Object.assign(Object.assign({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:OI,useValue:r},{provide:CI,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(null==r?void 0:r.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){cm()},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),DR=(()=>{class n extends ZEe{constructor(t,r,i,o,s,a,u,c){super(t,r,o,a,u,s,dd,WEe,YEe,c)}}return n.\u0275fac=function(t){return new(t||n)(_t(Ky),_t(Xs),_t(Q1,8),_t(GEe,8),_t(vQ),_t(n,12),_t(xI),_t(Kh,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),qEe=0,rp=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=_Q(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){yQ(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(Le(dd,8),Le(mi),Le(DR))},n.\u0275dir=Mn({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&on("click",function(o){return r._onButtonClick(o)}),2&t&&ts("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[As]}),n})(),ip=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+qEe++}ngOnInit(){this._dialogRef||(this._dialogRef=_Q(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(Le(dd,8),Le(mi),Le(DR))},n.\u0275dir=Mn({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&BS("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),op=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&ha("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function _Q(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let JEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[DR,KEe],imports:[nQ,rU,bR,Ao,Ao]}),n})();const QEe=["mat-button",""],eTe=["*"],nTe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],rTe=lM(EI(ER(class{constructor(n){this._elementRef=n}})));let eh=(()=>{class n extends rTe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of nTe)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Tm),Le(Kh,8))},n.\u0275cmp=vi({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&kl(uM,5),2&t){let i;To(i=Ro())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(ts("disabled",r.disabled||null),ha("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[wr],attrs:QEe,ngContentSelectors:eTe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(fn(),Re(0,"span",0),Ji(1),$e(),lt(2,"span",1)(3,"span",2)),2&t&&(Fr(2),ha("mat-button-ripple-round",r.isRoundButton||r.isIconButton),_e("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[uM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),iTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[TI,Ao,Ao]}),n})();function oTe(n,e){if(1&n&&(Ht(0),Re(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),Xn(5),$e()()()(),lt(6,"div",18),$t()),2&n){const t=_i().$implicit;Fr(5),_o(" ",t.content," ")}}function sTe(n,e){if(1&n&&(Ht(0),Re(1,"div",19)(2,"div",15)(3,"div",16)(4,"div",17),Xn(5),$e()()()(),lt(6,"div",18),$t()),2&n){const t=_i().$implicit;Fr(5),_o(" ",t.content," ")}}function aTe(n,e){if(1&n&&(Ht(0),ie(1,oTe,7,1,"ng-container",13),ie(2,sTe,7,1,"ng-container",13),$t()),2&n){const t=e.$implicit;Fr(1),_e("ngIf",!t.user),Fr(1),_e("ngIf",t.user)}}let lTe=(()=>{class n{constructor(t,r){this.socketService=t,this.dialogRef=r}ngOnInit(){this.socketService.setupSocketConnection()}ngOnDestroy(){this.socketService.disconnect()}sendMessage(t){this.socketService.sendMessage(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(vJ),Le(dd))},n.\u0275cmp=vi({type:n,selectors:[["app-chat"]],decls:17,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["id","your_container"],["id","bms_messages_container"],["id","bms_messages"],[4,"ngFor","ngForOf"],["id","bms_send"],["id","bms_send_message",3,"keydown.enter"],["send_message",""],["id","bms_send_btn",3,"click"],["send_btn",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[4,"ngIf"],[1,"bms_message","bms_left"],[1,"bms_message_box"],[1,"bms_message_content"],[1,"bms_message_text"],[1,"bms_clear"],[1,"bms_message","bms_right"]],template:function(t,r){if(1&t){const i=xt();Re(0,"h3",0),Xn(1,"\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc1\u3067\u3059"),$e(),Re(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),ie(6,aTe,3,2,"ng-container",5),$e(),Re(7,"div",6)(8,"textarea",7,8),on("keydown.enter",function(){uo(i);const s=ke(9);return r.sendMessage(s.value),fr(s.value="")}),Xn(10,"                "),$e(),Re(11,"div",9,10),on("click",function(){uo(i);const s=ke(9);return r.sendMessage(s.value),fr(s.value="")}),Xn(13," \u9001\u4fe1 "),$e()()()()(),Re(14,"div",11)(15,"button",12),Xn(16,"\u9589\u3058\u308b"),$e()()}2&t&&(Fr(6),_e("ngForOf",r.socketService.comments))},dependencies:[Az,nR,eh,rp,ip,Am,op],styles:['@charset "UTF-8";#your_container[_ngcontent-%COMP%]{height:70%;width:100%}#bms_messages_container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#eee}#bms_messages[_ngcontent-%COMP%]{overflow:auto;height:100%;border-right:1px solid #ddd;border-left:1px solid #ddd;background-color:#eee;box-shadow:0 2px 2px #0003 inset}.bms_message[_ngcontent-%COMP%]{margin:0;padding:0 14px;font-size:16px;word-wrap:break-word;white-space:normal}.bms_message_box[_ngcontent-%COMP%]{margin-top:20px;max-width:100%;font-size:16px}.bms_message_content[_ngcontent-%COMP%]{padding:20px}.bms_left[_ngcontent-%COMP%]{float:left;line-height:1.3em}.bms_left[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#333;background:#fff;border:2px solid #13178e;border-radius:30px 30px 30px 0;margin-right:50px}.bms_right[_ngcontent-%COMP%]{float:right;line-height:1.3em}.bms_right[_ngcontent-%COMP%]   .bms_message_box[_ngcontent-%COMP%]{color:#fff;background:#13178e;border:2px solid #13178e;border-radius:30px 30px 0;margin-left:50px}.bms_clear[_ngcontent-%COMP%]{clear:both}#bms_send[_ngcontent-%COMP%]{background-color:#eee;border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd;height:48px;padding:4px}#bms_send_message[_ngcontent-%COMP%]{width:calc(100% - 75px);line-height:16px;height:48px;padding:14px 6px 0;border:1px solid #ccc;border-radius:4px;text-align:left;box-shadow:2px 2px 4px #0003 inset;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]{width:72px;height:48px;font-size:16px;line-height:3em;float:right;color:#fff;font-weight:700;background:#bcbcbc;text-align:center;border:1px solid #bbb;border-radius:4px;box-sizing:border-box}#bms_send_btn[_ngcontent-%COMP%]:hover{background:#13178e;cursor:pointer}']}),n})();var uTe=b(1670);const Ec=1001,ml=1003,$a=1006,Db=1009,Ab=1014,Zy=1015,kR=1016,gM=1020,th=1023,Ob=1026,yM=1027,kb=3e3,ma=3001,km="srgb",Pb="srgb-linear";class wM{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const vu=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Lb=Math.PI/180,PR=180/Math.PI;function fd(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(vu[255&n]+vu[n>>8&255]+vu[n>>16&255]+vu[n>>24&255]+"-"+vu[255&e]+vu[e>>8&255]+"-"+vu[e>>16&15|64]+vu[e>>24&255]+"-"+vu[63&t|128]+vu[t>>8&255]+"-"+vu[t>>16&255]+vu[t>>24&255]+vu[255&r]+vu[r>>8&255]+vu[r>>16&255]+vu[r>>24&255]).toLowerCase()}function Oa(n,e,t){return Math.max(e,Math.min(t,n))}function LR(n,e,t){return(1-t)*n+t*e}function MU(n){return 0==(n&n-1)&&0!==n}function VI(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class xn{constructor(e=0,t=0){xn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tc{constructor(){Tc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=o,f[5]=u,f[6]=r,f[7]=s,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],u=r[6],c=r[1],f=r[4],p=r[7],g=r[2],v=r[5],w=r[8],M=i[0],C=i[3],L=i[6],H=i[1],V=i[4],z=i[7],X=i[2],re=i[5],me=i[8];return o[0]=s*M+a*H+u*X,o[3]=s*C+a*V+u*re,o[6]=s*L+a*z+u*me,o[1]=c*M+f*H+p*X,o[4]=c*C+f*V+p*re,o[7]=c*L+f*z+p*me,o[2]=g*M+v*H+w*X,o[5]=g*C+v*V+w*re,o[8]=g*L+v*z+w*me,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8];return t*s*f-t*a*c-r*o*f+r*a*u+i*o*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8],p=f*s-a*c,g=a*u-f*o,v=c*o-s*u,w=t*p+r*g+i*v;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);const M=1/w;return e[0]=p*M,e[1]=(i*c-f*r)*M,e[2]=(a*r-i*s)*M,e[3]=g*M,e[4]=(f*t-i*u)*M,e[5]=(i*o-a*t)*M,e[6]=v*M,e[7]=(r*u-c*t)*M,e[8]=(s*t-r*o)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*a)+s+e,-i*c,i*u,-i*(-c*s+u*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],u=i[1],c=i[4],f=i[7];return i[0]=t*o+r*u,i[3]=t*s+r*c,i[6]=t*a+r*f,i[1]=-r*o+t*u,i[4]=-r*s+t*c,i[7]=-r*a+t*f,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function nee(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function IR(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ib(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function zI(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const xU={[km]:{[Pb]:Ib},[Pb]:{[km]:zI}},nh={legacyMode:!0,get workingColorSpace(){return Pb},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(xU[e]&&void 0!==xU[e][t]){const r=xU[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},ree={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gl={r:0,g:0,b:0},rh={h:0,s:0,l:0},jI={h:0,s:0,l:0};function CU(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function UI(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let MM,Ar=(()=>{class n{constructor(t,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===r&&void 0===i?this.set(t):this.setRGB(t,r,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=km){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,nh.toWorkingColorSpace(this,r),this}setRGB(t,r,i,o=Pb){return this.r=t,this.g=r,this.b=i,nh.toWorkingColorSpace(this,o),this}setHSL(t,r,i,o=Pb){if(t=function SU(n,e){return(n%e+e)%e}(t,1),r=Oa(r,0,1),i=Oa(i,0,1),0===r)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+r):i+r-i*r,a=2*i-s;this.r=CU(a,s,t+1/3),this.g=CU(a,s,t),this.b=CU(a,s,t-1/3)}return nh.toWorkingColorSpace(this,o),this}setStyle(t,r=km){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const u=o[2];switch(o[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,nh.toWorkingColorSpace(this,r),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,nh.toWorkingColorSpace(this,r),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const c=parseFloat(s[1])/360,f=parseInt(s[2],10)/100,p=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(c,f,p,r)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=o[1],a=s.length;if(3===a)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,nh.toWorkingColorSpace(this,r),this;if(6===a)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,nh.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=km){const i=ree[t.toLowerCase()];return void 0!==i?this.setHex(i,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ib(t.r),this.g=Ib(t.g),this.b=Ib(t.b),this}copyLinearToSRGB(t){return this.r=zI(t.r),this.g=zI(t.g),this.b=zI(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=km){return nh.fromWorkingColorSpace(UI(this,gl),t),Oa(255*gl.r,0,255)<<16^Oa(255*gl.g,0,255)<<8^Oa(255*gl.b,0,255)<<0}getHexString(t=km){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=Pb){nh.fromWorkingColorSpace(UI(this,gl),r);const i=gl.r,o=gl.g,s=gl.b,a=Math.max(i,o,s),u=Math.min(i,o,s);let c,f;const p=(u+a)/2;if(u===a)c=0,f=0;else{const g=a-u;switch(f=p<=.5?g/(a+u):g/(2-a-u),a){case i:c=(o-s)/g+(o<s?6:0);break;case o:c=(s-i)/g+2;break;case s:c=(i-o)/g+4}c/=6}return t.h=c,t.s=f,t.l=p,t}getRGB(t,r=Pb){return nh.fromWorkingColorSpace(UI(this,gl),r),t.r=gl.r,t.g=gl.g,t.b=gl.b,t}getStyle(t=km){return nh.fromWorkingColorSpace(UI(this,gl),t),t!==km?`color(${t} ${gl.r} ${gl.g} ${gl.b})`:`rgb(${255*gl.r|0},${255*gl.g|0},${255*gl.b|0})`}offsetHSL(t,r,i){return this.getHSL(rh),rh.h+=t,rh.s+=r,rh.l+=i,this.setHSL(rh.h,rh.s,rh.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(rh),t.getHSL(jI);const i=LR(rh.h,jI.h,r),o=LR(rh.s,jI.s,r),s=LR(rh.l,jI.l,r);return this.setHSL(i,o,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return n.NAMES=ree,n})();class iee{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===MM&&(MM=IR("canvas")),MM.width=e.width,MM.height=e.height;const r=MM.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=MM}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=IR("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=255*Ib(o[s]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Ib(t[r]/255)):Ib(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class xM{constructor(e=null){this.isSource=!0,this.uuid=fd(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)o.push(EU(i[s].isDataTexture?i[s].image:i[s]))}else o=EU(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function EU(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?iee.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let x1e=0,qy=(()=>{class n extends wM{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=Ec,o=Ec,s=$a,a=1008,u=th,c=Db,f=1,p=kb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:x1e++}),this.uuid=fd(),this.name="",this.source=new xM(t),this.mipmaps=[],this.mapping=r,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=c,this.offset=new xn(0,0),this.repeat=new xn(1,1),this.center=new xn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Ec:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Ec:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();class us{constructor(e=0,t=0,r=0,i=1){us.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const u=e.elements,c=u[0],f=u[4],p=u[8],g=u[1],v=u[5],w=u[9],M=u[2],C=u[6],L=u[10];if(Math.abs(f-g)<.01&&Math.abs(p-M)<.01&&Math.abs(w-C)<.01){if(Math.abs(f+g)<.1&&Math.abs(p+M)<.1&&Math.abs(w+C)<.1&&Math.abs(c+v+L-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const V=(c+1)/2,z=(v+1)/2,X=(L+1)/2,re=(f+g)/4,me=(p+M)/4,ne=(w+C)/4;return V>z&&V>X?V<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(V),i=re/r,o=me/r):z>X?z<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(z),r=re/i,o=ne/i):X<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(X),r=me/o,i=ne/o),this.set(r,i,o,t),this}let H=Math.sqrt((C-w)*(C-w)+(p-M)*(p-M)+(g-f)*(g-f));return Math.abs(H)<.001&&(H=1),this.x=(C-w)/H,this.y=(p-M)/H,this.z=(g-f)/H,this.w=Math.acos((c+v+L-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Nb extends wM{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new us(0,0,e,t),this.scissorTest=!1,this.viewport=new us(0,0,e,t),this.texture=new qy({width:e,height:t,depth:1},r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:$a,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,this.samples=void 0!==r.samples?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new xM(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class TU extends qy{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ml,this.minFilter=ml,this.wrapR=Ec,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oee extends qy{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ml,this.minFilter=ml,this.wrapR=Ec,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hd{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let u=r[i+0],c=r[i+1],f=r[i+2],p=r[i+3];const g=o[s+0],v=o[s+1],w=o[s+2],M=o[s+3];if(0===a)return e[t+0]=u,e[t+1]=c,e[t+2]=f,void(e[t+3]=p);if(1===a)return e[t+0]=g,e[t+1]=v,e[t+2]=w,void(e[t+3]=M);if(p!==M||u!==g||c!==v||f!==w){let C=1-a;const L=u*g+c*v+f*w+p*M,H=L>=0?1:-1,V=1-L*L;if(V>Number.EPSILON){const X=Math.sqrt(V),re=Math.atan2(X,L*H);C=Math.sin(C*re)/X,a=Math.sin(a*re)/X}const z=a*H;if(u=u*C+g*z,c=c*C+v*z,f=f*C+w*z,p=p*C+M*z,C===1-a){const X=1/Math.sqrt(u*u+c*c+f*f+p*p);u*=X,c*=X,f*=X,p*=X}}e[t]=u,e[t+1]=c,e[t+2]=f,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],u=r[i+1],c=r[i+2],f=r[i+3],p=o[s],g=o[s+1],v=o[s+2],w=o[s+3];return e[t]=a*w+f*p+u*v-c*g,e[t+1]=u*w+f*g+c*p-a*v,e[t+2]=c*w+f*v+a*g-u*p,e[t+3]=f*w-a*p-u*g-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,u=Math.sin,c=a(r/2),f=a(i/2),p=a(o/2),g=u(r/2),v=u(i/2),w=u(o/2);switch(s){case"XYZ":this._x=g*f*p+c*v*w,this._y=c*v*p-g*f*w,this._z=c*f*w+g*v*p,this._w=c*f*p-g*v*w;break;case"YXZ":this._x=g*f*p+c*v*w,this._y=c*v*p-g*f*w,this._z=c*f*w-g*v*p,this._w=c*f*p+g*v*w;break;case"ZXY":this._x=g*f*p-c*v*w,this._y=c*v*p+g*f*w,this._z=c*f*w+g*v*p,this._w=c*f*p-g*v*w;break;case"ZYX":this._x=g*f*p-c*v*w,this._y=c*v*p+g*f*w,this._z=c*f*w-g*v*p,this._w=c*f*p+g*v*w;break;case"YZX":this._x=g*f*p+c*v*w,this._y=c*v*p+g*f*w,this._z=c*f*w-g*v*p,this._w=c*f*p-g*v*w;break;case"XZY":this._x=g*f*p-c*v*w,this._y=c*v*p-g*f*w,this._z=c*f*w+g*v*p,this._w=c*f*p+g*v*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],u=t[9],c=t[2],f=t[6],p=t[10],g=r+a+p;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(f-u)*v,this._y=(o-c)*v,this._z=(s-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(f-u)/v,this._x=.25*v,this._y=(i+s)/v,this._z=(o+c)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(o-c)/v,this._x=(i+s)/v,this._y=.25*v,this._z=(u+f)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(s-i)/v,this._x=(o+c)/v,this._y=(u+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Oa(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,u=t._y,c=t._z,f=t._w;return this._x=r*f+s*a+i*c-o*u,this._y=i*f+s*u+o*a-r*c,this._z=o*f+s*c+r*u-i*a,this._w=s*f-r*a-i*u-o*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const u=1-a*a;if(u<=Number.EPSILON){const v=1-t;return this._w=v*s+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),f=Math.atan2(c,a),p=Math.sin((1-t)*f)/c,g=Math.sin(t*f)/c;return this._w=s*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class je{constructor(e=0,t=0,r=0){je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(see.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(see.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,u=e.w,c=u*t+s*i-a*r,f=u*r+a*t-o*i,p=u*i+o*r-s*t,g=-o*t-s*r-a*i;return this.x=c*u+g*-o+f*-a-p*-s,this.y=f*u+g*-s+p*-o-c*-a,this.z=p*u+g*-a+c*-s-f*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,u=t.z;return this.x=i*u-o*a,this.y=o*s-r*u,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return RU.copy(this).projectOnVector(e),this.sub(RU)}reflect(e){return this.sub(RU.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Oa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-cye(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RU=new je,see=new hd;class CM{constructor(e=new je(1/0,1/0,1/0),t=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.length;u<c;u+=3){const f=e[u],p=e[u+1],g=e[u+2];f<t&&(t=f),p<r&&(r=p),g<i&&(i=g),f>o&&(o=f),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let u=0,c=e.count;u<c;u++){const f=e.getX(u),p=e.getY(u),g=e.getZ(u);f<t&&(t=f),p<r&&(r=p),g<i&&(i=g),f>o&&(o=f),p>s&&(s=p),g>a&&(a=g)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Fb.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r)if(t&&null!=r.attributes&&void 0!==r.attributes.position){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)Fb.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Fb)}else null===r.boundingBox&&r.computeBoundingBox(),DU.copy(r.boundingBox),DU.applyMatrix4(e.matrixWorld),this.union(DU);const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Fb),Fb.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(NR),WI.subVectors(this.max,NR),EM.subVectors(e.a,NR),TM.subVectors(e.b,NR),RM.subVectors(e.c,NR),Jy.subVectors(TM,EM),Qy.subVectors(RM,TM),Hb.subVectors(EM,RM);let t=[0,-Jy.z,Jy.y,0,-Qy.z,Qy.y,0,-Hb.z,Hb.y,Jy.z,0,-Jy.x,Qy.z,0,-Qy.x,Hb.z,0,-Hb.x,-Jy.y,Jy.x,0,-Qy.y,Qy.x,0,-Hb.y,Hb.x,0];return!(!AU(t,EM,TM,RM,WI)||(t=[1,0,0,0,1,0,0,0,1],!AU(t,EM,TM,RM,WI)))&&(YI.crossVectors(Jy,Qy),t=[YI.x,YI.y,YI.z],AU(t,EM,TM,RM,WI))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Fb.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Fb).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Pm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pm)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pm=[new je,new je,new je,new je,new je,new je,new je,new je],Fb=new je,DU=new CM,EM=new je,TM=new je,RM=new je,Jy=new je,Qy=new je,Hb=new je,NR=new je,WI=new je,YI=new je,Bb=new je;function AU(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){Bb.fromArray(n,o);const a=i.x*Math.abs(Bb.x)+i.y*Math.abs(Bb.y)+i.z*Math.abs(Bb.z),u=e.dot(Bb),c=t.dot(Bb),f=r.dot(Bb);if(Math.max(-Math.max(u,c,f),Math.min(u,c,f))>a)return!1}return!0}const C1e=new CM,aee=new je,GI=new je,OU=new je;class DM{constructor(e=new je,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):C1e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){OU.subVectors(e,this.center);const t=OU.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.add(OU.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?GI.set(0,0,1).multiplyScalar(e.radius):GI.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(aee.copy(e.center).add(GI)),this.expandByPoint(aee.copy(e.center).sub(GI)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Lm=new je,kU=new je,$I=new je,ev=new je,PU=new je,KI=new je,LU=new je;class XI{constructor(e=new je,t=new je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lm)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lm.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lm.copy(this.direction).multiplyScalar(t).add(this.origin),Lm.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){kU.copy(e).add(t).multiplyScalar(.5),$I.copy(t).sub(e).normalize(),ev.copy(this.origin).sub(kU);const o=.5*e.distanceTo(t),s=-this.direction.dot($I),a=ev.dot(this.direction),u=-ev.dot($I),c=ev.lengthSq(),f=Math.abs(1-s*s);let p,g,v,w;if(f>0)if(p=s*u-a,g=s*a-u,w=o*f,p>=0)if(g>=-w)if(g<=w){const M=1/f;p*=M,g*=M,v=p*(p+s*g+2*a)+g*(s*p+g+2*u)+c}else g=o,p=Math.max(0,-(s*g+a)),v=-p*p+g*(g+2*u)+c;else g=-o,p=Math.max(0,-(s*g+a)),v=-p*p+g*(g+2*u)+c;else g<=-w?(p=Math.max(0,-(-s*o+a)),g=p>0?-o:Math.min(Math.max(-o,-u),o),v=-p*p+g*(g+2*u)+c):g<=w?(p=0,g=Math.min(Math.max(-o,-u),o),v=g*(g+2*u)+c):(p=Math.max(0,-(s*o+a)),g=p>0?o:Math.min(Math.max(-o,-u),o),v=-p*p+g*(g+2*u)+c);else g=s>0?-o:o,p=Math.max(0,-(s*g+a)),v=-p*p+g*(g+2*u)+c;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy($I).multiplyScalar(g).add(kU),v}intersectSphere(e,t){Lm.subVectors(e.center,this.origin);const r=Lm.dot(this.direction),i=Lm.dot(Lm)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,u=r+s;return a<0&&u<0?null:this.at(a<0?u:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,u;const c=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),f>=0?(o=(e.min.y-g.y)*f,s=(e.max.y-g.y)*f):(o=(e.max.y-g.y)*f,s=(e.min.y-g.y)*f),r>s||o>i||((o>r||r!=r)&&(r=o),(s<i||i!=i)&&(i=s),p>=0?(a=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),r>u||a>i)||((a>r||r!=r)&&(r=a),(u<i||i!=i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,Lm)}intersectTriangle(e,t,r,i,o){PU.subVectors(t,e),KI.subVectors(r,e),LU.crossVectors(PU,KI);let a,s=this.direction.dot(LU);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}ev.subVectors(this.origin,e);const u=a*this.direction.dot(KI.crossVectors(ev,KI));if(u<0)return null;const c=a*this.direction.dot(PU.cross(ev));if(c<0||u+c>s)return null;const f=-a*ev.dot(LU);return f<0?null:this.at(f/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class so{constructor(){so.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,u,c,f,p,g,v,w,M,C){const L=this.elements;return L[0]=e,L[4]=t,L[8]=r,L[12]=i,L[1]=o,L[5]=s,L[9]=a,L[13]=u,L[2]=c,L[6]=f,L[10]=p,L[14]=g,L[3]=v,L[7]=w,L[11]=M,L[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new so).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/AM.setFromMatrixColumn(e,0).length(),o=1/AM.setFromMatrixColumn(e,1).length(),s=1/AM.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),f=Math.cos(o),p=Math.sin(o);if("XYZ"===e.order){const g=s*f,v=s*p,w=a*f,M=a*p;t[0]=u*f,t[4]=-u*p,t[8]=c,t[1]=v+w*c,t[5]=g-M*c,t[9]=-a*u,t[2]=M-g*c,t[6]=w+v*c,t[10]=s*u}else if("YXZ"===e.order){const g=u*f,v=u*p,w=c*f,M=c*p;t[0]=g+M*a,t[4]=w*a-v,t[8]=s*c,t[1]=s*p,t[5]=s*f,t[9]=-a,t[2]=v*a-w,t[6]=M+g*a,t[10]=s*u}else if("ZXY"===e.order){const g=u*f,v=u*p,w=c*f,M=c*p;t[0]=g-M*a,t[4]=-s*p,t[8]=w+v*a,t[1]=v+w*a,t[5]=s*f,t[9]=M-g*a,t[2]=-s*c,t[6]=a,t[10]=s*u}else if("ZYX"===e.order){const g=s*f,v=s*p,w=a*f,M=a*p;t[0]=u*f,t[4]=w*c-v,t[8]=g*c+M,t[1]=u*p,t[5]=M*c+g,t[9]=v*c-w,t[2]=-c,t[6]=a*u,t[10]=s*u}else if("YZX"===e.order){const g=s*u,v=s*c,w=a*u,M=a*c;t[0]=u*f,t[4]=M-g*p,t[8]=w*p+v,t[1]=p,t[5]=s*f,t[9]=-a*f,t[2]=-c*f,t[6]=v*p+w,t[10]=g-M*p}else if("XZY"===e.order){const g=s*u,v=s*c,w=a*u,M=a*c;t[0]=u*f,t[4]=-p,t[8]=c*f,t[1]=g*p+M,t[5]=s*f,t[9]=v*p-w,t[2]=w*p-v,t[6]=a*f,t[10]=M*p+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(E1e,e,T1e)}lookAt(e,t,r){const i=this.elements;return pd.subVectors(e,t),0===pd.lengthSq()&&(pd.z=1),pd.normalize(),tv.crossVectors(r,pd),0===tv.lengthSq()&&(1===Math.abs(r.z)?pd.x+=1e-4:pd.z+=1e-4,pd.normalize(),tv.crossVectors(r,pd)),tv.normalize(),ZI.crossVectors(pd,tv),i[0]=tv.x,i[4]=ZI.x,i[8]=pd.x,i[1]=tv.y,i[5]=ZI.y,i[9]=pd.y,i[2]=tv.z,i[6]=ZI.z,i[10]=pd.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],u=r[8],c=r[12],f=r[1],p=r[5],g=r[9],v=r[13],w=r[2],M=r[6],C=r[10],L=r[14],H=r[3],V=r[7],z=r[11],X=r[15],re=i[0],me=i[4],ne=i[8],pe=i[12],Se=i[1],Ie=i[5],ot=i[9],at=i[13],ze=i[2],vt=i[6],be=i[10],Oe=i[14],Ye=i[3],Y=i[7],Q=i[11],he=i[15];return o[0]=s*re+a*Se+u*ze+c*Ye,o[4]=s*me+a*Ie+u*vt+c*Y,o[8]=s*ne+a*ot+u*be+c*Q,o[12]=s*pe+a*at+u*Oe+c*he,o[1]=f*re+p*Se+g*ze+v*Ye,o[5]=f*me+p*Ie+g*vt+v*Y,o[9]=f*ne+p*ot+g*be+v*Q,o[13]=f*pe+p*at+g*Oe+v*he,o[2]=w*re+M*Se+C*ze+L*Ye,o[6]=w*me+M*Ie+C*vt+L*Y,o[10]=w*ne+M*ot+C*be+L*Q,o[14]=w*pe+M*at+C*Oe+L*he,o[3]=H*re+V*Se+z*ze+X*Ye,o[7]=H*me+V*Ie+z*vt+X*Y,o[11]=H*ne+V*ot+z*be+X*Q,o[15]=H*pe+V*at+z*Oe+X*he,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],f=e[2],p=e[6],g=e[10],v=e[14];return e[3]*(+o*u*p-i*c*p-o*a*g+r*c*g+i*a*v-r*u*v)+e[7]*(+t*u*v-t*c*g+o*s*g-i*s*v+i*c*f-o*u*f)+e[11]*(+t*c*p-t*a*v-o*s*p+r*s*v+o*a*f-r*c*f)+e[15]*(-i*a*f-t*u*p+t*a*g+i*s*p-r*s*g+r*u*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],f=e[8],p=e[9],g=e[10],v=e[11],w=e[12],M=e[13],C=e[14],L=e[15],H=p*C*c-M*g*c+M*u*v-a*C*v-p*u*L+a*g*L,V=w*g*c-f*C*c-w*u*v+s*C*v+f*u*L-s*g*L,z=f*M*c-w*p*c+w*a*v-s*M*v-f*a*L+s*p*L,X=w*p*u-f*M*u-w*a*g+s*M*g+f*a*C-s*p*C,re=t*H+r*V+i*z+o*X;if(0===re)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const me=1/re;return e[0]=H*me,e[1]=(M*g*o-p*C*o-M*i*v+r*C*v+p*i*L-r*g*L)*me,e[2]=(a*C*o-M*u*o+M*i*c-r*C*c-a*i*L+r*u*L)*me,e[3]=(p*u*o-a*g*o-p*i*c+r*g*c+a*i*v-r*u*v)*me,e[4]=V*me,e[5]=(f*C*o-w*g*o+w*i*v-t*C*v-f*i*L+t*g*L)*me,e[6]=(w*u*o-s*C*o-w*i*c+t*C*c+s*i*L-t*u*L)*me,e[7]=(s*g*o-f*u*o+f*i*c-t*g*c-s*i*v+t*u*v)*me,e[8]=z*me,e[9]=(w*p*o-f*M*o-w*r*v+t*M*v+f*r*L-t*p*L)*me,e[10]=(s*M*o-w*a*o+w*r*c-t*M*c-s*r*L+t*a*L)*me,e[11]=(f*a*o-s*p*o-f*r*c+t*p*c+s*r*v-t*a*v)*me,e[12]=X*me,e[13]=(f*M*i-w*p*i+w*r*g-t*M*g-f*r*C+t*p*C)*me,e[14]=(w*a*i-s*M*i-w*r*u+t*M*u+s*r*C-t*a*C)*me,e[15]=(s*p*i-f*a*i+f*r*u-t*p*u-s*r*g+t*a*g)*me,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,u=e.z,c=o*s,f=o*a;return this.set(c*s+r,c*a-i*u,c*u+i*a,0,c*a+i*u,f*a+r,f*u-i*s,0,c*u-i*a,f*u+i*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,u=t._w,c=o+o,f=s+s,p=a+a,g=o*c,v=o*f,w=o*p,M=s*f,C=s*p,L=a*p,H=u*c,V=u*f,z=u*p,X=r.x,re=r.y,me=r.z;return i[0]=(1-(M+L))*X,i[1]=(v+z)*X,i[2]=(w-V)*X,i[3]=0,i[4]=(v-z)*re,i[5]=(1-(g+L))*re,i[6]=(C+H)*re,i[7]=0,i[8]=(w+V)*me,i[9]=(C-H)*me,i[10]=(1-(g+M))*me,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=AM.set(i[0],i[1],i[2]).length();const s=AM.set(i[4],i[5],i[6]).length(),a=AM.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ih.copy(this);const c=1/o,f=1/s,p=1/a;return ih.elements[0]*=c,ih.elements[1]*=c,ih.elements[2]*=c,ih.elements[4]*=f,ih.elements[5]*=f,ih.elements[6]*=f,ih.elements[8]*=p,ih.elements[9]*=p,ih.elements[10]*=p,t.setFromRotationMatrix(ih),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*o/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i),g=-(s+o)/(s-o),v=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,u=1/(t-e),c=1/(r-i),f=1/(s-o),p=(t+e)*u,g=(r+i)*c,v=(s+o)*f;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const AM=new je,ih=new so,E1e=new je(0,0,0),T1e=new je(1,1,1),tv=new je,ZI=new je,pd=new je,lee=new so,uee=new hd;let R1e=(()=>{class n{constructor(t=0,r=0,i=0,o=n.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,o=this._order){return this._x=t,this._y=r,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const o=t.elements,s=o[0],a=o[4],u=o[8],c=o[1],f=o[5],p=o[9],g=o[2],v=o[6],w=o[10];switch(r){case"XYZ":this._y=Math.asin(Oa(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,w),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Oa(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,w),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Oa(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,w),this._z=Math.atan2(-a,f)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Oa(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,w),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,f));break;case"YZX":this._z=Math.asin(Oa(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,w));break;case"XZY":this._z=Math.asin(-Oa(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return lee.makeRotationFromQuaternion(t),this.setFromRotationMatrix(lee,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return uee.setFromEuler(this),this.setFromQuaternion(uee,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return n.DefaultOrder="XYZ",n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n})();class IU{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let D1e=0;const cee=new je,OM=new hd,Im=new so,qI=new je,FR=new je,A1e=new je,O1e=new hd,dee=new je(1,0,0),fee=new je(0,1,0),hee=new je(0,0,1),k1e={type:"added"},pee={type:"removed"};let zu=(()=>{class n extends wM{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:D1e++}),this.uuid=fd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();const t=new je,r=new R1e,i=new hd,o=new je(1,1,1);r._onChange(function s(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new so},normalMatrix:{value:new Tc}}),this.matrix=new so,this.matrixWorld=new so,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new IU,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return OM.setFromAxisAngle(t,r),this.quaternion.multiply(OM),this}rotateOnWorldAxis(t,r){return OM.setFromAxisAngle(t,r),this.quaternion.premultiply(OM),this}rotateX(t){return this.rotateOnAxis(dee,t)}rotateY(t){return this.rotateOnAxis(fee,t)}rotateZ(t){return this.rotateOnAxis(hee,t)}translateOnAxis(t,r){return cee.copy(t).applyQuaternion(this.quaternion),this.position.add(cee.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(dee,t)}translateY(t){return this.translateOnAxis(fee,t)}translateZ(t){return this.translateOnAxis(hee,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Im.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?qI.copy(t):qI.set(t,r,i);const o=this.parent;this.updateWorldMatrix(!0,!1),FR.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Im.lookAt(FR,qI,this.up):Im.lookAt(qI,FR,this.up),this.quaternion.setFromRotationMatrix(Im),o&&(Im.extractRotation(o.matrixWorld),OM.setFromRotationMatrix(Im),this.quaternion.premultiply(OM.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(k1e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(pee)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(pee)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Im.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Im.multiply(t.parent.matrixWorld)),t.applyMatrix4(Im),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(FR,t,A1e),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(FR,O1e,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};function s(u,c){return void 0===u[c.uuid]&&(u[c.uuid]=c.toJSON(t)),c.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const c=u.shapes;if(Array.isArray(c))for(let f=0,p=c.length;f<p;f++)s(t.shapes,c[f]);else s(t.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let c=0,f=this.material.length;c<f;c++)u.push(s(t.materials,this.material[c]));o.material=u}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++)o.animations.push(s(t.animations,this.animations[u]))}if(r){const u=a(t.geometries),c=a(t.materials),f=a(t.textures),p=a(t.images),g=a(t.shapes),v=a(t.skeletons),w=a(t.animations),M=a(t.nodes);u.length>0&&(i.geometries=u),c.length>0&&(i.materials=c),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),w.length>0&&(i.animations=w),M.length>0&&(i.nodes=M)}return i.object=o,i;function a(u){const c=[];for(const f in u){const p=u[f];delete p.metadata,c.push(p)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DefaultUp=new je(0,1,0),n.DefaultMatrixAutoUpdate=!0,n})();const oh=new je,Nm=new je,NU=new je,Fm=new je,kM=new je,PM=new je,mee=new je,FU=new je,HU=new je,BU=new je;class sh{constructor(e=new je,t=new je,r=new je){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),oh.subVectors(e,t),i.cross(oh);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){oh.subVectors(i,t),Nm.subVectors(r,t),NU.subVectors(e,t);const s=oh.dot(oh),a=oh.dot(Nm),u=oh.dot(NU),c=Nm.dot(Nm),f=Nm.dot(NU),p=s*c-a*a;if(0===p)return o.set(-2,-1,-1);const g=1/p,v=(c*u-a*f)*g,w=(s*f-a*u)*g;return o.set(1-v-w,w,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Fm),Fm.x>=0&&Fm.y>=0&&Fm.x+Fm.y<=1}static getUV(e,t,r,i,o,s,a,u){return this.getBarycoord(e,t,r,i,Fm),u.set(0,0),u.addScaledVector(o,Fm.x),u.addScaledVector(s,Fm.y),u.addScaledVector(a,Fm.z),u}static isFrontFacing(e,t,r,i){return oh.subVectors(r,t),Nm.subVectors(e,t),oh.cross(Nm).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oh.subVectors(this.c,this.b),Nm.subVectors(this.a,this.b),.5*oh.cross(Nm).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sh.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return sh.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return sh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;kM.subVectors(i,r),PM.subVectors(o,r),FU.subVectors(e,r);const u=kM.dot(FU),c=PM.dot(FU);if(u<=0&&c<=0)return t.copy(r);HU.subVectors(e,i);const f=kM.dot(HU),p=PM.dot(HU);if(f>=0&&p<=f)return t.copy(i);const g=u*p-f*c;if(g<=0&&u>=0&&f<=0)return s=u/(u-f),t.copy(r).addScaledVector(kM,s);BU.subVectors(e,o);const v=kM.dot(BU),w=PM.dot(BU);if(w>=0&&v<=w)return t.copy(o);const M=v*c-u*w;if(M<=0&&c>=0&&w<=0)return a=c/(c-w),t.copy(r).addScaledVector(PM,a);const C=f*w-v*p;if(C<=0&&p-f>=0&&v-w>=0)return mee.subVectors(o,i),a=(p-f)/(p-f+(v-w)),t.copy(i).addScaledVector(mee,a);const L=1/(C+M+g);return s=M*L,a=g*L,t.copy(r).addScaledVector(kM,s).addScaledVector(PM,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let P1e=0;class LM extends wM{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:P1e++}),this.uuid=fd(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(o){const s=[];for(const a in o){const u=o[a];delete u.metadata,s.push(u)}return s}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class nv extends LM{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ar(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ka=new je,JI=new xn;class Pl{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Ar),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new xn),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new je),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new us),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)JI.fromBufferAttribute(this,t),JI.applyMatrix3(e),this.setXY(t,JI.x,JI.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix3(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix4(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ka.fromBufferAttribute(this,t),Ka.applyNormalMatrix(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ka.fromBufferAttribute(this,t),Ka.transformDirection(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class gee extends Pl{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class yee extends Pl{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Wr extends Pl{constructor(e,t,r){super(new Float32Array(e),t,r)}}let L1e=0;const lf=new so,VU=new zu,IM=new je,md=new CM,HR=new CM,Ll=new je;class mo extends wM{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:L1e++}),this.uuid=fd(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(nee(e)?yee:gee)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const o=(new Tc).getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return lf.makeRotationFromQuaternion(e),this.applyMatrix4(lf),this}rotateX(e){return lf.makeRotationX(e),this.applyMatrix4(lf),this}rotateY(e){return lf.makeRotationY(e),this.applyMatrix4(lf),this}rotateZ(e){return lf.makeRotationZ(e),this.applyMatrix4(lf),this}translate(e,t,r){return lf.makeTranslation(e,t,r),this.applyMatrix4(lf),this}scale(e,t,r){return lf.makeScale(e,t,r),this.applyMatrix4(lf),this}lookAt(e){return VU.lookAt(e),VU.updateMatrix(),this.applyMatrix4(VU.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(IM).negate(),this.translate(IM.x,IM.y,IM.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Wr(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new CM);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)md.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Ll.addVectors(this.boundingBox.min,md.min),this.boundingBox.expandByPoint(Ll),Ll.addVectors(this.boundingBox.max,md.max),this.boundingBox.expandByPoint(Ll)):(this.boundingBox.expandByPoint(md.min),this.boundingBox.expandByPoint(md.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new DM);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new je,1/0);if(e){const r=this.boundingSphere.center;if(md.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)HR.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(Ll.addVectors(md.min,HR.min),md.expandByPoint(Ll),Ll.addVectors(md.max,HR.max),md.expandByPoint(Ll)):(md.expandByPoint(HR.min),md.expandByPoint(HR.max));md.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Ll.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ll));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],u=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)Ll.fromBufferAttribute(a,c),u&&(IM.fromBufferAttribute(e,c),Ll.add(IM)),i=Math.max(i,r.distanceToSquared(Ll))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Pl(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],f=[];for(let Se=0;Se<a;Se++)c[Se]=new je,f[Se]=new je;const p=new je,g=new je,v=new je,w=new xn,M=new xn,C=new xn,L=new je,H=new je;function V(Se,Ie,ot){p.fromArray(i,3*Se),g.fromArray(i,3*Ie),v.fromArray(i,3*ot),w.fromArray(s,2*Se),M.fromArray(s,2*Ie),C.fromArray(s,2*ot),g.sub(p),v.sub(p),M.sub(w),C.sub(w);const at=1/(M.x*C.y-C.x*M.y);!isFinite(at)||(L.copy(g).multiplyScalar(C.y).addScaledVector(v,-M.y).multiplyScalar(at),H.copy(v).multiplyScalar(M.x).addScaledVector(g,-C.x).multiplyScalar(at),c[Se].add(L),c[Ie].add(L),c[ot].add(L),f[Se].add(H),f[Ie].add(H),f[ot].add(H))}let z=this.groups;0===z.length&&(z=[{start:0,count:r.length}]);for(let Se=0,Ie=z.length;Se<Ie;++Se){const ot=z[Se],at=ot.start;for(let vt=at,be=at+ot.count;vt<be;vt+=3)V(r[vt+0],r[vt+1],r[vt+2])}const X=new je,re=new je,me=new je,ne=new je;function pe(Se){me.fromArray(o,3*Se),ne.copy(me);const Ie=c[Se];X.copy(Ie),X.sub(me.multiplyScalar(me.dot(Ie))).normalize(),re.crossVectors(ne,Ie);const at=re.dot(f[Se])<0?-1:1;u[4*Se]=X.x,u[4*Se+1]=X.y,u[4*Se+2]=X.z,u[4*Se+3]=at}for(let Se=0,Ie=z.length;Se<Ie;++Se){const ot=z[Se],at=ot.start;for(let vt=at,be=at+ot.count;vt<be;vt+=3)pe(r[vt+0]),pe(r[vt+1]),pe(r[vt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new Pl(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let g=0,v=r.count;g<v;g++)r.setXYZ(g,0,0,0);const i=new je,o=new je,s=new je,a=new je,u=new je,c=new je,f=new je,p=new je;if(e)for(let g=0,v=e.count;g<v;g+=3){const w=e.getX(g+0),M=e.getX(g+1),C=e.getX(g+2);i.fromBufferAttribute(t,w),o.fromBufferAttribute(t,M),s.fromBufferAttribute(t,C),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),a.fromBufferAttribute(r,w),u.fromBufferAttribute(r,M),c.fromBufferAttribute(r,C),a.add(f),u.add(f),c.add(f),r.setXYZ(w,a.x,a.y,a.z),r.setXYZ(M,u.x,u.y,u.z),r.setXYZ(C,c.x,c.y,c.z)}else for(let g=0,v=t.count;g<v;g+=3)i.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),r.setXYZ(g+0,f.x,f.y,f.z),r.setXYZ(g+1,f.x,f.y,f.z),r.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(void 0===e.attributes[i])continue;const s=r[i].array,a=e.attributes[i],u=a.array,c=a.itemSize*t,f=Math.min(u.length,s.length-c);for(let p=0,g=c;p<f;p++,g++)s[g]=u[p]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ll.fromBufferAttribute(e,t),Ll.normalize(),e.setXYZ(t,Ll.x,Ll.y,Ll.z)}toNonIndexed(){function e(a,u){const c=a.array,f=a.itemSize,p=a.normalized,g=new c.constructor(u.length*f);let v=0,w=0;for(let M=0,C=u.length;M<C;M++){v=a.isInterleavedBufferAttribute?u[M]*a.data.stride+a.offset:u[M]*f;for(let L=0;L<f;L++)g[w++]=c[v++]}return new Pl(g,f,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mo,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const u=[],c=o[a];for(let f=0,p=c.length;f<p;f++){const v=e(c[f],r);u.push(v)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,u=s.length;a<u;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const c in u)void 0!==u[c]&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r)e.data.attributes[u]=r[u].toJSON(e.data);const i={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],f=[];for(let p=0,g=c.length;p<g;p++)f.push(c[p].toJSON(e.data));f.length>0&&(i[u]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const o=e.morphAttributes;for(const c in o){const f=[],p=o[c];for(let g=0,v=p.length;g<v;g++)f.push(p[g].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,f=s.length;c<f;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const vee=new so,NM=new XI,zU=new DM,rv=new je,iv=new je,ov=new je,jU=new je,UU=new je,WU=new je,QI=new je,eN=new je,tN=new je,nN=new xn,rN=new xn,iN=new xn,YU=new je,oN=new je;class Rc extends zu{constructor(e=new mo,t=new nv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),zU.copy(r.boundingSphere),zU.applyMatrix4(o),!1===e.ray.intersectsSphere(zU))||(vee.copy(o).invert(),NM.copy(e.ray).applyMatrix4(vee),null!==r.boundingBox&&!1===NM.intersectsBox(r.boundingBox)))return;let s;const a=r.index,u=r.attributes.position,c=r.morphAttributes.position,f=r.morphTargetsRelative,p=r.attributes.uv,g=r.attributes.uv2,v=r.groups,w=r.drawRange;if(null!==a)if(Array.isArray(i))for(let M=0,C=v.length;M<C;M++){const L=v[M],H=i[L.materialIndex];for(let X=Math.max(L.start,w.start),re=Math.min(a.count,Math.min(L.start+L.count,w.start+w.count));X<re;X+=3){const me=a.getX(X),ne=a.getX(X+1),pe=a.getX(X+2);s=sN(this,H,e,NM,u,c,f,p,g,me,ne,pe),s&&(s.faceIndex=Math.floor(X/3),s.face.materialIndex=L.materialIndex,t.push(s))}}else for(let L=Math.max(0,w.start),H=Math.min(a.count,w.start+w.count);L<H;L+=3){const V=a.getX(L),z=a.getX(L+1),X=a.getX(L+2);s=sN(this,i,e,NM,u,c,f,p,g,V,z,X),s&&(s.faceIndex=Math.floor(L/3),t.push(s))}else if(void 0!==u)if(Array.isArray(i))for(let M=0,C=v.length;M<C;M++){const L=v[M],H=i[L.materialIndex];for(let X=Math.max(L.start,w.start),re=Math.min(u.count,Math.min(L.start+L.count,w.start+w.count));X<re;X+=3)s=sN(this,H,e,NM,u,c,f,p,g,X,X+1,X+2),s&&(s.faceIndex=Math.floor(X/3),s.face.materialIndex=L.materialIndex,t.push(s))}else for(let L=Math.max(0,w.start),H=Math.min(u.count,w.start+w.count);L<H;L+=3)s=sN(this,i,e,NM,u,c,f,p,g,L,L+1,L+2),s&&(s.faceIndex=Math.floor(L/3),t.push(s))}}function sN(n,e,t,r,i,o,s,a,u,c,f,p){rv.fromBufferAttribute(i,c),iv.fromBufferAttribute(i,f),ov.fromBufferAttribute(i,p);const g=n.morphTargetInfluences;if(o&&g){QI.set(0,0,0),eN.set(0,0,0),tN.set(0,0,0);for(let w=0,M=o.length;w<M;w++){const C=g[w],L=o[w];0!==C&&(jU.fromBufferAttribute(L,c),UU.fromBufferAttribute(L,f),WU.fromBufferAttribute(L,p),s?(QI.addScaledVector(jU,C),eN.addScaledVector(UU,C),tN.addScaledVector(WU,C)):(QI.addScaledVector(jU.sub(rv),C),eN.addScaledVector(UU.sub(iv),C),tN.addScaledVector(WU.sub(ov),C)))}rv.add(QI),iv.add(eN),ov.add(tN)}n.isSkinnedMesh&&(n.boneTransform(c,rv),n.boneTransform(f,iv),n.boneTransform(p,ov));const v=function I1e(n,e,t,r,i,o,s,a){let u;if(u=1===e.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,2!==e.side,a),null===u)return null;oN.copy(a),oN.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(oN);return c<t.near||c>t.far?null:{distance:c,point:oN.clone(),object:n}}(n,e,t,r,rv,iv,ov,YU);if(v){a&&(nN.fromBufferAttribute(a,c),rN.fromBufferAttribute(a,f),iN.fromBufferAttribute(a,p),v.uv=sh.getUV(YU,rv,iv,ov,nN,rN,iN,new xn)),u&&(nN.fromBufferAttribute(u,c),rN.fromBufferAttribute(u,f),iN.fromBufferAttribute(u,p),v.uv2=sh.getUV(YU,rv,iv,ov,nN,rN,iN,new xn));const w={a:c,b:f,c:p,normal:new je,materialIndex:0};sh.getNormal(rv,iv,ov,w.normal),v.face=w}return v}class Vb extends mo{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],f=[],p=[];let g=0,v=0;function w(M,C,L,H,V,z,X,re,me,ne,pe){const Se=z/me,Ie=X/ne,ot=z/2,at=X/2,ze=re/2,vt=me+1,be=ne+1;let Oe=0,Ye=0;const Y=new je;for(let Q=0;Q<be;Q++){const he=Q*Ie-at;for(let ge=0;ge<vt;ge++)Y[M]=(ge*Se-ot)*H,Y[C]=he*V,Y[L]=ze,c.push(Y.x,Y.y,Y.z),Y[M]=0,Y[C]=0,Y[L]=re>0?1:-1,f.push(Y.x,Y.y,Y.z),p.push(ge/me),p.push(1-Q/ne),Oe+=1}for(let Q=0;Q<ne;Q++)for(let he=0;he<me;he++){const Me=g+he+vt*(Q+1),Xe=g+(he+1)+vt*(Q+1),Je=g+(he+1)+vt*Q;u.push(g+he+vt*Q,Me,Je),u.push(Me,Xe,Je),Ye+=6}a.addGroup(v,Ye,pe),v+=Ye,g+=Oe}w("z","y","x",-1,-1,r,t,e,s,o,0),w("z","y","x",1,-1,r,t,-e,s,o,1),w("x","z","y",1,1,e,r,t,i,s,2),w("x","z","y",1,-1,e,r,-t,i,s,3),w("x","y","z",1,-1,e,t,r,i,o,4),w("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new Wr(c,3)),this.setAttribute("normal",new Wr(f,3)),this.setAttribute("uv",new Wr(p,2))}static fromJSON(e){return new Vb(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function FM(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];e[t][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function _u(n){const e={};for(let t=0;t<n.length;t++){const r=FM(n[t]);for(const i in r)e[i]=r[i]}return e}const N1e={clone:FM,merge:_u};class sv extends LM{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=FM(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;t.uniforms[i]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class GU extends zu{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new so,this.projectionMatrix=new so,this.projectionMatrixInverse=new so}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class bu extends GU{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*PR*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Lb*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*PR*Math.atan(Math.tan(.5*Lb*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Lb*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class B1e extends zu{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const i=new bu(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new je(1,0,0)),this.add(i);const o=new bu(90,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new je(-1,0,0)),this.add(o);const s=new bu(90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new je(0,1,0)),this.add(s);const a=new bu(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new je(0,-1,0)),this.add(a);const u=new bu(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new je(0,0,1)),this.add(u);const c=new bu(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new je(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,u,c]=this.children,f=e.getRenderTarget(),p=e.toneMapping,g=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=p,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class aN extends qy{constructor(e,t,r,i,o,s,a,u,c,f){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,i,o,s,a,u,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class V1e extends Nb{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new aN([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:$a}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new Vb(5,5,5),o=new sv({name:"CubemapFromEquirect",uniforms:FM(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new Rc(i,o),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=$a),new B1e(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}const $U=new je,z1e=new je,j1e=new Tc;class zb{constructor(e=new je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=$U.subVectors(r,t).cross(z1e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta($U),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||j1e.getNormalMatrix(e),i=this.coplanarPoint($U).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const VM=new DM,lN=new je;class KU{constructor(e=new zb,t=new zb,r=new zb,i=new zb,o=new zb,s=new zb){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],f=r[6],p=r[7],g=r[8],v=r[9],w=r[10],M=r[11],C=r[12],L=r[13],H=r[14],V=r[15];return t[0].setComponents(a-i,p-u,M-g,V-C).normalize(),t[1].setComponents(a+i,p+u,M+g,V+C).normalize(),t[2].setComponents(a+o,p+c,M+v,V+L).normalize(),t[3].setComponents(a-o,p-c,M-v,V-L).normalize(),t[4].setComponents(a-s,p-f,M-w,V-H).normalize(),t[5].setComponents(a+s,p+f,M+w,V+H).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),VM.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(VM)}intersectsSprite(e){return VM.center.set(0,0,0),VM.radius=.7071067811865476,VM.applyMatrix4(e.matrixWorld),this.intersectsSphere(VM)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(lN.x=i.normal.x>0?e.max.x:e.min.x,lN.y=i.normal.y>0?e.max.y:e.min.y,lN.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(lN)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function _ee(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function U1e(n,e){const t=e.isWebGL2,r=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(n.deleteBuffer(f.buffer),r.delete(c))},update:function u(c,f){if(c.isGLBufferAttribute){const g=r.get(c);return void((!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);void 0===p?r.set(c,function i(c,f){const p=c.array,g=c.usage,v=n.createBuffer();let w;if(n.bindBuffer(f,v),n.bufferData(f,p,g),c.onUploadCallback(),p instanceof Float32Array)w=5126;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");w=5131}else w=5123;else if(p instanceof Int16Array)w=5122;else if(p instanceof Uint32Array)w=5125;else if(p instanceof Int32Array)w=5124;else if(p instanceof Int8Array)w=5120;else if(p instanceof Uint8Array)w=5121;else{if(!(p instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);w=5121}return{buffer:v,type:w,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}(c,f)):p.version<c.version&&(function o(c,f,p){const g=f.array,v=f.updateRange;n.bindBuffer(p,c),-1===v.count?n.bufferSubData(p,0,g):(t?n.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):n.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1)}(p.buffer,c,f),p.version=c.version)}}}class BR extends mo{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,f=u+1,p=e/a,g=t/u,v=[],w=[],M=[],C=[];for(let L=0;L<f;L++){const H=L*g-s;for(let V=0;V<c;V++)w.push(V*p-o,-H,0),M.push(0,0,1),C.push(V/a),C.push(1-L/u)}for(let L=0;L<u;L++)for(let H=0;H<a;H++){const z=H+c*(L+1),X=H+1+c*(L+1),re=H+1+c*L;v.push(H+c*L,z,re),v.push(z,X,re)}this.setIndex(v),this.setAttribute("position",new Wr(w,3)),this.setAttribute("normal",new Wr(M,3)),this.setAttribute("uv",new Wr(C,2))}static fromJSON(e){return new BR(e.width,e.height,e.widthSegments,e.heightSegments)}}const So={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\nconst mat3 XYZ_TO_REC709 = mat3(\n    3.2404542, -0.9692660,  0.0556434,\n   -1.5371385,  1.8760108, -0.2040259,\n   -0.4985314,  0.0415560,  1.0572252\n);\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n   vec3 sqrtF0 = sqrt( fresnel0 );\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n}\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n}\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n}\nvec3 evalSensitivity( float OPD, vec3 shift ) {\n   float phase = 2.0 * PI * OPD * 1.0e-9;\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\n   xyz /= 1.0685e-7;\n   vec3 srgb = XYZ_TO_REC709 * xyz;\n   return srgb;\n}\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n   vec3 I;\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\n   if ( cosTheta2Sq < 0.0 ) {\n       return vec3( 1.0 );\n   }\n   float cosTheta2 = sqrt( cosTheta2Sq );\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n   float R21 = R12;\n   float T121 = 1.0 - R12;\n   float phi12 = 0.0;\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n   float phi21 = PI - phi12;\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n   vec3 phi23 = vec3( 0.0 );\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n   vec3 phi = vec3( phi21 ) + phi23;\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n   vec3 r123 = sqrt( R123 );\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n   vec3 C0 = R12 + Rs;\n   I = C0;\n   vec3 Cm = Rs - T121;\n   for ( int m = 1; m <= 2; ++m ) {\n       Cm *= r123;\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n       I += Cm * Sm;\n   }\n   return max( I, vec3( 0.0 ) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\nif ( material.iridescenceThickness == 0.0 ) {\n\tmaterial.iridescence = 0.0;\n} else {\n\tmaterial.iridescence = saturate( material.iridescence );\n}\nif ( material.iridescence > 0.0 ) {\n\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},gr={common:{diffuse:{value:new Ar(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Tc},uv2Transform:{value:new Tc},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new xn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ar(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ar(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tc}},sprite:{diffuse:{value:new Ar(16777215)},opacity:{value:1},center:{value:new xn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Tc}}},sp={basic:{uniforms:_u([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.fog]),vertexShader:So.meshbasic_vert,fragmentShader:So.meshbasic_frag},lambert:{uniforms:_u([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.fog,gr.lights,{emissive:{value:new Ar(0)}}]),vertexShader:So.meshlambert_vert,fragmentShader:So.meshlambert_frag},phong:{uniforms:_u([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.fog,gr.lights,{emissive:{value:new Ar(0)},specular:{value:new Ar(1118481)},shininess:{value:30}}]),vertexShader:So.meshphong_vert,fragmentShader:So.meshphong_frag},standard:{uniforms:_u([gr.common,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.roughnessmap,gr.metalnessmap,gr.fog,gr.lights,{emissive:{value:new Ar(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:So.meshphysical_vert,fragmentShader:So.meshphysical_frag},toon:{uniforms:_u([gr.common,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.gradientmap,gr.fog,gr.lights,{emissive:{value:new Ar(0)}}]),vertexShader:So.meshtoon_vert,fragmentShader:So.meshtoon_frag},matcap:{uniforms:_u([gr.common,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.fog,{matcap:{value:null}}]),vertexShader:So.meshmatcap_vert,fragmentShader:So.meshmatcap_frag},points:{uniforms:_u([gr.points,gr.fog]),vertexShader:So.points_vert,fragmentShader:So.points_frag},dashed:{uniforms:_u([gr.common,gr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:So.linedashed_vert,fragmentShader:So.linedashed_frag},depth:{uniforms:_u([gr.common,gr.displacementmap]),vertexShader:So.depth_vert,fragmentShader:So.depth_frag},normal:{uniforms:_u([gr.common,gr.bumpmap,gr.normalmap,gr.displacementmap,{opacity:{value:1}}]),vertexShader:So.meshnormal_vert,fragmentShader:So.meshnormal_frag},sprite:{uniforms:_u([gr.sprite,gr.fog]),vertexShader:So.sprite_vert,fragmentShader:So.sprite_frag},background:{uniforms:{uvTransform:{value:new Tc},t2D:{value:null}},vertexShader:So.background_vert,fragmentShader:So.background_frag},cube:{uniforms:_u([gr.envmap,{opacity:{value:1}}]),vertexShader:So.cube_vert,fragmentShader:So.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:So.equirect_vert,fragmentShader:So.equirect_frag},distanceRGBA:{uniforms:_u([gr.common,gr.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:So.distanceRGBA_vert,fragmentShader:So.distanceRGBA_frag},shadow:{uniforms:_u([gr.lights,gr.fog,{color:{value:new Ar(0)},opacity:{value:1}}]),vertexShader:So.shadow_vert,fragmentShader:So.shadow_frag}};function zDe(n,e,t,r,i,o){const s=new Ar(0);let u,c,a=!0===i?0:1,f=null,p=0,g=null;function w(M,C){t.buffers.color.setClear(M.r,M.g,M.b,C,o)}return{getClearColor:function(){return s},setClearColor:function(M,C=1){s.set(M),a=C,w(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(M){a=M,w(s,a)},render:function v(M,C){let L=!1,H=!0===C.isScene?C.background:null;H&&H.isTexture&&(H=e.get(H));const V=n.xr,z=V.getSession&&V.getSession();z&&"additive"===z.environmentBlendMode&&(H=null),null===H?w(s,a):H&&H.isColor&&(w(H,1),L=!0),(n.autoClear||L)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),H&&(H.isCubeTexture||306===H.mapping)?(void 0===c&&(c=new Rc(new Vb(1,1,1),new sv({name:"BackgroundCubeMaterial",uniforms:FM(sp.cube.uniforms),vertexShader:sp.cube.vertexShader,fragmentShader:sp.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(X,re,me){this.matrixWorld.copyPosition(me.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=H,c.material.uniforms.flipEnvMap.value=H.isCubeTexture&&!1===H.isRenderTargetTexture?-1:1,(f!==H||p!==H.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,f=H,p=H.version,g=n.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null)):H&&H.isTexture&&(void 0===u&&(u=new Rc(new BR(2,2),new sv({name:"BackgroundMaterial",uniforms:FM(sp.background.uniforms),vertexShader:sp.background.vertexShader,fragmentShader:sp.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=H,!0===H.matrixAutoUpdate&&H.updateMatrix(),u.material.uniforms.uvTransform.value.copy(H.matrix),(f!==H||p!==H.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,f=H,p=H.version,g=n.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}}}function jDe(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},u=C(null);let c=u,f=!1;function v(ze){return r.isWebGL2?n.bindVertexArray(ze):o.bindVertexArrayOES(ze)}function w(ze){return r.isWebGL2?n.deleteVertexArray(ze):o.deleteVertexArrayOES(ze)}function C(ze){const vt=[],be=[],Oe=[];for(let Ye=0;Ye<i;Ye++)vt[Ye]=0,be[Ye]=0,Oe[Ye]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:vt,enabledAttributes:be,attributeDivisors:Oe,object:ze,attributes:{},index:null}}function V(){const ze=c.newAttributes;for(let vt=0,be=ze.length;vt<be;vt++)ze[vt]=0}function z(ze){X(ze,0)}function X(ze,vt){const Oe=c.enabledAttributes,Ye=c.attributeDivisors;c.newAttributes[ze]=1,0===Oe[ze]&&(n.enableVertexAttribArray(ze),Oe[ze]=1),Ye[ze]!==vt&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ze,vt),Ye[ze]=vt)}function re(){const ze=c.newAttributes,vt=c.enabledAttributes;for(let be=0,Oe=vt.length;be<Oe;be++)vt[be]!==ze[be]&&(n.disableVertexAttribArray(be),vt[be]=0)}function me(ze,vt,be,Oe,Ye,Y){!0!==r.isWebGL2||5124!==be&&5125!==be?n.vertexAttribPointer(ze,vt,be,Oe,Ye,Y):n.vertexAttribIPointer(ze,vt,be,Ye,Y)}function ot(){at(),f=!0,c!==u&&(c=u,v(c.object))}function at(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function p(ze,vt,be,Oe,Ye){let Y=!1;if(s){const Q=function M(ze,vt,be){const Oe=!0===be.wireframe;let Ye=a[ze.id];void 0===Ye&&(Ye={},a[ze.id]=Ye);let Y=Ye[vt.id];void 0===Y&&(Y={},Ye[vt.id]=Y);let Q=Y[Oe];return void 0===Q&&(Q=C(function g(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),Y[Oe]=Q),Q}(Oe,be,vt);c!==Q&&(c=Q,v(c.object)),Y=function L(ze,vt,be,Oe){const Ye=c.attributes,Y=vt.attributes;let Q=0;const he=be.getAttributes();for(const ge in he)if(he[ge].location>=0){const Xe=Ye[ge];let Je=Y[ge];if(void 0===Je&&("instanceMatrix"===ge&&ze.instanceMatrix&&(Je=ze.instanceMatrix),"instanceColor"===ge&&ze.instanceColor&&(Je=ze.instanceColor)),void 0===Xe||Xe.attribute!==Je||Je&&Xe.data!==Je.data)return!0;Q++}return c.attributesNum!==Q||c.index!==Oe}(ze,Oe,be,Ye),Y&&function H(ze,vt,be,Oe){const Ye={},Y=vt.attributes;let Q=0;const he=be.getAttributes();for(const ge in he)if(he[ge].location>=0){let Xe=Y[ge];void 0===Xe&&("instanceMatrix"===ge&&ze.instanceMatrix&&(Xe=ze.instanceMatrix),"instanceColor"===ge&&ze.instanceColor&&(Xe=ze.instanceColor));const Je={};Je.attribute=Xe,Xe&&Xe.data&&(Je.data=Xe.data),Ye[ge]=Je,Q++}c.attributes=Ye,c.attributesNum=Q,c.index=Oe}(ze,Oe,be,Ye)}else{const Q=!0===vt.wireframe;(c.geometry!==Oe.id||c.program!==be.id||c.wireframe!==Q)&&(c.geometry=Oe.id,c.program=be.id,c.wireframe=Q,Y=!0)}null!==Ye&&t.update(Ye,34963),(Y||f)&&(f=!1,function ne(ze,vt,be,Oe){if(!1===r.isWebGL2&&(ze.isInstancedMesh||Oe.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;V();const Ye=Oe.attributes,Y=be.getAttributes(),Q=vt.defaultAttributeValues;for(const he in Y){const ge=Y[he];if(ge.location>=0){let Me=Ye[he];if(void 0===Me&&("instanceMatrix"===he&&ze.instanceMatrix&&(Me=ze.instanceMatrix),"instanceColor"===he&&ze.instanceColor&&(Me=ze.instanceColor)),void 0!==Me){const Xe=Me.normalized,Je=Me.itemSize,tt=t.get(Me);if(void 0===tt)continue;const Rt=tt.buffer,Wt=tt.type,Nt=tt.bytesPerElement;if(Me.isInterleavedBufferAttribute){const bt=Me.data,en=bt.stride,mt=Me.offset;if(bt.isInstancedInterleavedBuffer){for(let Tt=0;Tt<ge.locationSize;Tt++)X(ge.location+Tt,bt.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===Oe._maxInstanceCount&&(Oe._maxInstanceCount=bt.meshPerAttribute*bt.count)}else for(let Tt=0;Tt<ge.locationSize;Tt++)z(ge.location+Tt);n.bindBuffer(34962,Rt);for(let Tt=0;Tt<ge.locationSize;Tt++)me(ge.location+Tt,Je/ge.locationSize,Wt,Xe,en*Nt,(mt+Je/ge.locationSize*Tt)*Nt)}else{if(Me.isInstancedBufferAttribute){for(let bt=0;bt<ge.locationSize;bt++)X(ge.location+bt,Me.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===Oe._maxInstanceCount&&(Oe._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let bt=0;bt<ge.locationSize;bt++)z(ge.location+bt);n.bindBuffer(34962,Rt);for(let bt=0;bt<ge.locationSize;bt++)me(ge.location+bt,Je/ge.locationSize,Wt,Xe,Je*Nt,Je/ge.locationSize*bt*Nt)}}else if(void 0!==Q){const Xe=Q[he];if(void 0!==Xe)switch(Xe.length){case 2:n.vertexAttrib2fv(ge.location,Xe);break;case 3:n.vertexAttrib3fv(ge.location,Xe);break;case 4:n.vertexAttrib4fv(ge.location,Xe);break;default:n.vertexAttrib1fv(ge.location,Xe)}}}}re()}(ze,vt,be,Oe),null!==Ye&&n.bindBuffer(34963,t.get(Ye).buffer))},reset:ot,resetDefaultState:at,dispose:function pe(){ot();for(const ze in a){const vt=a[ze];for(const be in vt){const Oe=vt[be];for(const Ye in Oe)w(Oe[Ye].object),delete Oe[Ye];delete vt[be]}delete a[ze]}},releaseStatesOfGeometry:function Se(ze){if(void 0===a[ze.id])return;const vt=a[ze.id];for(const be in vt){const Oe=vt[be];for(const Ye in Oe)w(Oe[Ye].object),delete Oe[Ye];delete vt[be]}delete a[ze.id]},releaseStatesOfProgram:function Ie(ze){for(const vt in a){const be=a[vt];if(void 0===be[ze.id])continue;const Oe=be[ze.id];for(const Ye in Oe)w(Oe[Ye].object),delete Oe[Ye];delete be[ze.id]}},initAttributes:V,enableAttribute:z,disableUnusedAttributes:re}}function UDe(n,e,t,r){const i=r.isWebGL2;let o;this.setMode=function s(c){o=c},this.render=function a(c,f){n.drawArrays(o,c,f),t.update(f,o,1)},this.renderInstances=function u(c,f,p){if(0===p)return;let g,v;if(i)g=n,v="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",null===g)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[v](o,c,f,p),t.update(f,o,p)}}function WDe(n,e,t){let r;function o(me){if("highp"===me){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";me="mediump"}return"mediump"===me&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const u=o(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=s||e.has("WEBGL_draw_buffers"),f=!0===t.logarithmicDepthBuffer,p=n.getParameter(34930),g=n.getParameter(35660),v=n.getParameter(3379),w=n.getParameter(34076),M=n.getParameter(34921),C=n.getParameter(36347),L=n.getParameter(36348),H=n.getParameter(36349),V=g>0,z=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function i(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const me=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(me.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:w,maxAttributes:M,maxVertexUniforms:C,maxVaryings:L,maxFragmentUniforms:H,vertexTextures:V,floatFragmentTextures:z,floatVertexTextures:V&&z,maxSamples:s?n.getParameter(36183):0}}function YDe(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new zb,a=new Tc,u={value:null,needsUpdate:!1};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(p,g,v,w){const M=null!==p?p.length:0;let C=null;if(0!==M){if(C=u.value,!0!==w||null===C){const L=v+4*M,H=g.matrixWorldInverse;a.getNormalMatrix(H),(null===C||C.length<L)&&(C=new Float32Array(L));for(let V=0,z=v;V!==M;++V,z+=4)s.copy(p[V]).applyMatrix4(H,a),s.normal.toArray(C,z),C[z+3]=s.constant}u.value=C,u.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,C}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g,v){const w=0!==p.length||g||0!==r||i;return i=g,t=f(p,v,0),r=p.length,w},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1,c()},this.setState=function(p,g,v){const w=p.clippingPlanes,M=p.clipIntersection,C=p.clipShadows,L=n.get(p);if(!i||null===w||0===w.length||o&&!C)o?f(null):c();else{const H=o?0:r,V=4*H;let z=L.clippingState||null;u.value=z,z=f(w,g,V,v);for(let X=0;X!==V;++X)z[X]=t[X];L.clippingState=z,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=H}}}function GDe(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const u=e.get(a);void 0!==u&&(e.delete(a),u.dispose())}return{get:function r(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const u=s.image;if(u&&u.height>0){const c=new V1e(u.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}return null}}}return s},dispose:function o(){e=new WeakMap}}}sp.physical={uniforms:_u([sp.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new xn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ar(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new xn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ar(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ar(1,1,1)},specularColorMap:{value:null}}]),vertexShader:So.meshphysical_vert,fragmentShader:So.meshphysical_frag};class uN extends GU{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,u=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=f*this.view.offsetY,u=a-f*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const bee=[.125,.215,.35,.446,.526,.582],XU=new uN,wee=new Ar;let ZU=null;const Ub=(1+Math.sqrt(5))/2,jM=1/Ub,See=[new je(1,1,1),new je(-1,1,1),new je(1,1,-1),new je(-1,1,-1),new je(0,Ub,jM),new je(0,Ub,-jM),new je(jM,0,Ub),new je(-jM,0,Ub),new je(Ub,jM,0),new je(-Ub,jM,0)];class Mee{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){ZU=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Eee(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Cee(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ZU),e.scissorTest=!1,cN(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),ZU=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:$a,minFilter:$a,generateMipmaps:!1,type:kR,format:th,encoding:kb,depthBuffer:!1},i=xee(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=xee(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function $De(n){const e=[],t=[],r=[];let i=n;const o=n-4+1+bee.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let u=1/a;s>n-4?u=bee[s-n+4-1]:0===s&&(u=0),r.push(u);const c=1/(a-2),f=-c,p=1+c,g=[f,f,p,f,p,p,f,f,p,p,f,p],v=6,w=6,M=3,C=2,L=1,H=new Float32Array(M*w*v),V=new Float32Array(C*w*v),z=new Float32Array(L*w*v);for(let re=0;re<v;re++){const me=re%3*2/3-1,ne=re>2?0:-1;H.set([me,ne,0,me+2/3,ne,0,me+2/3,ne+1,0,me,ne,0,me+2/3,ne+1,0,me,ne+1,0],M*w*re),V.set(g,C*w*re),z.set([re,re,re,re,re,re],L*w*re)}const X=new mo;X.setAttribute("position",new Pl(H,M)),X.setAttribute("uv",new Pl(V,C)),X.setAttribute("faceIndex",new Pl(z,L)),e.push(X),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(o)),this._blurMaterial=function KDe(n,e,t){const r=new Float32Array(20),i=new je(0,1,0);return new sv({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,e,t)}return i}_compileMaterial(e){const t=new Rc(this._lodPlanes[0],e);this._renderer.compile(t,XU)}_sceneToCubeUV(e,t,r,i){const a=new bu(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,g=f.toneMapping;f.getClearColor(wee),f.toneMapping=0,f.autoClear=!1;const v=new nv({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),w=new Rc(new Vb,v);let M=!1;const C=e.background;C?C.isColor&&(v.color.copy(C),e.background=null,M=!0):(v.color.copy(wee),M=!0);for(let L=0;L<6;L++){const H=L%3;0===H?(a.up.set(0,u[L],0),a.lookAt(c[L],0,0)):1===H?(a.up.set(0,0,u[L]),a.lookAt(0,c[L],0)):(a.up.set(0,u[L],0),a.lookAt(0,0,c[L]));const V=this._cubeSize;cN(i,H*V,L>2?V:0,V,V),f.setRenderTarget(i),M&&f.render(w,a),f.render(e,a)}w.geometry.dispose(),w.material.dispose(),f.toneMapping=g,f.autoClear=p,e.background=C}_textureToCubeUV(e,t){const r=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Eee()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Cee());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Rc(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const u=this._cubeSize;cN(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,XU)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,o,See[(i-1)%See.length])}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const u=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new Rc(this._lodPlanes[i],c),g=c.uniforms,v=this._sizeLods[r]-1,w=isFinite(o)?Math.PI/(2*v):2*Math.PI/39,M=o/w,C=isFinite(o)?1+Math.floor(3*M):20;C>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${C} samples when the maximum is set to 20`);const L=[];let H=0;for(let me=0;me<20;++me){const ne=me/M,pe=Math.exp(-ne*ne/2);L.push(pe),0===me?H+=pe:me<C&&(H+=2*pe)}for(let me=0;me<L.length;me++)L[me]=L[me]/H;g.envMap.value=e.texture,g.samples.value=C,g.weights.value=L,g.latitudinal.value="latitudinal"===s,a&&(g.poleAxis.value=a);const{_lodMax:V}=this;g.dTheta.value=w,g.mipInt.value=V-r;const z=this._sizeLods[i];cN(t,3*z*(i>V-4?i-V+4:0),4*(this._cubeSize-z),3*z,2*z),u.setRenderTarget(t),u.render(p,XU)}}function xee(n,e,t){const r=new Nb(n,e,t);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cN(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Cee(){return new sv({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Eee(){return new sv({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function XDe(n){let e=new WeakMap,t=null;function o(a){const u=a.target;u.removeEventListener("dispose",o);const c=e.get(u);void 0!==c&&(e.delete(u),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const u=a.mapping,c=303===u||304===u,f=301===u||302===u;if(c||f){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let p=e.get(a);return null===t&&(t=new Mee(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||f&&p&&function i(a){let u=0;for(let f=0;f<6;f++)void 0!==a[f]&&u++;return 6===u}(p)){null===t&&(t=new Mee(n));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",o),g.texture}return null}}}return a},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function ZDe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return null===i&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function qDe(n,e,t,r){const i={},o=new WeakMap;function s(p){const g=p.target;null!==g.index&&e.remove(g.index);for(const w in g.attributes)e.remove(g.attributes[w]);g.removeEventListener("dispose",s),delete i[g.id];const v=o.get(g);v&&(e.remove(v),o.delete(g)),r.releaseStatesOfGeometry(g),!0===g.isInstancedBufferGeometry&&delete g._maxInstanceCount,t.memory.geometries--}function c(p){const g=[],v=p.index,w=p.attributes.position;let M=0;if(null!==v){const H=v.array;M=v.version;for(let V=0,z=H.length;V<z;V+=3){const X=H[V+0],re=H[V+1],me=H[V+2];g.push(X,re,re,me,me,X)}}else{M=w.version;for(let V=0,z=w.array.length/3-1;V<z;V+=3){const X=V+0,re=V+1,me=V+2;g.push(X,re,re,me,me,X)}}const C=new(nee(g)?yee:gee)(g,1);C.version=M;const L=o.get(p);L&&e.remove(L),o.set(p,C)}return{get:function a(p,g){return!0===i[g.id]||(g.addEventListener("dispose",s),i[g.id]=!0,t.memory.geometries++),g},update:function u(p){const g=p.attributes;for(const w in g)e.update(g[w],34962);const v=p.morphAttributes;for(const w in v){const M=v[w];for(let C=0,L=M.length;C<L;C++)e.update(M[C],34962)}},getWireframeAttribute:function f(p){const g=o.get(p);if(g){const v=p.index;null!==v&&g.version<v.version&&c(p)}else c(p);return o.get(p)}}}function JDe(n,e,t,r){const i=r.isWebGL2;let o,a,u;this.setMode=function s(g){o=g},this.setIndex=function c(g){a=g.type,u=g.bytesPerElement},this.render=function f(g,v){n.drawElements(o,v,a,g*u),t.update(v,o,1)},this.renderInstances=function p(g,v,w){if(0===w)return;let M,C;if(i)M=n,C="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",null===M)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");M[C](o,v,a,g*u,w),t.update(v,o,w)}}function QDe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function eAe(n,e){return n[0]-e[0]}function tAe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function JU(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function nAe(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new us,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function u(c,f,p,g){const v=c.morphTargetInfluences;if(!0===e.isWebGL2){const w=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,M=void 0!==w?w.length:0;let C=o.get(f);if(void 0===C||C.count!==M){let vt=function(){at.dispose(),o.delete(f),f.removeEventListener("dispose",vt)};void 0!==C&&C.texture.dispose();const V=void 0!==f.morphAttributes.position,z=void 0!==f.morphAttributes.normal,X=void 0!==f.morphAttributes.color,re=f.morphAttributes.position||[],me=f.morphAttributes.normal||[],ne=f.morphAttributes.color||[];let pe=0;!0===V&&(pe=1),!0===z&&(pe=2),!0===X&&(pe=3);let Se=f.attributes.position.count*pe,Ie=1;Se>e.maxTextureSize&&(Ie=Math.ceil(Se/e.maxTextureSize),Se=e.maxTextureSize);const ot=new Float32Array(Se*Ie*4*M),at=new TU(ot,Se,Ie,M);at.type=Zy,at.needsUpdate=!0;const ze=4*pe;for(let be=0;be<M;be++){const Oe=re[be],Ye=me[be],Y=ne[be],Q=Se*Ie*4*be;for(let he=0;he<Oe.count;he++){const ge=he*ze;!0===V&&(s.fromBufferAttribute(Oe,he),!0===Oe.normalized&&JU(s,Oe),ot[Q+ge+0]=s.x,ot[Q+ge+1]=s.y,ot[Q+ge+2]=s.z,ot[Q+ge+3]=0),!0===z&&(s.fromBufferAttribute(Ye,he),!0===Ye.normalized&&JU(s,Ye),ot[Q+ge+4]=s.x,ot[Q+ge+5]=s.y,ot[Q+ge+6]=s.z,ot[Q+ge+7]=0),!0===X&&(s.fromBufferAttribute(Y,he),!0===Y.normalized&&JU(s,Y),ot[Q+ge+8]=s.x,ot[Q+ge+9]=s.y,ot[Q+ge+10]=s.z,ot[Q+ge+11]=4===Y.itemSize?s.w:1)}}C={count:M,texture:at,size:new xn(Se,Ie)},o.set(f,C),f.addEventListener("dispose",vt)}let L=0;for(let V=0;V<v.length;V++)L+=v[V];const H=f.morphTargetsRelative?1:1-L;g.getUniforms().setValue(n,"morphTargetBaseInfluence",H),g.getUniforms().setValue(n,"morphTargetInfluences",v),g.getUniforms().setValue(n,"morphTargetsTexture",C.texture,t),g.getUniforms().setValue(n,"morphTargetsTextureSize",C.size)}else{const w=void 0===v?0:v.length;let M=r[f.id];if(void 0===M||M.length!==w){M=[];for(let z=0;z<w;z++)M[z]=[z,0];r[f.id]=M}for(let z=0;z<w;z++){const X=M[z];X[0]=z,X[1]=v[z]}M.sort(tAe);for(let z=0;z<8;z++)z<w&&M[z][1]?(a[z][0]=M[z][0],a[z][1]=M[z][1]):(a[z][0]=Number.MAX_SAFE_INTEGER,a[z][1]=0);a.sort(eAe);const C=f.morphAttributes.position,L=f.morphAttributes.normal;let H=0;for(let z=0;z<8;z++){const X=a[z],re=X[0],me=X[1];re!==Number.MAX_SAFE_INTEGER&&me?(C&&f.getAttribute("morphTarget"+z)!==C[re]&&f.setAttribute("morphTarget"+z,C[re]),L&&f.getAttribute("morphNormal"+z)!==L[re]&&f.setAttribute("morphNormal"+z,L[re]),i[z]=me,H+=me):(C&&!0===f.hasAttribute("morphTarget"+z)&&f.deleteAttribute("morphTarget"+z),L&&!0===f.hasAttribute("morphNormal"+z)&&f.deleteAttribute("morphNormal"+z),i[z]=0)}const V=f.morphTargetsRelative?1:1-H;g.getUniforms().setValue(n,"morphTargetBaseInfluence",V),g.getUniforms().setValue(n,"morphTargetInfluences",i)}}}}function rAe(n,e,t,r){let i=new WeakMap;function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function o(u){const c=r.render.frame,p=e.get(u,u.geometry);return i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",a)&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),null!==u.instanceColor&&t.update(u.instanceColor,34962)),p},dispose:function s(){i=new WeakMap}}}const Tee=new qy,Ree=new TU,Dee=new oee,Aee=new aN,Oee=[],kee=[],Pee=new Float32Array(16),Lee=new Float32Array(9),Iee=new Float32Array(4);function UM(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=Oee[i];if(void 0===o&&(o=new Float32Array(i),Oee[i]=o),0!==e){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function ju(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Uu(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function dN(n,e){let t=kee[e];void 0===t&&(t=new Int32Array(e),kee[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function iAe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function oAe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ju(t,e))return;n.uniform2fv(this.addr,e),Uu(t,e)}}function sAe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ju(t,e))return;n.uniform3fv(this.addr,e),Uu(t,e)}}function aAe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ju(t,e))return;n.uniform4fv(this.addr,e),Uu(t,e)}}function lAe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ju(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Uu(t,e)}else{if(ju(t,r))return;Iee.set(r),n.uniformMatrix2fv(this.addr,!1,Iee),Uu(t,r)}}function uAe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ju(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Uu(t,e)}else{if(ju(t,r))return;Lee.set(r),n.uniformMatrix3fv(this.addr,!1,Lee),Uu(t,r)}}function cAe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ju(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Uu(t,e)}else{if(ju(t,r))return;Pee.set(r),n.uniformMatrix4fv(this.addr,!1,Pee),Uu(t,r)}}function dAe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function fAe(n,e){const t=this.cache;ju(t,e)||(n.uniform2iv(this.addr,e),Uu(t,e))}function hAe(n,e){const t=this.cache;ju(t,e)||(n.uniform3iv(this.addr,e),Uu(t,e))}function pAe(n,e){const t=this.cache;ju(t,e)||(n.uniform4iv(this.addr,e),Uu(t,e))}function mAe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function gAe(n,e){const t=this.cache;ju(t,e)||(n.uniform2uiv(this.addr,e),Uu(t,e))}function yAe(n,e){const t=this.cache;ju(t,e)||(n.uniform3uiv(this.addr,e),Uu(t,e))}function vAe(n,e){const t=this.cache;ju(t,e)||(n.uniform4uiv(this.addr,e),Uu(t,e))}function _Ae(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Tee,i)}function bAe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Dee,i)}function wAe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Aee,i)}function SAe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Ree,i)}function xAe(n,e){n.uniform1fv(this.addr,e)}function CAe(n,e){const t=UM(e,this.size,2);n.uniform2fv(this.addr,t)}function EAe(n,e){const t=UM(e,this.size,3);n.uniform3fv(this.addr,t)}function TAe(n,e){const t=UM(e,this.size,4);n.uniform4fv(this.addr,t)}function RAe(n,e){const t=UM(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function DAe(n,e){const t=UM(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function AAe(n,e){const t=UM(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function OAe(n,e){n.uniform1iv(this.addr,e)}function kAe(n,e){n.uniform2iv(this.addr,e)}function PAe(n,e){n.uniform3iv(this.addr,e)}function LAe(n,e){n.uniform4iv(this.addr,e)}function IAe(n,e){n.uniform1uiv(this.addr,e)}function NAe(n,e){n.uniform2uiv(this.addr,e)}function FAe(n,e){n.uniform3uiv(this.addr,e)}function HAe(n,e){n.uniform4uiv(this.addr,e)}function BAe(n,e,t){const r=e.length,i=dN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Tee,i[o])}function VAe(n,e,t){const r=e.length,i=dN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Dee,i[o])}function zAe(n,e,t){const r=e.length,i=dN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Aee,i[o])}function jAe(n,e,t){const r=e.length,i=dN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Ree,i[o])}class WAe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function MAe(n){switch(n){case 5126:return iAe;case 35664:return oAe;case 35665:return sAe;case 35666:return aAe;case 35674:return lAe;case 35675:return uAe;case 35676:return cAe;case 5124:case 35670:return dAe;case 35667:case 35671:return fAe;case 35668:case 35672:return hAe;case 35669:case 35673:return pAe;case 5125:return mAe;case 36294:return gAe;case 36295:return yAe;case 36296:return vAe;case 35678:case 36198:case 36298:case 36306:case 35682:return _Ae;case 35679:case 36299:case 36307:return bAe;case 35680:case 36300:case 36308:case 36293:return wAe;case 36289:case 36303:case 36311:case 36292:return SAe}}(t.type)}}class YAe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function UAe(n){switch(n){case 5126:return xAe;case 35664:return CAe;case 35665:return EAe;case 35666:return TAe;case 35674:return RAe;case 35675:return DAe;case 35676:return AAe;case 5124:case 35670:return OAe;case 35667:case 35671:return kAe;case 35668:case 35672:return PAe;case 35669:case 35673:return LAe;case 5125:return IAe;case 36294:return NAe;case 36295:return FAe;case 36296:return HAe;case 35678:case 36198:case 36298:case 36306:case 35682:return BAe;case 35679:case 36299:case 36307:return VAe;case 35680:case 36300:case 36308:case 36293:return zAe;case 36289:case 36303:case 36311:case 36292:return jAe}}(t.type)}}class GAe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const QU=/(\w+)(\])?(\[|\.)?/g;function Nee(n,e){n.seq.push(e),n.map[e.id]=e}function $Ae(n,e,t){const r=n.name,i=r.length;for(QU.lastIndex=0;;){const o=QU.exec(r),s=QU.lastIndex;let a=o[1];const c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===i){Nee(t,void 0===c?new WAe(a,n,e):new YAe(a,n,e));break}{let p=t.map[a];void 0===p&&(p=new GAe(a),Nee(t,p)),t=p}}}class fN{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i);$Ae(o,e.getUniformLocation(t,o.name),this)}}setValue(e,t,r,i){const o=this.map[t];void 0!==o&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],u=r[a.id];!1!==u.needsUpdate&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Fee(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let KAe=0;function Hee(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function XAe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join("\n")}(n.getShaderSource(e),s)}return i}function qAe(n,e){const t=function ZAe(n){switch(n){case kb:return["Linear","( value )"];case ma:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function JAe(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function VR(n){return""!==n}function Bee(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Vee(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nOe=/^[ \t]*#include +<([\w\d./]+)>/gm;function eW(n){return n.replace(nOe,rOe)}function rOe(n,e){const t=So[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return eW(t)}const iOe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,oOe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zee(n){return n.replace(oOe,jee).replace(iOe,sOe)}function sOe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),jee(0,e,t,r)}function jee(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Uee(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function fOe(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const u=function aOe(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function lOe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),f=function uOe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),p=function cOe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),g=function dOe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),v=t.isWebGL2?"":function QAe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(VR).join("\n")}(t),w=function eOe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(o),M=i.createProgram();let C,L,H=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(C=[w].filter(VR).join("\n"),C.length>0&&(C+="\n"),L=[v,w].filter(VR).join("\n"),L.length>0&&(L+="\n")):(C=[Uee(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(VR).join("\n"),L=[v,Uee(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?So.tonemapping_pars_fragment:"",0!==t.toneMapping?JAe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",So.encodings_pars_fragment,qAe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(VR).join("\n")),s=eW(s),s=Bee(s,t),s=Vee(s,t),a=eW(a),a=Bee(a,t),a=Vee(a,t),s=zee(s),a=zee(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(H="#version 300 es\n",C=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+C,L=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+L);const z=H+L+a,X=Fee(i,35633,H+C+s),re=Fee(i,35632,z);if(i.attachShader(M,X),i.attachShader(M,re),void 0!==t.index0AttributeName?i.bindAttribLocation(M,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(M,0,"position"),i.linkProgram(M),n.debug.checkShaderErrors){const pe=i.getProgramInfoLog(M).trim(),Se=i.getShaderInfoLog(X).trim(),Ie=i.getShaderInfoLog(re).trim();let ot=!0,at=!0;if(!1===i.getProgramParameter(M,35714)){ot=!1;const ze=Hee(i,X,"vertex"),vt=Hee(i,re,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(M,35715)+"\n\nProgram Info Log: "+pe+"\n"+ze+"\n"+vt)}else""!==pe?console.warn("THREE.WebGLProgram: Program Info Log:",pe):(""===Se||""===Ie)&&(at=!1);at&&(this.diagnostics={runnable:ot,programLog:pe,vertexShader:{log:Se,prefix:C},fragmentShader:{log:Ie,prefix:L}})}let me,ne;return i.deleteShader(X),i.deleteShader(re),this.getUniforms=function(){return void 0===me&&(me=new fN(i,M)),me},this.getAttributes=function(){return void 0===ne&&(ne=function tOe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(i,M)),ne},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(M),this.program=void 0},this.name=t.shaderName,this.id=KAe++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=X,this.fragmentShader=re,this}let hOe=0;class pOe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const r=new mOe(e);t.set(e,r)}return t.get(e)}}class mOe{constructor(e){this.id=hOe++,this.code=e,this.usedTimes=0}}function gOe(n,e,t,r,i,o,s){const a=new IU,u=new pOe,c=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let v=i.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function M(ne,pe,Se,Ie,ot){const at=Ie.fog,ze=ot.geometry,be=(ne.isMeshStandardMaterial?t:e).get(ne.envMap||(ne.isMeshStandardMaterial?Ie.environment:null)),Oe=be&&306===be.mapping?be.image.height:null,Ye=w[ne.type];null!==ne.precision&&(v=i.getMaxPrecision(ne.precision),v!==ne.precision&&console.warn("THREE.WebGLProgram.getParameters:",ne.precision,"not supported, using",v,"instead."));const Y=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,Q=void 0!==Y?Y.length:0;let ge,Me,Xe,Je,he=0;if(void 0!==ze.morphAttributes.position&&(he=1),void 0!==ze.morphAttributes.normal&&(he=2),void 0!==ze.morphAttributes.color&&(he=3),Ye){const en=sp[Ye];ge=en.vertexShader,Me=en.fragmentShader}else ge=ne.vertexShader,Me=ne.fragmentShader,u.update(ne),Xe=u.getVertexShaderID(ne),Je=u.getFragmentShaderID(ne);const tt=n.getRenderTarget(),Wt=ne.clearcoat>0,Nt=ne.iridescence>0;return{isWebGL2:f,shaderID:Ye,shaderName:ne.type,vertexShader:ge,fragmentShader:Me,defines:ne.defines,customVertexShaderID:Xe,customFragmentShaderID:Je,isRawShaderMaterial:!0===ne.isRawShaderMaterial,glslVersion:ne.glslVersion,precision:v,instancing:!0===ot.isInstancedMesh,instancingColor:!0===ot.isInstancedMesh&&null!==ot.instanceColor,supportsVertexTextures:g,outputEncoding:null===tt?n.outputEncoding:!0===tt.isXRRenderTarget?tt.texture.encoding:kb,map:!!ne.map,matcap:!!ne.matcap,envMap:!!be,envMapMode:be&&be.mapping,envMapCubeUVHeight:Oe,lightMap:!!ne.lightMap,aoMap:!!ne.aoMap,emissiveMap:!!ne.emissiveMap,bumpMap:!!ne.bumpMap,normalMap:!!ne.normalMap,objectSpaceNormalMap:1===ne.normalMapType,tangentSpaceNormalMap:0===ne.normalMapType,decodeVideoTexture:!!ne.map&&!0===ne.map.isVideoTexture&&ne.map.encoding===ma,clearcoat:Wt,clearcoatMap:Wt&&!!ne.clearcoatMap,clearcoatRoughnessMap:Wt&&!!ne.clearcoatRoughnessMap,clearcoatNormalMap:Wt&&!!ne.clearcoatNormalMap,iridescence:Nt,iridescenceMap:Nt&&!!ne.iridescenceMap,iridescenceThicknessMap:Nt&&!!ne.iridescenceThicknessMap,displacementMap:!!ne.displacementMap,roughnessMap:!!ne.roughnessMap,metalnessMap:!!ne.metalnessMap,specularMap:!!ne.specularMap,specularIntensityMap:!!ne.specularIntensityMap,specularColorMap:!!ne.specularColorMap,opaque:!1===ne.transparent&&1===ne.blending,alphaMap:!!ne.alphaMap,alphaTest:ne.alphaTest>0,gradientMap:!!ne.gradientMap,sheen:ne.sheen>0,sheenColorMap:!!ne.sheenColorMap,sheenRoughnessMap:!!ne.sheenRoughnessMap,transmission:ne.transmission>0,transmissionMap:!!ne.transmissionMap,thicknessMap:!!ne.thicknessMap,combine:ne.combine,vertexTangents:!!ne.normalMap&&!!ze.attributes.tangent,vertexColors:ne.vertexColors,vertexAlphas:!0===ne.vertexColors&&!!ze.attributes.color&&4===ze.attributes.color.itemSize,vertexUvs:!!(ne.map||ne.bumpMap||ne.normalMap||ne.specularMap||ne.alphaMap||ne.emissiveMap||ne.roughnessMap||ne.metalnessMap||ne.clearcoatMap||ne.clearcoatRoughnessMap||ne.clearcoatNormalMap||ne.iridescenceMap||ne.iridescenceThicknessMap||ne.displacementMap||ne.transmissionMap||ne.thicknessMap||ne.specularIntensityMap||ne.specularColorMap||ne.sheenColorMap||ne.sheenRoughnessMap),uvsVertexOnly:!(ne.map||ne.bumpMap||ne.normalMap||ne.specularMap||ne.alphaMap||ne.emissiveMap||ne.roughnessMap||ne.metalnessMap||ne.clearcoatNormalMap||ne.iridescenceMap||ne.iridescenceThicknessMap||ne.transmission>0||ne.transmissionMap||ne.thicknessMap||ne.specularIntensityMap||ne.specularColorMap||ne.sheen>0||ne.sheenColorMap||ne.sheenRoughnessMap||!ne.displacementMap),fog:!!at,useFog:!0===ne.fog,fogExp2:at&&at.isFogExp2,flatShading:!!ne.flatShading,sizeAttenuation:ne.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===ot.isSkinnedMesh,morphTargets:void 0!==ze.morphAttributes.position,morphNormals:void 0!==ze.morphAttributes.normal,morphColors:void 0!==ze.morphAttributes.color,morphTargetsCount:Q,morphTextureStride:he,numDirLights:pe.directional.length,numPointLights:pe.point.length,numSpotLights:pe.spot.length,numRectAreaLights:pe.rectArea.length,numHemiLights:pe.hemi.length,numDirLightShadows:pe.directionalShadowMap.length,numPointLightShadows:pe.pointShadowMap.length,numSpotLightShadows:pe.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:ne.dithering,shadowMapEnabled:n.shadowMap.enabled&&Se.length>0,shadowMapType:n.shadowMap.type,toneMapping:ne.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:ne.premultipliedAlpha,doubleSided:2===ne.side,flipSided:1===ne.side,useDepthPacking:!!ne.depthPacking,depthPacking:ne.depthPacking||0,index0AttributeName:ne.index0AttributeName,extensionDerivatives:ne.extensions&&ne.extensions.derivatives,extensionFragDepth:ne.extensions&&ne.extensions.fragDepth,extensionDrawBuffers:ne.extensions&&ne.extensions.drawBuffers,extensionShaderTextureLOD:ne.extensions&&ne.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:ne.customProgramCacheKey()}},getProgramCacheKey:function C(ne){const pe=[];if(ne.shaderID?pe.push(ne.shaderID):(pe.push(ne.customVertexShaderID),pe.push(ne.customFragmentShaderID)),void 0!==ne.defines)for(const Se in ne.defines)pe.push(Se),pe.push(ne.defines[Se]);return!1===ne.isRawShaderMaterial&&(function L(ne,pe){ne.push(pe.precision),ne.push(pe.outputEncoding),ne.push(pe.envMapMode),ne.push(pe.envMapCubeUVHeight),ne.push(pe.combine),ne.push(pe.vertexUvs),ne.push(pe.fogExp2),ne.push(pe.sizeAttenuation),ne.push(pe.morphTargetsCount),ne.push(pe.morphAttributeCount),ne.push(pe.numDirLights),ne.push(pe.numPointLights),ne.push(pe.numSpotLights),ne.push(pe.numHemiLights),ne.push(pe.numRectAreaLights),ne.push(pe.numDirLightShadows),ne.push(pe.numPointLightShadows),ne.push(pe.numSpotLightShadows),ne.push(pe.shadowMapType),ne.push(pe.toneMapping),ne.push(pe.numClippingPlanes),ne.push(pe.numClipIntersection),ne.push(pe.depthPacking)}(pe,ne),function H(ne,pe){a.disableAll(),pe.isWebGL2&&a.enable(0),pe.supportsVertexTextures&&a.enable(1),pe.instancing&&a.enable(2),pe.instancingColor&&a.enable(3),pe.map&&a.enable(4),pe.matcap&&a.enable(5),pe.envMap&&a.enable(6),pe.lightMap&&a.enable(7),pe.aoMap&&a.enable(8),pe.emissiveMap&&a.enable(9),pe.bumpMap&&a.enable(10),pe.normalMap&&a.enable(11),pe.objectSpaceNormalMap&&a.enable(12),pe.tangentSpaceNormalMap&&a.enable(13),pe.clearcoat&&a.enable(14),pe.clearcoatMap&&a.enable(15),pe.clearcoatRoughnessMap&&a.enable(16),pe.clearcoatNormalMap&&a.enable(17),pe.iridescence&&a.enable(18),pe.iridescenceMap&&a.enable(19),pe.iridescenceThicknessMap&&a.enable(20),pe.displacementMap&&a.enable(21),pe.specularMap&&a.enable(22),pe.roughnessMap&&a.enable(23),pe.metalnessMap&&a.enable(24),pe.gradientMap&&a.enable(25),pe.alphaMap&&a.enable(26),pe.alphaTest&&a.enable(27),pe.vertexColors&&a.enable(28),pe.vertexAlphas&&a.enable(29),pe.vertexUvs&&a.enable(30),pe.vertexTangents&&a.enable(31),pe.uvsVertexOnly&&a.enable(32),pe.fog&&a.enable(33),ne.push(a.mask),a.disableAll(),pe.useFog&&a.enable(0),pe.flatShading&&a.enable(1),pe.logarithmicDepthBuffer&&a.enable(2),pe.skinning&&a.enable(3),pe.morphTargets&&a.enable(4),pe.morphNormals&&a.enable(5),pe.morphColors&&a.enable(6),pe.premultipliedAlpha&&a.enable(7),pe.shadowMapEnabled&&a.enable(8),pe.physicallyCorrectLights&&a.enable(9),pe.doubleSided&&a.enable(10),pe.flipSided&&a.enable(11),pe.useDepthPacking&&a.enable(12),pe.dithering&&a.enable(13),pe.specularIntensityMap&&a.enable(14),pe.specularColorMap&&a.enable(15),pe.transmission&&a.enable(16),pe.transmissionMap&&a.enable(17),pe.thicknessMap&&a.enable(18),pe.sheen&&a.enable(19),pe.sheenColorMap&&a.enable(20),pe.sheenRoughnessMap&&a.enable(21),pe.decodeVideoTexture&&a.enable(22),pe.opaque&&a.enable(23),ne.push(a.mask)}(pe,ne),pe.push(n.outputEncoding)),pe.push(ne.customProgramCacheKey),pe.join()},getUniforms:function V(ne){const pe=w[ne.type];let Se;return Se=pe?N1e.clone(sp[pe].uniforms):ne.uniforms,Se},acquireProgram:function z(ne,pe){let Se;for(let Ie=0,ot=c.length;Ie<ot;Ie++){const at=c[Ie];if(at.cacheKey===pe){Se=at,++Se.usedTimes;break}}return void 0===Se&&(Se=new fOe(n,pe,ne,o),c.push(Se)),Se},releaseProgram:function X(ne){if(0==--ne.usedTimes){const pe=c.indexOf(ne);c[pe]=c[c.length-1],c.pop(),ne.destroy()}},releaseShaderCache:function re(ne){u.remove(ne)},programs:c,dispose:function me(){u.dispose()}}}function yOe(){let n=new WeakMap;return{get:function e(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function t(o){n.delete(o)},update:function r(o,s,a){n.get(o)[s]=a},dispose:function i(){n=new WeakMap}}}function vOe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Wee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Yee(){const n=[];let e=0;const t=[],r=[],i=[];function s(p,g,v,w,M,C){let L=n[e];return void 0===L?(L={id:p.id,object:p,geometry:g,material:v,groupOrder:w,renderOrder:p.renderOrder,z:M,group:C},n[e]=L):(L.id=p.id,L.object=p,L.geometry=g,L.material=v,L.groupOrder=w,L.renderOrder=p.renderOrder,L.z=M,L.group=C),e++,L}return{opaque:t,transmissive:r,transparent:i,init:function o(){e=0,t.length=0,r.length=0,i.length=0},push:function a(p,g,v,w,M,C){const L=s(p,g,v,w,M,C);v.transmission>0?r.push(L):!0===v.transparent?i.push(L):t.push(L)},unshift:function u(p,g,v,w,M,C){const L=s(p,g,v,w,M,C);v.transmission>0?r.unshift(L):!0===v.transparent?i.unshift(L):t.unshift(L)},finish:function f(){for(let p=e,g=n.length;p<g;p++){const v=n[p];if(null===v.id)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}},sort:function c(p,g){t.length>1&&t.sort(p||vOe),r.length>1&&r.sort(g||Wee),i.length>1&&i.sort(g||Wee)}}}function _Oe(){let n=new WeakMap;return{get:function e(r,i){let o;return!1===n.has(r)?(o=new Yee,n.set(r,[o])):i>=n.get(r).length?(o=new Yee,n.get(r).push(o)):o=n.get(r)[i],o},dispose:function t(){n=new WeakMap}}}function bOe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new je,color:new Ar};break;case"SpotLight":t={position:new je,direction:new je,color:new Ar,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new je,color:new Ar,distance:0,decay:0};break;case"HemisphereLight":t={direction:new je,skyColor:new Ar,groundColor:new Ar};break;case"RectAreaLight":t={color:new Ar,position:new je,halfWidth:new je,halfHeight:new je}}return n[e.id]=t,t}}}let SOe=0;function MOe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function xOe(n,e){const t=new bOe,r=function wOe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)i.probe.push(new je);const o=new je,s=new so,a=new so;return{setup:function u(f,p){let g=0,v=0,w=0;for(let pe=0;pe<9;pe++)i.probe[pe].set(0,0,0);let M=0,C=0,L=0,H=0,V=0,z=0,X=0,re=0;f.sort(MOe);const me=!0!==p?Math.PI:1;for(let pe=0,Se=f.length;pe<Se;pe++){const Ie=f[pe],ot=Ie.color,at=Ie.intensity,ze=Ie.distance,vt=Ie.shadow&&Ie.shadow.map?Ie.shadow.map.texture:null;if(Ie.isAmbientLight)g+=ot.r*at*me,v+=ot.g*at*me,w+=ot.b*at*me;else if(Ie.isLightProbe)for(let be=0;be<9;be++)i.probe[be].addScaledVector(Ie.sh.coefficients[be],at);else if(Ie.isDirectionalLight){const be=t.get(Ie);if(be.color.copy(Ie.color).multiplyScalar(Ie.intensity*me),Ie.castShadow){const Oe=Ie.shadow,Ye=r.get(Ie);Ye.shadowBias=Oe.bias,Ye.shadowNormalBias=Oe.normalBias,Ye.shadowRadius=Oe.radius,Ye.shadowMapSize=Oe.mapSize,i.directionalShadow[M]=Ye,i.directionalShadowMap[M]=vt,i.directionalShadowMatrix[M]=Ie.shadow.matrix,z++}i.directional[M]=be,M++}else if(Ie.isSpotLight){const be=t.get(Ie);if(be.position.setFromMatrixPosition(Ie.matrixWorld),be.color.copy(ot).multiplyScalar(at*me),be.distance=ze,be.coneCos=Math.cos(Ie.angle),be.penumbraCos=Math.cos(Ie.angle*(1-Ie.penumbra)),be.decay=Ie.decay,Ie.castShadow){const Oe=Ie.shadow,Ye=r.get(Ie);Ye.shadowBias=Oe.bias,Ye.shadowNormalBias=Oe.normalBias,Ye.shadowRadius=Oe.radius,Ye.shadowMapSize=Oe.mapSize,i.spotShadow[L]=Ye,i.spotShadowMap[L]=vt,i.spotShadowMatrix[L]=Ie.shadow.matrix,re++}i.spot[L]=be,L++}else if(Ie.isRectAreaLight){const be=t.get(Ie);be.color.copy(ot).multiplyScalar(at),be.halfWidth.set(.5*Ie.width,0,0),be.halfHeight.set(0,.5*Ie.height,0),i.rectArea[H]=be,H++}else if(Ie.isPointLight){const be=t.get(Ie);if(be.color.copy(Ie.color).multiplyScalar(Ie.intensity*me),be.distance=Ie.distance,be.decay=Ie.decay,Ie.castShadow){const Oe=Ie.shadow,Ye=r.get(Ie);Ye.shadowBias=Oe.bias,Ye.shadowNormalBias=Oe.normalBias,Ye.shadowRadius=Oe.radius,Ye.shadowMapSize=Oe.mapSize,Ye.shadowCameraNear=Oe.camera.near,Ye.shadowCameraFar=Oe.camera.far,i.pointShadow[C]=Ye,i.pointShadowMap[C]=vt,i.pointShadowMatrix[C]=Ie.shadow.matrix,X++}i.point[C]=be,C++}else if(Ie.isHemisphereLight){const be=t.get(Ie);be.skyColor.copy(Ie.color).multiplyScalar(at*me),be.groundColor.copy(Ie.groundColor).multiplyScalar(at*me),i.hemi[V]=be,V++}}H>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=gr.LTC_FLOAT_1,i.rectAreaLTC2=gr.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=gr.LTC_HALF_1,i.rectAreaLTC2=gr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=w;const ne=i.hash;(ne.directionalLength!==M||ne.pointLength!==C||ne.spotLength!==L||ne.rectAreaLength!==H||ne.hemiLength!==V||ne.numDirectionalShadows!==z||ne.numPointShadows!==X||ne.numSpotShadows!==re)&&(i.directional.length=M,i.spot.length=L,i.rectArea.length=H,i.point.length=C,i.hemi.length=V,i.directionalShadow.length=z,i.directionalShadowMap.length=z,i.pointShadow.length=X,i.pointShadowMap.length=X,i.spotShadow.length=re,i.spotShadowMap.length=re,i.directionalShadowMatrix.length=z,i.pointShadowMatrix.length=X,i.spotShadowMatrix.length=re,ne.directionalLength=M,ne.pointLength=C,ne.spotLength=L,ne.rectAreaLength=H,ne.hemiLength=V,ne.numDirectionalShadows=z,ne.numPointShadows=X,ne.numSpotShadows=re,i.version=SOe++)},setupView:function c(f,p){let g=0,v=0,w=0,M=0,C=0;const L=p.matrixWorldInverse;for(let H=0,V=f.length;H<V;H++){const z=f[H];if(z.isDirectionalLight){const X=i.directional[g];X.direction.setFromMatrixPosition(z.matrixWorld),o.setFromMatrixPosition(z.target.matrixWorld),X.direction.sub(o),X.direction.transformDirection(L),g++}else if(z.isSpotLight){const X=i.spot[w];X.position.setFromMatrixPosition(z.matrixWorld),X.position.applyMatrix4(L),X.direction.setFromMatrixPosition(z.matrixWorld),o.setFromMatrixPosition(z.target.matrixWorld),X.direction.sub(o),X.direction.transformDirection(L),w++}else if(z.isRectAreaLight){const X=i.rectArea[M];X.position.setFromMatrixPosition(z.matrixWorld),X.position.applyMatrix4(L),a.identity(),s.copy(z.matrixWorld),s.premultiply(L),a.extractRotation(s),X.halfWidth.set(.5*z.width,0,0),X.halfHeight.set(0,.5*z.height,0),X.halfWidth.applyMatrix4(a),X.halfHeight.applyMatrix4(a),M++}else if(z.isPointLight){const X=i.point[v];X.position.setFromMatrixPosition(z.matrixWorld),X.position.applyMatrix4(L),v++}else if(z.isHemisphereLight){const X=i.hemi[C];X.direction.setFromMatrixPosition(z.matrixWorld),X.direction.transformDirection(L),C++}}},state:i}}function Gee(n,e){const t=new xOe(n,e),r=[],i=[];return{init:function o(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:function u(p){t.setup(r,p)},setupLightsView:function c(p){t.setupView(r,p)},pushLight:function s(p){r.push(p)},pushShadow:function a(p){i.push(p)}}}function COe(n,e){let t=new WeakMap;return{get:function r(o,s=0){let a;return!1===t.has(o)?(a=new Gee(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new Gee(n,e),t.get(o).push(a)):a=t.get(o)[s],a},dispose:function i(){t=new WeakMap}}}class $ee extends LM{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Kee extends LM{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new je,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function ROe(n,e,t){let r=new KU;const i=new xn,o=new xn,s=new us,a=new $ee({depthPacking:3201}),u=new Kee,c={},f=t.maxTextureSize,p={0:1,1:0,2:2},g=new sv({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const w=new mo;w.setAttribute("position",new Pl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new Rc(w,g),C=this;function L(z,X){const re=e.update(M);g.defines.VSM_SAMPLES!==z.blurSamples&&(g.defines.VSM_SAMPLES=z.blurSamples,v.defines.VSM_SAMPLES=z.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),null===z.mapPass&&(z.mapPass=new Nb(i.x,i.y)),g.uniforms.shadow_pass.value=z.map.texture,g.uniforms.resolution.value=z.mapSize,g.uniforms.radius.value=z.radius,n.setRenderTarget(z.mapPass),n.clear(),n.renderBufferDirect(X,null,re,g,M,null),v.uniforms.shadow_pass.value=z.mapPass.texture,v.uniforms.resolution.value=z.mapSize,v.uniforms.radius.value=z.radius,n.setRenderTarget(z.map),n.clear(),n.renderBufferDirect(X,null,re,v,M,null)}function H(z,X,re,me,ne,pe){let Se=null;const Ie=!0===re.isPointLight?z.customDistanceMaterial:z.customDepthMaterial;if(Se=void 0!==Ie?Ie:!0===re.isPointLight?u:a,n.localClippingEnabled&&!0===X.clipShadows&&Array.isArray(X.clippingPlanes)&&0!==X.clippingPlanes.length||X.displacementMap&&0!==X.displacementScale||X.alphaMap&&X.alphaTest>0){const ot=Se.uuid,at=X.uuid;let ze=c[ot];void 0===ze&&(ze={},c[ot]=ze);let vt=ze[at];void 0===vt&&(vt=Se.clone(),ze[at]=vt),Se=vt}return Se.visible=X.visible,Se.wireframe=X.wireframe,Se.side=3===pe?null!==X.shadowSide?X.shadowSide:X.side:null!==X.shadowSide?X.shadowSide:p[X.side],Se.alphaMap=X.alphaMap,Se.alphaTest=X.alphaTest,Se.clipShadows=X.clipShadows,Se.clippingPlanes=X.clippingPlanes,Se.clipIntersection=X.clipIntersection,Se.displacementMap=X.displacementMap,Se.displacementScale=X.displacementScale,Se.displacementBias=X.displacementBias,Se.wireframeLinewidth=X.wireframeLinewidth,Se.linewidth=X.linewidth,!0===re.isPointLight&&!0===Se.isMeshDistanceMaterial&&(Se.referencePosition.setFromMatrixPosition(re.matrixWorld),Se.nearDistance=me,Se.farDistance=ne),Se}function V(z,X,re,me,ne){if(!1===z.visible)return;if(z.layers.test(X.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&3===ne)&&(!z.frustumCulled||r.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,z.matrixWorld);const Ie=e.update(z),ot=z.material;if(Array.isArray(ot)){const at=Ie.groups;for(let ze=0,vt=at.length;ze<vt;ze++){const be=at[ze],Oe=ot[be.materialIndex];if(Oe&&Oe.visible){const Ye=H(z,Oe,me,re.near,re.far,ne);n.renderBufferDirect(re,null,Ie,Ye,z,be)}}}else if(ot.visible){const at=H(z,ot,me,re.near,re.far,ne);n.renderBufferDirect(re,null,Ie,at,z,null)}}const Se=z.children;for(let Ie=0,ot=Se.length;Ie<ot;Ie++)V(Se[Ie],X,re,me,ne)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(z,X,re){if(!1===C.enabled||!1===C.autoUpdate&&!1===C.needsUpdate||0===z.length)return;const me=n.getRenderTarget(),ne=n.getActiveCubeFace(),pe=n.getActiveMipmapLevel(),Se=n.state;Se.setBlending(0),Se.buffers.color.setClear(1,1,1,1),Se.buffers.depth.setTest(!0),Se.setScissorTest(!1);for(let Ie=0,ot=z.length;Ie<ot;Ie++){const at=z[Ie],ze=at.shadow;if(void 0===ze){console.warn("THREE.WebGLShadowMap:",at,"has no shadow.");continue}if(!1===ze.autoUpdate&&!1===ze.needsUpdate)continue;i.copy(ze.mapSize);const vt=ze.getFrameExtents();i.multiply(vt),o.copy(ze.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/vt.x),i.x=o.x*vt.x,ze.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/vt.y),i.y=o.y*vt.y,ze.mapSize.y=o.y)),null===ze.map&&(ze.map=new Nb(i.x,i.y,3!==this.type?{minFilter:ml,magFilter:ml}:{}),ze.map.texture.name=at.name+".shadowMap",ze.camera.updateProjectionMatrix()),n.setRenderTarget(ze.map),n.clear();const be=ze.getViewportCount();for(let Oe=0;Oe<be;Oe++){const Ye=ze.getViewport(Oe);s.set(o.x*Ye.x,o.y*Ye.y,o.x*Ye.z,o.y*Ye.w),Se.viewport(s),ze.updateMatrices(at,Oe),r=ze.getFrustum(),V(X,re,ze.camera,at,this.type)}!0!==ze.isPointLightShadow&&3===this.type&&L(ze,re),ze.needsUpdate=!1}C.needsUpdate=!1,n.setRenderTarget(me,ne,pe)}}function DOe(n,e,t){const r=t.isWebGL2,a=new function i(){let yt=!1;const Wn=new us;let Hn=null;const Yr=new us(0,0,0,0);return{setMask:function(sr){Hn!==sr&&!yt&&(n.colorMask(sr,sr,sr,sr),Hn=sr)},setLocked:function(sr){yt=sr},setClear:function(sr,Or,Tn,Gn,ar){!0===ar&&(sr*=Gn,Or*=Gn,Tn*=Gn),Wn.set(sr,Or,Tn,Gn),!1===Yr.equals(Wn)&&(n.clearColor(sr,Or,Tn,Gn),Yr.copy(Wn))},reset:function(){yt=!1,Hn=null,Yr.set(-1,0,0,0)}}},u=new function o(){let yt=!1,Wn=null,Hn=null,Yr=null;return{setTest:function(sr){sr?Je(2929):tt(2929)},setMask:function(sr){Wn!==sr&&!yt&&(n.depthMask(sr),Wn=sr)},setFunc:function(sr){if(Hn!==sr){if(sr)switch(sr){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);Hn=sr}},setLocked:function(sr){yt=sr},setClear:function(sr){Yr!==sr&&(n.clearDepth(sr),Yr=sr)},reset:function(){yt=!1,Wn=null,Hn=null,Yr=null}}},c=new function s(){let yt=!1,Wn=null,Hn=null,Yr=null,sr=null,Or=null,Tn=null,Gn=null,ar=null;return{setTest:function(ri){yt||(ri?Je(2960):tt(2960))},setMask:function(ri){Wn!==ri&&!yt&&(n.stencilMask(ri),Wn=ri)},setFunc:function(ri,Ki,Li){(Hn!==ri||Yr!==Ki||sr!==Li)&&(n.stencilFunc(ri,Ki,Li),Hn=ri,Yr=Ki,sr=Li)},setOp:function(ri,Ki,Li){(Or!==ri||Tn!==Ki||Gn!==Li)&&(n.stencilOp(ri,Ki,Li),Or=ri,Tn=Ki,Gn=Li)},setLocked:function(ri){yt=ri},setClear:function(ri){ar!==ri&&(n.clearStencil(ri),ar=ri)},reset:function(){yt=!1,Wn=null,Hn=null,Yr=null,sr=null,Or=null,Tn=null,Gn=null,ar=null}}};let f={},p={},g=new WeakMap,v=[],w=null,M=!1,C=null,L=null,H=null,V=null,z=null,X=null,re=null,me=!1,ne=null,pe=null,Se=null,Ie=null,ot=null;const at=n.getParameter(35661);let ze=!1,vt=0;const be=n.getParameter(7938);-1!==be.indexOf("WebGL")?(vt=parseFloat(/^WebGL (\d)/.exec(be)[1]),ze=vt>=1):-1!==be.indexOf("OpenGL ES")&&(vt=parseFloat(/^OpenGL ES (\d)/.exec(be)[1]),ze=vt>=2);let Oe=null,Ye={};const Y=n.getParameter(3088),Q=n.getParameter(2978),he=(new us).fromArray(Y),ge=(new us).fromArray(Q);function Me(yt,Wn,Hn){const Yr=new Uint8Array(4),sr=n.createTexture();n.bindTexture(yt,sr),n.texParameteri(yt,10241,9728),n.texParameteri(yt,10240,9728);for(let Or=0;Or<Hn;Or++)n.texImage2D(Wn+Or,0,6408,1,1,0,6408,5121,Yr);return sr}const Xe={};function Je(yt){!0!==f[yt]&&(n.enable(yt),f[yt]=!0)}function tt(yt){!1!==f[yt]&&(n.disable(yt),f[yt]=!1)}Xe[3553]=Me(3553,3553,1),Xe[34067]=Me(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Je(2929),u.setFunc(3),Kt(!1),Cn(1),Je(2884),mt(0);const bt={100:32774,101:32778,102:32779};if(r)bt[103]=32775,bt[104]=32776;else{const yt=e.get("EXT_blend_minmax");null!==yt&&(bt[103]=yt.MIN_EXT,bt[104]=yt.MAX_EXT)}const en={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function mt(yt,Wn,Hn,Yr,sr,Or,Tn,Gn){if(0!==yt){if(!1===M&&(Je(3042),M=!0),5===yt)sr=sr||Wn,Or=Or||Hn,Tn=Tn||Yr,(Wn!==L||sr!==z)&&(n.blendEquationSeparate(bt[Wn],bt[sr]),L=Wn,z=sr),(Hn!==H||Yr!==V||Or!==X||Tn!==re)&&(n.blendFuncSeparate(en[Hn],en[Yr],en[Or],en[Tn]),H=Hn,V=Yr,X=Or,re=Tn),C=yt,me=null;else if(yt!==C||Gn!==me){if((100!==L||100!==z)&&(n.blendEquation(32774),L=100,z=100),Gn)switch(yt){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt)}else switch(yt){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt)}H=null,V=null,X=null,re=null,C=yt,me=Gn}}else!0===M&&(tt(3042),M=!1)}function Kt(yt){ne!==yt&&(n.frontFace(yt?2304:2305),ne=yt)}function Cn(yt){0!==yt?(Je(2884),yt!==pe&&n.cullFace(1===yt?1029:2===yt?1028:1032)):tt(2884),pe=yt}function Qn(yt,Wn,Hn){yt?(Je(32823),(Ie!==Wn||ot!==Hn)&&(n.polygonOffset(Wn,Hn),Ie=Wn,ot=Hn)):tt(32823)}function cn(yt){void 0===yt&&(yt=33984+at-1),Oe!==yt&&(n.activeTexture(yt),Oe=yt)}return{buffers:{color:a,depth:u,stencil:c},enable:Je,disable:tt,bindFramebuffer:function Rt(yt,Wn){return p[yt]!==Wn&&(n.bindFramebuffer(yt,Wn),p[yt]=Wn,r&&(36009===yt&&(p[36160]=Wn),36160===yt&&(p[36009]=Wn)),!0)},drawBuffers:function Wt(yt,Wn){let Hn=v,Yr=!1;if(yt)if(Hn=g.get(Wn),void 0===Hn&&(Hn=[],g.set(Wn,Hn)),yt.isWebGLMultipleRenderTargets){const sr=yt.texture;if(Hn.length!==sr.length||36064!==Hn[0]){for(let Or=0,Tn=sr.length;Or<Tn;Or++)Hn[Or]=36064+Or;Hn.length=sr.length,Yr=!0}}else 36064!==Hn[0]&&(Hn[0]=36064,Yr=!0);else 1029!==Hn[0]&&(Hn[0]=1029,Yr=!0);Yr&&(t.isWebGL2?n.drawBuffers(Hn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Hn))},useProgram:function Nt(yt){return w!==yt&&(n.useProgram(yt),w=yt,!0)},setBlending:mt,setMaterial:function Tt(yt,Wn){2===yt.side?tt(2884):Je(2884);let Hn=1===yt.side;Wn&&(Hn=!Hn),Kt(Hn),1===yt.blending&&!1===yt.transparent?mt(0):mt(yt.blending,yt.blendEquation,yt.blendSrc,yt.blendDst,yt.blendEquationAlpha,yt.blendSrcAlpha,yt.blendDstAlpha,yt.premultipliedAlpha),u.setFunc(yt.depthFunc),u.setTest(yt.depthTest),u.setMask(yt.depthWrite),a.setMask(yt.colorWrite);const Yr=yt.stencilWrite;c.setTest(Yr),Yr&&(c.setMask(yt.stencilWriteMask),c.setFunc(yt.stencilFunc,yt.stencilRef,yt.stencilFuncMask),c.setOp(yt.stencilFail,yt.stencilZFail,yt.stencilZPass)),Qn(yt.polygonOffset,yt.polygonOffsetFactor,yt.polygonOffsetUnits),!0===yt.alphaToCoverage?Je(32926):tt(32926)},setFlipSided:Kt,setCullFace:Cn,setLineWidth:function _n(yt){yt!==Se&&(ze&&n.lineWidth(yt),Se=yt)},setPolygonOffset:Qn,setScissorTest:function In(yt){yt?Je(3089):tt(3089)},activeTexture:cn,bindTexture:function En(yt,Wn){null===Oe&&cn();let Hn=Ye[Oe];void 0===Hn&&(Hn={type:void 0,texture:void 0},Ye[Oe]=Hn),(Hn.type!==yt||Hn.texture!==Wn)&&(n.bindTexture(yt,Wn||Xe[yt]),Hn.type=yt,Hn.texture=Wn)},unbindTexture:function Un(){const yt=Ye[Oe];void 0!==yt&&void 0!==yt.type&&(n.bindTexture(yt.type,null),yt.type=void 0,yt.texture=void 0)},compressedTexImage2D:function He(){try{n.compressedTexImage2D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texImage2D:function Nr(){try{n.texImage2D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texImage3D:function Gt(){try{n.texImage3D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texStorage2D:function mn(){try{n.texStorage2D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texStorage3D:function Fn(){try{n.texStorage3D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texSubImage2D:function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texSubImage3D:function Vt(){try{n.texSubImage3D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},compressedTexSubImage2D:function rn(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},scissor:function yr(yt){!1===he.equals(yt)&&(n.scissor(yt.x,yt.y,yt.z,yt.w),he.copy(yt))},viewport:function nr(yt){!1===ge.equals(yt)&&(n.viewport(yt.x,yt.y,yt.z,yt.w),ge.copy(yt))},reset:function er(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===r&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},Oe=null,Ye={},p={},g=new WeakMap,v=[],w=null,M=!1,C=null,L=null,H=null,V=null,z=null,X=null,re=null,me=!1,ne=null,pe=null,Se=null,Ie=null,ot=null,he.set(0,0,n.canvas.width,n.canvas.height),ge.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),c.reset()}}}function AOe(n,e,t,r,i,o,s){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap;let M;const C=new WeakMap;let L=!1;try{L="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(He){}function H(He,Ce){return L?new OffscreenCanvas(He,Ce):IR("canvas")}function V(He,Ce,Vt,rn){let mn=1;if((He.width>rn||He.height>rn)&&(mn=rn/Math.max(He.width,He.height)),mn<1||!0===Ce){if("undefined"!=typeof HTMLImageElement&&He instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&He instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&He instanceof ImageBitmap){const Fn=Ce?VI:Math.floor,Nr=Fn(mn*He.width),Gt=Fn(mn*He.height);void 0===M&&(M=H(Nr,Gt));const yr=Vt?H(Nr,Gt):M;return yr.width=Nr,yr.height=Gt,yr.getContext("2d").drawImage(He,0,0,Nr,Gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+He.width+"x"+He.height+") to ("+Nr+"x"+Gt+")."),yr}return"data"in He&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+He.width+"x"+He.height+")."),He}return He}function z(He){return MU(He.width)&&MU(He.height)}function re(He,Ce){return He.generateMipmaps&&Ce&&He.minFilter!==ml&&He.minFilter!==$a}function me(He){n.generateMipmap(He)}function ne(He,Ce,Vt,rn,mn=!1){if(!1===a)return Ce;if(null!==He){if(void 0!==n[He])return n[He];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+He+"'")}let Fn=Ce;return 6403===Ce&&(5126===Vt&&(Fn=33326),5131===Vt&&(Fn=33325),5121===Vt&&(Fn=33321)),33319===Ce&&(5126===Vt&&(Fn=33328),5131===Vt&&(Fn=33327),5121===Vt&&(Fn=33323)),6408===Ce&&(5126===Vt&&(Fn=34836),5131===Vt&&(Fn=34842),5121===Vt&&(Fn=rn===ma&&!1===mn?35907:32856),32819===Vt&&(Fn=32854),32820===Vt&&(Fn=32855)),(33325===Fn||33326===Fn||33327===Fn||33328===Fn||34842===Fn||34836===Fn)&&e.get("EXT_color_buffer_float"),Fn}function pe(He,Ce,Vt){return!0===re(He,Vt)||He.isFramebufferTexture&&He.minFilter!==ml&&He.minFilter!==$a?Math.log2(Math.max(Ce.width,Ce.height))+1:void 0!==He.mipmaps&&He.mipmaps.length>0?He.mipmaps.length:He.isCompressedTexture&&Array.isArray(He.image)?Ce.mipmaps.length:1}function Se(He){return He===ml||1004===He||1005===He?9728:9729}function Ie(He){const Ce=He.target;Ce.removeEventListener("dispose",Ie),function at(He){const Ce=r.get(He);if(void 0===Ce.__webglInit)return;const Vt=He.source,rn=C.get(Vt);if(rn){const mn=rn[Ce.__cacheKey];mn.usedTimes--,0===mn.usedTimes&&ze(He),0===Object.keys(rn).length&&C.delete(Vt)}r.remove(He)}(Ce),Ce.isVideoTexture&&w.delete(Ce)}function ot(He){const Ce=He.target;Ce.removeEventListener("dispose",ot),function vt(He){const Ce=He.texture,Vt=r.get(He),rn=r.get(Ce);if(void 0!==rn.__webglTexture&&(n.deleteTexture(rn.__webglTexture),s.memory.textures--),He.depthTexture&&He.depthTexture.dispose(),He.isWebGLCubeRenderTarget)for(let mn=0;mn<6;mn++)n.deleteFramebuffer(Vt.__webglFramebuffer[mn]),Vt.__webglDepthbuffer&&n.deleteRenderbuffer(Vt.__webglDepthbuffer[mn]);else{if(n.deleteFramebuffer(Vt.__webglFramebuffer),Vt.__webglDepthbuffer&&n.deleteRenderbuffer(Vt.__webglDepthbuffer),Vt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Vt.__webglMultisampledFramebuffer),Vt.__webglColorRenderbuffer)for(let mn=0;mn<Vt.__webglColorRenderbuffer.length;mn++)Vt.__webglColorRenderbuffer[mn]&&n.deleteRenderbuffer(Vt.__webglColorRenderbuffer[mn]);Vt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Vt.__webglDepthRenderbuffer)}if(He.isWebGLMultipleRenderTargets)for(let mn=0,Fn=Ce.length;mn<Fn;mn++){const Nr=r.get(Ce[mn]);Nr.__webglTexture&&(n.deleteTexture(Nr.__webglTexture),s.memory.textures--),r.remove(Ce[mn])}r.remove(Ce),r.remove(He)}(Ce)}function ze(He){const Ce=r.get(He);n.deleteTexture(Ce.__webglTexture),delete C.get(He.source)[Ce.__cacheKey],s.memory.textures--}let be=0;function Q(He,Ce){const Vt=r.get(He);if(He.isVideoTexture&&function En(He){const Ce=s.render.frame;w.get(He)!==Ce&&(w.set(He,Ce),He.update())}(He),!1===He.isRenderTargetTexture&&He.version>0&&Vt.__version!==He.version){const rn=He.image;if(null===rn)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==rn.complete)return void Wt(Vt,He,Ce);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+Ce),t.bindTexture(3553,Vt.__webglTexture)}const Xe={1e3:10497,[Ec]:33071,1002:33648},Je={[ml]:9728,1004:9984,1005:9986,[$a]:9729,1007:9985,1008:9987};function tt(He,Ce,Vt){if(Vt?(n.texParameteri(He,10242,Xe[Ce.wrapS]),n.texParameteri(He,10243,Xe[Ce.wrapT]),(32879===He||35866===He)&&n.texParameteri(He,32882,Xe[Ce.wrapR]),n.texParameteri(He,10240,Je[Ce.magFilter]),n.texParameteri(He,10241,Je[Ce.minFilter])):(n.texParameteri(He,10242,33071),n.texParameteri(He,10243,33071),(32879===He||35866===He)&&n.texParameteri(He,32882,33071),(Ce.wrapS!==Ec||Ce.wrapT!==Ec)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(He,10240,Se(Ce.magFilter)),n.texParameteri(He,10241,Se(Ce.minFilter)),Ce.minFilter!==ml&&Ce.minFilter!==$a&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const rn=e.get("EXT_texture_filter_anisotropic");if(Ce.type===Zy&&!1===e.has("OES_texture_float_linear")||!1===a&&Ce.type===kR&&!1===e.has("OES_texture_half_float_linear"))return;(Ce.anisotropy>1||r.get(Ce).__currentAnisotropy)&&(n.texParameterf(He,rn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ce.anisotropy,i.getMaxAnisotropy())),r.get(Ce).__currentAnisotropy=Ce.anisotropy)}}function Rt(He,Ce){let Vt=!1;void 0===He.__webglInit&&(He.__webglInit=!0,Ce.addEventListener("dispose",Ie));const rn=Ce.source;let mn=C.get(rn);void 0===mn&&(mn={},C.set(rn,mn));const Fn=function Y(He){const Ce=[];return Ce.push(He.wrapS),Ce.push(He.wrapT),Ce.push(He.magFilter),Ce.push(He.minFilter),Ce.push(He.anisotropy),Ce.push(He.internalFormat),Ce.push(He.format),Ce.push(He.type),Ce.push(He.generateMipmaps),Ce.push(He.premultiplyAlpha),Ce.push(He.flipY),Ce.push(He.unpackAlignment),Ce.push(He.encoding),Ce.join()}(Ce);if(Fn!==He.__cacheKey){void 0===mn[Fn]&&(mn[Fn]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Vt=!0),mn[Fn].usedTimes++;const Nr=mn[He.__cacheKey];void 0!==Nr&&(mn[He.__cacheKey].usedTimes--,0===Nr.usedTimes&&ze(Ce)),He.__cacheKey=Fn,He.__webglTexture=mn[Fn].texture}return Vt}function Wt(He,Ce,Vt){let rn=3553;Ce.isDataArrayTexture&&(rn=35866),Ce.isData3DTexture&&(rn=32879);const mn=Rt(He,Ce),Fn=Ce.source;if(t.activeTexture(33984+Vt),t.bindTexture(rn,He.__webglTexture),Fn.version!==Fn.__currentVersion||!0===mn){n.pixelStorei(37440,Ce.flipY),n.pixelStorei(37441,Ce.premultiplyAlpha),n.pixelStorei(3317,Ce.unpackAlignment),n.pixelStorei(37443,0);const Nr=function X(He){return!a&&(He.wrapS!==Ec||He.wrapT!==Ec||He.minFilter!==ml&&He.minFilter!==$a)}(Ce)&&!1===z(Ce.image);let Gt=V(Ce.image,Nr,!1,f);Gt=Un(Ce,Gt);const yr=z(Gt)||a,nr=o.convert(Ce.format,Ce.encoding);let Wn,er=o.convert(Ce.type),yt=ne(Ce.internalFormat,nr,er,Ce.encoding,Ce.isVideoTexture);tt(rn,Ce,yr);const Hn=Ce.mipmaps,Yr=a&&!0!==Ce.isVideoTexture,sr=void 0===Fn.__currentVersion||!0===mn,Or=pe(Ce,Gt,yr);if(Ce.isDepthTexture)yt=6402,a?yt=Ce.type===Zy?36012:Ce.type===Ab?33190:Ce.type===gM?35056:33189:Ce.type===Zy&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ce.format===Ob&&6402===yt&&1012!==Ce.type&&Ce.type!==Ab&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ce.type=Ab,er=o.convert(Ce.type)),Ce.format===yM&&6402===yt&&(yt=34041,Ce.type!==gM&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ce.type=gM,er=o.convert(Ce.type))),sr&&(Yr?t.texStorage2D(3553,1,yt,Gt.width,Gt.height):t.texImage2D(3553,0,yt,Gt.width,Gt.height,0,nr,er,null));else if(Ce.isDataTexture)if(Hn.length>0&&yr){Yr&&sr&&t.texStorage2D(3553,Or,yt,Hn[0].width,Hn[0].height);for(let Tn=0,Gn=Hn.length;Tn<Gn;Tn++)Wn=Hn[Tn],Yr?t.texSubImage2D(3553,Tn,0,0,Wn.width,Wn.height,nr,er,Wn.data):t.texImage2D(3553,Tn,yt,Wn.width,Wn.height,0,nr,er,Wn.data);Ce.generateMipmaps=!1}else Yr?(sr&&t.texStorage2D(3553,Or,yt,Gt.width,Gt.height),t.texSubImage2D(3553,0,0,0,Gt.width,Gt.height,nr,er,Gt.data)):t.texImage2D(3553,0,yt,Gt.width,Gt.height,0,nr,er,Gt.data);else if(Ce.isCompressedTexture){Yr&&sr&&t.texStorage2D(3553,Or,yt,Hn[0].width,Hn[0].height);for(let Tn=0,Gn=Hn.length;Tn<Gn;Tn++)Wn=Hn[Tn],Ce.format!==th?null!==nr?Yr?t.compressedTexSubImage2D(3553,Tn,0,0,Wn.width,Wn.height,nr,Wn.data):t.compressedTexImage2D(3553,Tn,yt,Wn.width,Wn.height,0,Wn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Yr?t.texSubImage2D(3553,Tn,0,0,Wn.width,Wn.height,nr,er,Wn.data):t.texImage2D(3553,Tn,yt,Wn.width,Wn.height,0,nr,er,Wn.data)}else if(Ce.isDataArrayTexture)Yr?(sr&&t.texStorage3D(35866,Or,yt,Gt.width,Gt.height,Gt.depth),t.texSubImage3D(35866,0,0,0,0,Gt.width,Gt.height,Gt.depth,nr,er,Gt.data)):t.texImage3D(35866,0,yt,Gt.width,Gt.height,Gt.depth,0,nr,er,Gt.data);else if(Ce.isData3DTexture)Yr?(sr&&t.texStorage3D(32879,Or,yt,Gt.width,Gt.height,Gt.depth),t.texSubImage3D(32879,0,0,0,0,Gt.width,Gt.height,Gt.depth,nr,er,Gt.data)):t.texImage3D(32879,0,yt,Gt.width,Gt.height,Gt.depth,0,nr,er,Gt.data);else if(Ce.isFramebufferTexture){if(sr)if(Yr)t.texStorage2D(3553,Or,yt,Gt.width,Gt.height);else{let Tn=Gt.width,Gn=Gt.height;for(let ar=0;ar<Or;ar++)t.texImage2D(3553,ar,yt,Tn,Gn,0,nr,er,null),Tn>>=1,Gn>>=1}}else if(Hn.length>0&&yr){Yr&&sr&&t.texStorage2D(3553,Or,yt,Hn[0].width,Hn[0].height);for(let Tn=0,Gn=Hn.length;Tn<Gn;Tn++)Wn=Hn[Tn],Yr?t.texSubImage2D(3553,Tn,0,0,nr,er,Wn):t.texImage2D(3553,Tn,yt,nr,er,Wn);Ce.generateMipmaps=!1}else Yr?(sr&&t.texStorage2D(3553,Or,yt,Gt.width,Gt.height),t.texSubImage2D(3553,0,0,0,nr,er,Gt)):t.texImage2D(3553,0,yt,nr,er,Gt);re(Ce,yr)&&me(rn),Fn.__currentVersion=Fn.version,Ce.onUpdate&&Ce.onUpdate(Ce)}He.__version=Ce.version}function bt(He,Ce,Vt,rn,mn){const Fn=o.convert(Vt.format,Vt.encoding),Nr=o.convert(Vt.type),Gt=ne(Vt.internalFormat,Fn,Nr,Vt.encoding);r.get(Ce).__hasExternalTextures||(32879===mn||35866===mn?t.texImage3D(mn,0,Gt,Ce.width,Ce.height,Ce.depth,0,Fn,Nr,null):t.texImage2D(mn,0,Gt,Ce.width,Ce.height,0,Fn,Nr,null)),t.bindFramebuffer(36160,He),cn(Ce)?g.framebufferTexture2DMultisampleEXT(36160,rn,mn,r.get(Vt).__webglTexture,0,In(Ce)):n.framebufferTexture2D(36160,rn,mn,r.get(Vt).__webglTexture,0),t.bindFramebuffer(36160,null)}function en(He,Ce,Vt){if(n.bindRenderbuffer(36161,He),Ce.depthBuffer&&!Ce.stencilBuffer){let rn=33189;if(Vt||cn(Ce)){const mn=Ce.depthTexture;mn&&mn.isDepthTexture&&(mn.type===Zy?rn=36012:mn.type===Ab&&(rn=33190));const Fn=In(Ce);cn(Ce)?g.renderbufferStorageMultisampleEXT(36161,Fn,rn,Ce.width,Ce.height):n.renderbufferStorageMultisample(36161,Fn,rn,Ce.width,Ce.height)}else n.renderbufferStorage(36161,rn,Ce.width,Ce.height);n.framebufferRenderbuffer(36160,36096,36161,He)}else if(Ce.depthBuffer&&Ce.stencilBuffer){const rn=In(Ce);Vt&&!1===cn(Ce)?n.renderbufferStorageMultisample(36161,rn,35056,Ce.width,Ce.height):cn(Ce)?g.renderbufferStorageMultisampleEXT(36161,rn,35056,Ce.width,Ce.height):n.renderbufferStorage(36161,34041,Ce.width,Ce.height),n.framebufferRenderbuffer(36160,33306,36161,He)}else{const rn=!0===Ce.isWebGLMultipleRenderTargets?Ce.texture:[Ce.texture];for(let mn=0;mn<rn.length;mn++){const Fn=rn[mn],Nr=o.convert(Fn.format,Fn.encoding),Gt=o.convert(Fn.type),yr=ne(Fn.internalFormat,Nr,Gt,Fn.encoding),nr=In(Ce);Vt&&!1===cn(Ce)?n.renderbufferStorageMultisample(36161,nr,yr,Ce.width,Ce.height):cn(Ce)?g.renderbufferStorageMultisampleEXT(36161,nr,yr,Ce.width,Ce.height):n.renderbufferStorage(36161,yr,Ce.width,Ce.height)}}n.bindRenderbuffer(36161,null)}function Tt(He){const Ce=r.get(He),Vt=!0===He.isWebGLCubeRenderTarget;if(He.depthTexture&&!Ce.__autoAllocateDepthBuffer){if(Vt)throw new Error("target.depthTexture not supported in Cube render targets");!function mt(He,Ce){if(Ce&&Ce.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,He),!Ce.depthTexture||!Ce.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Ce.depthTexture).__webglTexture||Ce.depthTexture.image.width!==Ce.width||Ce.depthTexture.image.height!==Ce.height)&&(Ce.depthTexture.image.width=Ce.width,Ce.depthTexture.image.height=Ce.height,Ce.depthTexture.needsUpdate=!0),Q(Ce.depthTexture,0);const rn=r.get(Ce.depthTexture).__webglTexture,mn=In(Ce);if(Ce.depthTexture.format===Ob)cn(Ce)?g.framebufferTexture2DMultisampleEXT(36160,36096,3553,rn,0,mn):n.framebufferTexture2D(36160,36096,3553,rn,0);else{if(Ce.depthTexture.format!==yM)throw new Error("Unknown depthTexture format");cn(Ce)?g.framebufferTexture2DMultisampleEXT(36160,33306,3553,rn,0,mn):n.framebufferTexture2D(36160,33306,3553,rn,0)}}(Ce.__webglFramebuffer,He)}else if(Vt){Ce.__webglDepthbuffer=[];for(let rn=0;rn<6;rn++)t.bindFramebuffer(36160,Ce.__webglFramebuffer[rn]),Ce.__webglDepthbuffer[rn]=n.createRenderbuffer(),en(Ce.__webglDepthbuffer[rn],He,!1)}else t.bindFramebuffer(36160,Ce.__webglFramebuffer),Ce.__webglDepthbuffer=n.createRenderbuffer(),en(Ce.__webglDepthbuffer,He,!1);t.bindFramebuffer(36160,null)}function In(He){return Math.min(p,He.samples)}function cn(He){const Ce=r.get(He);return a&&He.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Ce.__useRenderToTexture}function Un(He,Ce){const Vt=He.encoding,rn=He.format,mn=He.type;return!0===He.isCompressedTexture||!0===He.isVideoTexture||1035===He.format||Vt!==kb&&(Vt===ma?!1===a?!0===e.has("EXT_sRGB")&&rn===th?(He.format=1035,He.minFilter=$a,He.generateMipmaps=!1):Ce=iee.sRGBToLinear(Ce):(rn!==th||mn!==Db)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Vt)),Ce}this.allocateTextureUnit=function Ye(){const He=be;return He>=u&&console.warn("THREE.WebGLTextures: Trying to use "+He+" texture units while this GPU supports only "+u),be+=1,He},this.resetTextureUnits=function Oe(){be=0},this.setTexture2D=Q,this.setTexture2DArray=function he(He,Ce){const Vt=r.get(He);He.version>0&&Vt.__version!==He.version?Wt(Vt,He,Ce):(t.activeTexture(33984+Ce),t.bindTexture(35866,Vt.__webglTexture))},this.setTexture3D=function ge(He,Ce){const Vt=r.get(He);He.version>0&&Vt.__version!==He.version?Wt(Vt,He,Ce):(t.activeTexture(33984+Ce),t.bindTexture(32879,Vt.__webglTexture))},this.setTextureCube=function Me(He,Ce){const Vt=r.get(He);He.version>0&&Vt.__version!==He.version?function Nt(He,Ce,Vt){if(6!==Ce.image.length)return;const rn=Rt(He,Ce),mn=Ce.source;if(t.activeTexture(33984+Vt),t.bindTexture(34067,He.__webglTexture),mn.version!==mn.__currentVersion||!0===rn){n.pixelStorei(37440,Ce.flipY),n.pixelStorei(37441,Ce.premultiplyAlpha),n.pixelStorei(3317,Ce.unpackAlignment),n.pixelStorei(37443,0);const Fn=Ce.isCompressedTexture||Ce.image[0].isCompressedTexture,Nr=Ce.image[0]&&Ce.image[0].isDataTexture,Gt=[];for(let Tn=0;Tn<6;Tn++)Gt[Tn]=Fn||Nr?Nr?Ce.image[Tn].image:Ce.image[Tn]:V(Ce.image[Tn],!1,!0,c),Gt[Tn]=Un(Ce,Gt[Tn]);const yr=Gt[0],nr=z(yr)||a,er=o.convert(Ce.format,Ce.encoding),yt=o.convert(Ce.type),Wn=ne(Ce.internalFormat,er,yt,Ce.encoding),Hn=a&&!0!==Ce.isVideoTexture,Yr=void 0===mn.__currentVersion||!0===rn;let Or,sr=pe(Ce,yr,nr);if(tt(34067,Ce,nr),Fn){Hn&&Yr&&t.texStorage2D(34067,sr,Wn,yr.width,yr.height);for(let Tn=0;Tn<6;Tn++){Or=Gt[Tn].mipmaps;for(let Gn=0;Gn<Or.length;Gn++){const ar=Or[Gn];Ce.format!==th?null!==er?Hn?t.compressedTexSubImage2D(34069+Tn,Gn,0,0,ar.width,ar.height,er,ar.data):t.compressedTexImage2D(34069+Tn,Gn,Wn,ar.width,ar.height,0,ar.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Hn?t.texSubImage2D(34069+Tn,Gn,0,0,ar.width,ar.height,er,yt,ar.data):t.texImage2D(34069+Tn,Gn,Wn,ar.width,ar.height,0,er,yt,ar.data)}}}else{Or=Ce.mipmaps,Hn&&Yr&&(Or.length>0&&sr++,t.texStorage2D(34067,sr,Wn,Gt[0].width,Gt[0].height));for(let Tn=0;Tn<6;Tn++)if(Nr){Hn?t.texSubImage2D(34069+Tn,0,0,0,Gt[Tn].width,Gt[Tn].height,er,yt,Gt[Tn].data):t.texImage2D(34069+Tn,0,Wn,Gt[Tn].width,Gt[Tn].height,0,er,yt,Gt[Tn].data);for(let Gn=0;Gn<Or.length;Gn++){const ri=Or[Gn].image[Tn].image;Hn?t.texSubImage2D(34069+Tn,Gn+1,0,0,ri.width,ri.height,er,yt,ri.data):t.texImage2D(34069+Tn,Gn+1,Wn,ri.width,ri.height,0,er,yt,ri.data)}}else{Hn?t.texSubImage2D(34069+Tn,0,0,0,er,yt,Gt[Tn]):t.texImage2D(34069+Tn,0,Wn,er,yt,Gt[Tn]);for(let Gn=0;Gn<Or.length;Gn++){const ar=Or[Gn];Hn?t.texSubImage2D(34069+Tn,Gn+1,0,0,er,yt,ar.image[Tn]):t.texImage2D(34069+Tn,Gn+1,Wn,er,yt,ar.image[Tn])}}}re(Ce,nr)&&me(34067),mn.__currentVersion=mn.version,Ce.onUpdate&&Ce.onUpdate(Ce)}He.__version=Ce.version}(Vt,He,Ce):(t.activeTexture(33984+Ce),t.bindTexture(34067,Vt.__webglTexture))},this.rebindTextures=function Kt(He,Ce,Vt){const rn=r.get(He);void 0!==Ce&&bt(rn.__webglFramebuffer,He,He.texture,36064,3553),void 0!==Vt&&Tt(He)},this.setupRenderTarget=function Cn(He){const Ce=He.texture,Vt=r.get(He),rn=r.get(Ce);He.addEventListener("dispose",ot),!0!==He.isWebGLMultipleRenderTargets&&(void 0===rn.__webglTexture&&(rn.__webglTexture=n.createTexture()),rn.__version=Ce.version,s.memory.textures++);const mn=!0===He.isWebGLCubeRenderTarget,Fn=!0===He.isWebGLMultipleRenderTargets,Nr=z(He)||a;if(mn){Vt.__webglFramebuffer=[];for(let Gt=0;Gt<6;Gt++)Vt.__webglFramebuffer[Gt]=n.createFramebuffer()}else{if(Vt.__webglFramebuffer=n.createFramebuffer(),Fn)if(i.drawBuffers){const Gt=He.texture;for(let yr=0,nr=Gt.length;yr<nr;yr++){const er=r.get(Gt[yr]);void 0===er.__webglTexture&&(er.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&He.samples>0&&!1===cn(He)){const Gt=Fn?Ce:[Ce];Vt.__webglMultisampledFramebuffer=n.createFramebuffer(),Vt.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Vt.__webglMultisampledFramebuffer);for(let yr=0;yr<Gt.length;yr++){const nr=Gt[yr];Vt.__webglColorRenderbuffer[yr]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Vt.__webglColorRenderbuffer[yr]);const er=o.convert(nr.format,nr.encoding),yt=o.convert(nr.type),Wn=ne(nr.internalFormat,er,yt,nr.encoding),Hn=In(He);n.renderbufferStorageMultisample(36161,Hn,Wn,He.width,He.height),n.framebufferRenderbuffer(36160,36064+yr,36161,Vt.__webglColorRenderbuffer[yr])}n.bindRenderbuffer(36161,null),He.depthBuffer&&(Vt.__webglDepthRenderbuffer=n.createRenderbuffer(),en(Vt.__webglDepthRenderbuffer,He,!0)),t.bindFramebuffer(36160,null)}}if(mn){t.bindTexture(34067,rn.__webglTexture),tt(34067,Ce,Nr);for(let Gt=0;Gt<6;Gt++)bt(Vt.__webglFramebuffer[Gt],He,Ce,36064,34069+Gt);re(Ce,Nr)&&me(34067),t.unbindTexture()}else if(Fn){const Gt=He.texture;for(let yr=0,nr=Gt.length;yr<nr;yr++){const er=Gt[yr],yt=r.get(er);t.bindTexture(3553,yt.__webglTexture),tt(3553,er,Nr),bt(Vt.__webglFramebuffer,He,er,36064+yr,3553),re(er,Nr)&&me(3553)}t.unbindTexture()}else{let Gt=3553;(He.isWebGL3DRenderTarget||He.isWebGLArrayRenderTarget)&&(a?Gt=He.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Gt,rn.__webglTexture),tt(Gt,Ce,Nr),bt(Vt.__webglFramebuffer,He,Ce,36064,Gt),re(Ce,Nr)&&me(Gt),t.unbindTexture()}He.depthBuffer&&Tt(He)},this.updateRenderTargetMipmap=function _n(He){const Ce=z(He)||a,Vt=!0===He.isWebGLMultipleRenderTargets?He.texture:[He.texture];for(let rn=0,mn=Vt.length;rn<mn;rn++){const Fn=Vt[rn];if(re(Fn,Ce)){const Nr=He.isWebGLCubeRenderTarget?34067:3553,Gt=r.get(Fn).__webglTexture;t.bindTexture(Nr,Gt),me(Nr),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Qn(He){if(a&&He.samples>0&&!1===cn(He)){const Ce=He.isWebGLMultipleRenderTargets?He.texture:[He.texture],Vt=He.width,rn=He.height;let mn=16384;const Fn=[],Nr=He.stencilBuffer?33306:36096,Gt=r.get(He),yr=!0===He.isWebGLMultipleRenderTargets;if(yr)for(let nr=0;nr<Ce.length;nr++)t.bindFramebuffer(36160,Gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+nr,36161,null),t.bindFramebuffer(36160,Gt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+nr,3553,null,0);t.bindFramebuffer(36008,Gt.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Gt.__webglFramebuffer);for(let nr=0;nr<Ce.length;nr++){Fn.push(36064+nr),He.depthBuffer&&Fn.push(Nr);const er=void 0!==Gt.__ignoreDepthValues&&Gt.__ignoreDepthValues;if(!1===er&&(He.depthBuffer&&(mn|=256),He.stencilBuffer&&(mn|=1024)),yr&&n.framebufferRenderbuffer(36008,36064,36161,Gt.__webglColorRenderbuffer[nr]),!0===er&&(n.invalidateFramebuffer(36008,[Nr]),n.invalidateFramebuffer(36009,[Nr])),yr){const yt=r.get(Ce[nr]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,yt,0)}n.blitFramebuffer(0,0,Vt,rn,0,0,Vt,rn,mn,9728),v&&n.invalidateFramebuffer(36008,Fn)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),yr)for(let nr=0;nr<Ce.length;nr++){t.bindFramebuffer(36160,Gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+nr,36161,Gt.__webglColorRenderbuffer[nr]);const er=r.get(Ce[nr]).__webglTexture;t.bindFramebuffer(36160,Gt.__webglFramebuffer),n.framebufferTexture2D(36009,36064+nr,3553,er,0)}t.bindFramebuffer(36009,Gt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Tt,this.setupFrameBufferTexture=bt,this.useMultisampledRTT=cn}function OOe(n,e,t){const r=t.isWebGL2;return{convert:function i(o,s=null){let a;if(o===Db)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(o===Ab)return 5125;if(o===Zy)return 5126;if(o===kR)return r?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===th)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===Ob)return 6402;if(o===yM)return 34041;if(1028===o)return 6403;if(1022===o)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===o)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o)if(s===ma){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return s===ma?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return s===ma?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return s===ma?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return o===gM?r?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class kOe extends bu{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ji extends zu{constructor(){super(),this.isGroup=!0,this.type="Group"}}const POe={type:"move"};class tW{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ji,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ji,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ji,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){s=!0;for(const M of e.hand.values()){const C=t.getJointPose(M,r);if(void 0===c.joints[M.jointName]){const H=new ji;H.matrixAutoUpdate=!1,H.visible=!1,c.joints[M.jointName]=H,c.add(H)}const L=c.joints[M.jointName];null!==C&&(L.matrix.fromArray(C.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale),L.jointRadius=C.radius),L.visible=null!==C}const g=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),v=.02,w=.005;c.inputState.pinching&&g>v+w?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=v-w&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),null!==o&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==o&&(i=o),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(POe)))}return null!==a&&(a.visible=null!==i),null!==u&&(u.visible=null!==o),null!==c&&(c.visible=null!==s),this}}class LOe extends qy{constructor(e,t,r,i,o,s,a,u,c,f){if((f=void 0!==f?f:Ob)!==Ob&&f!==yM)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&f===Ob&&(r=Ab),void 0===r&&f===yM&&(r=gM),super(null,i,o,s,a,u,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:ml,this.minFilter=void 0!==u?u:ml,this.flipY=!1,this.generateMipmaps=!1}}class IOe extends wM{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",u=null,c=null,f=null,p=null,g=null,v=null;const w=t.getContextAttributes();let M=null,C=null;const L=[],H=[],V=new bu;V.layers.enable(1),V.viewport=new us;const z=new bu;z.layers.enable(2),z.viewport=new us;const X=[V,z],re=new kOe;re.layers.enable(1),re.layers.enable(2);let me=null,ne=null;function pe(Y){const Q=H.indexOf(Y.inputSource);if(-1===Q)return;const he=L[Q];void 0!==he&&he.dispatchEvent({type:Y.type,data:Y.inputSource})}function Se(){i.removeEventListener("select",pe),i.removeEventListener("selectstart",pe),i.removeEventListener("selectend",pe),i.removeEventListener("squeeze",pe),i.removeEventListener("squeezestart",pe),i.removeEventListener("squeezeend",pe),i.removeEventListener("end",Se),i.removeEventListener("inputsourceschange",Ie);for(let Y=0;Y<L.length;Y++){const Q=H[Y];null!==Q&&(H[Y]=null,L[Y].disconnect(Q))}me=null,ne=null,e.setRenderTarget(M),g=null,p=null,f=null,i=null,C=null,Ye.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function Ie(Y){for(let Q=0;Q<Y.removed.length;Q++){const he=Y.removed[Q],ge=H.indexOf(he);ge>=0&&(H[ge]=null,L[ge].dispatchEvent({type:"disconnected",data:he}))}for(let Q=0;Q<Y.added.length;Q++){const he=Y.added[Q];let ge=H.indexOf(he);if(-1===ge){for(let Xe=0;Xe<L.length;Xe++){if(Xe>=H.length){H.push(he),ge=Xe;break}if(null===H[Xe]){H[Xe]=he,ge=Xe;break}}if(-1===ge)break}const Me=L[ge];Me&&Me.dispatchEvent({type:"connected",data:he})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Q=L[Y];return void 0===Q&&(Q=new tW,L[Y]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(Y){let Q=L[Y];return void 0===Q&&(Q=new tW,L[Y]=Q),Q.getGripSpace()},this.getHand=function(Y){let Q=L[Y];return void 0===Q&&(Q=new tW,L[Y]=Q),Q.getHandSpace()},this.setFramebufferScaleFactor=function(Y){o=Y,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(Y){u=Y},this.getBaseLayer=function(){return null!==p?p:g},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=function(){var Y=(0,uTe.Z)(function*(Q){if(i=Q,null!==i){if(M=e.getRenderTarget(),i.addEventListener("select",pe),i.addEventListener("selectstart",pe),i.addEventListener("selectend",pe),i.addEventListener("squeeze",pe),i.addEventListener("squeezestart",pe),i.addEventListener("squeezeend",pe),i.addEventListener("end",Se),i.addEventListener("inputsourceschange",Ie),!0!==w.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)g=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||w.antialias,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:o}),i.updateRenderState({baseLayer:g}),C=new Nb(g.framebufferWidth,g.framebufferHeight,{format:th,type:Db,encoding:e.outputEncoding});else{let he=null,ge=null,Me=null;w.depth&&(Me=w.stencil?35056:33190,he=w.stencil?yM:Ob,ge=w.stencil?gM:Ab);const Xe={colorFormat:32856,depthFormat:Me,scaleFactor:o};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Xe),i.updateRenderState({layers:[p]}),C=new Nb(p.textureWidth,p.textureHeight,{format:th,type:Db,depthTexture:new LOe(p.textureWidth,p.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(1),u=null,s=yield i.requestReferenceSpace(a),Ye.setContext(i),Ye.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(Q){return Y.apply(this,arguments)}}();const ot=new je,at=new je;function vt(Y,Q){null===Q?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Q.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(null===i)return;re.near=z.near=V.near=Y.near,re.far=z.far=V.far=Y.far,(me!==re.near||ne!==re.far)&&(i.updateRenderState({depthNear:re.near,depthFar:re.far}),me=re.near,ne=re.far);const Q=Y.parent,he=re.cameras;vt(re,Q);for(let Me=0;Me<he.length;Me++)vt(he[Me],Q);re.matrixWorld.decompose(re.position,re.quaternion,re.scale),Y.position.copy(re.position),Y.quaternion.copy(re.quaternion),Y.scale.copy(re.scale),Y.matrix.copy(re.matrix),Y.matrixWorld.copy(re.matrixWorld);const ge=Y.children;for(let Me=0,Xe=ge.length;Me<Xe;Me++)ge[Me].updateMatrixWorld(!0);2===he.length?function ze(Y,Q,he){ot.setFromMatrixPosition(Q.matrixWorld),at.setFromMatrixPosition(he.matrixWorld);const ge=ot.distanceTo(at),Me=Q.projectionMatrix.elements,Xe=he.projectionMatrix.elements,Je=Me[14]/(Me[10]-1),tt=Me[14]/(Me[10]+1),Rt=(Me[9]+1)/Me[5],Wt=(Me[9]-1)/Me[5],Nt=(Me[8]-1)/Me[0],bt=(Xe[8]+1)/Xe[0],en=Je*Nt,mt=Je*bt,Tt=ge/(-Nt+bt),Kt=Tt*-Nt;Q.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Kt),Y.translateZ(Tt),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Cn=Je+Tt,_n=tt+Tt;Y.projectionMatrix.makePerspective(en-Kt,mt+(ge-Kt),Rt*tt/_n*Cn,Wt*tt/_n*Cn,Cn,_n)}(re,V,z):re.projectionMatrix.copy(V.projectionMatrix)},this.getCamera=function(){return re},this.getFoveation=function(){return null!==p?p.fixedFoveation:null!==g?g.fixedFoveation:void 0},this.setFoveation=function(Y){null!==p&&(p.fixedFoveation=Y),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=Y)};let be=null;const Ye=new _ee;Ye.setAnimationLoop(function Oe(Y,Q){if(c=Q.getViewerPose(u||s),v=Q,null!==c){const he=c.views;null!==g&&(e.setRenderTargetFramebuffer(C,g.framebuffer),e.setRenderTarget(C));let ge=!1;he.length!==re.cameras.length&&(re.cameras.length=0,ge=!0);for(let Me=0;Me<he.length;Me++){const Xe=he[Me];let Je=null;if(null!==g)Je=g.getViewport(Xe);else{const Rt=f.getViewSubImage(p,Xe);Je=Rt.viewport,0===Me&&(e.setRenderTargetTextures(C,Rt.colorTexture,p.ignoreDepthValues?void 0:Rt.depthStencilTexture),e.setRenderTarget(C))}let tt=X[Me];void 0===tt&&(tt=new bu,tt.layers.enable(Me),tt.viewport=new us,X[Me]=tt),tt.matrix.fromArray(Xe.transform.matrix),tt.projectionMatrix.fromArray(Xe.projectionMatrix),tt.viewport.set(Je.x,Je.y,Je.width,Je.height),0===Me&&re.matrix.copy(tt.matrix),!0===ge&&re.cameras.push(tt)}}for(let he=0;he<L.length;he++){const ge=H[he],Me=L[he];null!==ge&&void 0!==Me&&Me.update(ge,Q,u||s)}be&&be(Y,Q),v=null}),this.setAnimationLoop=function(Y){be=Y},this.dispose=function(){}}}function NOe(n,e){function i(M,C){M.opacity.value=C.opacity,C.color&&M.diffuse.value.copy(C.color),C.emissive&&M.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.bumpMap&&(M.bumpMap.value=C.bumpMap,M.bumpScale.value=C.bumpScale,1===C.side&&(M.bumpScale.value*=-1)),C.displacementMap&&(M.displacementMap.value=C.displacementMap,M.displacementScale.value=C.displacementScale,M.displacementBias.value=C.displacementBias),C.emissiveMap&&(M.emissiveMap.value=C.emissiveMap),C.normalMap&&(M.normalMap.value=C.normalMap,M.normalScale.value.copy(C.normalScale),1===C.side&&M.normalScale.value.negate()),C.specularMap&&(M.specularMap.value=C.specularMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest);const L=e.get(C).envMap;if(L&&(M.envMap.value=L,M.flipEnvMap.value=L.isCubeTexture&&!1===L.isRenderTargetTexture?-1:1,M.reflectivity.value=C.reflectivity,M.ior.value=C.ior,M.refractionRatio.value=C.refractionRatio),C.lightMap){M.lightMap.value=C.lightMap;const z=!0!==n.physicallyCorrectLights?Math.PI:1;M.lightMapIntensity.value=C.lightMapIntensity*z}let H,V;C.aoMap&&(M.aoMap.value=C.aoMap,M.aoMapIntensity.value=C.aoMapIntensity),C.map?H=C.map:C.specularMap?H=C.specularMap:C.displacementMap?H=C.displacementMap:C.normalMap?H=C.normalMap:C.bumpMap?H=C.bumpMap:C.roughnessMap?H=C.roughnessMap:C.metalnessMap?H=C.metalnessMap:C.alphaMap?H=C.alphaMap:C.emissiveMap?H=C.emissiveMap:C.clearcoatMap?H=C.clearcoatMap:C.clearcoatNormalMap?H=C.clearcoatNormalMap:C.clearcoatRoughnessMap?H=C.clearcoatRoughnessMap:C.iridescenceMap?H=C.iridescenceMap:C.iridescenceThicknessMap?H=C.iridescenceThicknessMap:C.specularIntensityMap?H=C.specularIntensityMap:C.specularColorMap?H=C.specularColorMap:C.transmissionMap?H=C.transmissionMap:C.thicknessMap?H=C.thicknessMap:C.sheenColorMap?H=C.sheenColorMap:C.sheenRoughnessMap&&(H=C.sheenRoughnessMap),void 0!==H&&(H.isWebGLRenderTarget&&(H=H.texture),!0===H.matrixAutoUpdate&&H.updateMatrix(),M.uvTransform.value.copy(H.matrix)),C.aoMap?V=C.aoMap:C.lightMap&&(V=C.lightMap),void 0!==V&&(V.isWebGLRenderTarget&&(V=V.texture),!0===V.matrixAutoUpdate&&V.updateMatrix(),M.uv2Transform.value.copy(V.matrix))}return{refreshFogUniforms:function t(M,C){M.fogColor.value.copy(C.color),C.isFog?(M.fogNear.value=C.near,M.fogFar.value=C.far):C.isFogExp2&&(M.fogDensity.value=C.density)},refreshMaterialUniforms:function r(M,C,L,H,V){C.isMeshBasicMaterial||C.isMeshLambertMaterial?i(M,C):C.isMeshToonMaterial?(i(M,C),function f(M,C){C.gradientMap&&(M.gradientMap.value=C.gradientMap)}(M,C)):C.isMeshPhongMaterial?(i(M,C),function c(M,C){M.specular.value.copy(C.specular),M.shininess.value=Math.max(C.shininess,1e-4)}(M,C)):C.isMeshStandardMaterial?(i(M,C),function p(M,C){M.roughness.value=C.roughness,M.metalness.value=C.metalness,C.roughnessMap&&(M.roughnessMap.value=C.roughnessMap),C.metalnessMap&&(M.metalnessMap.value=C.metalnessMap),e.get(C).envMap&&(M.envMapIntensity.value=C.envMapIntensity)}(M,C),C.isMeshPhysicalMaterial&&function g(M,C,L){M.ior.value=C.ior,C.sheen>0&&(M.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),M.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(M.sheenColorMap.value=C.sheenColorMap),C.sheenRoughnessMap&&(M.sheenRoughnessMap.value=C.sheenRoughnessMap)),C.clearcoat>0&&(M.clearcoat.value=C.clearcoat,M.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(M.clearcoatMap.value=C.clearcoatMap),C.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap),C.clearcoatNormalMap&&(M.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),M.clearcoatNormalMap.value=C.clearcoatNormalMap,1===C.side&&M.clearcoatNormalScale.value.negate())),C.iridescence>0&&(M.iridescence.value=C.iridescence,M.iridescenceIOR.value=C.iridescenceIOR,M.iridescenceThicknessMinimum.value=C.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=C.iridescenceThicknessRange[1],C.iridescenceMap&&(M.iridescenceMap.value=C.iridescenceMap),C.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=C.iridescenceThicknessMap)),C.transmission>0&&(M.transmission.value=C.transmission,M.transmissionSamplerMap.value=L.texture,M.transmissionSamplerSize.value.set(L.width,L.height),C.transmissionMap&&(M.transmissionMap.value=C.transmissionMap),M.thickness.value=C.thickness,C.thicknessMap&&(M.thicknessMap.value=C.thicknessMap),M.attenuationDistance.value=C.attenuationDistance,M.attenuationColor.value.copy(C.attenuationColor)),M.specularIntensity.value=C.specularIntensity,M.specularColor.value.copy(C.specularColor),C.specularIntensityMap&&(M.specularIntensityMap.value=C.specularIntensityMap),C.specularColorMap&&(M.specularColorMap.value=C.specularColorMap)}(M,C,V)):C.isMeshMatcapMaterial?(i(M,C),function v(M,C){C.matcap&&(M.matcap.value=C.matcap)}(M,C)):C.isMeshDepthMaterial?i(M,C):C.isMeshDistanceMaterial?(i(M,C),function w(M,C){M.referencePosition.value.copy(C.referencePosition),M.nearDistance.value=C.nearDistance,M.farDistance.value=C.farDistance}(M,C)):C.isMeshNormalMaterial?i(M,C):C.isLineBasicMaterial?(function o(M,C){M.diffuse.value.copy(C.color),M.opacity.value=C.opacity}(M,C),C.isLineDashedMaterial&&function s(M,C){M.dashSize.value=C.dashSize,M.totalSize.value=C.dashSize+C.gapSize,M.scale.value=C.scale}(M,C)):C.isPointsMaterial?function a(M,C,L,H){let V;M.diffuse.value.copy(C.color),M.opacity.value=C.opacity,M.size.value=C.size*L,M.scale.value=.5*H,C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest),C.map?V=C.map:C.alphaMap&&(V=C.alphaMap),void 0!==V&&(!0===V.matrixAutoUpdate&&V.updateMatrix(),M.uvTransform.value.copy(V.matrix))}(M,C,L,H):C.isSpriteMaterial?function u(M,C){let L;M.diffuse.value.copy(C.color),M.opacity.value=C.opacity,M.rotation.value=C.rotation,C.map&&(M.map.value=C.map),C.alphaMap&&(M.alphaMap.value=C.alphaMap),C.alphaTest>0&&(M.alphaTest.value=C.alphaTest),C.map?L=C.map:C.alphaMap&&(L=C.alphaMap),void 0!==L&&(!0===L.matrixAutoUpdate&&L.updateMatrix(),M.uvTransform.value.copy(L.matrix))}(M,C):C.isShadowMaterial?(M.color.value.copy(C.color),M.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}}}function Xee(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function FOe(){const n=IR("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,r=void 0===n.depth||n.depth,i=void 0===n.stencil||n.stencil,o=void 0!==n.antialias&&n.antialias,s=void 0===n.premultipliedAlpha||n.premultipliedAlpha,a=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,u=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let f;f=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let p=null,g=null;const v=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=kb,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const M=this;let C=!1,L=0,H=0,V=null,z=-1,X=null;const re=new us,me=new us;let ne=null,pe=e.width,Se=e.height,Ie=1,ot=null,at=null;const ze=new us(0,0,pe,Se),vt=new us(0,0,pe,Se);let be=!1;const Oe=new KU;let Ye=!1,Y=!1,Q=null;const he=new so,ge=new xn,Me=new je,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Je(){return null===V?Ie:1}let Wt,Nt,bt,en,mt,Tt,Kt,Cn,_n,Qn,In,cn,En,Un,He,Ce,Vt,rn,mn,Fn,Nr,Gt,yr,tt=t;function Rt(Be,zt){for(let Jt=0;Jt<Be.length;Jt++){const hn=e.getContext(Be[Jt],zt);if(null!==hn)return hn}return null}try{const Be={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r142"),e.addEventListener("webglcontextlost",yt,!1),e.addEventListener("webglcontextrestored",Wn,!1),e.addEventListener("webglcontextcreationerror",Hn,!1),null===tt){const zt=["webgl2","webgl","experimental-webgl"];if(!0===M.isWebGL1Renderer&&zt.shift(),tt=Rt(zt,Be),null===tt)throw Rt(zt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===tt.getShaderPrecisionFormat&&(tt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Be){throw console.error("THREE.WebGLRenderer: "+Be.message),Be}function nr(){Wt=new ZDe(tt),Nt=new WDe(tt,Wt,n),Wt.init(Nt),Gt=new OOe(tt,Wt,Nt),bt=new DOe(tt,Wt,Nt),en=new QDe,mt=new yOe,Tt=new AOe(tt,Wt,bt,mt,Nt,Gt,en),Kt=new GDe(M),Cn=new XDe(M),_n=new U1e(tt,Nt),yr=new jDe(tt,Wt,_n,Nt),Qn=new qDe(tt,_n,en,yr),In=new rAe(tt,Qn,_n,en),mn=new nAe(tt,Nt,Tt),Ce=new YDe(mt),cn=new gOe(M,Kt,Cn,Wt,Nt,yr,Ce),En=new NOe(M,mt),Un=new _Oe,He=new COe(Wt,Nt),rn=new zDe(M,Kt,bt,In,f,s),Vt=new ROe(M,In,Nt),Fn=new UDe(tt,Wt,en,Nt),Nr=new JDe(tt,Wt,en,Nt),en.programs=cn.programs,M.capabilities=Nt,M.extensions=Wt,M.properties=mt,M.renderLists=Un,M.shadowMap=Vt,M.state=bt,M.info=en}nr();const er=new IOe(M,tt);function yt(Be){Be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Wn(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Be=en.autoReset,zt=Vt.enabled,Jt=Vt.autoUpdate,Yt=Vt.needsUpdate,hn=Vt.type;nr(),en.autoReset=Be,Vt.enabled=zt,Vt.autoUpdate=Jt,Vt.needsUpdate=Yt,Vt.type=hn}function Hn(Be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Be.statusMessage)}function Yr(Be){const zt=Be.target;zt.removeEventListener("dispose",Yr),function sr(Be){(function Or(Be){const zt=mt.get(Be).programs;void 0!==zt&&(zt.forEach(function(Jt){cn.releaseProgram(Jt)}),Be.isShaderMaterial&&cn.releaseShaderCache(Be))})(Be),mt.remove(Be)}(zt)}this.xr=er,this.getContext=function(){return tt},this.getContextAttributes=function(){return tt.getContextAttributes()},this.forceContextLoss=function(){const Be=Wt.get("WEBGL_lose_context");Be&&Be.loseContext()},this.forceContextRestore=function(){const Be=Wt.get("WEBGL_lose_context");Be&&Be.restoreContext()},this.getPixelRatio=function(){return Ie},this.setPixelRatio=function(Be){void 0!==Be&&(Ie=Be,this.setSize(pe,Se,!1))},this.getSize=function(Be){return Be.set(pe,Se)},this.setSize=function(Be,zt,Jt){er.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(pe=Be,Se=zt,e.width=Math.floor(Be*Ie),e.height=Math.floor(zt*Ie),!1!==Jt&&(e.style.width=Be+"px",e.style.height=zt+"px"),this.setViewport(0,0,Be,zt))},this.getDrawingBufferSize=function(Be){return Be.set(pe*Ie,Se*Ie).floor()},this.setDrawingBufferSize=function(Be,zt,Jt){pe=Be,Se=zt,Ie=Jt,e.width=Math.floor(Be*Jt),e.height=Math.floor(zt*Jt),this.setViewport(0,0,Be,zt)},this.getCurrentViewport=function(Be){return Be.copy(re)},this.getViewport=function(Be){return Be.copy(ze)},this.setViewport=function(Be,zt,Jt,Yt){Be.isVector4?ze.set(Be.x,Be.y,Be.z,Be.w):ze.set(Be,zt,Jt,Yt),bt.viewport(re.copy(ze).multiplyScalar(Ie).floor())},this.getScissor=function(Be){return Be.copy(vt)},this.setScissor=function(Be,zt,Jt,Yt){Be.isVector4?vt.set(Be.x,Be.y,Be.z,Be.w):vt.set(Be,zt,Jt,Yt),bt.scissor(me.copy(vt).multiplyScalar(Ie).floor())},this.getScissorTest=function(){return be},this.setScissorTest=function(Be){bt.setScissorTest(be=Be)},this.setOpaqueSort=function(Be){ot=Be},this.setTransparentSort=function(Be){at=Be},this.getClearColor=function(Be){return Be.copy(rn.getClearColor())},this.setClearColor=function(){rn.setClearColor.apply(rn,arguments)},this.getClearAlpha=function(){return rn.getClearAlpha()},this.setClearAlpha=function(){rn.setClearAlpha.apply(rn,arguments)},this.clear=function(Be=!0,zt=!0,Jt=!0){let Yt=0;Be&&(Yt|=16384),zt&&(Yt|=256),Jt&&(Yt|=1024),tt.clear(Yt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",yt,!1),e.removeEventListener("webglcontextrestored",Wn,!1),e.removeEventListener("webglcontextcreationerror",Hn,!1),Un.dispose(),He.dispose(),mt.dispose(),Kt.dispose(),Cn.dispose(),In.dispose(),yr.dispose(),cn.dispose(),er.dispose(),er.removeEventListener("sessionstart",ar),er.removeEventListener("sessionend",ri),Q&&(Q.dispose(),Q=null),Ki.stop()},this.renderBufferDirect=function(Be,zt,Jt,Yt,hn,qr){null===zt&&(zt=Xe);const ai=hn.isMesh&&hn.matrixWorld.determinant()<0,hi=function _h(Be,zt,Jt,Yt,hn){!0!==zt.isScene&&(zt=Xe),Tt.resetTextureUnits();const qr=zt.fog,hi=null===V?M.outputEncoding:!0===V.isXRRenderTarget?V.texture.encoding:kb,Jr=(Yt.isMeshStandardMaterial?Cn:Kt).get(Yt.envMap||(Yt.isMeshStandardMaterial?zt.environment:null)),Xi=!0===Yt.vertexColors&&!!Jt.attributes.color&&4===Jt.attributes.color.itemSize,Mo=!!Yt.normalMap&&!!Jt.attributes.tangent,Oo=!!Jt.morphAttributes.position,Ts=!!Jt.morphAttributes.normal,bh=!!Jt.morphAttributes.color,Rp=Yt.toneMapped?M.toneMapping:0,Hl=Jt.morphAttributes.position||Jt.morphAttributes.normal||Jt.morphAttributes.color,Bl=void 0!==Hl?Hl.length:0,fo=mt.get(Yt),Nc=g.state.lights;!0!==Ye||!0!==Y&&Be===X||Ce.setState(Yt,Be,Be===X&&Yt.id===z);let $s=!1;Yt.version===fo.__version?(fo.needsLights&&fo.lightsStateVersion!==Nc.state.version||fo.outputEncoding!==hi||hn.isInstancedMesh&&!1===fo.instancing||!hn.isInstancedMesh&&!0===fo.instancing||hn.isSkinnedMesh&&!1===fo.skinning||!hn.isSkinnedMesh&&!0===fo.skinning||fo.envMap!==Jr||!0===Yt.fog&&fo.fog!==qr||void 0!==fo.numClippingPlanes&&(fo.numClippingPlanes!==Ce.numPlanes||fo.numIntersection!==Ce.numIntersection)||fo.vertexAlphas!==Xi||fo.vertexTangents!==Mo||fo.morphTargets!==Oo||fo.morphNormals!==Ts||fo.morphColors!==bh||fo.toneMapping!==Rp||!0===Nt.isWebGL2&&fo.morphTargetsCount!==Bl)&&($s=!0):($s=!0,fo.__version=Yt.version);let Fc=fo.currentProgram;!0===$s&&(Fc=Qa(Yt,zt,hn));let Ei=!1,wh=!1,$v=!1;const Vl=Fc.getUniforms(),Kv=fo.uniforms;if(bt.useProgram(Fc.program)&&(Ei=!0,wh=!0,$v=!0),Yt.id!==z&&(z=Yt.id,wh=!0),Ei||X!==Be){if(Vl.setValue(tt,"projectionMatrix",Be.projectionMatrix),Nt.logarithmicDepthBuffer&&Vl.setValue(tt,"logDepthBufFC",2/(Math.log(Be.far+1)/Math.LN2)),X!==Be&&(X=Be,wh=!0,$v=!0),Yt.isShaderMaterial||Yt.isMeshPhongMaterial||Yt.isMeshToonMaterial||Yt.isMeshStandardMaterial||Yt.envMap){const el=Vl.map.cameraPosition;void 0!==el&&el.setValue(tt,Me.setFromMatrixPosition(Be.matrixWorld))}(Yt.isMeshPhongMaterial||Yt.isMeshToonMaterial||Yt.isMeshLambertMaterial||Yt.isMeshBasicMaterial||Yt.isMeshStandardMaterial||Yt.isShaderMaterial)&&Vl.setValue(tt,"isOrthographic",!0===Be.isOrthographicCamera),(Yt.isMeshPhongMaterial||Yt.isMeshToonMaterial||Yt.isMeshLambertMaterial||Yt.isMeshBasicMaterial||Yt.isMeshStandardMaterial||Yt.isShaderMaterial||Yt.isShadowMaterial||hn.isSkinnedMesh)&&Vl.setValue(tt,"viewMatrix",Be.matrixWorldInverse)}if(hn.isSkinnedMesh){Vl.setOptional(tt,hn,"bindMatrix"),Vl.setOptional(tt,hn,"bindMatrixInverse");const el=hn.skeleton;el&&(Nt.floatVertexTextures?(null===el.boneTexture&&el.computeBoneTexture(),Vl.setValue(tt,"boneTexture",el.boneTexture,Tt),Vl.setValue(tt,"boneTextureSize",el.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ec=Jt.morphAttributes;return(void 0!==ec.position||void 0!==ec.normal||void 0!==ec.color&&!0===Nt.isWebGL2)&&mn.update(hn,Jt,Yt,Fc),(wh||fo.receiveShadow!==hn.receiveShadow)&&(fo.receiveShadow=hn.receiveShadow,Vl.setValue(tt,"receiveShadow",hn.receiveShadow)),wh&&(Vl.setValue(tt,"toneMappingExposure",M.toneMappingExposure),fo.needsLights&&function Qu(Be,zt){Be.ambientLightColor.needsUpdate=zt,Be.lightProbe.needsUpdate=zt,Be.directionalLights.needsUpdate=zt,Be.directionalLightShadows.needsUpdate=zt,Be.pointLights.needsUpdate=zt,Be.pointLightShadows.needsUpdate=zt,Be.spotLights.needsUpdate=zt,Be.spotLightShadows.needsUpdate=zt,Be.rectAreaLights.needsUpdate=zt,Be.hemisphereLights.needsUpdate=zt}(Kv,$v),qr&&!0===Yt.fog&&En.refreshFogUniforms(Kv,qr),En.refreshMaterialUniforms(Kv,Yt,Ie,Se,Q),fN.upload(tt,fo.uniformsList,Kv,Tt)),Yt.isShaderMaterial&&!0===Yt.uniformsNeedUpdate&&(fN.upload(tt,fo.uniformsList,Kv,Tt),Yt.uniformsNeedUpdate=!1),Yt.isSpriteMaterial&&Vl.setValue(tt,"center",hn.center),Vl.setValue(tt,"modelViewMatrix",hn.modelViewMatrix),Vl.setValue(tt,"normalMatrix",hn.normalMatrix),Vl.setValue(tt,"modelMatrix",hn.matrixWorld),Fc}(Be,zt,Jt,Yt,hn);bt.setMaterial(Yt,ai);let Jr=Jt.index;const Xi=Jt.attributes.position;if(null===Jr){if(void 0===Xi||0===Xi.count)return}else if(0===Jr.count)return;let Mo=1;!0===Yt.wireframe&&(Jr=Qn.getWireframeAttribute(Jt),Mo=2),yr.setup(hn,Yt,hi,Jt,Jr);let Oo,Ts=Fn;null!==Jr&&(Oo=_n.get(Jr),Ts=Nr,Ts.setIndex(Oo));const bh=null!==Jr?Jr.count:Xi.count,Rp=Jt.drawRange.start*Mo,Hl=Jt.drawRange.count*Mo,Bl=null!==qr?qr.start*Mo:0,fo=null!==qr?qr.count*Mo:1/0,Nc=Math.max(Rp,Bl),$s=Math.min(bh,Rp+Hl,Bl+fo)-1,Fc=Math.max(0,$s-Nc+1);if(0!==Fc){if(hn.isMesh)!0===Yt.wireframe?(bt.setLineWidth(Yt.wireframeLinewidth*Je()),Ts.setMode(1)):Ts.setMode(4);else if(hn.isLine){let Ei=Yt.linewidth;void 0===Ei&&(Ei=1),bt.setLineWidth(Ei*Je()),Ts.setMode(hn.isLineSegments?1:hn.isLineLoop?2:3)}else hn.isPoints?Ts.setMode(0):hn.isSprite&&Ts.setMode(4);if(hn.isInstancedMesh)Ts.renderInstances(Nc,Fc,hn.count);else if(Jt.isInstancedBufferGeometry){const Ei=Math.min(Jt.instanceCount,Jt._maxInstanceCount);Ts.renderInstances(Nc,Fc,Ei)}else Ts.render(Nc,Fc)}},this.compile=function(Be,zt){g=He.get(Be),g.init(),w.push(g),Be.traverseVisible(function(Jt){Jt.isLight&&Jt.layers.test(zt.layers)&&(g.pushLight(Jt),Jt.castShadow&&g.pushShadow(Jt))}),g.setupLights(M.physicallyCorrectLights),Be.traverse(function(Jt){const Yt=Jt.material;if(Yt)if(Array.isArray(Yt))for(let hn=0;hn<Yt.length;hn++)Qa(Yt[hn],Be,Jt);else Qa(Yt,Be,Jt)}),w.pop(),g=null};let Tn=null;function ar(){Ki.stop()}function ri(){Ki.start()}const Ki=new _ee;function Li(Be,zt,Jt,Yt){if(!1===Be.visible)return;if(Be.layers.test(zt.layers))if(Be.isGroup)Jt=Be.renderOrder;else if(Be.isLOD)!0===Be.autoUpdate&&Be.update(zt);else if(Be.isLight)g.pushLight(Be),Be.castShadow&&g.pushShadow(Be);else if(Be.isSprite){if(!Be.frustumCulled||Oe.intersectsSprite(Be)){Yt&&Me.setFromMatrixPosition(Be.matrixWorld).applyMatrix4(he);const ai=In.update(Be),hi=Be.material;hi.visible&&p.push(Be,ai,hi,Jt,Me.z,null)}}else if((Be.isMesh||Be.isLine||Be.isPoints)&&(Be.isSkinnedMesh&&Be.skeleton.frame!==en.render.frame&&(Be.skeleton.update(),Be.skeleton.frame=en.render.frame),!Be.frustumCulled||Oe.intersectsObject(Be))){Yt&&Me.setFromMatrixPosition(Be.matrixWorld).applyMatrix4(he);const ai=In.update(Be),hi=Be.material;if(Array.isArray(hi)){const Jr=ai.groups;for(let Xi=0,Mo=Jr.length;Xi<Mo;Xi++){const Oo=Jr[Xi],Ts=hi[Oo.materialIndex];Ts&&Ts.visible&&p.push(Be,ai,Ts,Jt,Me.z,Oo)}}else hi.visible&&p.push(Be,ai,hi,Jt,Me.z,null)}const qr=Be.children;for(let ai=0,hi=qr.length;ai<hi;ai++)Li(qr[ai],zt,Jt,Yt)}function Lo(Be,zt,Jt,Yt){const hn=Be.opaque,qr=Be.transmissive,ai=Be.transparent;g.setupLightsView(Jt),qr.length>0&&function qo(Be,zt,Jt){const Yt=Nt.isWebGL2;null===Q&&(Q=new Nb(1,1,{generateMipmaps:!0,type:Wt.has("EXT_color_buffer_half_float")?kR:Db,minFilter:1008,samples:Yt&&!0===o?4:0})),M.getDrawingBufferSize(ge),Yt?Q.setSize(ge.x,ge.y):Q.setSize(VI(ge.x),VI(ge.y));const hn=M.getRenderTarget();M.setRenderTarget(Q),M.clear();const qr=M.toneMapping;M.toneMapping=0,_a(Be,zt,Jt),M.toneMapping=qr,Tt.updateMultisampleRenderTarget(Q),Tt.updateRenderTargetMipmap(Q),M.setRenderTarget(hn)}(hn,zt,Jt),Yt&&bt.viewport(re.copy(Yt)),hn.length>0&&_a(hn,zt,Jt),qr.length>0&&_a(qr,zt,Jt),ai.length>0&&_a(ai,zt,Jt),bt.buffers.depth.setTest(!0),bt.buffers.depth.setMask(!0),bt.buffers.color.setMask(!0),bt.setPolygonOffset(!1)}function _a(Be,zt,Jt){const Yt=!0===zt.isScene?zt.overrideMaterial:null;for(let hn=0,qr=Be.length;hn<qr;hn++){const ai=Be[hn],hi=ai.object,Jr=ai.geometry,Xi=null===Yt?ai.material:Yt,Mo=ai.group;hi.layers.test(Jt.layers)&&Ic(hi,zt,Jt,Jr,Xi,Mo)}}function Ic(Be,zt,Jt,Yt,hn,qr){Be.onBeforeRender(M,zt,Jt,Yt,hn,qr),Be.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,Be.matrixWorld),Be.normalMatrix.getNormalMatrix(Be.modelViewMatrix),hn.onBeforeRender(M,zt,Jt,Yt,Be,qr),!0===hn.transparent&&2===hn.side?(hn.side=1,hn.needsUpdate=!0,M.renderBufferDirect(Jt,zt,Yt,hn,Be,qr),hn.side=0,hn.needsUpdate=!0,M.renderBufferDirect(Jt,zt,Yt,hn,Be,qr),hn.side=2):M.renderBufferDirect(Jt,zt,Yt,hn,Be,qr),Be.onAfterRender(M,zt,Jt,Yt,hn,qr)}function Qa(Be,zt,Jt){!0!==zt.isScene&&(zt=Xe);const Yt=mt.get(Be),hn=g.state.lights,ai=hn.state.version,hi=cn.getParameters(Be,hn.state,g.state.shadowsArray,zt,Jt),Jr=cn.getProgramCacheKey(hi);let Xi=Yt.programs;Yt.environment=Be.isMeshStandardMaterial?zt.environment:null,Yt.fog=zt.fog,Yt.envMap=(Be.isMeshStandardMaterial?Cn:Kt).get(Be.envMap||Yt.environment),void 0===Xi&&(Be.addEventListener("dispose",Yr),Xi=new Map,Yt.programs=Xi);let Mo=Xi.get(Jr);if(void 0!==Mo){if(Yt.currentProgram===Mo&&Yt.lightsStateVersion===ai)return vf(Be,hi),Mo}else hi.uniforms=cn.getUniforms(Be),Be.onBuild(Jt,hi,M),Be.onBeforeCompile(hi,M),Mo=cn.acquireProgram(hi,Jr),Xi.set(Jr,Mo),Yt.uniforms=hi.uniforms;const Oo=Yt.uniforms;(!Be.isShaderMaterial&&!Be.isRawShaderMaterial||!0===Be.clipping)&&(Oo.clippingPlanes=Ce.uniform),vf(Be,hi),Yt.needsLights=function _f(Be){return Be.isMeshLambertMaterial||Be.isMeshToonMaterial||Be.isMeshPhongMaterial||Be.isMeshStandardMaterial||Be.isShadowMaterial||Be.isShaderMaterial&&!0===Be.lights}(Be),Yt.lightsStateVersion=ai,Yt.needsLights&&(Oo.ambientLightColor.value=hn.state.ambient,Oo.lightProbe.value=hn.state.probe,Oo.directionalLights.value=hn.state.directional,Oo.directionalLightShadows.value=hn.state.directionalShadow,Oo.spotLights.value=hn.state.spot,Oo.spotLightShadows.value=hn.state.spotShadow,Oo.rectAreaLights.value=hn.state.rectArea,Oo.ltc_1.value=hn.state.rectAreaLTC1,Oo.ltc_2.value=hn.state.rectAreaLTC2,Oo.pointLights.value=hn.state.point,Oo.pointLightShadows.value=hn.state.pointShadow,Oo.hemisphereLights.value=hn.state.hemi,Oo.directionalShadowMap.value=hn.state.directionalShadowMap,Oo.directionalShadowMatrix.value=hn.state.directionalShadowMatrix,Oo.spotShadowMap.value=hn.state.spotShadowMap,Oo.spotShadowMatrix.value=hn.state.spotShadowMatrix,Oo.pointShadowMap.value=hn.state.pointShadowMap,Oo.pointShadowMatrix.value=hn.state.pointShadowMatrix);const Ts=Mo.getUniforms(),bh=fN.seqWithValue(Ts.seq,Oo);return Yt.currentProgram=Mo,Yt.uniformsList=bh,Mo}function vf(Be,zt){const Jt=mt.get(Be);Jt.outputEncoding=zt.outputEncoding,Jt.instancing=zt.instancing,Jt.skinning=zt.skinning,Jt.morphTargets=zt.morphTargets,Jt.morphNormals=zt.morphNormals,Jt.morphColors=zt.morphColors,Jt.morphTargetsCount=zt.morphTargetsCount,Jt.numClippingPlanes=zt.numClippingPlanes,Jt.numIntersection=zt.numClipIntersection,Jt.vertexAlphas=zt.vertexAlphas,Jt.vertexTangents=zt.vertexTangents,Jt.toneMapping=zt.toneMapping}Ki.setAnimationLoop(function Gn(Be){Tn&&Tn(Be)}),"undefined"!=typeof self&&Ki.setContext(self),this.setAnimationLoop=function(Be){Tn=Be,er.setAnimationLoop(Be),null===Be?Ki.stop():Ki.start()},er.addEventListener("sessionstart",ar),er.addEventListener("sessionend",ri),this.render=function(Be,zt){if(void 0===zt||!0===zt.isCamera){if(!0!==C){if(!0===Be.autoUpdate&&Be.updateMatrixWorld(),null===zt.parent&&zt.updateMatrixWorld(),!0===er.enabled&&!0===er.isPresenting&&(!0===er.cameraAutoUpdate&&er.updateCamera(zt),zt=er.getCamera()),!0===Be.isScene&&Be.onBeforeRender(M,Be,zt,V),g=He.get(Be,w.length),g.init(),w.push(g),he.multiplyMatrices(zt.projectionMatrix,zt.matrixWorldInverse),Oe.setFromProjectionMatrix(he),Y=this.localClippingEnabled,Ye=Ce.init(this.clippingPlanes,Y,zt),p=Un.get(Be,v.length),p.init(),v.push(p),Li(Be,zt,0,M.sortObjects),p.finish(),!0===M.sortObjects&&p.sort(ot,at),!0===Ye&&Ce.beginShadows(),Vt.render(g.state.shadowsArray,Be,zt),!0===Ye&&Ce.endShadows(),!0===this.info.autoReset&&this.info.reset(),rn.render(p,Be),g.setupLights(M.physicallyCorrectLights),zt.isArrayCamera){const Yt=zt.cameras;for(let hn=0,qr=Yt.length;hn<qr;hn++){const ai=Yt[hn];Lo(p,Be,ai,ai.viewport)}}else Lo(p,Be,zt);null!==V&&(Tt.updateMultisampleRenderTarget(V),Tt.updateRenderTargetMipmap(V)),!0===Be.isScene&&Be.onAfterRender(M,Be,zt),yr.resetDefaultState(),z=-1,X=null,w.pop(),g=w.length>0?w[w.length-1]:null,v.pop(),p=v.length>0?v[v.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(Be,zt,Jt){mt.get(Be.texture).__webglTexture=zt,mt.get(Be.depthTexture).__webglTexture=Jt;const Yt=mt.get(Be);Yt.__hasExternalTextures=!0,Yt.__hasExternalTextures&&(Yt.__autoAllocateDepthBuffer=void 0===Jt,Yt.__autoAllocateDepthBuffer||!0===Wt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Yt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Be,zt){const Jt=mt.get(Be);Jt.__webglFramebuffer=zt,Jt.__useDefaultFramebuffer=void 0===zt},this.setRenderTarget=function(Be,zt=0,Jt=0){V=Be,L=zt,H=Jt;let Yt=!0;if(Be){const Jr=mt.get(Be);void 0!==Jr.__useDefaultFramebuffer?(bt.bindFramebuffer(36160,null),Yt=!1):void 0===Jr.__webglFramebuffer?Tt.setupRenderTarget(Be):Jr.__hasExternalTextures&&Tt.rebindTextures(Be,mt.get(Be.texture).__webglTexture,mt.get(Be.depthTexture).__webglTexture)}let hn=null,qr=!1,ai=!1;if(Be){const Jr=Be.texture;(Jr.isData3DTexture||Jr.isDataArrayTexture)&&(ai=!0);const Xi=mt.get(Be).__webglFramebuffer;Be.isWebGLCubeRenderTarget?(hn=Xi[zt],qr=!0):hn=Nt.isWebGL2&&Be.samples>0&&!1===Tt.useMultisampledRTT(Be)?mt.get(Be).__webglMultisampledFramebuffer:Xi,re.copy(Be.viewport),me.copy(Be.scissor),ne=Be.scissorTest}else re.copy(ze).multiplyScalar(Ie).floor(),me.copy(vt).multiplyScalar(Ie).floor(),ne=be;if(bt.bindFramebuffer(36160,hn)&&Nt.drawBuffers&&Yt&&bt.drawBuffers(Be,hn),bt.viewport(re),bt.scissor(me),bt.setScissorTest(ne),qr){const Jr=mt.get(Be.texture);tt.framebufferTexture2D(36160,36064,34069+zt,Jr.__webglTexture,Jt)}else if(ai){const Jr=mt.get(Be.texture);tt.framebufferTextureLayer(36160,36064,Jr.__webglTexture,Jt||0,zt||0)}z=-1},this.readRenderTargetPixels=function(Be,zt,Jt,Yt,hn,qr,ai){if(!Be||!Be.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let hi=mt.get(Be).__webglFramebuffer;if(Be.isWebGLCubeRenderTarget&&void 0!==ai&&(hi=hi[ai]),hi){bt.bindFramebuffer(36160,hi);try{const Jr=Be.texture,Xi=Jr.format,Mo=Jr.type;if(Xi!==th&&Gt.convert(Xi)!==tt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Oo=Mo===kR&&(Wt.has("EXT_color_buffer_half_float")||Nt.isWebGL2&&Wt.has("EXT_color_buffer_float"));if(!(Mo===Db||Gt.convert(Mo)===tt.getParameter(35738)||Mo===Zy&&(Nt.isWebGL2||Wt.has("OES_texture_float")||Wt.has("WEBGL_color_buffer_float"))||Oo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");zt>=0&&zt<=Be.width-Yt&&Jt>=0&&Jt<=Be.height-hn&&tt.readPixels(zt,Jt,Yt,hn,Gt.convert(Xi),Gt.convert(Mo),qr)}finally{const Jr=null!==V?mt.get(V).__webglFramebuffer:null;bt.bindFramebuffer(36160,Jr)}}},this.copyFramebufferToTexture=function(Be,zt,Jt=0){const Yt=Math.pow(2,-Jt),hn=Math.floor(zt.image.width*Yt),qr=Math.floor(zt.image.height*Yt);Tt.setTexture2D(zt,0),tt.copyTexSubImage2D(3553,Jt,0,0,Be.x,Be.y,hn,qr),bt.unbindTexture()},this.copyTextureToTexture=function(Be,zt,Jt,Yt=0){const hn=zt.image.width,qr=zt.image.height,ai=Gt.convert(Jt.format),hi=Gt.convert(Jt.type);Tt.setTexture2D(Jt,0),tt.pixelStorei(37440,Jt.flipY),tt.pixelStorei(37441,Jt.premultiplyAlpha),tt.pixelStorei(3317,Jt.unpackAlignment),zt.isDataTexture?tt.texSubImage2D(3553,Yt,Be.x,Be.y,hn,qr,ai,hi,zt.image.data):zt.isCompressedTexture?tt.compressedTexSubImage2D(3553,Yt,Be.x,Be.y,zt.mipmaps[0].width,zt.mipmaps[0].height,ai,zt.mipmaps[0].data):tt.texSubImage2D(3553,Yt,Be.x,Be.y,ai,hi,zt.image),0===Yt&&Jt.generateMipmaps&&tt.generateMipmap(3553),bt.unbindTexture()},this.copyTextureToTexture3D=function(Be,zt,Jt,Yt,hn=0){if(M.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const qr=Be.max.x-Be.min.x+1,ai=Be.max.y-Be.min.y+1,hi=Be.max.z-Be.min.z+1,Jr=Gt.convert(Yt.format),Xi=Gt.convert(Yt.type);let Mo;if(Yt.isData3DTexture)Tt.setTexture3D(Yt,0),Mo=32879;else{if(!Yt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Tt.setTexture2DArray(Yt,0),Mo=35866}tt.pixelStorei(37440,Yt.flipY),tt.pixelStorei(37441,Yt.premultiplyAlpha),tt.pixelStorei(3317,Yt.unpackAlignment);const Oo=tt.getParameter(3314),Ts=tt.getParameter(32878),bh=tt.getParameter(3316),Rp=tt.getParameter(3315),Hl=tt.getParameter(32877),Bl=Jt.isCompressedTexture?Jt.mipmaps[0]:Jt.image;tt.pixelStorei(3314,Bl.width),tt.pixelStorei(32878,Bl.height),tt.pixelStorei(3316,Be.min.x),tt.pixelStorei(3315,Be.min.y),tt.pixelStorei(32877,Be.min.z),Jt.isDataTexture||Jt.isData3DTexture?tt.texSubImage3D(Mo,hn,zt.x,zt.y,zt.z,qr,ai,hi,Jr,Xi,Bl.data):Jt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),tt.compressedTexSubImage3D(Mo,hn,zt.x,zt.y,zt.z,qr,ai,hi,Jr,Bl.data)):tt.texSubImage3D(Mo,hn,zt.x,zt.y,zt.z,qr,ai,hi,Jr,Xi,Bl),tt.pixelStorei(3314,Oo),tt.pixelStorei(32878,Ts),tt.pixelStorei(3316,bh),tt.pixelStorei(3315,Rp),tt.pixelStorei(32877,Hl),0===hn&&Yt.generateMipmaps&&tt.generateMipmap(Mo),bt.unbindTexture()},this.initTexture=function(Be){Be.isCubeTexture?Tt.setTextureCube(Be,0):Be.isData3DTexture?Tt.setTexture3D(Be,0):Be.isDataArrayTexture?Tt.setTexture2DArray(Be,0):Tt.setTexture2D(Be,0),bt.unbindTexture()},this.resetState=function(){L=0,H=0,V=null,bt.reset(),yr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class HOe extends Xee{}).prototype.isWebGL1Renderer=!0;class Zee extends zu{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class Dc extends LM{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ar(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dte=new je,fte=new je,hte=new so,sW=new XI,vN=new DM;class $R extends zu{constructor(e=new mo,t=new Dc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)dte.fromBufferAttribute(t,i-1),fte.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=dte.distanceTo(fte);e.setAttribute("lineDistance",new Wr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),vN.copy(r.boundingSphere),vN.applyMatrix4(i),vN.radius+=o,!1===e.ray.intersectsSphere(vN))return;hte.copy(i).invert(),sW.copy(e.ray).applyMatrix4(hte);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new je,f=new je,p=new je,g=new je,v=this.isLineSegments?2:1,w=r.index,C=r.attributes.position;if(null!==w)for(let V=Math.max(0,s.start),z=Math.min(w.count,s.start+s.count)-1;V<z;V+=v){const X=w.getX(V),re=w.getX(V+1);if(c.fromBufferAttribute(C,X),f.fromBufferAttribute(C,re),sW.distanceSqToSegment(c,f,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const ne=e.ray.origin.distanceTo(g);ne<e.near||ne>e.far||t.push({distance:ne,point:p.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this})}else for(let V=Math.max(0,s.start),z=Math.min(C.count,s.start+s.count)-1;V<z;V+=v){if(c.fromBufferAttribute(C,V),f.fromBufferAttribute(C,V+1),sW.distanceSqToSegment(c,f,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const re=e.ray.origin.distanceTo(g);re<e.near||re>e.far||t.push({distance:re,point:p.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const pte=new je,mte=new je;class _N extends $R{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)pte.fromBufferAttribute(t,i),mte.fromBufferAttribute(t,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+pte.distanceTo(mte);e.setAttribute("lineDistance",new Wr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}const RN=new je,DN=new je,mW=new je,AN=new sh;class xte extends mo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const i=Math.pow(10,4),o=Math.cos(Lb*t),s=e.getIndex(),a=e.getAttribute("position"),u=s?s.count:a.count,c=[0,0,0],f=["a","b","c"],p=new Array(3),g={},v=[];for(let w=0;w<u;w+=3){s?(c[0]=s.getX(w),c[1]=s.getX(w+1),c[2]=s.getX(w+2)):(c[0]=w,c[1]=w+1,c[2]=w+2);const{a:M,b:C,c:L}=AN;if(M.fromBufferAttribute(a,c[0]),C.fromBufferAttribute(a,c[1]),L.fromBufferAttribute(a,c[2]),AN.getNormal(mW),p[0]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,p[1]=`${Math.round(C.x*i)},${Math.round(C.y*i)},${Math.round(C.z*i)}`,p[2]=`${Math.round(L.x*i)},${Math.round(L.y*i)},${Math.round(L.z*i)}`,p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(let H=0;H<3;H++){const V=(H+1)%3,z=p[H],X=p[V],re=AN[f[H]],me=AN[f[V]],ne=`${z}_${X}`,pe=`${X}_${z}`;pe in g&&g[pe]?(mW.dot(g[pe].normal)<=o&&(v.push(re.x,re.y,re.z),v.push(me.x,me.y,me.z)),g[pe]=null):ne in g||(g[ne]={index0:c[H],index1:c[V],normal:mW.clone()})}}for(const w in g)if(g[w]){const{index0:M,index1:C}=g[w];RN.fromBufferAttribute(a,M),DN.fromBufferAttribute(a,C),v.push(RN.x,RN.y,RN.z),v.push(DN.x,DN.y,DN.z)}this.setAttribute("position",new Wr(v,3))}}}const Gs={arraySlice:function(n,e,t){return Gs.isTypedArray(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(function e(i,o){return n[i]-n[o]}),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let u=0;u!==e;++u)i[s++]=n[a+u]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;void 0!==o&&void 0===o[r];)o=n[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),t.push.apply(t,s)),o=n[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),t.push(s)),o=n[i++]}while(void 0!==o)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const c=o.tracks[u],f=c.getValueSize(),p=[],g=[];for(let v=0;v<c.times.length;++v){const w=c.times[v]*i;if(!(w<t||w>=r)){p.push(c.times[v]);for(let M=0;M<f;++M)g.push(c.values[v*f+M])}}0!==p.length&&(c.times=Gs.convertArray(p,c.times.constructor),c.values=Gs.convertArray(g,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],u=a.ValueTypeName;if("bool"===u||"string"===u)continue;const c=n.tracks.find(function(L){return L.name===a.name&&L.ValueTypeName===u});if(void 0===c)continue;let f=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const w=a.times.length-1;let M;if(o<=a.times[0])M=Gs.arraySlice(a.values,f,p-f);else if(o>=a.times[w]){const L=w*p+f;M=Gs.arraySlice(a.values,L,L+p-f)}else{const L=a.createInterpolant(),H=f,V=p-f;L.evaluate(o),M=Gs.arraySlice(L.resultBuffer,H,V)}"quaternion"===u&&(new hd).fromArray(M).normalize().conjugate().toArray(M);const C=c.times.length;for(let L=0;L<C;++L){const H=L*v+g;if("quaternion"===u)hd.multiplyQuaternionsFlat(c.values,H,M,0,c.values,H);else{const V=v-2*g;for(let z=0;z<V;++z)c.values[H+z]-=M[z]}}}return n.blendMode=2501,n}};class jN{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(r=2,o=a);for(let u=r-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0}}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Fke extends jN{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],u=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-r;break;case 2402:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(void 0===u)switch(this.getSettings_().endingEnd){case 2401:s=e,u=2*r-t;break;case 2402:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=.5*(r-t),f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=o*f,this._offsetNext=s*f}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,v=this._weightNext,w=(r-t)/(i-t),M=w*w,C=M*w,L=-g*C+2*g*M-g*w,H=(1+g)*C+(-1.5-2*g)*M+(-.5+g)*w+1,V=(-1-v)*C+(1.5+v)*M+.5*w,z=v*C-v*M;for(let X=0;X!==a;++X)o[X]=L*s[f+X]+H*s[c+X]+V*s[u+X]+z*s[p+X];return o}}class Pte extends jN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=(r-t)/(i-t),p=1-f;for(let g=0;g!==a;++g)o[g]=s[c+g]*p+s[u+g]*f;return o}}class Hke extends jN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class lp{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gs.convertArray(t,this.TimeBufferType),this.values=Gs.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Gs.convertArray(e.times,Array),values:Gs.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Hke(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Pte(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Fke(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Gs.arraySlice(r,o,s),this.values=Gs.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const u=r[a];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(null!==s&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,s),e=!1;break}s=u}if(void 0!==i&&Gs.isTypedArray(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Gs.arraySlice(this.times),t=Gs.arraySlice(this.values),r=this.getValueSize(),i=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let u=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)u=!0;else{const p=a*r,g=p-r,v=p+r;for(let w=0;w!==r;++w){const M=t[p+w];if(M!==t[g+w]||M!==t[v+w]){u=!0;break}}}if(u){if(a!==s){e[s]=e[a];const p=a*r,g=s*r;for(let v=0;v!==r;++v)t[g+v]=t[p+v]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[a+c];++s}return s!==e.length?(this.times=Gs.arraySlice(e,0,s),this.values=Gs.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=Gs.arraySlice(this.times,0),t=Gs.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}lp.prototype.TimeBufferType=Float32Array,lp.prototype.ValueBufferType=Float32Array,lp.prototype.DefaultInterpolation=2301;class JM extends lp{}JM.prototype.ValueTypeName="bool",JM.prototype.ValueBufferType=Array,JM.prototype.DefaultInterpolation=2300,JM.prototype.InterpolantFactoryMethodLinear=void 0,JM.prototype.InterpolantFactoryMethodSmooth=void 0;(class Lte extends lp{}).prototype.ValueTypeName="color";(class UN extends lp{}).prototype.ValueTypeName="number";class Bke extends jN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let f=c+a;c!==f;c+=4)hd.slerpFlat(o,0,s,c-a,s,c,u);return o}}class nD extends lp{InterpolantFactoryMethodLinear(e){return new Bke(this.times,this.values,this.getValueSize(),e)}}nD.prototype.ValueTypeName="quaternion",nD.prototype.DefaultInterpolation=2301,nD.prototype.InterpolantFactoryMethodSmooth=void 0;class QM extends lp{}QM.prototype.ValueTypeName="string",QM.prototype.ValueBufferType=Array,QM.prototype.DefaultInterpolation=2300,QM.prototype.InterpolantFactoryMethodLinear=void 0,QM.prototype.InterpolantFactoryMethodSmooth=void 0;(class WN extends lp{}).prototype.ValueTypeName="vector";new class Ite{constructor(e,t,r){const i=this;let u,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,!1===o&&void 0!==i.onStart&&i.onStart(f,s,a),o=!0},this.itemEnd=function(f){s++,void 0!==i.onProgress&&i.onProgress(f,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(f){void 0!==i.onError&&i.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,p){return c.push(f,p),this},this.removeHandler=function(f){const p=c.indexOf(f);return-1!==p&&c.splice(p,2),this},this.getHandler=function(f){for(let p=0,g=c.length;p<g;p+=2){const v=c[p],w=c[p+1];if(v.global&&(v.lastIndex=0),v.test(f))return w}return null}}};class Uke extends zu{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ar(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class Vte extends Uke{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const bW="\\[\\]\\.:\\/",aPe=new RegExp("["+bW+"]","g"),wW="[^"+bW+"]",lPe="[^"+bW.replace("\\.","")+"]",hPe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",wW)+/(WCOD+)?/.source.replace("WCOD",lPe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wW)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wW)+"$"),pPe=["material","materials","bones"];class mPe{constructor(e,t,r){const i=r||Fs.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Fs=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(aPe,"")}static parseTrackName(t){const r=hPe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=i.nodeName.substring(o+1);-1!==pPe.indexOf(s)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===r||u.uuid===r)return u;const c=i(u.children);if(c)return c}return null},o=i(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)t[r++]=i[o]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let f=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let p=0;p<t.length;p++)if(t[p].name===f){f=p;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==f){if(void 0===t[f])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[f]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+o+" but it wasn't found.",t);let u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=mPe,n})();Fs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fs.prototype.GetterByBindingType=[Fs.prototype._getValue_direct,Fs.prototype._getValue_array,Fs.prototype._getValue_arrayElement,Fs.prototype._getValue_toArray],Fs.prototype.SetterByBindingTypeAndVersioning=[[Fs.prototype._setValue_direct,Fs.prototype._setValue_direct_setNeedsUpdate,Fs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_array,Fs.prototype._setValue_array_setNeedsUpdate,Fs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_arrayElement,Fs.prototype._setValue_arrayElement_setNeedsUpdate,Fs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fs.prototype._setValue_fromArray,Fs.prototype._setValue_fromArray_setNeedsUpdate,Fs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];function CPe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[256|u]=32768,i[u]=24,i[256|u]=24):c<-14?(r[u]=1024>>-c-14,r[256|u]=1024>>-c-14|32768,i[u]=-c-1,i[256|u]=-c-1):c<=15?(r[u]=c+15<<10,r[256|u]=c+15<<10|32768,i[u]=13,i[256|u]=13):c<128?(r[u]=31744,r[256|u]=64512,i[u]=24,i[256|u]=24):(r[u]=31744,r[256|u]=64512,i[u]=13,i[256|u]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,f=0;for(;0==(8388608&c);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,o[u]=c|f}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"142"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="142");var RPe=b(4722);let CW=(()=>{class n{constructor(){this.aspectRatio=0,this.Width=0,this.Height=0,this.scene=new Zee,this.scene.background=new Ar(16777215),this.render=this.render.bind(this)}OnInit(t,r,i,o,s){this.aspectRatio=t,this.Width=o,this.Height=s,this.createCamera(t,o,s),this.add(new Vte(15790320)),this.createRender(r,i,o,s),this.addControls()}createHelper(){}addControls(){this.controls=new RPe.OrbitControls(this.camera,this.renderer.domElement),this.controls.addEventListener("change",this.render),this.controls.target.set(0,10,0),this.controls.update()}createCamera(t,r,i){t=null===t?this.aspectRatio:t,r=null===r?this.Width:r,i=null===i?this.Height:i,void 0!==this.scene.getObjectByName("camera")&&this.scene.remove(this.camera),this.camera=new uN(-r/50,r/50,i/50,-i/50,-1e3,1e3),this.camera.position.set(10,-5,5),this.camera.name="camera",this.scene.add(this.camera)}createRender(t,r,i,o){this.renderer=new Xee({preserveDrawingBuffer:!0,canvas:t,alpha:!1,antialias:!0}),this.renderer.setPixelRatio(r),this.renderer.setSize(i,o),this.renderer.shadowMap.enabled=!0}onResize(t,r,i){this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(t),this.renderer.setSize(r,i),this.render()}render(){this.renderer.render(this.scene,this.camera)}getBoundingClientRect(){return this.renderer.domElement.getBoundingClientRect()}add(...t){for(const r of t)this.scene.add(r)}remove(...t){for(const r of t)this.scene.remove(r)}removeByName(...t){for(const r of t){const i=this.scene.getObjectByName(r);void 0!==i&&this.scene.remove(i)}}getSettingJson(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}clear(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.createHelper()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ah=(()=>{class n{constructor(){this.pavement={i1:2,i2:2,T:.2},this.display={pavement:!0,slab:!0,beam:!0,mid:!0,gusset01:!0,gusset02:!0,gusset03:!0,cross:!0,cross_u:!1,cross_l:!0,gusset04:!0,crossbeam:!0,endbeam:!0},this.slab={b1:4.25,b2:4.25,b3:.6,i1:2,i2:2,j1:2,j2:2,SH:.55,T1:.2,T2:.1,n:3,Ss:1.025},this.beam={amount_V:4,W:1700,D:310,tw:28,tf:24},this.mid={A:75,B:75,H:1240,t:9,s:0,s_in:160,s_out:160,dz:300,GA1:310,GB1:490,GC1:490,GD1:150,Gt1:9,GA2:230,GB2:250,GC2:120,GD2:150,Gt2:9,Gdx2:0,GA3:340,GB3:290,GC3:100,GD3:340,Gt3:9,Gdx3:0},this.cross={W2:120,D3:180,tf2:12,tw2:12,s_edge:200,s_middle:200,GA4:310,GB4:490,GC4:490,GD4:150,Gt4:9},this.crossbeam={W3:1280,D4:250,tf3:12,tw3:12,s_edge2:0,s_middle2:0,location2:1},this.endbeam={D5:250,tf4:12,W5:1280,tw4:12,s_edge3:0,s_middle3:0},this.others={Name_P:"\u3007\u3007\u6a4b\u6881\u4e88\u5099\u8a2d\u8a08",Name_R:"\u56fd\u9053\u3007\u3007\u53f7\u3007\u3007\u6a4b",Class_R:"\u7b2c3\u7a2e-\u7b2c1\u7d1a",L:30,L_01:29.8,L_02:29,Milepost_B:23.2,Milepost_E:23.23,BP:"NO.1+10.0",BPx:0,BPy:0,BPz:0,EP:"NO.3+0.0",EPx:0,EPy:30,EPz:0,amount_H:6}}palam(){return{others:this.others,display:this.display,pavement:this.pavement,slab:this.slab,beam:this.beam,mid:this.mid,cross:this.cross,crossbeam:this.crossbeam,endbeam:this.endbeam}}set_palam(t){"others"in t&&(this.others=t.others),"display"in t&&(this.display=t.display),"pavement"in t&&(this.pavement=t.pavement),"slab"in t&&(this.slab=t.slab),"beam"in t&&(this.beam=t.beam),"mid"in t&&(this.mid=t.mid),"cross"in t&&(this.cross=t.cross),"crossbeam"in t&&(this.crossbeam=t.crossbeam),"endbeam"in t&&(this.endbeam=t.endbeam)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class une{parse(e){let t="",r=0,i=0,o=0;const s=new je,a=new Ar,u=new je,c=new xn,f=[];return e.traverse(function(w){!0===w.isMesh&&function p(w){let M=0,C=0,L=0;const H=w.geometry,V=new Tc;if(!0!==H.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const z=H.getAttribute("position"),X=H.getAttribute("normal"),re=H.getAttribute("uv"),me=H.getIndex();if(t+="o "+w.name+"\n",w.material&&w.material.name&&(t+="usemtl "+w.material.name+"\n"),void 0!==z)for(let ne=0,pe=z.count;ne<pe;ne++,M++)s.fromBufferAttribute(z,ne),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if(void 0!==re)for(let ne=0,pe=re.count;ne<pe;ne++,L++)c.fromBufferAttribute(re,ne),t+="vt "+c.x+" "+c.y+"\n";if(void 0!==X){V.getNormalMatrix(w.matrixWorld);for(let ne=0,pe=X.count;ne<pe;ne++,C++)u.fromBufferAttribute(X,ne),u.applyMatrix3(V).normalize(),t+="vn "+u.x+" "+u.y+" "+u.z+"\n"}if(null!==me)for(let ne=0,pe=me.count;ne<pe;ne+=3){for(let Se=0;Se<3;Se++){const Ie=me.getX(ne+Se)+1;f[Se]=r+Ie+(X||re?"/"+(re?i+Ie:"")+(X?"/"+(o+Ie):""):"")}t+="f "+f.join(" ")+"\n"}else for(let ne=0,pe=z.count;ne<pe;ne+=3){for(let Se=0;Se<3;Se++){const Ie=ne+Se+1;f[Se]=r+Ie+(X||re?"/"+(re?i+Ie:"")+(X?"/"+(o+Ie):""):"")}t+="f "+f.join(" ")+"\n"}r+=M,i+=L,o+=C}(w),!0===w.isLine&&function g(w){let M=0;const C=w.geometry,L=w.type;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const H=C.getAttribute("position");if(t+="o "+w.name+"\n",void 0!==H)for(let V=0,z=H.count;V<z;V++,M++)s.fromBufferAttribute(H,V),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z+"\n";if("Line"===L){t+="l ";for(let V=1,z=H.count;V<=z;V++)t+=r+V+" ";t+="\n"}if("LineSegments"===L)for(let V=1,z=V+1,X=H.count;V<X;V+=2,z=V+1)t+="l "+(r+V)+" "+(r+z)+"\n";r+=M}(w),!0===w.isPoints&&function v(w){let M=0;const C=w.geometry;if(!0!==C.isBufferGeometry)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const L=C.getAttribute("position"),H=C.getAttribute("color");if(t+="o "+w.name+"\n",void 0!==L){for(let V=0,z=L.count;V<z;V++,M++)s.fromBufferAttribute(L,V),s.applyMatrix4(w.matrixWorld),t+="v "+s.x+" "+s.y+" "+s.z,void 0!==H&&(a.fromBufferAttribute(H,V).convertLinearToSRGB(),t+=" "+a.r+" "+a.g+" "+a.b),t+="\n";t+="p ";for(let V=1,z=L.count;V<=z;V++)t+=r+V+" ";t+="\n"}r+=M}(w)}),t}}var EW=b(5226);let lh=(()=>{class n{constructor(){}PolyData(t,r){const i=[];for(let f of t)i.push(new je(f[r[1]],f[r[2]],f[r[3]]));const o=(new mo).setFromPoints(i),s=new nv({transparent:!0,side:2,color:8359839,opacity:.85}),a=new Rc(o,s),u=new xte(o),c=new _N(u,new Dc({color:0}));return a.add(c),a}degrees(t){return t*(180/Math.PI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iD=(()=>{class n{constructor(t){this.pv=t}CreateBeam(t,r,i,o,s,a){const u=a[0],c=a[1],f=a[2],p=s/2,g=r/2,v=i/2,w=v+o,M=[u-p,c,f-v],C=[u-g,c,f-v],L=[u-g,c,f-w],H=[u+g,c,f-w],V=[u+g,c,f-v],z=[u+p,c,f-v],X=[u+p,c,f+v],re=[u+g,c,f+v],me=[u+g,c,f+w],ne=[u-g,c,f+w],pe=[u-g,c,f+v],Se=[u-p,c,f+v],Ie=[u-p,c+t,f-v],ot=[u-g,c+t,f-v],at=[u-g,c+t,f-w],ze=[u+g,c+t,f-w],vt=[u+g,c+t,f-v],be=[u+p,c+t,f-v],Oe=[u+p,c+t,f+v],Ye=[u+g,c+t,f+v],Y=[u+g,c+t,f+w],Q=[u-g,c+t,f+w],he=[u-g,c+t,f+v],ge=[u-p,c+t,f+v],Xe=[C,L,ot],Je=[L,H,at],tt=[H,V,ze],Rt=[V,z,vt],Wt=[z,X,be],Nt=[X,re,Oe],bt=[re,me,Ye],en=[me,ne,Y],mt=[ne,pe,Q],Tt=[pe,Se,he],Kt=[Se,M,ge],Cn=[ot,Ie,C],_n=[at,ot,L],Qn=[ze,at,H],In=[vt,ze,V],cn=[be,vt,z],En=[Oe,be,X],Un=[Ye,Oe,re],He=[Y,Ye,me],Ce=[Q,Y,ne],Vt=[he,Q,pe],rn=[ge,he,Se],mn=[Ie,ge,M],Fn=this.pv.PolyData([M,C,Ie],[3,0,1,2]),Nr=this.pv.PolyData(Xe,[3,0,1,2]),Gt=this.pv.PolyData(Je,[3,0,1,2]),yr=this.pv.PolyData(tt,[3,0,1,2]),nr=this.pv.PolyData(Rt,[3,0,1,2]),er=this.pv.PolyData(Wt,[3,0,1,2]),yt=this.pv.PolyData(Nt,[3,0,1,2]),Wn=this.pv.PolyData(bt,[3,0,1,2]),Hn=this.pv.PolyData(en,[3,0,1,2]),Yr=this.pv.PolyData(mt,[3,0,1,2]),sr=this.pv.PolyData(Tt,[3,0,1,2]),Or=this.pv.PolyData(Kt,[3,0,1,2]),Tn=this.pv.PolyData(Cn,[3,0,1,2]),Gn=this.pv.PolyData(_n,[3,0,1,2]),ar=this.pv.PolyData(Qn,[3,0,1,2]),ri=this.pv.PolyData(In,[3,0,1,2]),Ki=this.pv.PolyData(cn,[3,0,1,2]),Li=this.pv.PolyData(En,[3,0,1,2]),Lo=this.pv.PolyData(Un,[3,0,1,2]),qo=this.pv.PolyData(He,[3,0,1,2]),_a=this.pv.PolyData(Ce,[3,0,1,2]),Ic=this.pv.PolyData(Vt,[3,0,1,2]),Qa=this.pv.PolyData(rn,[3,0,1,2]),vf=this.pv.PolyData(mn,[3,0,1,2]),Qu=[C,H,V],_f=[M,z,X],Be=[M,X,Se],zt=[re,me,ne],Jt=[re,ne,pe],Yt=[ot,at,ze],hn=[ot,ze,vt],qr=[Ie,be,Oe],ai=[Ie,Oe,ge],hi=[Ye,Y,Q],Jr=[Ye,Q,he],Xi=this.pv.PolyData([C,L,H],[3,0,1,2]),Mo=this.pv.PolyData(Qu,[3,0,1,2]),Oo=this.pv.PolyData(_f,[3,0,1,2]),Ts=this.pv.PolyData(Be,[3,0,1,2]),bh=this.pv.PolyData(zt,[3,0,1,2]),Rp=this.pv.PolyData(Jt,[3,0,1,2]),Hl=this.pv.PolyData(Yt,[3,0,1,2]),Bl=this.pv.PolyData(hn,[3,0,1,2]),fo=this.pv.PolyData(qr,[3,0,1,2]),Nc=this.pv.PolyData(ai,[3,0,1,2]),$s=this.pv.PolyData(hi,[3,0,1,2]),Fc=this.pv.PolyData(Jr,[3,0,1,2]),Ei=new ji;return Ei.add(Fn),Ei.add(Nr),Ei.add(Gt),Ei.add(yr),Ei.add(nr),Ei.add(er),Ei.add(yt),Ei.add(Wn),Ei.add(Hn),Ei.add(Yr),Ei.add(sr),Ei.add(Or),Ei.add(Tn),Ei.add(Gn),Ei.add(ar),Ei.add(ri),Ei.add(Ki),Ei.add(Li),Ei.add(Lo),Ei.add(qo),Ei.add(_a),Ei.add(Ic),Ei.add(Qa),Ei.add(vf),Ei.add(Xi),Ei.add(Mo),Ei.add(Oo),Ei.add(Ts),Ei.add(bh),Ei.add(Rp),Ei.add(Hl),Ei.add(Bl),Ei.add(fo),Ei.add(Nc),Ei.add($s),Ei.add(Fc),Ei}}return n.\u0275fac=function(t){return new(t||n)(_t(lh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DPe=(()=>{class n{constructor(t){this.Hsteel=t}Array(t,r,i,o,s,a,u,c,f,p,g){const v=[];let w=-(c-1)*f/2,M=0,C=0;c%2==0?(M=c/2,C=c/2):(M=(c-1)/2+1,C=(c-1)/2);const L=-(a+u)/2;let H=i/2+o;for(let z=0;z<M;z++)v.push([w,L,H]),w+=f,H+=f*p;H-=c%2==0?f*g:f*g*2;for(let z=0;z<M;z++)v.push([w,L,H]),w+=f,H-=f*g;const V=new ji;for(let z=0;z<c;z++){const X=this.Hsteel.CreateBeam(t,r,i,o,s,v[z]);X.name="Hsteel-01-"+String(z),V.add(X)}return V}}return n.\u0275fac=function(t){return new(t||n)(_t(iD))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vm=(()=>{class n{constructor(){}rotate(t,r,i,o,s){new je(r[0],r[1],r[2]);const u=Math.floor(i),c=Math.floor(o),f=Math.floor(s);return t.clone().rotateX(u*Math.PI/180).rotateY(c*Math.PI/180).rotateZ(f*Math.PI/180)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{constructor(){}MoveObject(t,r){const i=new je(r[0],r[1],r[2]),o=t.clone();return o.position.set(i.x,i.y,i.z),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),APe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p,g,v){const w=f-1,M=g-(s+a),C=g-2*a,H=-C/2;let V=r/2+i;const z=this.Hsteel.CreateBeam(M,t,r,i,o,[0,-M/2,V]),X=this.Hsteel.CreateBeam(C,t,r,i,o,[0,H,V]),re=a-s,me=this.Rotate.rotate(z,[0,0,0],0,0,90),ne=this.Move.MoveObject(me,[-re,0,0]),pe=this.Move.MoveObject(me,[re,0,0]),Se=this.Rotate.rotate(X,[0,0,0],0,0,90),Ie=(w-1)*g/2;let ot=0;V=u;const at=[];for(let be=0;be<c;be++){const Oe=this.Move.MoveObject(ne,[-Ie,ot,V]),Ye=this.Move.MoveObject(pe,[Ie,ot,V]);let Y=-Ie+g;at.push(Oe),at.push(Ye);for(let Q=0;Q<w-2;Q++){const he=this.Move.MoveObject(Se,[Y,ot,V]);at.push(he),Y+=g}ot+=p}const ze=new ji;let vt=0;for(let be=0;be<v.length;be++){let Oe=v[be]*w;for(let Ye=0;Ye<w;Ye++){const Y=at[Oe];Y.name="Cr_"+String(vt),ze.add(Y),Oe+=1,vt+=1}}return ze}}return n.\u0275fac=function(t){return new(t||n)(_t(iD),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OPe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,f,p,g){const v=Math.sqrt(Math.pow(c/2,2)+Math.pow(f,2))-(s+a),C=this.Hsteel.CreateBeam(v,t,r,i,o,[0,-v/2,r/2+i]),L=s-a;let H=c/4,V=3*c/4;const z=this.Move.MoveObject(C,[L,H,p]),X=this.Move.MoveObject(C,[L,V,p]);let re=Math.round(10*this.pv.degrees(Math.atan(f/(c/2))))/10;re*=1==g?1:-1;const me=this.Rotate.rotate(z,[0,H,p],0,0,-re),ne=this.Rotate.rotate(X,[0,V,p],0,0,re),pe=[];pe.push(me),pe.push(ne);const Se=new ji;let Ie=0;1==g&&(Ie+=2*(u-1));for(let ot=0;ot<u-1;ot++){const at=this.Move.MoveObject(pe[0],[L,H,p]);at.name="Lu_"+String(Ie),Se.add(at);const ze=this.Move.MoveObject(pe[1],[L,V,p]);Se.add(ze),ze.name="Lu_"+String(Ie+1),H+=c,V+=c,Ie+=2}return Se}Array(t,r,i,o,s,a,u,c,f,p,g,v){const w=this.Array_V(t,r,i,o,s,a,u,f,p,g,!1),M=this.Array_V(t,r,i,o,s,a,u,f,p,g,!0);let C=p/2*(c-2);1==v&&(C*=-1);const L=this.Move.MoveObject(w,[-C,0,0]),H=this.Move.MoveObject(M,[C,0,0]),V=new ji;return V.add(L,H),V}}return n.\u0275fac=function(t){return new(t||n)(_t(lh),_t(iD),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kPe=(()=>{class n{constructor(t,r,i,o){this.pv=t,this.Hsteel=r,this.Rotate=i,this.Move=o}Array_V(t,r,i,o,s,a,u,c,f,p,g){const v=Math.sqrt(Math.pow(c/2,2)+Math.pow(f,2))-(s+a),C=this.Hsteel.CreateBeam(v,t,r,i,o,[0,-v/2,r/2+i]),L=s-a;let H=c/4,V=3*c/4;const z=this.Move.MoveObject(C,[L,H,p]),X=this.Move.MoveObject(C,[L,V,p]);let re=Math.round(10*this.pv.degrees(Math.atan(f/(c/2))))/10;re*=1==g?1:-1;const me=this.Rotate.rotate(z,[0,H,p],0,0,-re),ne=this.Rotate.rotate(X,[0,V,p],0,0,re),pe=[];pe.push(me),pe.push(ne);const Se=new ji;let Ie=0;1==g&&(Ie+=2*(u-1));for(let ot=0;ot<u-1;ot++){const at=this.Move.MoveObject(pe[0],[L,H,p]);at.name="Ll_"+String(Ie),Se.add(at);const ze=this.Move.MoveObject(pe[1],[L,V,p]);Se.add(ze),ze.name="Ll_"+String(Ie+1),H+=c,V+=c,Ie+=2}return Se}Array(t,r,i,o,s,a,u,c,f,p,g,v){const w=this.Array_V(t,r,i,o,s,a,u,f,p,g,!1),M=this.Array_V(t,r,i,o,s,a,u,f,p,g,!0);let C=p/2*(c-2);1==v&&(C*=-1);const L=this.Move.MoveObject(w,[-C,0,0]),H=this.Move.MoveObject(M,[C,0,0]),V=new ji;return V.add(L,H),V}}return n.\u0275fac=function(t){return new(t||n)(_t(lh),_t(iD),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PPe=(()=>{class n{constructor(t,r,i){this.Hsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p){const g=f-1,v=p-(s+a),w=p-2*a,C=-w/2;let L=r/2+i;const H=this.Hsteel.CreateBeam(v,t,r,i,o,[0,-v/2,L]),V=this.Hsteel.CreateBeam(w,t,r,i,o,[0,C,L]),z=a-s,X=this.Rotate.rotate(H,[0,0,0],0,0,90),re=this.Rotate.rotate(V,[0,0,0],0,0,90),me=p/2*(g-1)+z/2;L=u;let ne=0,pe=0;const Se=new ji;for(let Ie=0;Ie<2;Ie++){const ot=this.Move.MoveObject(X,[-me,ne,L]);ot.name="Cu_"+String(pe),Se.add(ot);let at=pe+1,ze=p/2*(g-1)-p;for(let be=0;be<g-2;be++){const Oe=this.Move.MoveObject(re,[-ze,ne,L]);Oe.name="Cu_"+String(at),Se.add(Oe),ze-=p,at+=1}pe+=g-1;const vt=this.Move.MoveObject(X,[me,ne,L]);vt.name="Cu_"+String(pe),Se.add(vt),pe+=1,ne+=c}return Se}}return n.\u0275fac=function(t){return new(t||n)(_t(iD),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LPe=(()=>{class n{constructor(t,r,i){this.pv=t,this.Rotate=r,this.Move=i}Create_Lsteel_R(t,r,i,o){const s=[],a=new ji;s.push([[0,0,0],[r,0,0],[r,i,0],[i,i,0],[i,t,0],[0,t,0]]),s.push([[0,0,o],[r,0,o],[r,i,o],[i,i,o],[i,t,o],[0,t,o]]);for(let ge=0;ge<s.length-1;ge++){const Me=s[ge],Xe=s[ge+1],Je=Me.concat();Je.splice(0,1),Je.push(Me[0]);const tt=Xe.concat();tt.splice(0,1),tt.push(Xe[0]);for(let Rt=0;Rt<Me.length;Rt++){const Nt=[Xe[Rt],tt[Rt],Je[Rt]],bt=this.pv.PolyData([Me[Rt],Je[Rt],Xe[Rt]],[3,0,1,2]),en=this.pv.PolyData(Nt,[3,0,1,2]);a.add(en,bt)}}const z=s[0],X=s[s.length-1],me=[z[0],z[2],z[3]],ne=[z[0],z[3],z[4]],pe=[z[0],z[4],z[5]],Se=[X[0],X[1],X[2]],Ie=[X[0],X[2],X[3]],ot=[X[0],X[3],X[4]],at=[X[0],X[4],X[5]],ze=this.pv.PolyData([z[0],z[1],z[2]],[3,0,1,2]),vt=this.pv.PolyData(me,[3,0,1,2]),be=this.pv.PolyData(ne,[3,0,1,2]),Oe=this.pv.PolyData(pe,[3,0,1,2]),Ye=this.pv.PolyData(Se,[3,0,1,2]),Y=this.pv.PolyData(Ie,[3,0,1,2]),Q=this.pv.PolyData(ot,[3,0,1,2]),he=this.pv.PolyData(at,[3,0,1,2]);return a.add(ze,vt,be,Oe,Ye,Y,Q,he),a}Create_Lsteel_L(t,r,i,o){const s=[],a=new ji;s.push([[0,0,0],[-r,0,0],[-r,i,0],[-i,i,0],[-i,t,0],[0,t,0]]),s.push([[0,0,o],[-r,0,o],[-r,i,o],[-i,i,o],[-i,t,o],[0,t,o]]);for(let ge=0;ge<s.length-1;ge++){const Me=s[ge],Xe=s[ge+1],Je=Me.concat();Je.splice(0,1),Je.push(Me[0]);const tt=Xe.concat();tt.splice(0,1),tt.push(Xe[0]);for(let Rt=0;Rt<Me.length;Rt++){const Nt=[Xe[Rt],tt[Rt],Je[Rt]],bt=this.pv.PolyData([Me[Rt],Je[Rt],Xe[Rt]],[3,0,1,2]),en=this.pv.PolyData(Nt,[3,0,1,2]);a.add(bt,en)}}const z=s[0],X=s[s.length-1],me=[z[0],z[2],z[3]],ne=[z[0],z[3],z[4]],pe=[z[0],z[4],z[5]],Se=[X[0],X[1],X[2]],Ie=[X[0],X[2],X[3]],ot=[X[0],X[3],X[4]],at=[X[0],X[4],X[5]],ze=this.pv.PolyData([z[0],z[1],z[2]],[3,0,1,2]),vt=this.pv.PolyData(me,[3,0,1,2]),be=this.pv.PolyData(ne,[3,0,1,2]),Oe=this.pv.PolyData(pe,[3,0,1,2]),Ye=this.pv.PolyData(Se,[3,0,1,2]),Y=this.pv.PolyData(Ie,[3,0,1,2]),Q=this.pv.PolyData(ot,[3,0,1,2]),he=this.pv.PolyData(at,[3,0,1,2]);return a.add(ze,vt,be,Oe,Ye,Y,Q,he),a}exchange(t,r,i){const o=this.Rotate.rotate(t,[0,0,0],0,r,0);return this.Move.MoveObject(o,i)}add_LSteel_R(t,r,i,o,s,a,u,c,f){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=a*s/(p+a+u),v=a*o/(p+a+u)+c+f,w=this.Create_Lsteel_R(t,r,i,p),M=Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,M,[g,0,v])}add_LSteel_L(t,r,i,o,s,a,u,c,f){const p=Math.sqrt(Math.pow(o,2)+Math.pow(s,2))-(a+u),g=-a*s/(p+a+u),v=a*o/(p+a+u)+c+f,w=this.Create_Lsteel_L(t,r,i,p),M=-Math.round(10*this.pv.degrees(Math.atan(s/o)))/10;return this.exchange(w,M,[g,0,v])}add_LSteel_T(t,r,i,o,s,a,u,c){const f=2*a-2*o,p=f/2,g=s+u+c,v=this.Create_Lsteel_L(t,r,i,f);return this.exchange(v,-90,[p,0,g])}add_LSteel_D(t,r,i,o,s,a,u){const c=2*s-2*o,f=c/2,p=a+u,g=this.Create_Lsteel_L(t,r,i,c);return this.exchange(g,90,[-f,0,p])}add_LSteel(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L,H,V,z){const X=this.add_LSteel_R(t,r,i,w,M,L,H,V,z),re=this.add_LSteel_L(o,s,a,w,M,L,H,V,z),me=this.add_LSteel_T(u,c,f,C,w,M,V,z),ne=this.add_LSteel_D(p,g,v,C,M,V,z),pe=[];return pe.push(re,X,me,ne),pe}}return n.\u0275fac=function(t){return new(t||n)(_t(lh),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IPe=(()=>{class n{constructor(t,r,i){this.Lsteel=t,this.Rotate=r,this.Move=i}Array(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L,H,V,z,X,re,me,ne,pe){const Se=this.Lsteel.add_LSteel(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L,H,V,z),Ie=[],ot=[],at=[],ze=[],vt=[],be=[],Oe=[],Ye=[],Y=Math.sqrt(Math.pow(w,2)+Math.pow(M,2))-(L+H);let Q=0;const he=L*w/(Y+L+H)+V+z;for(let bt=0;bt<X;bt++){let en=L*M/(Y+L+H)-(re-2)*ne/2;for(let mt=0;mt<re-1;mt++)Ie.push([en,Q,he]),en+=ne;Q+=me}for(let bt=0;bt<pe.length;bt++){let en=pe[bt]*(re-1);for(let mt=0;mt<re-1;mt++)vt.push(Ie[en]),en+=1}let ge=0;const Me=L*w/(Y+L+H)+V+z;for(let bt=0;bt<X;bt++){let en=-L*M/(Y+L+H)-(re-2)*ne/2;for(let mt=0;mt<re-1;mt++)ot.push([en,ge,Me]),en+=ne;ge+=me}for(let bt=0;bt<pe.length;bt++){let en=pe[bt]*(re-1);for(let mt=0;mt<re-1;mt++)be.push(ot[en]),en+=1}const Xe=2*M-2*C;let Je=0;const tt=w+V+z;for(let bt=0;bt<X;bt++){let en=Xe/2-(re-2)*ne/2;for(let mt=0;mt<re-1;mt++)at.push([en,Je,tt]),en+=ne;Je+=me}for(let bt=0;bt<pe.length;bt++){let en=pe[bt]*(re-1);for(let mt=0;mt<re-1;mt++)Oe.push(at[en]),en+=1}let Rt=0;const Wt=V+z;for(let bt=0;bt<X;bt++){let en=-Xe/2-(re-2)*ne/2;for(let mt=0;mt<re-1;mt++)ze.push([en,Rt,Wt]),en+=ne;Rt+=me}for(let bt=0;bt<pe.length;bt++){let en=pe[bt]*(re-1);for(let mt=0;mt<re-1;mt++)Ye.push(ze[en]),en+=1}const Nt=new ji;for(let bt=0;bt<vt.length;bt++){const en=this.Move.MoveObject(Se[0],be[bt]);en.name="Cfl_"+String(bt),Nt.add(en);const mt=this.Move.MoveObject(Se[1],vt[bt]);mt.name="Cfr_"+String(bt),Nt.add(mt);const Tt=this.Move.MoveObject(Se[2],Oe[bt]);Tt.name="Cft_"+String(bt),Nt.add(Tt);const Kt=this.Move.MoveObject(Se[3],Ye[bt]);Kt.name="Cfd_"+String(bt),Nt.add(Kt)}return Nt}}return n.\u0275fac=function(t){return new(t||n)(_t(LPe),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cne=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a){const u=[],c=new ji,f=a[0],p=a[1],g=a[2],v=f-i/2,w=f-r/2,M=f+r/2,C=f+i/2,H=p-s,V=g,z=g+o,X=g+t,re=[f,p,g],me=[v,p,V],ne=[v,p,z],pe=[w,p,X],Se=[M,p,X],Ie=[C,p,z],ot=[C,p,V];u.push([re,me,ne,pe,Se,Ie,ot]);const at=[f,H,g],ze=[v,H,V],vt=[v,H,z],be=[w,H,X],Oe=[M,H,X],Ye=[C,H,z],Y=[C,H,V];u.push([at,ze,vt,be,Oe,Ye,Y]);for(let En=0;En<u.length-1;En++){const Un=u[En],He=u[En+1],Ce=Un.concat();Ce.splice(0,1),Ce.push(Un[0]);const Vt=He.concat();Vt.splice(0,1),Vt.push(He[0]);for(let rn=0;rn<Un.length;rn++){const Fn=[He[rn],Vt[rn],Ce[rn]],Nr=this.pv.PolyData([Un[rn],Ce[rn],He[rn]],[3,0,1,2]),Gt=this.pv.PolyData(Fn,[3,0,1,2]);c.add(Nr,Gt)}}const he=[re,ne,pe],ge=[re,pe,Se],Me=[re,Se,Ie],Xe=[re,Ie,ot],Je=[at,ze,vt],tt=[at,vt,be],Rt=[at,be,Oe],Wt=[at,Oe,Ye],Nt=[at,Ye,Y],bt=this.pv.PolyData([re,me,ne],[3,0,1,2]),en=this.pv.PolyData(he,[3,0,1,2]),mt=this.pv.PolyData(ge,[3,0,1,2]),Tt=this.pv.PolyData(Me,[3,0,1,2]),Kt=this.pv.PolyData(Xe,[3,0,1,2]),Cn=this.pv.PolyData(Je,[3,0,1,2]),_n=this.pv.PolyData(tt,[3,0,1,2]),Qn=this.pv.PolyData(Rt,[3,0,1,2]),In=this.pv.PolyData(Wt,[3,0,1,2]),cn=this.pv.PolyData(Nt,[3,0,1,2]);return c.add(bt,en,mt,Tt,Kt,Cn,_n,Qn,In,cn),c}}return n.\u0275fac=function(t){return new(t||n)(_t(lh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NPe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,v){const w=[],M=[];let C=0;const L=a+u,H=new ji;for(let V=0;V<c;V++){let z=-g/2*(f-2);for(let X=0;X<f-1;X++)w.push([z,C,L]),z+=g;C+=p}for(let V=0;V<v.length;V++){let z=v[V]*(f-1);for(let X=0;X<f-1;X++)M.push(w[z]),z+=1}for(let V=0;V<M.length;V++){const z=this.Gusset.CreateGusset(t,r,i,o,s,M[V]);z.name="PL1_"+String(V),H.add(z)}return H}}return n.\u0275fac=function(t){return new(t||n)(_t(cne))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dne=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],f=new ji,p=a[0],g=a[1],v=a[2];let w=1;!0===u&&(w*=-1);const M=p,C=p+i*w,L=p+r*w,V=g-s,z=v+t,X=v+o,re=v,me=[M,g,re],ne=[M,g,z],pe=[C,g,z],Se=[L,g,X],Ie=[L,g,re];c.push([me,ne,pe,Se,Ie]);const ot=[M,V,re],at=[M,V,z],ze=[C,V,z],vt=[L,V,X],be=[L,V,re];c.push([ot,at,ze,vt,be]);for(let Nt=0;Nt<c.length-1;Nt++){const bt=c[Nt],en=c[Nt+1],mt=bt.concat();mt.splice(0,1),mt.push(bt[0]);const Tt=en.concat();Tt.splice(0,1),Tt.push(en[0]);for(let Kt=0;Kt<bt.length;Kt++){const _n=[en[Kt],Tt[Kt],mt[Kt]],Qn=this.pv.PolyData([bt[Kt],mt[Kt],en[Kt]],[3,0,1,2]),In=this.pv.PolyData(_n,[3,0,1,2]);f.add(Qn,In)}}const Ye=[me,pe,Se],Y=[me,Se,Ie],Q=[ot,at,ze],he=[ot,ze,vt],ge=[ot,vt,be],Me=this.pv.PolyData([me,ne,pe],[3,0,1,2]),Xe=this.pv.PolyData(Ye,[3,0,1,2]),Je=this.pv.PolyData(Y,[3,0,1,2]),tt=this.pv.PolyData(Q,[3,0,1,2]),Rt=this.pv.PolyData(he,[3,0,1,2]),Wt=this.pv.PolyData(ge,[3,0,1,2]);return f.add(Me,Xe,Je,tt,Rt,Wt),f}}return n.\u0275fac=function(t){return new(t||n)(_t(lh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FPe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,v,w){const M=[],C=[],L=[],H=[];let V=0;const z=a+c,X=new ji;for(let me=0;me<f;me++){let ne=-v/2*(p-1)+u;for(let pe=0;pe<p-1;pe++)M.push([ne,V,z]),ne+=v;V+=g}for(let me=0;me<w.length;me++){let ne=w[me]*(p-1);for(let pe=0;pe<p-1;pe++)C.push(M[ne]),ne+=1}V=0;for(let me=0;me<f;me++){let ne=-v/2*(p-3)-u;for(let pe=0;pe<p-1;pe++)L.push([ne,V,z]),ne+=v;V+=g}for(let me=0;me<w.length;me++){let ne=w[me]*(p-1);for(let pe=0;pe<p-1;pe++)H.push(L[ne]),ne+=1}let re=0;for(let me=0;me<C.length;me++){const ne=this.Gusset.CreateGusset(t,r,i,o,s,C[me],!1);ne.name="PL2_"+String(re);const pe=this.Gusset.CreateGusset(t,r,i,o,s,H[me],!0);pe.name="PL2_"+String(re+1),X.add(ne),X.add(pe),re+=2}return X}}return n.\u0275fac=function(t){return new(t||n)(_t(dne))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HPe=(()=>{class n{constructor(t){this.pv=t}CreateGusset(t,r,i,o,s,a,u){const c=[],f=new ji,p=a[0],g=a[1],v=a[2];let w=1;!0===u&&(w*=-1);const M=p+r*w,C=p+i*w,L=p,V=g-s,z=v,X=v-o,re=v-t,me=[L,g,z],ne=[M,g,z],pe=[M,g,X],Se=[C,g,re],Ie=[L,g,re];c.push([me,ne,pe,Se,Ie]);const ot=[L,V,z],at=[M,V,z],ze=[M,V,X],vt=[C,V,re],be=[L,V,re];c.push([ot,at,ze,vt,be]);for(let Nt=0;Nt<c.length-1;Nt++){const bt=c[Nt],en=c[Nt+1],mt=bt.concat();mt.splice(0,1),mt.push(bt[0]);const Tt=en.concat();Tt.splice(0,1),Tt.push(en[0]);for(let Kt=0;Kt<bt.length;Kt++){const _n=[en[Kt],Tt[Kt],mt[Kt]],Qn=this.pv.PolyData([bt[Kt],mt[Kt],en[Kt]],[3,0,1,2]),In=this.pv.PolyData(_n,[3,0,1,2]);f.add(Qn,In)}}const Ye=[me,pe,Se],Y=[me,Se,Ie],Q=[ot,at,ze],he=[ot,ze,vt],ge=[ot,vt,be],Me=this.pv.PolyData([me,ne,pe],[3,0,1,2]),Xe=this.pv.PolyData(Ye,[3,0,1,2]),Je=this.pv.PolyData(Y,[3,0,1,2]),tt=this.pv.PolyData(Q,[3,0,1,2]),Rt=this.pv.PolyData(he,[3,0,1,2]),Wt=this.pv.PolyData(ge,[3,0,1,2]);return f.add(Me,Xe,Je,tt,Rt,Wt),f}}return n.\u0275fac=function(t){return new(t||n)(_t(lh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BPe=(()=>{class n{constructor(t){this.Gusset=t}Array(t,r,i,o,s,a,u,c,f,p,g,v,w,M){const C=[],L=[],H=[],V=[];let z=0;const X=a+c+f,re=new ji;for(let ne=0;ne<p;ne++){let pe=-w/2*(g-1)+u;for(let Se=0;Se<g-1;Se++)C.push([pe,z,X]),pe+=w;z+=v}for(let ne=0;ne<M.length;ne++){let pe=M[ne]*(g-1);for(let Se=0;Se<g-1;Se++)L.push(C[pe]),pe+=1}z=0;for(let ne=0;ne<p;ne++){let pe=-w/2*(g-3)-u;for(let Se=0;Se<g-1;Se++)H.push([pe,z,X]),pe+=w;z+=v}for(let ne=0;ne<M.length;ne++){let pe=M[ne]*(g-1);for(let Se=0;Se<g-1;Se++)V.push(H[pe]),pe+=1}let me=0;for(let ne=0;ne<L.length;ne++){const pe=this.Gusset.CreateGusset(t,r,i,o,s,L[ne],!1);pe.name="PL3_"+String(me);const Se=this.Gusset.CreateGusset(t,r,i,o,s,V[ne],!0);Se.name="PL3_"+String(me+1),re.add(pe),re.add(Se),me+=2}return re}}return n.\u0275fac=function(t){return new(t||n)(_t(HPe))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VPe=(()=>{class n{constructor(t,r,i,o){this.Gusset=t,this.Gusset2=r,this.Rotate=i,this.Move=o}Array_l(t,r,i,o,s,a,u,c,f,p,g,v){const w=[],M=[],C=[],L=[],V=-g/2*(f-1)+u/2,z=-g/2*(f-3)-u/2,X=g/2*(f-1)-u/2,re=g/2*(f-3)+u/2;let me=1,ne=1,pe=1;1==v?(me*=1,ne+=1):(me*=2,pe+=1);let Se=p/2*(3-me),Ie=p/2*me;const ot=a-s,at=new ji;let ze=0;for(let En=0;En<c-ne;En++)w.push([V,Se+ze,ot]),ze+=p;ze=0;for(let En=0;En<c-pe;En++)M.push([z,Ie+ze,ot]),ze+=p;ze=0;for(let En=0;En<c-ne;En++)C.push([X,Se+ze,ot]),ze+=p;ze=0;for(let En=0;En<c-pe;En++)L.push([re,Ie+ze,ot]),ze+=p;const vt=w,be=M,Oe=C,Ye=L,Y=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Q=this.Rotate.rotate(Y,[0,0,0],0,90,90),he=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),ge=this.Rotate.rotate(he,[0,0,0],0,-90,-90);let Me=0;for(let En=0;En<vt.length;En++){const Un=this.Move.MoveObject(Q,vt[En]);Un.name="PL4l_"+String(Me),at.add(Un),Me+=1}for(let En=0;En<be.length;En++){const Un=this.Move.MoveObject(ge,be[En]);Un.name="PL4l_"+String(Me),at.add(Un),Me+=1}for(let En=0;En<Oe.length;En++){const Un=this.Move.MoveObject(ge,Oe[En]);Un.name="PL4l_"+String(Me),at.add(Un),Me+=1}for(let En=0;En<Ye.length;En++){const Un=this.Move.MoveObject(Q,Ye[En]);Un.name="PL4l_"+String(Me),at.add(Un),Me+=1}const Xe=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Je=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),tt=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Rt=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Wt=this.Rotate.rotate(Xe,[0,0,0],0,90,90),Nt=this.Rotate.rotate(Je,[0,0,0],0,-90,-90),bt=this.Rotate.rotate(tt,[0,0,0],0,90,90),en=this.Rotate.rotate(Rt,[0,0,0],0,-90,-90),Tt=[X,0,ot],Kt=[V,p*(c-1),ot],Cn=[X,p*(c-1),ot],_n=this.Move.MoveObject(Wt,[V,0,ot]);_n.name="PL4l_"+String(Me),at.add(_n);const Qn=this.Move.MoveObject(Nt,Tt);Qn.name="PL4l_"+String(Me+1),at.add(Qn);const In=this.Move.MoveObject(bt,Kt);In.name="PL4l_"+String(Me+2),at.add(In);const cn=this.Move.MoveObject(en,Cn);return cn.name="PL4l_"+String(Me+3),at.add(cn),at}Array_u(t,r,i,o,s,a,u,c,f,p,g,v){const w=[],M=[],C=[],L=[],H=-g/2*(f-1)+u/2,V=-g/2*(f-3)-u/2,z=g/2*(f-1)-u/2,X=g/2*(f-3)+u/2;let re=1,me=1,ne=1;1==v?(re*=1,me+=1):(re*=2,ne+=1);let pe=p/2*(3-re),Se=p/2*re;const Ie=a-s,ot=new ji;let at=0;for(let cn=0;cn<c-me;cn++)w.push([H,pe+at,Ie]),at+=p;at=0;for(let cn=0;cn<c-ne;cn++)M.push([V,Se+at,Ie]),at+=p;at=0;for(let cn=0;cn<c-me;cn++)C.push([z,pe+at,Ie]),at+=p;at=0;for(let cn=0;cn<c-ne;cn++)L.push([X,Se+at,Ie]),at+=p;const ze=w,vt=M,be=C,Oe=L,Ye=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),Y=this.Rotate.rotate(Ye,[0,0,0],0,90,90),Q=this.Gusset.CreateGusset(t,r,i,o,s,[0,0,0]),he=this.Rotate.rotate(Q,[0,0,0],0,-90,-90);let ge=0;for(let cn=0;cn<ze.length;cn++){const En=this.Move.MoveObject(Y,ze[cn]);En.name="PL4u_"+String(ge),ot.add(En),ge+=1}for(let cn=0;cn<vt.length;cn++){const En=this.Move.MoveObject(he,vt[cn]);En.name="PL4u_"+String(ge),ot.add(En),ge+=1}for(let cn=0;cn<be.length;cn++){const En=this.Move.MoveObject(he,be[cn]);En.name="PL4u_"+String(ge),ot.add(En),ge+=1}for(let cn=0;cn<Oe.length;cn++){const En=this.Move.MoveObject(Y,Oe[cn]);En.name="PL4u_"+String(ge),ot.add(En),ge+=1}const Me=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Xe=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),Je=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!1),tt=this.Gusset2.CreateGusset(t,i/2,r/2,o,s,[0,0,0],!0),Rt=this.Rotate.rotate(Me,[0,0,0],0,-90,-90),Wt=this.Rotate.rotate(Xe,[0,0,0],0,90,90),Nt=this.Rotate.rotate(Je,[0,0,0],0,-90,-90),bt=this.Rotate.rotate(tt,[0,0,0],0,90,90),mt=[X,0,Ie],Tt=[V,p*(c-1),Ie],Kt=[X,p*(c-1),Ie],Cn=this.Move.MoveObject(Rt,[V,0,Ie]);Cn.name="PL4u_"+String(ge),ot.add(Cn);const _n=this.Move.MoveObject(Wt,mt);_n.name="PL4u_"+String(ge+1),ot.add(_n);const Qn=this.Move.MoveObject(Nt,Tt);Qn.name="PL4u_"+String(ge+2),ot.add(Qn);const In=this.Move.MoveObject(bt,Kt);return In.name="PL4u_"+String(ge+3),ot.add(In),ot}}return n.\u0275fac=function(t){return new(t||n)(_t(cne),_t(dne),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zPe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L){const H=M[0],V=M[1],z=M[2],re=-(t+i),me=r+i,pe=re+(v-w/2),Se=me-(v-w/2),Ie=pe+w,ot=Se-w,vt=-t*o,Oe=vt-f,Ye=-r*s,he=Ye-f,Xe=H+-t,Je=H+re,tt=H+me,Rt=H+r,Cn=z+(c-f+vt),_n=z+Oe,In=z+(c-f+Ye),cn=z+(Oe-(p-(v-i)*a)),Un=z+(he-(p-(v-i)*u)),He=z+(t*a-(t*o+f)),Ce=[H,V,z],Vt=[Xe,V,z+vt],rn=[Xe,V,Cn],mn=[Je,V,Cn],Fn=[Je,V,_n],Nr=[H+pe,V,cn],Gt=[H+Ie,V,cn],yr=[H+(Ie+g*p),V,_n],nr=[H,V,He],er=[H+(ot-g*p),V,_n],yt=[H+ot,V,Un],Wn=[H+Se,V,Un],Hn=[tt,V,z+he],Yr=[tt,V,In],sr=[Rt,V,In],Or=[Rt,V,z+Ye],Tn=[Ce,Vt,rn,mn,Fn,Nr,Gt,yr],Gn=[Ce,Vt,rn,mn,Fn,Nr,Gt,yr,nr,er,yt,Wn,Hn,Yr,sr,Or],ar=C-2;let ri=ar/2,Ki=1;ar%2==0?Ki=0:ri=(ar-1)/2;let Li=L/2*-(C-1)+L;const Lo=V;let qo=cn+L*a;const _a=(w/(2*g)+p)/(a+1/g),Ic=(w/(2*g)+p)/(1/g-a),Qa=(w/(2*g)+p)/(u+1/g),vf=(w/(2*g)+p)/(1/g-u),_h=[];if(1!==ar)for(let Qu=0;Qu<ri;Qu++){const ai=[Li-_a,Lo,qo+(_a-w/2)/g],hi=[Li-w/2,Lo,qo],Jr=[Li+w/2,Lo,qo],Xi=[Li+Ic,Lo,qo+(Ic-w/2)/g];Tn.push(ai,hi,Jr,Xi),_h.push(ai,hi,Jr,Xi),Li+=L,qo+=L*a}if(ar%2==0)Tn.push(nr);else{qo=He-p;for(let Qu=0;Qu<Ki;Qu++){const ai=[Li-_a,Lo,qo+(_a-w/2)/g],hi=[Li-w/2,Lo,qo],Jr=[Li+w/2,Lo,qo],Xi=[Li+Qa,Lo,qo+(Qa-w/2)/g];Tn.push(ai,hi,Jr,Xi),_h.push(ai,hi,Jr,Xi),Li+=L}}if(qo-=L*u,1!==ar)for(let Qu=0;Qu<ri;Qu++){const ai=[Li-Qa,Lo,qo+(Qa-w/2)/g],hi=[Li-w/2,Lo,qo],Jr=[Li+w/2,Lo,qo],Xi=[Li+vf,Lo,qo+(vf-w/2)/g];Tn.push(ai,hi,Jr,Xi),_h.push(ai,hi,Jr,Xi),Li+=L,qo-=L*u}return Tn.push(er,yt,Wn,Hn,Yr,sr,Or),[Tn,Gn,_h]}add_Slab(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L){const H=this.selection(t,r,i,o,s,a,u,c,f,p,g,v,w,[0,0,0],C,L),V=this.selection(t,r,i,o,s,a,u,c,f,p,g,v,w,[0,M,0],C,L),z=[H[0],V[0]],X=new ji;for(let Un=0;Un<z.length-1;Un++){const He=z[Un],Ce=z[Un+1],Vt=He.concat();Vt.splice(0,1),Vt.push(He[0]);const rn=Ce.concat();rn.splice(0,1),rn.push(Ce[0]);for(let mn=0;mn<He.length;mn++){const Nr=[Ce[mn],rn[mn],Vt[mn]],Gt=this.pv.PolyData([He[mn],Vt[mn],Ce[mn]],[3,0,1,2]),yr=this.pv.PolyData(Nr,[3,0,1,2]);X.add(Gt,yr)}}const re=H[1],me=H[2],pe=[re[1],re[2],re[3]],Se=[re[1],re[3],re[4]],Ie=[re[1],re[4],re[5]],ot=[re[1],re[5],re[6]],at=[re[1],re[6],re[7]],ze=[re[1],re[7],re[0]],vt=[re[0],re[7],me[0]],be=[re[0],re[9],me[me.length-1]],Oe=[re[0],re[9],re[15]],Ye=[re[9],re[10],re[15]],Y=[re[10],re[11],re[15]],Q=[re[11],re[12],re[15]],he=[re[12],re[13],re[15]],ge=[re[13],re[14],re[15]],Me=this.pv.PolyData([re[0],re[1],re[15]],[3,0,1,2]),Xe=this.pv.PolyData(pe,[3,0,1,2]),Je=this.pv.PolyData(Se,[3,0,1,2]),tt=this.pv.PolyData(Ie,[3,0,1,2]),Rt=this.pv.PolyData(ot,[3,0,1,2]),Wt=this.pv.PolyData(at,[3,0,1,2]),Nt=this.pv.PolyData(ze,[3,0,1,2]),bt=this.pv.PolyData(vt,[3,0,1,2]),en=this.pv.PolyData(be,[3,0,1,2]),mt=this.pv.PolyData(Oe,[3,0,1,2]),Tt=this.pv.PolyData(Ye,[3,0,1,2]),Kt=this.pv.PolyData(Y,[3,0,1,2]),Cn=this.pv.PolyData(Q,[3,0,1,2]),_n=this.pv.PolyData(he,[3,0,1,2]),Qn=this.pv.PolyData(ge,[3,0,1,2]),In=new ji;In.add(Me,Xe,Je,tt,Rt,Wt,Nt,bt,en,mt,Tt,Kt,Cn,_n,Qn);let cn=0;for(let Un=0;Un<C-2;Un++){const Ce=me[cn],rn=me[cn+2],mn=me[cn+3],Nr=[Ce,me[cn+1],rn],Gt=[Ce,rn,mn],yr=this.pv.PolyData([re[0],Ce,mn],[3,0,1,2]),nr=this.pv.PolyData(Nr,[3,0,1,2]),er=this.pv.PolyData(Gt,[3,0,1,2]);In.add(yr,nr,er),cn+=4}if(C%2==0){cn=(C-4)/2*4+3;const Vt=[re[0],re[8],me[cn+1]],rn=this.pv.PolyData([re[0],me[cn],re[8]],[3,0,1,2]),mn=this.pv.PolyData(Vt,[3,0,1,2]);In.add(rn,mn)}else if(C>3){cn=(C-5)/2*4+3;const mn=[re[0],me[cn+4],me[cn+5]],Fn=this.pv.PolyData([re[0],me[cn],me[cn+1]],[3,0,1,2]),Nr=this.pv.PolyData(mn,[3,0,1,2]);In.add(Fn,Nr)}const En=this.Move.MoveObject(In,[0,M,0]);return X.add(In,En),X.name="Slab_0",X}}return n.\u0275fac=function(t){return new(t||n)(_t(lh),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jPe=(()=>{class n{constructor(t,r){this.pv=t,this.Move=r}selection(t,r,i,o,s,a,u,c){const f=c[0],p=c[1],g=c[2],z=f+-t,X=f+r;return[[f,p,g],[z,p,g+-t*i],[z,p,g+(u-t*s)],[f,p,g+u],[X,p,g+(u-r*a)],[X,p,g+-r*o]]}add_Pavement(t,r,i,o,s,a,u,c,f){const p=f[0],g=f[2],v=this.selection(t,r,i,o,s,a,u,[p,0,g]),M=[v,this.selection(t,r,i,o,s,a,u,[p,c,g])],C=new ji;for(let ot=0;ot<M.length-1;ot++){const at=M[ot],ze=M[ot+1],vt=at.concat();vt.splice(0,1),vt.push(at[0]);const be=ze.concat();be.splice(0,1),be.push(ze[0]);for(let Oe=0;Oe<at.length;Oe++){const Y=[ze[Oe],be[Oe],vt[Oe]],Q=this.pv.PolyData([at[Oe],vt[Oe],ze[Oe]],[3,0,1,2]),he=this.pv.PolyData(Y,[3,0,1,2]);C.add(Q,he)}}const V=[v[0],v[2],v[3]],z=[v[0],v[3],v[4]],X=[v[0],v[4],v[5]],re=this.pv.PolyData([v[0],v[1],v[2]],[3,0,1,2]),me=this.pv.PolyData(V,[3,0,1,2]),ne=this.pv.PolyData(z,[3,0,1,2]),pe=this.pv.PolyData(X,[3,0,1,2]),Se=new ji;Se.add(re,me,ne,pe);const Ie=this.Move.MoveObject(Se,[0,c,0]);return C.add(Se,Ie),C}createPavement(t,r,i,o,s,a,u,c){const f=new ji,p=this.add_Pavement(t,r,i,o,s,a,u,c,[0,0,0]);return p.name="Pv_0",f.add(p),f}}return n.\u0275fac=function(t){return new(t||n)(_t(lh),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ch=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f,p,g,v,w,M,C,L){this.scene=t,this.pv=r,this.ArrayH1=i,this.ArrayH2=o,this.ArrayH3_u=s,this.ArrayH3_l=a,this.ArrayH4=u,this.ArrayL=c,this.ArrayG1=f,this.ArrayG2=p,this.ArrayG3=g,this.ArrayG4=v,this.AddSlab=w,this.AddPavement=M,this.Rotate=C,this.Move=L,this.Exporter=new une,this.Cox=0,this.Coy=0,this.Coz=0}createGirder(t){this.scene.clear();const r=t.display,i=r.pavement,o=r.slab,s=r.beam,a=r.mid,u=r.cross_u,c=r.cross_l,f=r.crossbeam,p=r.endbeam,g=r.gusset01,v=r.gusset02,w=r.gusset03,M=r.gusset04,C=t.slab,L=C.b1,H=C.b2,V=C.b3,z=.01*C.i1,X=.01*C.i2,re=.01*C.j1,me=.01*C.j2,ne=C.SH,pe=C.T1,Se=C.T2,Ie=C.n,ot=C.Ss,ze=t.pavement,vt=.01*ze.i1,be=.01*ze.i2,Oe=ze.T,Ye=t.beam,Y=Ye.amount_V,Q=.001*Ye.W,he=.001*Ye.D,ge=.001*Ye.tw,Me=.001*Ye.tf,Xe=(L+H+2*V-2*ot)/(Y-1),Je=t.mid,tt=.001*Je.A,Rt=.001*Je.B,Wt=.001*Je.t,Nt=.001*Je.A,bt=.001*Je.B,en=.001*Je.t,mt=.001*Je.A,Tt=.001*Je.B,Kt=.001*Je.t,Cn=.001*Je.A,_n=.001*Je.B,Qn=.001*Je.t,In=.001*Je.H,cn=.001*Je.s,En=Xe/2-cn,Un=.001*Je.s_in,He=.001*Je.s_out,Ce=.001*Je.GA1,Vt=.001*Je.GB1,rn=.001*Je.GC1,mn=.001*Je.GD1,Fn=.001*Je.Gt1,Nr=.001*Je.GA2,Gt=.001*Je.GB2,yr=.001*Je.GC2,nr=.001*Je.GD2,er=.001*Je.Gt2,yt=.001*Je.Gdx2,Wn=.001*Je.GA3,Hn=.001*Je.GB3,Yr=.001*Je.GC3,sr=.001*Je.GD3,Or=.001*Je.Gt3,Tn=.001*Je.Gdx3,Gn=.001*Je.dz,ar=t.cross,ri=.001*ar.W2,Ki=.001*ar.D3,Li=.001*ar.tf2,Lo=.001*ar.tw2,qo=.001*ar.s_edge,_a=.001*ar.s_middle,Ic=Gn+In+Me-(ri+2*Li),Qa=.001*ar.GA4,vf=.001*ar.GB4,_h=.001*ar.GC4,Qu=.001*ar.GD4,_f=.001*ar.Gt4,Be=t.crossbeam,zt=.001*Be.W3,Jt=.001*Be.D4,Yt=.001*Be.tf3,hn=.001*Be.tw3;let qr=0;1==f&&(qr=Be.location2);const ai=.001*Be.s_edge2,hi=.001*Be.s_middle2,Jr=t.endbeam,Xi=.001*Jr.D5,Mo=.001*Jr.tf4,Oo=.001*Jr.tw4,Ts=.001*Jr.W5,bh=.001*Jr.s_edge3,Rp=.001*Jr.s_middle3,Hl=t.others,Bl=parseFloat(Hl.BPx),fo=parseFloat(Hl.BPy),Nc=parseFloat(Hl.BPz),$s=parseFloat(Hl.EPx),Fc=parseFloat(Hl.EPy),Ei=parseFloat(Hl.EPz),wh=parseFloat(Hl.L_01),$v=parseFloat(Hl.L_02),Vl=(wh-$v)/2,Kv=(wh-$v)/2,ec=parseFloat(Hl.amount_H),el=$v/(ec-1),x_t=2*Me+Q+(L*z+pe+(Se-(ot-V)*re));const E_t=(Vl+Kv)/2,yk=new Array;for(let Dp=0;Dp<ec;Dp++)yk.push(Dp);let Xv=yk,a0=new Array,Y7=(yk.length-1)/(qr+1);for(let Dp=0;Dp<qr;Dp++){const q7=yk[Math.trunc(Y7)+1];a0.push(q7),Y7+=Y7}for(let Dp=0;Dp<a0.length;Dp++)Xv=Xv.filter(q7=>q7!==a0[Dp]);!0===p&&(Xv.shift(),Xv.pop()),!1===a&&!0===f&&(a0=yk,!0===p&&(a0.shift(),a0.pop()));let Gge=new ji,$ge=new ji,Kge=new ji,Xge=new ji,Zge=new ji,qge=new ji,Jge=new ji,Qge=new ji,eye=new ji,tye=new ji,nye=new ji,rye=new ji,iye=new ji;!0===s&&(Kge=this.ArrayH1.Array(wh,he,Q,Me,ge,Vl,Kv,Y,Xe,re,me)),!0===a&&(Xge=this.ArrayL.Array(tt,Rt,Wt,Nt,bt,en,mt,Tt,Kt,Cn,_n,Qn,In,En,cn,Un,He,Gn,Me,ec,Y,el,Xe,Xv)),!0===u&&(Zge=this.ArrayH3_u.Array(Ki,ri,Li,Lo,qo,_a,ec,Y,el,Xe,Ic,!1),!0===M&&(iye=this.ArrayG4.Array_u(Qa,vf,_h,Qu,_f,Ic,Lo,ec,Y,el,Xe,!1))),!0===c&&(qge=this.ArrayH3_l.Array(Ki,ri,Li,Lo,qo,_a,ec,Y,el,Xe,Gn,!0),!0===M&&(rye=this.ArrayG4.Array_l(Qa,vf,_h,Qu,_f,Gn,Lo,ec,Y,el,Xe,!0))),!0===f&&(Jge=this.ArrayH2.Array(Jt,zt,Yt,hn,ai,hi,Gn,ec,Y,el,Xe,a0)),!0===p&&(Qge=this.ArrayH4.Array(Xi,Ts,Mo,Oo,bh,Rp,Gn,$v,Y,Xe)),!0===g&&(eye=this.ArrayG1.Array(Ce,Vt,rn,mn,Fn,Gn,Me,ec,Y,el,Xe,Xv)),!0===v&&(tye=this.ArrayG2.Array(Nr,Gt,yr,nr,er,Gn,yt,Me,ec,Y,el,Xe,Xv)),!0===w&&(nye=this.ArrayG3.Array(Wn,Hn,Yr,sr,Or,Gn,Tn,Me,In,ec,Y,el,Xe,Xv)),!0===o&&(Gge=this.AddSlab.add_Slab(L,H,V,z,X,re,me,ne,pe,Se,Ie,ot,he,wh,Y,Xe)),!0===i&&($ge=this.AddPavement.createPavement(L,H,z,X,vt,be,Oe,wh));const oye=new ji;oye.add(Kge,Zge,qge,Xge,Jge,Qge,eye,tye,nye,iye,rye);const T_t=this.Move.MoveObject(oye,[0,E_t,-x_t-Oe]),R_t=this.Move.MoveObject(Gge,[0,0,-Oe]),D_t=this.Move.MoveObject($ge,[0,0,-Oe]),sye=new ji;sye.add(R_t,T_t,D_t);const aye=$s-Bl,lye=Fc-fo,uye=Ei-Nc;let G7=0,$7=0;G7=0==uye?0:this.pv.degrees(Math.atan(uye/lye)),$7=0==aye?0:this.pv.degrees(Math.atan(lye/aye))-90;const A_t=this.Move.MoveObject(sye,[Bl,fo,Nc]),O_t=this.Rotate.rotate(A_t,[Bl,fo,Nc],G7,0,$7),P_t=fo-5,L_t=Nc+5,I_t=Math.round(Bl+10),K7=Math.round(Bl),N_t=Math.round(P_t),X7=Math.round(fo),F_t=Math.round(L_t),Z7=Math.round(Nc);this.Cox==K7&&this.Coy==X7&&this.Coz==Z7||(this.scene.camera.position.set(I_t,N_t,F_t),this.scene.controls.target.set(K7,X7,Z7),this.scene.controls.update(),this.Cox=K7,this.Coy=X7,this.Coz=Z7),this.scene.add(O_t),this.scene.render()}download(){const t=this.Exporter.parse(this.scene.scene),r=new window.Blob([t],{type:"text/plain"});EW.saveAs(r,"test.obj")}}return n.\u0275fac=function(t){return new(t||n)(_t(CW),_t(lh),_t(DPe),_t(APe),_t(OPe),_t(kPe),_t(PPe),_t(IPe),_t(NPe),_t(FPe),_t(BPe),_t(VPe),_t(zPe),_t(jPe),_t(Vm),_t(uh))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UPe=["myCanvas"];let WPe=(()=>{class n{constructor(t,r,i,o){this.ngZone=t,this.scene=r,this.plam=i,this.model=o,zu.DefaultUp.set(0,0,1)}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.scene.OnInit(window.devicePixelRatio,this.canvas,devicePixelRatio,window.innerWidth,window.innerHeight),this.animate(),this.model.createGirder(this.plam.palam())}ngOnDestroy(){}animate(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("DOMContentLoaded",()=>{this.scene.render()})})}onMouseDown(t){}onMouseUp(t){}onMouseMove(t){}onResize(t){this.scene.onResize(window.devicePixelRatio,window.innerWidth,window.innerHeight)}}return n.\u0275fac=function(t){return new(t||n)(Le(Ci),Le(CW),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-three"]],viewQuery:function(t,r){if(1&t&&kl(UPe,7),2&t){let i;To(i=Ro())&&(r.canvasRef=i.first)}},hostBindings:function(t,r){1&t&&on("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)})("resize",function(o){return r.onResize(o)},!1,GT)},decls:2,vars:0,consts:[["id","myCanvas",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,r){1&t&&(Re(0,"canvas",0,1),on("mousedown",function(o){return r.onMouseDown(o)})("mouseup",function(o){return r.onMouseUp(o)})("mousemove",function(o){return r.onMouseMove(o)}),$e())},styles:["canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]}),n})();class fne{}class hne{}class dh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YPe{encodeKey(e){return pne(e)}encodeValue(e){return pne(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $Pe=/%(\d[a-f0-9])/gi,KPe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pne(n){return encodeURIComponent(n).replace($Pe,(e,t)=>{var r;return null!==(r=KPe[t])&&void 0!==r?r:e})}function e2(n){return`${n}`}class dv{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YPe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GPe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(e2):[e2(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new dv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(e2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XPe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mne(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function gne(n){return"undefined"!=typeof Blob&&n instanceof Blob}function yne(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oD{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ZPe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new dh),this.context||(this.context=new XPe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new dv,this.urlWithParams=t}serializeBody(){return null===this.body?null:mne(this.body)||gne(this.body)||yne(this.body)||function qPe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yne(this.body)?null:gne(this.body)?this.body.type||null:mne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,f=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,v)=>g.set(v,e.setHeaders[v]),c)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,v)=>g.set(v,e.setParams[v]),f)),new oD(r,i,s,{params:f,headers:c,context:p,reportProgress:u,responseType:o,withCredentials:a})}}var Xa=(()=>((Xa=Xa||{})[Xa.Sent=0]="Sent",Xa[Xa.UploadProgress=1]="UploadProgress",Xa[Xa.ResponseHeader=2]="ResponseHeader",Xa[Xa.DownloadProgress=3]="DownloadProgress",Xa[Xa.Response=4]="Response",Xa[Xa.User=5]="User",Xa))();class TW{constructor(e,t=200,r="OK"){this.headers=e.headers||new dh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RW extends TW{constructor(e={}){super(e),this.type=Xa.ResponseHeader}clone(e={}){return new RW({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class t2 extends TW{constructor(e={}){super(e),this.type=Xa.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new t2({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vne extends TW{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function DW(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let n2=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof oD)o=t;else{let u,c;u=i.headers instanceof dh?i.headers:new dh(i.headers),i.params&&(c=i.params instanceof dv?i.params:new dv({fromObject:i.params})),o=new oD(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Hr(o).pipe(Yy(u=>this.handler.handle(u)));if(t instanceof oD||"events"===i.observe)return s;const a=s.pipe(Ua(u=>u instanceof t2));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(vn(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(vn(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(vn(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(vn(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new dv).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,DW(i,r))}post(t,r,i={}){return this.request("POST",t,DW(i,r))}put(t,r,i={}){return this.request("PUT",t,DW(i,r))}}return n.\u0275fac=function(t){return new(t||n)(_t(fne))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();class _ne{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const bne=new Rn("HTTP_INTERCEPTORS");let JPe=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const QPe=/^\)\]\}',?\n/;let wne=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((v,w)=>i.setRequestHeader(v,w.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const v=t.detectContentTypeHeader();null!==v&&i.setRequestHeader("Content-Type",v)}if(t.responseType){const v=t.responseType.toLowerCase();i.responseType="json"!==v?v:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const v=i.statusText||"OK",w=new dh(i.getAllResponseHeaders()),M=function eLe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new RW({headers:w,status:i.status,statusText:v,url:M}),s},u=()=>{let{headers:v,status:w,statusText:M,url:C}=a(),L=null;204!==w&&(L=void 0===i.response?i.responseText:i.response),0===w&&(w=L?200:0);let H=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof L){const V=L;L=L.replace(QPe,"");try{L=""!==L?JSON.parse(L):null}catch(z){L=V,H&&(H=!1,L={error:z,text:L})}}H?(r.next(new t2({body:L,headers:v,status:w,statusText:M,url:C||void 0})),r.complete()):r.error(new vne({error:L,headers:v,status:w,statusText:M,url:C||void 0}))},c=v=>{const{url:w}=a(),M=new vne({error:v,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(M)};let f=!1;const p=v=>{f||(r.next(a()),f=!0);let w={type:Xa.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),"text"===t.responseType&&!!i.responseText&&(w.partialText=i.responseText),r.next(w)},g=v=>{let w={type:Xa.UploadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),r.next(w)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==o&&i.upload&&i.upload.addEventListener("progress",g)),i.send(o),r.next({type:Xa.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==o&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(_t(fZ))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const AW=new Rn("XSRF_COOKIE_NAME"),OW=new Rn("XSRF_HEADER_NAME");class Sne{}let tLe=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=eZ(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi),_t(fL),_t(AW))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),kW=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(_t(Sne),_t(OW))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),nLe=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(bne,[]);this.chain=r.reduceRight((i,o)=>new _ne(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(_t(hne),_t(Xs))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),rLe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kW,useClass:JPe}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:AW,useValue:t.cookieName}:[],t.headerName?{provide:OW,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[kW,{provide:bne,useExisting:kW,multi:!0},{provide:Sne,useClass:tLe},{provide:AW,useValue:"XSRF-TOKEN"},{provide:OW,useValue:"X-XSRF-TOKEN"}]}),n})(),iLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[n2,{provide:fne,useClass:nLe},wne,{provide:hne,useExisting:wne}],imports:[rLe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var oLe=b(3770);function Mne(n,e){return e?t=>oR(e.pipe(pl(1),function sLe(){return dr((n,e)=>{n.subscribe($n(e,K))})}()),t.pipe(Mne(n))):yi((t,r)=>n(t,r).pipe(pl(1),BZ(t)))}function xne(n,e=yI){const t=UJ(n,e);return Mne(()=>t)}const aLe=["mat-menu-item",""];function lLe(n,e){1&n&&(Jc(),Re(0,"svg",2),lt(1,"polygon",3),$e())}const Cne=["*"];function uLe(n,e){if(1&n){const t=xt();Re(0,"div",0),on("keydown",function(i){return uo(t),fr(_i()._handleKeydown(i))})("click",function(){return uo(t),fr(_i().closed.emit("click"))})("@transformMenu.start",function(i){return uo(t),fr(_i()._onAnimationStart(i))})("@transformMenu.done",function(i){return uo(t),fr(_i()._onAnimationDone(i))}),Re(1,"div",1),Ji(2),$e()()}if(2&n){const t=_i();_e("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),ts("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const r2={transformMenu:cM("transformMenu",[Dm("void",Jl({opacity:0,transform:"scale(0.8)"})),np("void => enter",tp("120ms cubic-bezier(0, 0, 0.2, 1)",Jl({opacity:1,transform:"scale(1)"}))),np("* => void",tp("100ms 25ms linear",Jl({opacity:0})))]),fadeInItems:cM("fadeInItems",[Dm("showing",Jl({opacity:1})),np("void => *",[Jl({opacity:0}),tp("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},cLe=new Rn("MatMenuContent"),PW=new Rn("MAT_MENU_PANEL"),dLe=ER(EI(class{}));let o2=(()=>{class n extends dLe{constructor(t,r,i,o,s){var a;super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new Pt,this._focused=new Pt,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==o?void 0:o.addItem)||void 0===a||a.call(o,this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const r=this._elementRef.nativeElement.cloneNode(!0),i=r.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return(null===(t=r.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var r;this._highlighted=t,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Pi),Le(Tm),Le(PW,8),Le(Hu))},n.\u0275cmp=vi({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&on("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(ts("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),ha("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[wr],attrs:aLe,ngContentSelectors:Cne,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(fn(),Ji(0),lt(1,"div",0),ie(2,lLe,2,0,"svg",1)),2&t&&(Fr(1),_e("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Fr(1),_e("ngIf",r._triggersSubmenu))},dependencies:[nR,uM],encapsulation:2,changeDetection:0}),n})();const Ene=new Rn("mat-menu-default-options",{providedIn:"root",factory:function fLe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let hLe=0,sD=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new US,this._tabSubscription=N.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Pt,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new bo,this.close=this.closed,this.panelId="mat-menu-panel-"+hLe++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Aa(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Aa(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new PJ(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Sm(this._directDescendantItems),nf(t=>bl(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var r;const i=this._keyManager;if("enter"===this._panelAnimationState&&(null===(r=i.activeItem)||void 0===r?void 0:r._hasFocus())){const o=t.toArray(),s=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[s]&&!o[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Sm(this._directDescendantItems),nf(r=>bl(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:Mb(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(pl(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){var i;const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===r,o["mat-menu-below"]="below"===r,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Sm(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Ci),Le(Ene),Le(Hu))},n.\u0275dir=Mn({type:n,contentQueries:function(t,r,i){if(1&t&&(fl(i,cLe,5),fl(i,o2,5),fl(i,o2,4)),2&t){let o;To(o=Ro())&&(r.lazyContent=o.first),To(o=Ro())&&(r._allItems=o),To(o=Ro())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&kl(dl,5),2&t){let i;To(i=Ro())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),pLe=(()=>{class n extends sD{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Ci),Le(Ene),Le(Hu))},n.\u0275cmp=vi({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&ts("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ki([{provide:PW,useExisting:n}]),wr],ngContentSelectors:Cne,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(fn(),ie(0,uLe,3,6,"ng-template"))},dependencies:[tZ],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[r2.transformMenu,r2.fadeInItems]},changeDetection:0}),n})();const Tne=new Rn("mat-menu-scroll-strategy"),gLe={provide:Tne,deps:[Ky],useFactory:function mLe(n){return()=>n.scrollStrategies.reposition()}},Rne=iM({passive:!0});let yLe=(()=>{class n{constructor(t,r,i,o,s,a,u,c,f){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=u,this._focusMonitor=c,this._ngZone=f,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=N.EMPTY,this._hoverSubscription=N.EMPTY,this._menuCloseSubscription=N.EMPTY,this._handleTouchStart=p=>{Xj(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new bo,this.onMenuOpen=this.menuOpened,this.menuClosed=new bo,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof sD?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Rne),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Rne),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof sD&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Vu(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){var t;null===(t=this.menu)||void 0===t||t.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){var r;if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof sD?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Ua(o=>"void"===o.toState),pl(1),Vu(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),null===(r=null==i?void 0:i.lazyContent)||void 0===r||r.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new nU({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[u,c]=[s,a],[f,p]=[i,o],g=0;if(this.triggersSubmenu()){if(p=i="before"===t.xPosition?"start":"end",o=f="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const v=this._parentMaterialMenu.items.first;this._parentInnerPadding=v?v._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:f,overlayY:s,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:g},{originX:i,originY:c,overlayX:f,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:p,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return bl(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Hr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ua(s=>s!==this._menuItemInstance),Ua(()=>this._menuOpen)):Hr(),r)}_handleMousedown(t){Kj(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ua(t=>t===this._menuItemInstance&&!t.disabled),xne(0,Qj)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof sD&&this.menu._isAnimating?this.menu._animationDone.pipe(pl(1),xne(0,Qj),Vu(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Bj(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(Le(Ky),Le(mi),Le(Ol),Le(Tne),Le(PW,8),Le(o2,10),Le(aM,8),Le(Tm),Le(Ci))},n.\u0275dir=Mn({type:n,hostVars:3,hostBindings:function(t,r){1&t&&on("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&ts("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),vLe=(()=>{class n extends yLe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xo(n)))(r||n)}}(),n.\u0275dir=Mn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[wr]}),n})(),_Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[gLe],imports:[gb,Ao,TI,rU,xR,Ao]}),n})();function Dne(...n){const e=Ad(n),{args:t,keys:r}=PZ(n),i=new gt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let f=0;f<s;f++){let p=!1;Rs(t[f]).subscribe($n(o,g=>{p||(p=!0,c--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(c||o.next(r?LZ(r,a):a),o.complete())}))}});return e?i.pipe(zz(e)):i}const bLe=["*"];let s2;function aD(n){var e;return(null===(e=function wLe(){if(void 0===s2&&(s2=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(s2=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return s2}())||void 0===e?void 0:e.createHTML(n))||n}function Ane(n){return Error(`Unable to find icon with the name "${n}"`)}function One(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kne(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Xb{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let a2=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Xb(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(Fo.HTML,i);if(!s)throw kne(i);const a=aD(s);return this._addSvgIconConfig(t,r,new Xb("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Xb(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Fo.HTML,r);if(!o)throw kne(r);const s=aD(o);return this._addSvgIconSetConfig(t,new Xb("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Fo.RESOURCE_URL,t);if(!r)throw One(t);const i=this._cachedIconsByUrl.get(r);return i?Hr(l2(i)):this._loadSvgIconFromConfig(new Xb(t,null)).pipe(Wa(o=>this._cachedIconsByUrl.set(r,o)),vn(o=>l2(o)))}getNamedSvgIcon(t,r=""){const i=Pne(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):KS(Ane(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Hr(l2(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(vn(r=>l2(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Hr(i):Dne(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Mm(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Fo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Hr(null)})))).pipe(vn(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw Ane(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Wa(r=>t.svgText=r),vn(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Hr(null):this._fetchIcon(t).pipe(Wa(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(aD("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(aD("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:o}=t,s=null!==(r=null==o?void 0:o.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function SLe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Fo.RESOURCE_URL,i);if(!a)throw One(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(vn(f=>aD(f)),NL(()=>this._inProgressUrlFetches.delete(a)),wl());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(Pne(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return xLe(o)?new Xb(o.url,null,o.options):new Xb(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(_t(n2,8),_t(Vz),_t(Pi,8),_t(gs))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l2(n){return n.cloneNode(!0)}function Pne(n,e){return n+":"+e}function xLe(n){return!(!n.url||!n.options)}const CLe=lM(class{constructor(n){this._elementRef=n}}),ELe=new Rn("MAT_ICON_DEFAULT_OPTIONS"),TLe=new Rn("mat-icon-location",{providedIn:"root",factory:function RLe(){const n=ws(Pi),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Lne=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DLe=Lne.map(n=>`[${n}]`).join(", "),ALe=/^url\(['"]?#(.*?)['"]?\)$/;let OLe=(()=>{class n extends CLe{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=N.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Aa(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(DLe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Lne.forEach(s=>{const a=r[o],u=a.getAttribute(s),c=u?u.match(ALe):null;if(c){let f=i.get(a);f||(f=[],i.set(a,f)),f.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(pl(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(a2),Bf("aria-hidden"),Le(TLe),Le(gs),Le(ELe,8))},n.\u0275cmp=vi({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(ts("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ha("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[wr],ngContentSelectors:bLe,decls:1,vars:0,template:function(t,r){1&t&&(fn(),Ji(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,Ao]}),n})();const PLe=["*",[["mat-toolbar-row"]]],LLe=["*","mat-toolbar-row"],ILe=lM(class{constructor(n){this._elementRef=n}});let NLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),FLe=(()=>{class n extends ILe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Cc),Le(Pi))},n.\u0275cmp=vi({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&fl(i,NLe,5),2&t){let o;To(o=Ro())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&ha("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[wr],ngContentSelectors:LLe,decls:2,vars:0,template:function(t,r){1&t&&(fn(PLe),Ji(0),Ji(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),HLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,Ao]}),n})();function BLe(n,e){if(1&n&&(Jc(),lt(0,"circle",4)),2&n){const t=_i(),r=ke(1);wc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ts("r",t._getCircleRadius())}}function VLe(n,e){if(1&n&&(Jc(),lt(0,"circle",4)),2&n){const t=_i(),r=ke(1);wc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),ts("r",t._getCircleRadius())}}const jLe=lM(class{constructor(n){this._elementRef=n}},"primary"),ULe=new Rn("mat-progress-spinner-default-options",{providedIn:"root",factory:function WLe(){return{diameter:100}}});class zm extends jLe{constructor(e,t,r,i,o,s,a,u){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=N.EMPTY,this.mode="determinate";const c=zm._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&s&&u&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&u.run(()=>s.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=ep(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=ep(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,ep(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=bJ(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=zm._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}zm._diameters=new WeakMap,zm.\u0275fac=function(e){return new(e||zm)(Le(mi),Le(Cc),Le(Pi,8),Le(Kh,8),Le(ULe),Le(Hu),Le(MI),Le(Ci))},zm.\u0275cmp=vi({type:zm,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(ts("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),wc("width",t.diameter,"px")("height",t.diameter,"px"),ha("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[wr],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Jc(),Re(0,"svg",0,1),ie(2,BLe,1,11,"circle",2),ie(3,VLe,1,9,"circle",3),$e()),2&e&&(wc("width",t.diameter,"px")("height",t.diameter,"px"),_e("ngSwitch","indeterminate"===t.mode),ts("viewBox",t._getViewBox()),Fr(2),_e("ngSwitchCase",!0),Fr(1),_e("ngSwitchCase",!1))},dependencies:[TL,sZ],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let GLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,gb,Ao]}),n})();function $Le(n,e){if(1&n){const t=xt();Re(0,"button",10),on("click",function(){return uo(t),fr(_i().download())}),Re(1,"mat-icon"),Xn(2,"cloud_download"),$e()()}}function KLe(n,e){1&n&&(Re(0,"div"),lt(1,"mat-spinner",11),$e())}function XLe(n,e){if(1&n){const t=xt();Re(0,"button",12),on("click",function(){return uo(t),fr(_i().calculate())}),Re(1,"mat-icon"),Xn(2,"description"),$e()()}}function ZLe(n,e){1&n&&(Re(0,"div"),lt(1,"mat-spinner",11),$e())}let qLe=(()=>{class n{constructor(t,r,i,o,s,a,u){this.http=t,this.pv=r,this.scene=i,this.model=o,this.girder=s,this.Rotate=a,this.Move=u,this.isLoading=!1,this.Exporter=new une,this.isCalculating=!1}ngOnInit(){}open(t){const r=t.target.files[0];t.target.value="",this.fileToText(r).then(i=>{const o=JSON.parse(i);this.model.set_palam(o),this.girder.createGirder(this.model.palam())}).catch(i=>{alert(i)})}fileToText(t){const r=new FileReader;return r.readAsText(t),new Promise((i,o)=>{r.onload=()=>{i(r.result)},r.onerror=()=>{o(r.error)}})}save(){const t=JSON.stringify(this.model.palam()),r=new window.Blob([t],{type:"text/plain"});EW.saveAs(r,"test.json")}download(){const t={headers:new dh({"Content-Type":"application/json",Accept:"application/json"})},r=this.getPostJson(),i="https://zm37ggrwgg.execute-api.ap-northeast-1.amazonaws.com/prod";this.isLoading=!0,this.http.get(i,t).subscribe(o=>{console.log(o),this.http.post(i,r,t).subscribe(s=>{this.isLoading=!1;let a=s;if(Array.isArray(a)&&(a=s[0]),"string"==typeof a&&(a=JSON.parse(a)),!("body"in a))return;const c=new Blob([a.body],{type:"text/plain;charset=utf-8"});EW.saveAs(c,"test.ifc")},s=>{this.isLoading=!1,alert(s.message)})},o=>{this.isLoading=!1,alert(o.message)})}calculate(){this.isCalculating=!0;const t={headers:new dh({"Content-Type":"application/json",Accept:"application/json",responseType:"text"})},i=JSON.stringify(this.model.palam());this.http.post("https://girdergenbrpyserver.azurewebsites.net/api/OnDataReady?code=Xw-pAwli2ZPrwi6ivtzOU1MaT6Sdn9ONtGo83DT_yzUTAzFuof2omg==",i,t).subscribe(o=>{oLe({printable:o.toString(),type:"pdf",base64:!0}),this.isCalculating=!1},o=>{this.isCalculating=!1,alert(o.message)})}goToLink(){window.open("https://fresh-tachometer-148.notion.site/2e5a97e10bb14bfcbece8db66dfe5c66","_blank")}getPostJson(){const t=this.model.palam(),r=t.others,i=t.display,o=r.Name_P,s=r.Name_R,a=r.Class_R,u=r.Milepost_B+"km",c=r.Milepost_E+"km",f=r.BP,p=r.EP,g=i.crossbeam,v=i.mid,w=new Array;for(let be=0;be<1;be++){const Oe=this.scene.scene.getObjectByName("Slab_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);w.push(Ye)}const M=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Hsteel-01-"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);M.push(Ye)}const C=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cr_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);C.push(Ye)}const L=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Ll_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);L.push(Ye)}const H=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Lu_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);H.push(Ye)}const V=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cu_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);V.push(Ye)}const z=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cfl_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);z.push(Ye)}const X=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cfr_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);X.push(Ye)}const re=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cft_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);re.push(Ye)}const me=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Cfd_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);me.push(Ye)}const ne=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("PL1_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);ne.push(Ye)}const pe=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("PL2_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);pe.push(Ye)}const Se=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("PL3_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);Se.push(Ye)}const Ie=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("PL4u_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);Ie.push(Ye)}const ot=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("PL4l_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);ot.push(Ye)}const at=new Array;for(let be=0;be<100;be++){const Oe=this.scene.scene.getObjectByName("Pv_"+String(be));if(null==Oe)break;let Ye=this.Exporter.parse(Oe);at.push(Ye)}let ze="\u8377\u91cd\u5206\u914d\u6a2a\u6841";return!0===g&&!1===v&&(ze="\u4e2d\u9593\u6a2a\u6841"),JSON.stringify({body:{ProjectName:o,RouteName:s,RoadClass:a,Milepost_B:u,Milepost_E:c,BP:f,EP:p,pavement:{obj:[at],Name:"\u8217\u88c5",Name_s:["\u8217\u88c5"],Class:"\u8217\u88c5",Info:"",Info_s:[],Type:"\u8eca\u9053"},slab:{obj:[w],Name:"\u5e8a\u7248",Name_s:["\u5e8a\u7248"],Class:"\u5e8a\u7248",Info:"A1/A2",Info_s:[],Type:"RC\u5e8a\u7248"},beam:{obj:[M],Name:"\u4e3b\u6841",Name_s:["\u4e3b\u6841"],Class:"\u4e3b\u6841",Info:"A1/A2",Type:""},cross:{obj:[L,H,Ie,ot],Name:"\u6a2a\u69cb",Name_s:["\u4e0b\u6a2a\u69cb","\u4e0a\u6a2a\u69cb","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u6a2a\u69cb\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u6a2a\u69cb\uff09"],Class:"\u6a2a\u69cb",Info:"A1/A2",Type:""},mid:{obj:[z,X,me,re,ne,pe,Se],Name:"\u5bfe\u50be\u69cb",Name_s:["\u5de6\u659c\u6750","\u53f3\u659c\u6750","\u4e0b\u5f26\u6750","\u4e0a\u5f26\u6750","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09"],Class:"\u5bfe\u50be\u69cb",Info:"A1/A2",Type:""},crossbeam:{obj:[C,V],Name:"\u6a2a\u6841",Name_s:[ze,"\u7aef\u6a2a\u6841"],Class:"\u6a2a\u6841",Info:"A1/A2",Type:""}}})}}return n.\u0275fac=function(t){return new(t||n)(Le(n2),Le(lh),Le(CW),Le(ah),Le(ch),Le(Vm),Le(uh))},n.\u0275cmp=vi({type:n,selectors:[["app-menu"]],decls:22,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["type","file","accept","application/json",2,"display","none",3,"change"],["mat-menu-item","",3,"click"],[1,"example-spacer"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","download ifc file",3,"click",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with help_outline icon",1,"example-icon",3,"click"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","Calculate document",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","download ifc file",1,"example-icon","favorite-icon",3,"click"],["diameter","40"],["mat-icon-button","","aria-label","Calculate document",1,"example-icon","favorite-icon",3,"click"]],template:function(t,r){if(1&t&&(Re(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),Xn(3,"menu"),$e()(),Re(4,"mat-menu",null,1)(6,"label",2)(7,"span"),Xn(8," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),Re(9,"input",3),on("change",function(o){return r.open(o)}),$e()()(),Re(10,"button",4),on("click",function(){return r.save()}),Xn(11,"\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"),$e()(),Re(12,"span"),Xn(13,"\u5408\u6210\u6841-3D\u30e2\u30c7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc"),$e(),lt(14,"span",5),ie(15,$Le,3,0,"button",6),ie(16,KLe,2,0,"div",7),Re(17,"button",8),on("click",function(){return r.goToLink()}),Re(18,"mat-icon"),Xn(19,"help_outline"),$e()(),ie(20,XLe,3,0,"button",9),ie(21,ZLe,2,0,"div",7),$e()),2&t){const i=ke(5);Fr(1),_e("matMenuTriggerFor",i),Fr(14),_e("ngIf",!r.isLoading),Fr(1),_e("ngIf",r.isLoading),Fr(4),_e("ngIf",!r.isCalculating),Fr(1),_e("ngIf",r.isCalculating)}},dependencies:[nR,pLe,o2,vLe,OLe,eh,FLe,zm],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var FW,tx,lD;function IW(n){return(IW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function NW(n){return window.requestAnimationFrame(n)}function QLe(){return!!document.createTextNode("test").textContent}function u2(n){window.cancelAnimationFrame(n)}function Ine(){return"ontouchstart"in window}function Nne(){return void 0===FW&&function tIe(){var n=document.createElement("TABLE");n.style.borderSpacing="0",n.style.borderWidth="0",n.style.padding="0";var e=document.createElement("TBODY");n.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var t=document.createElement("CAPTION");t.innerHTML="c<br>c<br>c<br>c",t.style.padding="0",t.style.margin="0",n.insertBefore(t,e),document.body.appendChild(n),FW=n.offsetHeight<2*n.lastChild.offsetHeight,document.body.removeChild(n)}(),FW}function rIe(){if(void 0!==lD)return lD;try{var n={get passive(){lD=!0}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(e){lD=!1}return lD}function iIe(n){for(var e=n.length,t=0;t<e;)n[t]=[n[t]],t+=1}function Fne(n,e){for(var t=e.length,r=0;r<t;)n.push(e[r]),r+=1}function c2(n){var e=[];if(!n||0===n.length||!n[0]||0===n[0].length)return e;for(var t=n.length,r=n[0].length,i=0;i<t;i++)for(var o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=n[i][o];return e}function Za(n,e,t,r){var i=-1,o=n,s=t;Array.isArray(n)||(o=Array.from(n));var a=o.length;for(r&&a&&(s=o[i+=1]),i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function uf(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;){var a=r[t];e(a,t,r)&&(o[s+=1]=a),t+=1}return o}function eo(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length,o=[],s=-1;t<i;)o[s+=1]=e(r[t],t,r),t+=1;return o}function ut(n,e){var t=0,r=n;Array.isArray(n)||(r=Array.from(n));for(var i=r.length;t<i&&!1!==e(r[t],t,r);)t+=1;return n}function Hne(n){var e=[];return ut(n,function(t){-1===e.indexOf(t)&&e.push(t)}),e}function Bne(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=[].concat(e),i=r[0],o=r.slice(1),s=i;return ut(o,function(a){s=s.filter(function(u){return!a.includes(u)})}),s}function Vne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return n.split(e)}function zne(n,e,t){return e=function aIe(n){var e=function lIe(n,e){if("object"!==jm(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==jm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===jm(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jm(n){return(jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uD(n){var e;return Array.isArray(n)?e=n.length?new Array(n.length).fill(null):[]:(e={},no(n,function(t,r){"__children"!==r&&(e[r]=t&&"object"===jm(t)&&!Array.isArray(t)?uD(t):Array.isArray(t)?t.length&&"object"===jm(t[0])&&!Array.isArray(t[0])?[uD(t[0])]:[]:null)})),e}function fv(n,e){return e.prototype.constructor=e,n.prototype=new e,n.prototype.constructor=n,n}function qa(n,e,t){var r=Array.isArray(t);return no(e,function(i,o){(!1===r||t.includes(o))&&(n[o]=i)}),n}function d2(n,e){no(e,function(t,r){e[r]&&"object"===jm(e[r])?(n[r]||(n[r]=Array.isArray(e[r])?[]:"[object Date]"===Object.prototype.toString.call(e[r])?e[r]:{}),d2(n[r],e[r])):n[r]=e[r]})}function Yu(n){return"object"===jm(n)?JSON.parse(JSON.stringify(n)):n}function Ac(n){var e={};return no(n,function(t,r){e[r]=t}),e}function Ss(n){n.MIXINS||(n.MIXINS=[]);for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return ut(t,function(i){n.MIXINS.push(i.MIXIN_NAME),no(i,function(o,s){if(void 0!==n.prototype[s])throw new Error("Mixin conflict. Property '".concat(s,"' already exist and cannot be overwritten."));var f,p,g;"function"==typeof o?n.prototype[s]=o:Object.defineProperty(n.prototype,s,{get:(f=s,p=o,g="_".concat(f),function(){return void 0===this[g]&&(this[g]=(C=p,(Array.isArray(C)||to(C))&&(C=Yu(C)),C)),this[g];var C}),set:function(f){var p="_".concat(f);return function(g){this[p]=g}}(s),configurable:!0})})}),n}function HW(n,e){return JSON.stringify(n)===JSON.stringify(e)}function to(n){return"[object Object]"===Object.prototype.toString.call(n)}function Um(n,e,t,r){r.value=t,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(n,e,r)}function no(n,e){for(var t in n)if((!n.hasOwnProperty||n.hasOwnProperty&&Object.prototype.hasOwnProperty.call(n,t))&&!1===e(n[t],t,n))break;return n}function BW(n,e,t){var r=e.split("."),i=n;r.forEach(function(o,s){s!==r.length-1?(ya(i,o)||(i[o]={}),i=i[o]):i[o]=t})}function VW(n){return to(n)?function t(r){var i=0;return to(r)?no(r,function(o,s){"__children"!==s&&(i+=t(o))}):i+=1,i}(n):0}function nx(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(t),i=(zne(e={_touched:!1},r,n),zne(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(i,t,{get:function(){return this[r]},set:function(s){this._touched=!0,this[r]=s},enumerable:!0,configurable:!0}),i}function ya(n,e){return Object.prototype.hasOwnProperty.call(n,e)}b(183),b(5986),b(5845),b(8530),b(9302),b(346),b(7250),b(3494),b(3119),b(3217),b(5511),b(403),b(3277),b(9669),b(8252),b(2516),b(9885),b(3815),b(6496),b(9065),b(8634),b(9285),b(8350),b(6062),b(6112),b(1983),b(2056),b(9255),b(4679),b(1295),b(4466),b(5718),b(4892),b(970),b(4994),b(7344),b(4922),b(620);var Oc=function(e){var t={value:!1,test:function(r,i){t.value=e(r,i)}};return t},gd={chrome:Oc(function(n,e){return/Chrome/.test(n)&&/Google/.test(e)}),chromeWebKit:Oc(function(n){return/CriOS/.test(n)}),edge:Oc(function(n){return/Edge/.test(n)}),edgeWebKit:Oc(function(n){return/EdgiOS/.test(n)}),firefox:Oc(function(n){return/Firefox/.test(n)}),firefoxWebKit:Oc(function(n){return/FxiOS/.test(n)}),ie:Oc(function(n){return/Trident/.test(n)}),ie9:Oc(function(){return!!document.documentMode}),mobile:Oc(function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)}),safari:Oc(function(n,e){return/Safari/.test(n)&&/Apple Computer/.test(e)})},rx={mac:Oc(function(n){return/^Mac/.test(n)}),win:Oc(function(n){return/^Win/.test(n)}),linux:Oc(function(n){return/^Linux/.test(n)}),ios:Oc(function(n){return/iPhone|iPad|iPod/i.test(n)})};function jne(){return gd.chrome.value}function zW(){return gd.firefox.value}function up(){return gd.mobile.value}function Une(){return rx.ios.value}function Wne(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator,e=n.maxTouchPoints;return e>2&&rx.mac.value}function Yne(){return rx.win.value}function Gne(){return rx.mac.value}(function cIe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.userAgent,t=void 0===e?navigator.userAgent:e,r=n.vendor,i=void 0===r?navigator.vendor:r;no(gd,function(o){(0,o.test)(t,i)})})(),function dIe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.platform,t=void 0===e?navigator.platform:e;no(rx,function(r){(0,r.test)(t)})}();var WW,YW,GW,vIe=b(8120);function fh(n){return n[0].toUpperCase()+n.substr(1)}function $ne(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+n()+n()}function Kne(n){return/^([0-9][0-9]?%$)|(^100%$)/.test(n)}function Xne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(n).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,r){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[r]?"":e[r]})}function Zne(n){return jW("".concat(n),{ALLOWED_TAGS:[]})}function jW(n,e){return vIe.sanitize(n,e)}function qne(n){return function SIe(n){if(Array.isArray(n))return UW(n)}(n)||function wIe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bIe(n,e){if(n){if("string"==typeof n)return UW(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return UW(n,e)}}(n)||function _Ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UW(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MIe(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=-1,r=null,i=n;null!==i;){if(t===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(t+=1,i=i.parentNode)}return r}function f2(n){return function xIe(n){return Object.getPrototypeOf(n.parent)&&n.frameElement}(n)&&n.parent}function Zb(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,s=n;null!=s&&s!==t;){var a=s,u=a.nodeType,c=a.nodeName;if(u===i&&(e.includes(c)||e.includes(s)))return s;var f=s,p=f.host;s=p&&u===o?p:s.parentNode}return null}function h2(n,e,t){for(var r=[],i=n;i&&(i=Zb(i,e,t))&&(!t||t.contains(i));)r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode;var o=r.length;return o?r[o-1]:null}function qb(n,e){var t=n.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(n.defaultView?n.querySelectorAll(e):n.ownerDocument.querySelectorAll(e),0):r.push(e);null!==t;){if(r.indexOf(t)>-1)return!0;t=t.parentNode}return!1}function Jb(n,e,t){var r=t.parentElement.querySelector(".ht_clone_".concat(n));return r?r.contains(e):null}function p2(n){return n&&n.length?n.filter(function(e){return!!e}):[]}if(function JLe(){return!!document.documentElement.classList}()){var Jne=function(e){var t=e.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};WW=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},YW=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=p2(i)).length>0)if(Jne(r)){var o;(o=e.classList).add.apply(o,qne(i))}else for(var s=0;i[s];)e.classList.add(i[s]),s+=1},GW=function(e,t){var r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=p2(i)).length>0)if(Jne(r)){var o;(o=e.classList).remove.apply(o,qne(i))}else for(var s=0;i[s];)e.classList.remove(i[s]),s+=1}}else{var $W=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"))};WW=function(e,t){return void 0!==e.className&&$W(t).test(e.className)},YW=function(e,t){var r=e.className,i=t;if("string"==typeof i&&(i=i.split(" ")),i=p2(i),""===r)r=i.join(" ");else for(var o=0;o<i.length;o++)i[o]&&!$W(i[o]).test(r)&&(r+=" ".concat(i[o]));e.className=r},GW=function(e,t){var r=0,i=e.className,o=t;for("string"==typeof o&&(o=o.split(" ")),o=p2(o);o[r];)i=i.replace($W(o[r])," ").trim(),r+=1;e.className!==i&&(e.className=i)}}function Ai(n,e){return WW(n,e)}function Dn(n,e){YW(n,e)}function Bi(n,e){GW(n,e)}function Qne(n){if(3===n.nodeType)n.parentNode.removeChild(n);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(n.nodeName)>-1)for(var e=n.childNodes,t=e.length-1;t>=0;t--)Qne(e[t])}function cp(n){for(var e;e=n.lastChild;)n.removeChild(e)}var XW,EIe=/(<(.*)>|&(.*);)/;function ix(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];EIe.test(e)?n.innerHTML=t?jW(e):e:Qb(n,e)}function Qb(n,e){var t=n.firstChild;t&&3===t.nodeType&&null===t.nextSibling?QLe?t.textContent=e:t.data=e:(cp(n),n.appendChild(n.ownerDocument.createTextNode(e)))}function cD(n){for(var e=n.ownerDocument.documentElement,t=n;t!==e;){if(null===t)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return cD(t.host.impl);if(t.host)return cD(t.host);throw new Error("Lost in Web Components world")}return!1}if(t.style&&"none"===t.style.display)return!1;t=t.parentNode}return!0}function Ja(n){var o,s,a,u,e=n.ownerDocument,t=e.defaultView,r=e.documentElement,i=n;if(Nne()&&i.firstChild&&"CAPTION"===i.firstChild.nodeName)return{top:(u=i.getBoundingClientRect()).top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:u.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&i!==e.body;)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&"fixed"===a.style.position&&(o+=t.pageXOffset||r.scrollLeft,s+=t.pageYOffset||r.scrollTop),{left:o,top:s}}function dD(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollY;return void 0===e&&(e=n.document.documentElement.scrollTop),e}function ox(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.scrollX;return void 0===e&&(e=n.document.documentElement.scrollLeft),e}function m2(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?dD(e):n.scrollTop}function KW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n===e?ox(e):n.scrollLeft}function g2(n){var e=n.ownerDocument,t=e?e.defaultView:void 0;e||(t=(e=n.document?n.document:n).defaultView);for(var r=["auto","scroll"],i=function eIe(){return!!window.getComputedStyle}(),o=n.parentNode;o&&o.style&&e.body!==o;){var s=o.style,a=s.overflow,u=s.overflowX,c=s.overflowY;if([a,u,c].includes("scroll"))return o;if(i){var f=t.getComputedStyle(o);if(u=f.overflowX,c=f.overflowY,r.includes(a=f.overflow)||r.includes(u)||r.includes(c))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(c)||r.includes(a))||o.clientWidth<=o.scrollWidth+1&&(r.includes(u)||r.includes(a)))return o;o=o.parentNode}return t}function sx(n){for(var e=n.ownerDocument,t=e.defaultView,r=n.parentNode;r&&r.style&&e.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var i=ew(r,t),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),u=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(u))return r;r=r.parentNode}return t}function fD(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(n){if(n===t)return"width"===e?"".concat(t.innerWidth,"px"):"height"===e?"".concat(t.innerHeight,"px"):void 0;var r=n.style[e];if(""!==r&&void 0!==r)return r;var i=ew(n,t);return""!==i[e]&&void 0!==i[e]?i[e]:void 0}}function ew(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n.currentStyle||e.getComputedStyle(n)}function vs(n){return n.offsetWidth}function Qs(n){return Nne()&&n.firstChild&&"CAPTION"===n.firstChild.nodeName?n.offsetHeight+n.firstChild.offsetHeight:n.offsetHeight}function hv(n){return n.clientHeight||n.innerHeight}function y2(n){return n.clientWidth||n.innerWidth}function ere(n){var e=n.ownerDocument;if(n.selectionStart)return n.selectionStart;if(e.selection){n.focus();var t=e.selection.createRange();if(null===t)return 0;var r=n.createTextRange(),i=r.duplicate();return r.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function tre(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document;n.getSelection?n.getSelection().empty?n.getSelection().empty():n.getSelection().removeAllRanges&&n.getSelection().removeAllRanges():e.selection&&e.selection.empty()}function v2(n,e,t){if(void 0===t&&(t=e),n.setSelectionRange){n.focus();try{n.setSelectionRange(e,t)}catch(o){var r=n.parentNode,i=r.style.display;r.style.display="block",n.setSelectionRange(e,t),r.style.display=i}}}function DIe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=n.createElement("div");e.style.height="200px",e.style.width="100%";var t=n.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(n.body||n.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return r===i&&(i=t.clientWidth),(n.body||n.documentElement).removeChild(t),r-i}function Il(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===XW&&(XW=DIe(n)),XW}function ZW(n,e,t){!function yIe(){return gd.ie9.value}()?function pIe(){return gd.safari.value}()?n.style["-webkit-transform"]="translate3d(".concat(e,",").concat(t,",0)"):n.style.transform="translate3d(".concat(e,",").concat(t,",0)"):(n.style.top=t,n.style.left=e)}function _2(n){n.style.transform&&""!==n.style.transform?n.style.transform="":n.style["-webkit-transform"]&&""!==n.style["-webkit-transform"]&&(n.style["-webkit-transform"]="")}function b2(n){return n&&(["INPUT","SELECT","TEXTAREA"].indexOf(n.nodeName)>-1||"true"===n.contentEditable)}function qW(n){return b2(n)&&!1===n.hasAttribute("data-hot-input")}function nre(n){return!n.parentNode}function PIe(n,e){new IntersectionObserver(function(r,i){r.forEach(function(o){o.isIntersecting&&null!==n.offsetParent&&(e(),i.unobserve(n))})},{root:n.ownerDocument.body}).observe(n)}b(9088),b(3945);var rre,ire,ore,sre,are,lre,Zo=b(6908);function ns(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Za(n,function(o,s,a){return o+s.replace(/\r?\n\s*/g,"")+(t[a]?t[a]:"")},"");return i.trim()}function ax(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function JW(n){return(JW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pa(n){var e;switch(JW(n)){case"string":case"number":e="".concat(n);break;case"object":e=null===n?"":n.toString();break;case"undefined":e="";break;default:e=n.toString()}return e}function Cr(n){return void 0!==n}function Ms(n){return void 0===n}function yl(n){return null===n||""===n||Ms(n)}function LIe(n){return"[object RegExp]"===Object.prototype.toString.call(n)}var hD="length",pD=function(e){return parseInt(e,16)},ure=function(e){return parseInt(e,10)},w2=function(e,t,r){return e.substr(t,r)},mD=function(e){return e.codePointAt(0)-65},QW=function(e){return"".concat(e).replace(/\-/g,"")},cre=!1,dre={invalid:function(){return ns(rre||(rre=ax(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return ns(ire||(ire=ax(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."])),t,r,t)},missing:function(){return ns(ore||(ore=ax(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."])))},non_commercial:function(){return""}},fre={invalid:function(){return ns(sre||(sre=ax(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},expired:function(e){var t=e.keyValidityDate,r=e.hotVersion;return ns(are||(are=ax(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'])),t,r,t)},missing:function(){return ns(lre||(lre=ax(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},non_commercial:function(){return""}};function FIe(n,e){var o,t=!yl(n),r="string"==typeof n&&"non-commercial-and-evaluation"===n.toLowerCase(),i="12.4.0",s="invalid",a="invalid",u=function HIe(n){var e=[][hD],t=e;if(n[hD]!==mD("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=mD(i.shift());o;o=mD(i.shift()||"A"))--o<""[hD]?t|=(ure("".concat(ure(pD(r)+(pD(w2(n,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=w2(n,o,o?1===i[hD]?9:8:6);return t===e}(n=QW(n||""));if(t||r||u)if(u){var c=Zo("23/05/2023","DD/MM/YYYY"),f=Math.floor(c.toDate().getTime()/864e5),p=function(e){return pD(w2(QW(e),pD("12"),mD("F")))/(pD(w2(QW(e),mD("B"),~~![][hD]))||9)}(n);o=Zo(864e5*(p+1),"x").format("MMMM DD, YYYY"),f>p?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if("undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)&&(s="valid",a="valid"),cre||"valid"===s||(dre[s]({keyValidityDate:o,hotVersion:i})&&console["non_commercial"===s?"info":"warn"](dre[s]({keyValidityDate:o,hotVersion:i})),cre=!0),"valid"!==a&&e.parentNode&&fre[a]({keyValidityDate:o,hotVersion:i})){var w=document.createElement("div");w.className="hot-display-license-info",w.innerHTML=fre[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(w,e.nextSibling)}}function Es(n){return"function"==typeof n}function hre(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=null;function i(){for(var o=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t&&clearTimeout(t),t=setTimeout(function(){r=n.apply(o,a)},e),r}return i}function pre(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n.apply(this,t.concat(s))}}function e4(n,e,t,r,i,o,s,a){return Cr(a)?n.call(e,t,r,i,o,s,a):Cr(s)?n.call(e,t,r,i,o,s):Cr(o)?n.call(e,t,r,i,o):Cr(i)?n.call(e,t,r,i):Cr(r)?n.call(e,t,r):Cr(t)?n.call(e,t):n.call(e)}function cs(){var n;Cr(console)&&(n=console).warn.apply(n,arguments)}function t4(){var n;Cr(console)&&(n=console).error.apply(n,arguments)}b(9336);var gre,Ir={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:zW()?182:174,AUDIO_MUTE:zW()?181:173,AUDIO_UP:zW()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},zIe=[Ir.ALT,Ir.ARROW_DOWN,Ir.ARROW_LEFT,Ir.ARROW_RIGHT,Ir.ARROW_UP,Ir.AUDIO_DOWN,Ir.AUDIO_MUTE,Ir.AUDIO_UP,Ir.BACKSPACE,Ir.CAPS_LOCK,Ir.DELETE,Ir.END,Ir.ENTER,Ir.ESCAPE,Ir.F1,Ir.F2,Ir.F3,Ir.F4,Ir.F5,Ir.F6,Ir.F7,Ir.F8,Ir.F9,Ir.F10,Ir.F11,Ir.F12,Ir.F13,Ir.F14,Ir.F15,Ir.F16,Ir.F17,Ir.F18,Ir.F19,Ir.HOME,Ir.INSERT,Ir.MEDIA_NEXT,Ir.MEDIA_PLAY_PAUSE,Ir.MEDIA_PREV,Ir.MEDIA_STOP,Ir.NULL,Ir.NUM_LOCK,Ir.PAGE_DOWN,Ir.PAGE_UP,Ir.PAUSE,Ir.SCROLL_LOCK,Ir.SHIFT,Ir.TAB];function mre(n){return zIe.includes(n)}function gD(n,e){var t=e.split("|"),r=!1;return ut(t,function(i){if(n===Ir[i])return r=!0,!1}),r}function dp(n){n.isImmediatePropagationEnabled=!1,n.cancelBubble=!0}function lx(n){return!1===n.isImmediatePropagationEnabled}function tw(n){return 2===n.button}function n4(n){return 0===n.button}function yD(n){return(yD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,GIe(r.key),r)}}function GIe(n){var e=function $Ie(n,e){if("object"!==yD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==yD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===yD(e)?e:String(e)}var ux=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],XIe=ns(gre||(gre=function KIe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. \n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to \n  learn about the migration path.'],['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20\n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20\n  learn about the migration path.']))),r4=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),o4=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),vre=function(){function n(){(function WIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalBucket=this.createEmptyBucket()}return function YIe(n,e,t){e&&yre(n.prototype,e),t&&yre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return ut(ux,function(r){return t[r]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(r))ut(r,function(u){return i.add(t,u,o)});else{r4.has(t)&&cs(Xne(XIe,{hookName:t,removedInVersion:r4.get(t)})),o4.has(t)&&cs(o4.get(t));var s=this.getBucket(o);if(void 0===s[t]&&(this.register(t),s[t]=[]),r.skip=!1,-1===s[t].indexOf(r)){var a=!1;r.initialHook&&ut(s[t],function(u,c){if(u.initialHook)return s[t][c]=r,a=!0,!1}),a||s[t].push(r)}}return this}},{key:"once",value:function(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(r)?ut(r,function(s){return i.once(t,s,o)}):(r.runOnce=!0,this.add(t,r,o))}},{key:"remove",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(i);return void 0!==o[t]&&o[t].indexOf(r)>=0&&(r.skip=!0,!0)}},{key:"has",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getBucket(r);return!(void 0===i[t]||!i[t].length)}},{key:"run",value:function(t,r,i,o,s,a,u,c){var f=this.globalBucket[r],p=f?f.length:0,g=0;if(p)for(;g<p;)if(f[g]&&!f[g].skip){var v=e4(f[g],t,i,o,s,a,u,c);void 0!==v&&(i=v),f[g]&&f[g].runOnce&&this.remove(r,f[g]),g+=1}else g+=1;var w=this.getBucket(t)[r],M=w?w.length:0,C=0;if(M)for(;C<M;)if(w[C]&&!w[C].skip){var L=e4(w[C],t,i,o,s,a,u,c);void 0!==L&&(i=L),w[C]&&w[C].runOnce&&this.remove(r,w[C],t),C+=1}else C+=1;return i}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;no(this.getBucket(t),function(r,i,o){return o[i].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||ux.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&ux.splice(ux.indexOf(t),1)}},{key:"isDeprecated",value:function(t){return o4.has(t)||r4.has(t)}},{key:"isRegistered",value:function(t){return ux.indexOf(t)>=0}},{key:"getRegistered",value:function(){return ux}}],[{key:"getSingleton",value:function(){return function qIe(){return ZIe}()}}]),n}(),ZIe=new vre;const Tr=vre;function _re(n){return function tNe(n){if(Array.isArray(n))return s4(n)}(n)||function eNe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function QIe(n,e){if(n){if("string"==typeof n)return s4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s4(n,e)}}(n)||function JIe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var a4=new Map;function cf(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";a4.has(n)||a4.set(n,new Map);var e=a4.get(n);function t(a,u){e.set(a,u)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return _re(e.keys())}function s(){return _re(e.values())}return{register:t,getItem:r,hasItem:i,getNames:o,getValues:s}}var l4=new WeakMap,vD=cf("editors"),nNe=vD.register,bre=vD.getItem,wre=vD.hasItem;function rNe(n){var e={},t=n;this.getConstructor=function(){return n},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new t(r)),e[r.guid]},Tr.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function Sre(n,e){var t;if("function"==typeof n)l4.get(n)||yd(null,n),t=l4.get(n);else{if("string"!=typeof n)throw Error('Only strings and functions can be passed as "editor" parameter');t=bre(n)}if(!t)throw Error('No editor registered under name "'.concat(n,'"'));return t.getInstance(e)}function Mre(n){if("function"==typeof n)return n;if(!wre(n))throw Error('No registered editor found under "'.concat(n,'" name'));return bre(n).getConstructor()}function yd(n,e){n&&"string"!=typeof n&&(n=(e=n).EDITOR_TYPE);var t=new rNe(e);"string"==typeof n&&nNe(n,t),l4.set(e,t)}function _D(n){return(_D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,sNe(r.key),r)}}function sNe(n){var e=function aNe(n,e){if("object"!==_D(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_D(e)?e:String(e)}function uNe(n){var e=n.stopImmediatePropagation;return n.stopImmediatePropagation=function(){e.apply(this),dp(this)},n}const ea=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;iNe(this,n),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return function oNe(n,e,t){e&&xre(n.prototype,e),t&&xre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addEventListener",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function a(u){i.call(this,uNe(u))}return"boolean"!=typeof s&&!rIe()&&(s=!1),this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:a,options:s,eventManager:this}),t.addEventListener(r,a,s),function(){o.removeEventListener(t,r,i)}}},{key:"removeEventListener",value:function(t,r,i){for(var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.context.eventListeners.length;s;)if((a=this.context.eventListeners[s-=1]).event===r&&a.element===t){if(i&&i!==a.callback||o&&a.eventManager!==this)continue;this.context.eventListeners.splice(s,1),a.element.removeEventListener(a.event,a.callbackProxy,a.options)}}},{key:"clearEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.context)for(var r=this.context.eventListeners.length;r;){var i=this.context.eventListeners[r-=1];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options))}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(t,r){var i=t.document,o=t;i||(o=(i=t.ownerDocument?t.ownerDocument:t).defaultView);var a,s={bubbles:!0,cancelable:"mousemove"!==r,view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};i.createEvent?(a=i.createEvent("MouseEvents")).initMouseEvent(r,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||i.body.parentNode):a=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on".concat(r),a)}}]),n}();function bD(n){return(bD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Cre(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ere(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yNe(r.key),r)}}function yNe(n){var e=function vNe(n,e){if("object"!==bD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==bD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===bD(e)?e:String(e)}var M2="editorManager.navigation",wD="editorManager.handlingEditor",u4=function(){function n(e,t,r){var i=this;(function mNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.tableMeta=t,this.selection=r,this.eventManager=new ea(e),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.instance.getShortcutManager().addContext("editor"),this.registerShortcuts(),this.instance.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(s){!i.destroyed&&i.instance.isListening()&&i.openEditor("",s)}),this.instance.view._wt.update("onCellDblClick",function(s,a,u){return i.onCellDblClick(s,a,u)})}return function gNe(n,e,t){e&&Ere(n.prototype,e),t&&Ere(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerShortcuts",value:function(){var t=this,r=this.instance.getShortcutManager(),i=r.getContext("grid"),o=r.getContext("editor"),s={group:wD};o.addShortcuts([{keys:[["Enter"],["Enter","Shift"],["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],callback:function(u,c){t.closeEditorAndSaveChanges(r.isCtrlPressed()),t.moveSelectionAfterEnter(c.includes("shift"))}},{keys:[["Escape"],["Escape","Control/Meta"]],callback:function(){t.closeEditorAndRestoreOriginalValue(r.isCtrlPressed()),t.activeEditor.focus()}}],s),i.addShortcuts([{keys:[["F2"]],callback:function(u){t.openEditor(null,u,!0)}},{keys:[["Backspace"],["Delete"]],callback:function(){t.instance.emptySelectedCells(),t.prepareEditor()}},{keys:[["Enter"],["Enter","Shift"]],callback:function(u,c){t.instance.getSettings().enterBeginsEditing?t.cellProperties.readOnly?t.moveSelectionAfterEnter():t.openEditor(null,u,!0):t.moveSelectionAfterEnter(c.includes("shift")),dp(u)}}],s)}},{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock){if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,function(M){M&&t.prepareEditor()});var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,s=this.instance.runHooks("modifyGetCellCoords",i,o),a=i,u=o;if(Array.isArray(s)){var c=function cNe(n,e){return function pNe(n){if(Array.isArray(n))return n}(n)||function hNe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function fNe(n,e){if(n){if("string"==typeof n)return Cre(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cre(n,e)}}(n,e)||function dNe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);a=c[0],u=c[1]}this.cellProperties=this.instance.getCellMeta(a,u);var f=this.instance.rootDocument.activeElement;if(f&&qW(f)&&f.blur(),!this.isCellEditable())return void this.clearActiveEditor();var p=this.instance.getCell(i,o,!0);if(p){var g=this.instance.getCellEditor(this.cellProperties),v=this.instance.colToProp(u),w=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(a),u);this.activeEditor=Sre(g,this.instance),this.activeEditor.prepare(i,o,v,p,w,this.cellProperties)}}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isCellEditable()){if(!this.activeEditor){var o=this.instance.getSelectedRangeLast().highlight,s=o.row,a=o.col,u=this.instance.rowIndexMapper.getRenderableFromVisualIndex(s),c=this.instance.columnIndexMapper.getRenderableFromVisualIndex(a);this.instance.view.scrollViewport(this.instance._createCellCoords(u,c)),this.instance.view.render(),this.prepareEditor()}this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}else this.clearActiveEditor()}},{key:"closeEditor",value:function(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){this.closeEditor(!0,t)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"isCellEditable",value:function(){var t=this.instance.getCellEditor(this.cellProperties),r=this.instance.getSelectedRangeLast().highlight,o=r.col,s=this.instance,u=s.columnIndexMapper,c=s.rowIndexMapper.isHidden(this.instance.toPhysicalRow(r.row))||u.isHidden(this.instance.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!t||c)}},{key:"moveSelectionAfterEnter",value:function(t){var r="function"==typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;t?this.selection.transformStart(-r.row,-r.col):this.selection.transformStart(r.row,r.col,!0)}},{key:"onAfterDocumentKeyDown",value:function(t){var r=this;if(this.instance.isListening()){var i=t.keyCode;if(this.selection.isSelected()){var o=(t.ctrlKey||t.metaKey)&&!t.altKey;this.activeEditor&&(!this.activeEditor||this.activeEditor.isWaiting())||mre(i)||function UIe(n){return[Ir.CONTROL,Ir.COMMAND_LEFT,Ir.COMMAND_RIGHT,Ir.COMMAND_FIREFOX].includes(n)}(i)||o||this.isEditorOpened()||(this.instance.getShortcutManager().getContext("editor").addShortcuts([{keys:[["ArrowUp"]],callback:function(){r.instance.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){r.instance.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){r.instance.selection.transformStart(0,-1*r.instance.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){r.instance.selection.transformStart(0,r.instance.getDirectionFactor())}}],{runOnlyIf:function(){return Cr(r.instance.getSelected())},group:M2}),this.openEditor("",t))}}}},{key:"onCellDblClick",value:function(t,r,i){"TD"===i.nodeName&&this.openEditor(null,t,!0)}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}]),n}(),Tre=new WeakMap;u4.getInstance=function(n,e,t){var r=Tre.get(n);return r||(r=new u4(n,e,t),Tre.set(n,r)),r};const _Ne=u4;function c4(n){return function MNe(n){if(Array.isArray(n))return d4(n)}(n)||function SNe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function wNe(n,e){if(n){if("string"==typeof n)return d4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d4(n,e)}}(n)||function bNe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(8821),b(3799),b(3808),b(4121),b(5446),b(8282);var Rre={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},xNe=new RegExp(Object.keys(Rre).map(function(n){return"(".concat(n,")")}).join("|"),"gi");function CNe(n){return"TABLE"===(n&&n.nodeName||"")}function Dre(n){for(var e=n.hasColHeaders(),t=n.hasRowHeaders(),r=[e?-1:0,t?-1:0,n.countRows()-1,n.countCols()-1],i=n.getData.apply(n,r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],f=t?1:0,p=e?1:0,g=0;g<o;g+=1){for(var v=e&&0===g,w=[],M=0;M<s;M+=1){var C=!v&&t&&0===M,L="";if(v)L="<th>".concat(n.getColHeader(M-f),"</th>");else if(C)L="<th>".concat(n.getRowHeader(g-p),"</th>");else{var H=i[g][M],V=n.getCellMeta(g-p,M-f),X=V.rowspan,re=V.colspan;if(!V.hidden){var me=[];if(X&&me.push('rowspan="'.concat(X,'"')),re&&me.push('colspan="'.concat(re,'"')),yl(H))L="<td ".concat(me.join(" "),"></td>");else{var ne=H.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");L="<td ".concat(me.join(" "),">").concat(ne,"</td>")}}}w.push(L)}var pe=["<tr>"].concat(w,["</tr>"]).join("");v?u.splice(1,0,pe):c.splice(-1,0,pe)}return a.splice(1,0,u.join(""),c.join("")),a.join("")}function Are(n){for(var e=n.length,t=["<table>"],r=0;r<e;r+=1){var i=n[r],o=i.length,s=[];0===r&&t.push("<tbody>");for(var a=0;a<o;a+=1){var u=i[a],c=yl(u)?"":u.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20{2,}/gi,function(f){return'<span style="mso-spacerun: yes">'.concat("&nbsp;".repeat(f.length-1)," </span>")}).replace(/\t/gi,"&#9;");s.push("<td>".concat(c,"</td>"))}t.push.apply(t,["<tr>"].concat(s,["</tr>"])),r+1===e&&t.push("</tbody>")}return t.push("</table>"),t.join("")}function TNe(n){return function ONe(n){if(Array.isArray(n))return f4(n)}(n)||function ANe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function DNe(n,e){if(n){if("string"==typeof n)return f4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f4(n,e)}}(n)||function RNe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function h4(n){return(h4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kc(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=h4(n);if("number"===t)return!isNaN(n)&&isFinite(n);if("string"===t){if(0===n.length)return!1;if(1===n.length)return/\d/.test(n);var r=Array.from(new Set(["."].concat(TNe(e)))).map(function(i){return"\\".concat(i)}).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(n.trim())}return"object"===t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)}function kNe(n){return kc(n,[","])}function jr(n,e,t){var r=-1;for("function"==typeof e?(t=e,e=n):r=n-1;++r<=e&&!1!==t(r););}function p4(n,e,t){var r=n+1;for("function"==typeof e&&(t=e,e=0);--r>=e&&!1!==t(r););}function Ore(n,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(n*e/100,10)}function PNe(n){return function NNe(n){if(Array.isArray(n))return m4(n)}(n)||function INe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||kre(n)||function LNe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FNe(n,e){return function VNe(n){if(Array.isArray(n))return n}(n)||function BNe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||kre(n,e)||function HNe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kre(n,e){if(n){if("string"==typeof n)return m4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m4(n,e)}}function m4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var g4="asc",Pre=new Map([[g4,[-1,1]],["desc",[1,-1]]]),jNe=function(e){return"The priority '".concat(e,"' is already declared in a map.")},UNe=function(e){return"The priority '".concat(e,"' is not a number.")};function YNe(n){return function KNe(n){if(Array.isArray(n))return y4(n)}(n)||function $Ne(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Ire(n)||function GNe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lre(n,e){return function qNe(n){if(Array.isArray(n))return n}(n)||function ZNe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||Ire(n,e)||function XNe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ire(n,e){if(n){if("string"==typeof n)return y4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y4(n,e)}}function y4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}b(6126);var JNe=function(e){return"The id '".concat(e,"' is already declared in a map.")};function x2(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorIdExists,t=new Map;function r(f,p){if(c(f))throw new Error(e(f));t.set(f,p)}function i(f){return t.delete(f)}function o(){t.clear()}function s(f){var p=u().find(function(w){var M=Lre(w,2);return f===M[1]&&M[0]})||[null];return Lre(p,1)[0]}function a(f){return t.get(f)}function u(){return YNe(t)}function c(f){return t.has(f)}return e=Es(e)?e:JNe,{addItem:r,clear:o,getId:s,getItem:a,getItems:u,hasItem:c,removeItem:i}}function QNe(n){return function r2e(n){if(Array.isArray(n))return v4(n)}(n)||function n2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function t2e(n,e){if(n){if("string"==typeof n)return v4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v4(n,e)}}(n)||function e2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var i2e=function(e){return"'".concat(e,"' value is already declared in a unique set.")};function Nre(n){return function f2e(n){if(Array.isArray(n))return _4(n)}(n)||function d2e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Fre(n)||function c2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fre(n,e){if(n){if("string"==typeof n)return _4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _4(n,e)}}function _4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var b4=function(e){return'There is already registered "'.concat(e,'" plugin.')},Hre=function WNe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorPriorityExists,t=n.errorPriorityNaN,r=new Map;function i(s,a){if(!kc(s))throw new Error(t(s));if(r.has(s))throw new Error(e(s));r.set(s,a)}function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g4,a=Pre.get(s)||Pre.get(g4),u=FNe(a,2),c=u[0],f=u[1];return PNe(r).sort(function(p,g){return p[0]<g[0]?c:f}).map(function(p){return p[1]})}return e=Es(e)?e:jNe,t=Es(t)?t:UNe,{addItem:i,getItems:o}}({errorPriorityExists:function(e){return'There is already registered plugin on priority "'.concat(e,'".')},errorPriorityNaN:function(e){return'The priority "'.concat(e,'" is not a number.')}}),Bre=function o2e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.errorItemExists,t=new Set;function r(s){if(t.has(s))throw new Error(e(s));t.add(s)}function i(){return QNe(t)}function o(){t.clear()}return e=Es(e)?e:i2e,{addItem:r,clear:o,getItems:i}}({errorItemExists:b4}),w4=x2({errorIdExists:b4});function Vre(){return[].concat(Nre(Hre.getItems()),Nre(Bre.getItems()))}function S4(n){var e=fh(n);return w4.getItem(e)}function Uo(n,e,t){var r=function y2e(n,e,t){return"function"==typeof n&&(n=(e=n).PLUGIN_KEY,t=e.PLUGIN_PRIORITY),[n,e,t]}(n,e,t),i=function s2e(n,e){return function u2e(n){if(Array.isArray(n))return n}(n)||function l2e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||Fre(n,e)||function a2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,3);e=i[1],t=i[2],void 0===S4(n=i[0])&&function g2e(n,e,t){var r=fh(n);if(w4.hasItem(r))throw new Error(b4(r));void 0===t?Bre.addItem(r):Hre.addItem(t,r),w4.addItem(r,e)}(n,e,t)}var SD=cf("renderers"),v2e=SD.register,_2e=SD.getItem,zre=SD.hasItem;function jre(n){if("function"==typeof n)return n;if(!zre(n))throw Error('No registered renderer found under "'.concat(n,'" name'));return _2e(n)}function Wm(n,e){"string"!=typeof n&&(n=(e=n).RENDERER_TYPE),v2e(n,e)}var MD=cf("validators"),b2e=MD.register,w2e=MD.getItem,Ure=MD.hasItem;function S2e(n){if("function"==typeof n)return n;if(!Ure(n))throw Error('No registered validator found under "'.concat(n,'" name'));return w2e(n)}function xD(n,e){"string"!=typeof n&&(n=(e=n).VALIDATOR_TYPE),b2e(n,e)}function CD(n){return(CD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function M2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,C2e(r.key),r)}}function C2e(n){var e=function E2e(n,e){if("object"!==CD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==CD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===CD(e)?e:String(e)}b(7526),b(2318);var cx=new WeakMap;const Yre=function(){function n(e,t,r,i,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;M2e(this,n),this.wtSettings=r,this.domBindings=t,this.wtTable=o,this.selections=s,this.parent=a,this.eventManager=i,this.facadeGetter=e,cx.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}return function x2e(n,e,t){e&&Wre(n.prototype,e),t&&Wre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.wtTable.holder,"contextmenu",function(o){return t.onContextMenu(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseover",function(o){return t.onMouseOver(o)}),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseout",function(o){return t.onMouseOut(o)});var r=function(){t.eventManager.addEventListener(t.wtTable.holder,"touchstart",function(s){return t.onTouchStart(s)}),t.eventManager.addEventListener(t.wtTable.holder,"touchend",function(s){return t.onTouchEnd(s)}),t.momentumScrolling||(t.momentumScrolling={}),t.eventManager.addEventListener(t.wtTable.holder,"scroll",function(){clearTimeout(t.momentumScrolling._timeout),t.momentumScrolling.ongoing||t.wtSettings.getSetting("onBeforeTouchScroll"),t.momentumScrolling.ongoing=!0,t.momentumScrolling._timeout=setTimeout(function(){t.touchApplied||(t.momentumScrolling.ongoing=!1,t.wtSettings.getSetting("onAfterMomentumScroll"))},200)})};up()?r():(Ine()&&r(),t.eventManager.addEventListener(t.wtTable.holder,"mouseup",function(s){return t.onMouseUp(s)}),t.eventManager.addEventListener(t.wtTable.holder,"mousedown",function(s){return t.onMouseDown(s)}))}},{key:"selectedCellWasTouched",value:function(t){var r=cx.get(this),o=this.parentCell(t).coords;if(r.selectedCellBeforeTouchEnd&&o){var s=[o.row,r.selectedCellBeforeTouchEnd.from.row],c=[o.col,r.selectedCellBeforeTouchEnd.from.col];return s[0]===s[1]&&c[0]===c[1]}return!1}},{key:"parentCell",value:function(t){var r={},o=h2(t,["TD","TH"],this.wtTable.TABLE);return o?(r.coords=this.wtTable.getCoords(o),r.TD=o):Ai(t,"wtBorder")&&Ai(t,"current")?(r.coords=this.selections.getCell().cellRange.highlight,r.TD=this.wtTable.getCell(r.coords)):Ai(t,"wtBorder")&&Ai(t,"area")&&this.selections.createOrGetArea().cellRange&&(r.coords=this.selections.createOrGetArea().cellRange.to,r.TD=this.wtTable.getCell(r.coords)),r}},{key:"onMouseDown",value:function(t){var r=cx.get(this),i=this.domBindings.rootDocument.activeElement,o=pre(MIe,t.target),s=t.target;if(s!==i&&o(0)!==i&&o(1)!==i){var a=this.parentCell(s);Ai(s,"corner")?this.wtSettings.getSetting("onCellCornerMouseDown",t,s):a.TD&&this.wtSettings.has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,a.coords,a.TD),(0===t.button||this.touchApplied)&&a.TD&&(r.dblClickOrigin[0]=a.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){r.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.wtSettings.has("onCellContextMenu")){var r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}},{key:"onMouseOver",value:function(t){if(this.wtSettings.has("onCellMouseOver")){var r=this.wtTable.TABLE,i=h2(t.target,["TD","TH"],r),o=this.parent||this;i&&i!==o.lastMouseOver&&qb(i,r)&&(o.lastMouseOver=i,this.callListener("onCellMouseOver",t,this.wtTable.getCoords(i),i))}}},{key:"onMouseOut",value:function(t){if(this.wtSettings.has("onCellMouseOut")){var r=this.wtTable.TABLE,i=h2(t.target,["TD","TH"],r),o=h2(t.relatedTarget,["TD","TH"],r),s=this.parent||this;i&&i!==o&&qb(i,r)&&(this.callListener("onCellMouseOut",t,this.wtTable.getCoords(i),i),null===o&&(s.lastMouseOver=null))}}},{key:"onMouseUp",value:function(t){var r=cx.get(this),i=this.parentCell(t.target);i.TD&&this.wtSettings.has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,i.coords,i.TD),(0===t.button||this.touchApplied)&&(i.TD===r.dblClickOrigin[0]&&i.TD===r.dblClickOrigin[1]?(Ai(t.target,"corner")?this.callListener("onCellCornerDblClick",t,i.coords,i.TD):this.callListener("onCellDblClick",t,i.coords,i.TD),r.dblClickOrigin[0]=null,r.dblClickOrigin[1]=null):i.TD===r.dblClickOrigin[0]&&(r.dblClickOrigin[1]=i.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){r.dblClickOrigin[1]=null},500)))}},{key:"onTouchStart",value:function(t){cx.get(this).selectedCellBeforeTouchEnd=this.selections.getCell().cellRange,this.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var r,i=t.target,o=null===(r=this.parentCell(i))||void 0===r?void 0:r.coords,s=Cr(o)&&o.row>=0&&o.col>=0;t.cancelable&&s&&this.wtSettings.getSetting("isDataViewInstance")&&(Une()&&(function fIe(){return gd.chromeWebKit.value}()||function hIe(){return gd.firefoxWebKit.value}())&&this.selectedCellWasTouched(i)&&!["A","BUTTON","INPUT"].includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()),this.onMouseUp(t),this.touchApplied=!1}},{key:"callListener",value:function(t,r,i,o){var s=this.wtSettings.getSettingPure(t);s&&s(r,i,o,this.facadeGetter())}},{key:"destroy",value:function(){var t=cx.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}]),n}();function ED(n){return(ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,A2e(r.key),r)}}function A2e(n){var e=function O2e(n,e){if("object"!==ED(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ED(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ED(e)?e:String(e)}const P2e=function(){function n(e,t,r){(function R2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function D2e(n,e,t){e&&Gre(n.prototype,e),t&&Gre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function TD(n){return(TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $re(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,N2e(r.key),r)}}function N2e(n){var e=function F2e(n,e){if("object"!==TD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==TD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===TD(e)?e:String(e)}const B2e=function(){function n(e,t,r){(function L2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.offset=e,this.total=t,this.countTH=r}return function I2e(n,e,t){e&&$re(n.prototype,e),t&&$re(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),n}();function RD(n){return(RD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Kre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,U2e(r.key),r)}}function U2e(n){var e=function W2e(n,e){if("object"!==RD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==RD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===RD(e)?e:String(e)}var Xre=function(){function n(){(function z2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}return function j2e(n,e,t){e&&Kre(n.prototype,e),t&&Kre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.currentSize=this.nextSize,this.nextSize=t}},{key:"setOffset",value:function(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}]),n}();function DD(n){return(DD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$2e(r.key),r)}}function $2e(n){var e=function K2e(n,e){if("object"!==DD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==DD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===DD(e)?e:String(e)}var X2e=function(){function n(){(function Y2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.size=new Xre,this.workingSpace=0,this.sharedSize=null}return function G2e(n,e,t){e&&Zre(n.prototype,e),t&&Zre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){this.size.setSize(t)}},{key:"setOffset",value:function(t){this.size.setOffset(t)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof Xre}},{key:"isPlaceOn",value:function(t){return this.workingSpace===t}},{key:"append",value:function(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}},{key:"prepend",value:function(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}}]),n}();function AD(n){return(AD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,J2e(r.key),r)}}function J2e(n){var e=function Q2e(n,e){if("object"!==AD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==AD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===AD(e)?e:String(e)}var Jre=function(){function n(e,t,r){(function Z2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootNode=e,this.nodesPool=t,this.sizeSet=new X2e,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}return function q2e(n,e,t){e&&qre(n.prototype,e),t&&qre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSize",value:function(t){return this.sizeSet.setSize(t),this}},{key:"setOffset",value:function(t){return this.sizeSet.setOffset(t),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}},{key:"getCurrentNode",value:function(){var t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}},{key:"getRenderedChildCount",value:function(){var t=this.rootNode,r=this.sizeSet,i=0;if(this.isSharedViewSet())for(var o=t.firstElementChild;o;){if(o.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;o=o.nextElementSibling}else i=t.childElementCount;return i}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var t=this.rootNode,r=this.sizeSet,i=this.isSharedViewSet(),s=r.getViewSize().nextSize,a=this.getRenderedChildCount();a<s;){var u=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(u):t.insertBefore(u,t.firstChild),a+=1}for(var c=i&&r.isPlaceOn(1);a>s;)t.removeChild(c?t.firstChild:t.lastChild),a-=1}},{key:"render",value:function(){var t=this.rootNode,r=this.sizeSet,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);var o=t.childNodes[i];if(o.tagName!==this.childNodeType){var s=this.nodesPool();t.replaceChild(s,o),o=s}this.collectedNodes.push(o),this.visualIndex+=1}},{key:"end",value:function(){}}]),n}();function dx(n){return(dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nFe(r.key),r)}}function nFe(n){var e=function rFe(n,e){if("object"!==dx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==dx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===dx(e)?e:String(e)}function M4(n,e){return(M4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sFe(n,e){if(e&&("object"===dx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function aFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function T2(n){return(T2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var eie=function(n){!function iFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&M4(n,e)}(t,n);var e=function oFe(n){var e=function lFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=T2(n);if(e){var o=T2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sFe(this,i)}}(t);function t(){return eFe(this,t),e.apply(this,arguments)}return function tFe(n,e,t){e&&Qre(n.prototype,e),t&&Qre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prependView",value:function(i){return this.sizeSet.prepend(i.sizeSet),i.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(i){return this.sizeSet.append(i.sizeSet),i.sizeSet.prepend(this.sizeSet),this}}]),t}(Jre);function OD(n){return(OD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function tie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dFe(r.key),r)}}function dFe(n){var e=function fFe(n,e){if("object"!==OD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==OD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===OD(e)?e:String(e)}var hFe=function(){function n(e){(function uFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodeType=e.toUpperCase()}return function cFe(n,e,t){e&&tie(n.prototype,e),t&&tie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setRootDocument",value:function(t){this.rootDocument=t}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}]),n}();function kD(n){return(kD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function nie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,gFe(r.key),r)}}function gFe(n){var e=function yFe(n,e){if("object"!==kD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==kD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===kD(e)?e:String(e)}var PD=function(){function n(e,t){(function pFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.nodesPool="string"==typeof e?new hFe(e):null,this.nodeType=e,this.rootNode=t,this.table=null,this.renderedNodes=0}return function mFe(n,e,t){e&&nie(n.prototype,e),t&&nie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setTable",value:function(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}]),n}();function fx(n){return(fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,bFe(r.key),r)}}function bFe(n){var e=function wFe(n,e){if("object"!==fx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==fx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===fx(e)?e:String(e)}function x4(n,e){return(x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function xFe(n,e){if(e&&("object"===fx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function CFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function R2(n){return(R2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var TFe=function(n){!function SFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&x4(n,e)}(t,n);var e=function MFe(n){var e=function EFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=R2(n);if(e){var o=R2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xFe(this,i)}}(t);function t(){var r;return function vFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TH")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function _Fe(n,e,t){e&&rie(n.prototype,e),t&&rie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new eie(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.rowHeaderFunctions,a=i.rowHeadersCount,u=i.rows,c=i.cells,f=0;f<o;f++){var p=this.table.renderedRowToSource(f),g=u.getRenderedNode(f);this.sourceRowIndex=p;var v=this.obtainOrderView(g),w=c.obtainOrderView(g);v.appendView(w).setSize(a).setOffset(this.table.renderedColumnToSource(0)).start();for(var M=0;M<a;M++){v.render();var C=v.getCurrentNode();C.className="",C.removeAttribute("style"),s[M](p,C,M)}v.end()}}}]),t}(PD);function hx(n){return(hx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,AFe(r.key),r)}}function AFe(n){var e=function OFe(n,e){if("object"!==hx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==hx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===hx(e)?e:String(e)}function C4(n,e){return(C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function LFe(n,e){if(e&&("object"===hx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function IFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function D2(n){return(D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var FFe=function(n){!function kFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C4(n,e)}(t,n);var e=function PFe(n){var e=function NFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=D2(n);if(e){var o=D2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LFe(this,i)}}(t);function t(r){return function RFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function DFe(n,e,t){e&&iie(n.prototype,e),t&&iie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){var i=this.table,o=i.columnHeadersCount,a=this.rootNode.firstChild;if(o){for(var c=this.table.columnsToRender+i.rowHeadersCount,f=0,p=o;f<p;f++){for((a=this.rootNode.childNodes[f])||(a=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(a)),this.renderedNodes=a.childNodes.length;this.renderedNodes<c;)a.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>c;)a.removeChild(a.lastChild),this.renderedNodes-=1}var g=this.rootNode.childNodes.length;if(g>o)for(var v=o;v<g;v++)this.rootNode.removeChild(this.rootNode.lastChild)}else a&&cp(a)}},{key:"render",value:function(){for(var i=this.table.columnHeadersCount,o=0;o<i;o+=1)for(var s=this.table,a=s.columnHeaderFunctions,u=s.columnsToRender,c=s.rowHeadersCount,f=this.rootNode.childNodes[o],p=-1*c;p<u;p+=1){var g=this.table.renderedColumnToSource(p),v=f.childNodes[p+c];v.className="",v.removeAttribute("style"),a[o](g,v,o)}}}]),t}(PD);function px(n){return(px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function oie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VFe(r.key),r)}}function VFe(n){var e=function zFe(n,e){if("object"!==px(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===px(e)?e:String(e)}function E4(n,e){return(E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function WFe(n,e){if(e&&("object"===px(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function YFe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function A2(n){return(A2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var sie,$Fe=function(n){!function jFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&E4(n,e)}(t,n);var e=function UFe(n){var e=function GFe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=A2(n);if(e){var o=A2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return WFe(this,i)}}(t);function t(r){return function HFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,null,r)}return function BFe(n,e,t){e&&oie(n.prototype,e),t&&oie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"adjust",value:function(){for(var i=this.table,a=i.columnsToRender+i.rowHeadersCount;this.renderedNodes<a;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>a;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var i=this.table,o=i.columnsToRender,s=i.rowHeadersCount,a=0;a<s;a++){var u=this.table.renderedColumnToSource(a),c=this.table.columnUtils.getHeaderWidth(u);this.rootNode.childNodes[a].style.width="".concat(c,"px")}for(var f=0;f<o;f++){var p=this.table.renderedColumnToSource(f),g=this.table.columnUtils.getStretchedColumnWidth(p);this.rootNode.childNodes[f+s].style.width="".concat(g,"px")}var v=this.rootNode.firstChild;v&&Dn(v,"rowHeader")}}]),t}(PD);function mx(n){return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function aie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qFe(r.key),r)}}function qFe(n){var e=function JFe(n,e){if("object"!==mx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==mx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===mx(e)?e:String(e)}function T4(n,e){return(T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tHe(n,e){if(e&&("object"===mx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function nHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function O2(n){return(O2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var lie=!1,iHe=function(n){!function QFe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T4(n,e)}(t,n);var e=function eHe(n){var e=function rHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=O2(n);if(e){var o=O2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tHe(this,i)}}(t);function t(r){var i;return function XFe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,"TR",r)).orderView=new Jre(r,function(o){return i.nodesPool.obtain(o)},i.nodeType),i}return function ZFe(n,e,t){e&&aie(n.prototype,e),t&&aie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getRenderedNode",value:function(i){return this.orderView.getNode(i)}},{key:"render",value:function(){var i=this.table.rowsToRender;!lie&&i>1e3&&(lie=!0,cs(ns(sie||(sie=function KFe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting \n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20\n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']))))),this.orderView.setSize(i).setOffset(this.table.renderedRowToSource(0)).start();for(var o=0;o<i;o++)this.orderView.render();this.orderView.end()}}]),t}(PD);function gx(n){return(gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aHe(r.key),r)}}function aHe(n){var e=function lHe(n,e){if("object"!==gx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==gx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===gx(e)?e:String(e)}function R4(n,e){return(R4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function dHe(n,e){if(e&&("object"===gx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function fHe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function k2(n){return(k2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var pHe=function(n){!function uHe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&R4(n,e)}(t,n);var e=function cHe(n){var e=function hHe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=k2(n);if(e){var o=k2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dHe(this,i)}}(t);function t(){var r;return function oHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,"TD")).orderViews=new WeakMap,r.sourceRowIndex=0,r}return function sHe(n,e,t){e&&uie(n.prototype,e),t&&uie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"obtainOrderView",value:function(i){var s,o=this;return this.orderViews.has(i)?s=this.orderViews.get(i):(s=new eie(i,function(a){return o.nodesPool.obtain(o.sourceRowIndex,a)},this.nodeType),this.orderViews.set(i,s)),s}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,s=i.columnsToRender,a=i.rows,u=i.rowHeaders,c=0;c<o;c++){var f=this.table.renderedRowToSource(c),p=a.getRenderedNode(c);this.sourceRowIndex=f;var g=this.obtainOrderView(p),v=u.obtainOrderView(p);g.prependView(v).setSize(s).setOffset(this.table.renderedColumnToSource(0)).start();for(var w=0;w<s;w++){g.render();var M=g.getCurrentNode(),C=this.table.renderedColumnToSource(w);Ai(M,"hide")||(M.className=""),M.removeAttribute("style"),M.removeAttribute("dir"),this.table.cellRenderer(f,C,M)}g.end()}}}]),t}(PD);function LD(n){return(LD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yHe(r.key),r)}}function yHe(n){var e=function vHe(n,e){if("object"!==LD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==LD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===LD(e)?e:String(e)}var _He=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cellRenderer;mHe(this,n),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}return function gHe(n,e,t){e&&cie(n.prototype,e),t&&cie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setAxisUtils",value:function(t,r){this.rowUtils=t,this.columnUtils=r}},{key:"setViewportSize",value:function(t,r){this.rowsToRender=t,this.columnsToRender=r}},{key:"setFilters",value:function(t,r){this.rowFilter=t,this.columnFilter=r}},{key:"setHeaderContentRenderers",value:function(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}},{key:"setRenderers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.rowHeaders,i=t.columnHeaders,o=t.colGroup,s=t.rows,a=t.cells;r.setTable(this),i.setTable(this),o.setTable(this),s.setTable(this),a.setTable(this),this.rowHeaders=r,this.columnHeaders=i,this.colGroup=o,this.rows=s,this.cells=a}},{key:"renderedRowToSource",value:function(t){return this.rowFilter.renderedToSource(t)}},{key:"renderedColumnToSource",value:function(t){return this.columnFilter.renderedToSource(t)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var t=this.rowsToRender,r=this.rows,i=0;i<t;i++){var o=r.getRenderedNode(i);if(o.firstChild){var s=this.renderedRowToSource(i),a=this.rowUtils.getHeight(s);o.firstChild.style.height=a?"".concat(a-1,"px"):""}}}}]),n}();function ID(n){return(ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function die(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,SHe(r.key),r)}}function SHe(n){var e=function MHe(n,e){if("object"!==ID(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ID(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ID(e)?e:String(e)}var xHe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TABLE,r=e.THEAD,i=e.COLGROUP,o=e.TBODY,s=e.rowUtils,a=e.columnUtils,u=e.cellRenderer;bHe(this,n),this.renderer=new _He(t,{cellRenderer:u}),this.renderer.setRenderers({rowHeaders:new TFe,columnHeaders:new FFe(r),colGroup:new $Fe(i),rows:new iHe(o),cells:new pHe}),this.renderer.setAxisUtils(s,a)}return function wHe(n,e,t){e&&die(n.prototype,e),t&&die(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setFilters",value:function(t,r){return this.renderer.setFilters(t,r),this}},{key:"setViewportSize",value:function(t,r){return this.renderer.setViewportSize(t,r),this}},{key:"setHeaderContentRenderers",value:function(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}]),n}();function ND(n){return(ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,THe(r.key),r)}}function THe(n){var e=function RHe(n,e){if("object"!==ND(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ND(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ND(e)?e:String(e)}var DHe=function(){function n(e,t){(function CHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t,this.headerWidths=new Map}return function EHe(n,e,t){e&&fie(n.prototype,e),t&&fie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWidth",value:function(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}},{key:"getStretchedColumnWidth",value:function(t){var r=this.dataAccessObject.wtViewport.columnsRenderCalculator,i=this.getWidth(t);if(r){var o=r.getStretchedColumnWidth(t,i);o&&(i=o)}return i}},{key:"getHeaderHeight",value:function(t){var r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(r=r?Math.max(r,i):i),r}},{key:"getHeaderWidth",value:function(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}},{key:"calculateWidths",value:function(){var t=this.wtSettings,r=this.dataAccessObject,o=r.wtViewport,s=r.cloneSource,a=s?s.wtTable.holder:r.wtTable.holder,u=a.offsetHeight<a.scrollHeight?Il():0,c=t.getSetting("rowHeaderWidth");if(o.columnsRenderCalculator.refreshStretching(o.getViewportWidth()-u),null!=(c=t.getSetting("onModifyRowHeaderWidth",c)))for(var f=t.getSetting("rowHeaders").length,p=t.getSetting("defaultColumnWidth"),g=0;g<f;g++){var v=Array.isArray(c)?c[g]:c;this.headerWidths.set(g,v=null==v?p:v)}}}]),n}();function FD(n){return(FD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kHe(r.key),r)}}function kHe(n){var e=function PHe(n,e){if("object"!==FD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==FD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===FD(e)?e:String(e)}var LHe=function(){function n(e,t){(function AHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wtSettings=t}return function OHe(n,e,t){e&&hie(n.prototype,e),t&&hie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getHeight",value:function(t){var r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return void 0!==i&&(r=void 0===r?i:Math.max(r,i)),r}}]),n}(),nw="top",fp="bottom",rw="inline_start",iw="top_inline_start_corner",pv="bottom_inline_start_corner",IHe=[nw,fp,rw,iw,pv],NHe=new Map([[nw,"ht_clone_".concat(nw)],[fp,"ht_clone_".concat(fp)],[rw,"ht_clone_".concat(rw," ht_clone_left")],[iw,"ht_clone_".concat(iw," ht_clone_top_left_corner")],[pv,"ht_clone_".concat(pv," ht_clone_bottom_left_corner")]]);function HD(n){return(HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pie(n,e){if(n){if("string"==typeof n)return D4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D4(n,e)}}function D4(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,gie(r.key),r)}}function hp(n,e,t){return(e=gie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gie(n){var e=function $He(n,e){if("object"!==HD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==HD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===HD(e)?e:String(e)}const yx=function(){function n(e,t,r,i,o){var s=this;(function YHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),hp(this,"wtSettings",null),hp(this,"domBindings",void 0),hp(this,"TBODY",null),hp(this,"THEAD",null),hp(this,"COLGROUP",null),hp(this,"hasTableHeight",!0),hp(this,"hasTableWidth",!0),hp(this,"isTableVisible",!1),hp(this,"tableOffset",0),hp(this,"holderOffset",0),this.domBindings=r,this.isMaster="master"===o,this.name=o,this.dataAccessObject=e,this.facadeGetter=t,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,Qne(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var a=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",function(){return s._modifyRowHeaderWidth(a)}),this.rowUtils=new LHe(this.dataAccessObject,this.wtSettings),this.columnUtils=new DHe(this.dataAccessObject,this.wtSettings),this.tableRenderer=new xHe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}return function GHe(n,e,t){e&&mie(n.prototype,e),t&&mie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"is",value:function(t){return this.name===t}},{key:"fixTableDomTree",value:function(){var t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}},{key:"createSpreader",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ai(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",i}},{key:"createHider",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ai(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),i}},{key:"createHolder",value:function(t){var i,r=t.parentNode;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ai(r,"wtHolder"))&&((i=this.domBindings.rootDocument.createElement("div")).style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr")),i.appendChild(t)),i}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wtSettings,i=this.dataAccessObject,o=i.wtOverlays,s=i.wtViewport,a=r.getSetting("totalRows"),u=r.getSetting("totalColumns"),c=r.getSetting("rowHeaders"),f=c.length,p=r.getSetting("columnHeaders"),g=p.length,v=!1,w=t;if(this.isMaster&&(this.holderOffset=Ja(this.holder),w=s.createRenderCalculators(w),f&&!r.getSetting("fixedColumnsStart"))){var M=o.inlineStartOverlay.getScrollPosition(),C=this.correctHeaderWidth;this.correctHeaderWidth=0!==M,C!==this.correctHeaderWidth&&(w=!1)}if(this.isMaster&&(v=o.updateStateOfRendering()),w)this.isMaster&&s.createVisibleCalculators(),o&&o.refresh(!0);else{this.tableOffset=this.isMaster?Ja(this.TABLE):this.dataAccessObject.parentTableOffset;var L=a>0?this.getFirstRenderedRow():0,H=u>0?this.getFirstRenderedColumn():0;this.rowFilter=new B2e(L,a,g),this.columnFilter=new P2e(H,u,f);var X,V=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var z={};this.wtSettings.getSetting("beforeDraw",!0,z),V=!0!==z.skipRender}if(V)if(this.tableRenderer.setHeaderContentRenderers(c,p),(this.is(fp)||this.is(pv))&&this.tableRenderer.setHeaderContentRenderers(c,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(X=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(fp))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();var re=vs(this.hider),me=vs(this.TABLE);0!==re&&me!==re&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),X!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(fp)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}var ne=!1;return this.isMaster&&(ne=o.topOverlay.resetFixedPosition(),o.bottomOverlay.clone&&(ne=o.bottomOverlay.resetFixedPosition()||ne),ne=o.inlineStartOverlay.resetFixedPosition()||ne,o.topInlineStartCornerOverlay&&o.topInlineStartCornerOverlay.resetFixedPosition(),o.bottomInlineStartCornerOverlay&&o.bottomInlineStartCornerOverlay.clone&&o.bottomInlineStartCornerOverlay.resetFixedPosition()),ne?(o.refreshAll(),o.adjustElementsSize()):this.refreshSelections(w),v&&o.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(t){for(var s,a,u,r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,o=this.wtSettings.getSetting("defaultRowHeight"),c=this.wtSettings.getSetting("columnHeaderHeight")||[];i;)s=this.getColumnHeaderHeight(i-=1),(a=this.getColumnHeader(r,i))&&(u=hv(a),(!s&&o<u||s<u)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=u),Array.isArray(c)?null!=c[i]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]):isNaN(c)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(c[i]||c)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=c[i]||c))}},{key:"adjustColumnHeaderHeights",value:function(){for(var r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,s=0,a=this.wtSettings.getSetting("columnHeaders").length;s<a;s++)if(i[s]){if(!r[s]||0===r[s].childNodes.length)return;r[s].childNodes[0].style.height="".concat(i[s],"px")}}},{key:"resetOversizedRows",value:function(){var t=this.wtSettings,r=this.dataAccessObject.wtViewport;if((this.isMaster||this.is(fp))&&!t.getSetting("externalRowCalculator"))for(var i=this.getRenderedRowsCount(),o=0;o<i;o++){var s=this.rowFilter.renderedToSource(o);r.oversizedRows&&r.oversizedRows[s]&&(r.oversizedRows[s]=void 0)}}},{key:"removeClassFromCells",value:function(t){for(var r=this.TABLE.querySelectorAll(".".concat(t)),i=0,o=r.length;i<o;i++)Bi(r[i],t)}},{key:"refreshSelections",value:function(t){var r=this.wtSettings,i=this.dataAccessObject.selections;if(i){var o=Array.from(i),s=o.length;if(t){for(var a=[],u=0;u<s;u++){for(var c=o[u].settings,f=c.highlightHeaderClassName,p=c.highlightRowClassName,g=c.highlightColumnClassName,v=o[u].classNames,w=v.length,M=0;M<w;M++)a.includes(v[M])||a.push(v[M]);f&&!a.includes(f)&&a.push(f),p&&!a.includes(p)&&a.push(p),g&&!a.includes(g)&&a.push(g)}var C=r.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(C))for(var L=0;L<C.length;L++)a.push(C[L]);for(var H=a.length,V=0;V<H;V++)this.removeClassFromCells(a[V])}for(var z=0;z<s;z++)o[z].draw(this.facadeGetter(),t)}}},{key:"getCell",value:function(t){var r=t.row,i=t.col,o=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(o&&Array.isArray(o)){var s=function zHe(n,e){return function WHe(n){if(Array.isArray(n))return n}(n)||function UHe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||pie(n,e)||function jHe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2);r=s[0],i=s[1]}if(this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;var a=this.getRow(r);if(!a&&r>=0)throw new Error("TR was expected to be rendered but is not");var u=a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!u&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return u}},{key:"getRow",value:function(t){var o,s,r=null,i=null;return t<0?(r=null===(o=this.rowFilter)||void 0===o?void 0:o.sourceRowToVisibleColHeadedRow(t),i=this.THEAD):(r=null===(s=this.rowFilter)||void 0===s?void 0:s.sourceToRendered(t),i=this.TBODY),void 0!==r&&void 0!==i&&!(i.childNodes.length<r+1)&&i.childNodes[r]}},{key:"getColumnHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.THEAD.childNodes[r];return null==i?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getColumnHeaders",value:function(t){var r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(function(o){var s=o.childNodes[i];s&&r.push(s)}),r}},{key:"getRowHeader",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)){var i=this.wtSettings.getSetting("rowHeaders").length;if(!(r>=i)){var o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return null==o?void 0:o.childNodes[r]}}}},{key:"getRowHeaders",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return[];for(var r=[],i=this.wtSettings.getSetting("rowHeaders").length,o=0;o<i;o++){var s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],a=null==s?void 0:s.childNodes[o];a&&r.push(a)}return r}},{key:"getCoords",value:function(t){var r=t;if("TD"!==r.nodeName&&"TH"!==r.nodeName&&(r=Zb(r,["TD","TH"])),null===r)return null;var i=r.parentNode,o=i.parentNode,s=function CIe(n){var e=0,t=n;if(t.previousSibling)for(;t=t.previousSibling;)e+=1;return e}(i),a=r.cellIndex;return Jb(iw,r,this.wtRootElement)||Jb(nw,r,this.wtRootElement)?"THEAD"===o.nodeName&&(s-=o.childNodes.length):s=Jb(pv,r,this.wtRootElement)||Jb(fp,r,this.wtRootElement)?this.wtSettings.getSetting("totalRows")-o.childNodes.length+s:o===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter.renderedToSource(s),a=Jb(iw,r,this.wtRootElement)||Jb(rw,r,this.wtRootElement)||Jb(pv,r,this.wtRootElement)?this.columnFilter.offsettedTH(a):this.columnFilter.visibleRowHeadedColumnToSourceColumn(a),this.wot.createCellCoords(s,a)}},{key:"markOversizedRows",value:function(){if(!this.wtSettings.getSetting("externalRowCalculator")){var o,s,a,u,c,t=this.TBODY.childNodes.length;if(t*this.wtSettings.getSetting("defaultRowHeight")!=hv(this.TBODY)-1||this.wtSettings.getSetting("fixedRowsBottom"))for(;t;)a=this.rowFilter.renderedToSource(t-=1),o=this.getRowHeight(a),s=(c=(u=this.getTrForRow(a)).querySelector("th"))?hv(c):hv(u)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<s||o<s)&&(this.dataAccessObject.wtViewport.oversizedRows[a]=s+=1)}}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"isColumnHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}},{key:"isRowHeaderRendered",value:function(t){if(t>=0)return!1;var i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}},{key:"isRowBeforeRenderedRows",value:function(t){var r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}},{key:"isRowAfterRenderedRows",value:function(t){return t>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(t){var r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&t>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&t>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&t>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(t){return this.rowUtils.getHeight(t)}},{key:"getColumnHeaderHeight",value:function(t){return this.columnUtils.getHeaderHeight(t)}},{key:"getColumnWidth",value:function(t){return this.columnUtils.getWidth(t)}},{key:"getStretchedColumnWidth",value:function(t){return this.columnUtils.getStretchedColumnWidth(t)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"getWidth",value:function(){return vs(this.TABLE)}},{key:"getHeight",value:function(){return Qs(this.TABLE)}},{key:"getTotalWidth",value:function(){var t=vs(this.hider);return 0!==t?t:this.getWidth()}},{key:"getTotalHeight",value:function(){var t=Qs(this.hider);return 0!==t?t:this.getHeight()}},{key:"isVisible",value:function(){return cD(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(t){var r=Es(t)?t():null;return Array.isArray(r)?(r=function FHe(n){return function VHe(n){if(Array.isArray(n))return D4(n)}(n)||function BHe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||pie(n)||function HHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r))[r.length-1]=this._correctRowHeaderWidth(r[r.length-1]):r=this._correctRowHeaderWidth(r),r}},{key:"_correctRowHeaderWidth",value:function(t){var r=t;return"number"!=typeof t&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}]),n}();var yie={getFirstRenderedRow:function(){return 0===this.wtSettings.getSetting("totalRows")?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Um(yie,"MIXIN_NAME","stickyRowsTop",{writable:!1,enumerable:!1});const vie=yie;var _ie={getFirstRenderedColumn:function(){var e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn:function(){var e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getLastRenderedColumn:function(){var e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn:function(){var e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getRenderedColumnsCount:function(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount:function(){return this.dataAccessObject.countColumnsVisible}};Um(_ie,"MIXIN_NAME","calculatedColumns",{writable:!1,enumerable:!1});const A4=_ie;function vx(n){return(vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,JHe(r.key),r)}}function JHe(n){var e=function QHe(n,e){if("object"!==vx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==vx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===vx(e)?e:String(e)}function O4(n,e){return(O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function r3e(n,e){if(e&&("object"===vx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function i3e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function P2(n){return(P2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var k4=function(n){!function t3e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O4(n,e)}(t,n);var e=function n3e(n){var e=function o3e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=P2(n);if(e){var o=P2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return r3e(this,i)}}(t);function t(r,i,o,s){return function e3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,nw)}return function qHe(n,e,t){return e&&bie(n.prototype,e),t&&bie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(yx);Ss(k4,vie),Ss(k4,A4);const s3e=k4;function BD(n){return(BD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Sie(r.key),r)}}function P4(n,e,t){return(e=Sie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sie(n){var e=function u3e(n,e){if("object"!==BD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==BD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===BD(e)?e:String(e)}const d3e=function(){function n(e){(function a3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),P4(this,"dataAccessObject",void 0),P4(this,"lastScrolledColumnPos",-1),P4(this,"lastScrolledRowPos",-1),this.dataAccessObject=e}return function l3e(n,e,t){e&&wie(n.prototype,e),t&&wie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"scrollViewport",value:function(t,r,i,o,s){var a=this.scrollViewportHorizontally(t.col,i,s),u=this.scrollViewportVertically(t.row,r,o);return a||u}},{key:"scrollViewportHorizontally",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalColumns;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn(),f=void 0===r&&void 0===i,p=this.dataAccessObject,v=p.inlineStartOverlay;if(f&&t<p.fixedColumnsStart)return!1;var w=!1;return-1===u?w=v.scrollTo(t,f?t>this.lastScrolledColumnPos:r):(f&&(t<u||t>c)||!f)&&(w=v.scrollTo(t,f?t>c:r)),w&&(this.lastScrolledColumnPos=t),w}},{key:"scrollViewportVertically",value:function(t,r,i){var o=this.dataAccessObject,a=o.totalRows;if(!o.drawn||!Number.isInteger(t)||t<0||t>a)return!1;var u=this.getFirstVisibleRow(),c=this.getLastVisibleRow(),f=void 0===r&&void 0===i,p=this.dataAccessObject,w=p.topOverlay;if(f&&(t<p.fixedRowsTop||t>a-p.fixedRowsBottom-1))return!1;var M=!1;return-1===u?M=w.scrollTo(t,f?t>this.lastScrolledRowPos:i):(f&&(t<u||t>c)||!f)&&(M=w.scrollTo(t,f?t>c:i)),M&&(this.lastScrolledRowPos=t),M}},{key:"getFirstVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.fixedRowsTop,u=t.rootWindow,c=i.getFirstVisibleRow();if(r.mainTableScrollableElement===u){var f=Ja(i.wtRootElement),p=hv(i.hider),g=hv(u),v=m2(u,u);if(f.top+p-g<=v){var w=o.getColumnHeaderHeight();w+=r.sumCellSizes(0,a);for(var M=s;M>0;M--)if(w+=r.sumCellSizes(M-1,M),f.top+p-w<=v){c=M;break}}}return c}},{key:"getLastVisibleRow",value:function(){var t=this.dataAccessObject,r=t.topOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalRows,a=t.rootWindow,u=i.getLastVisibleRow();if(r.mainTableScrollableElement===a){var c=Ja(i.wtRootElement),f=m2(a,a);if(c.top>f)for(var p=hv(a),g=o.getColumnHeaderHeight(),v=1;v<=s;v++)if(g+=r.sumCellSizes(v-1,v),c.top+g-f>=p){u=v-2;break}}return u}},{key:"getFirstVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.inlineStartOverlay,i=t.wtTable,o=t.wtViewport,s=t.totalColumns,a=t.rootWindow,u=i.getFirstVisibleColumn();if(r.mainTableScrollableElement===a){var c=Ja(i.wtRootElement),f=y2(i.hider),p=y2(a),g=Math.abs(KW(a,a));if(c.left+f-p<=g)for(var v=o.getRowHeaderWidth(),w=s;w>0;w--)if(v+=r.sumCellSizes(w-1,w),c.left+f-v<=g){u=w;break}}return u}},{key:"getLastVisibleColumn",value:function(){var t=this.dataAccessObject,r=t.wtSettings,i=t.inlineStartOverlay,o=t.wtTable,s=t.wtViewport,a=t.totalColumns,u=t.rootWindow,c=o.getLastVisibleColumn();if(i.mainTableScrollableElement===u){var p=null;if(r.getSetting("rtlMode")){var g=o.TABLE.getBoundingClientRect();p=Math.abs(g.right-this.dataAccessObject.rootWindow.document.documentElement.offsetWidth)}else p=Ja(o.wtRootElement).left;var C=Math.abs(KW(u,u));if(p>C)for(var L=y2(u),H=s.getRowHeaderWidth(),V=1;V<=a;V++)if(p+(H+=i.sumCellSizes(V-1,V))-C>=L){c=V-2;break}}return c}}]),n}();function VD(n){return(VD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function f3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Cie(r.key),r)}}function p3e(n,e,t){(function m3e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function xie(n,e,t){return(e=Cie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cie(n){var e=function g3e(n,e){if("object"!==VD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==VD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===VD(e)?e:String(e)}function zD(n,e){return function y3e(n,e){return e.get?e.get.call(n):e.value}(n,Eie(n,e,"get"))}function v3e(n,e,t){return function _3e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Eie(n,e,"set"),t),t}function Eie(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var ow=new WeakMap;const L2=function(){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f3e(this,n),xie(this,"row",null),xie(this,"col",null),p3e(this,ow,{writable:!0,value:!1}),v3e(this,ow,r),void 0!==e&&void 0!==t&&(this.row=e,this.col=t)}return function h3e(n,e,t){e&&Mie(n.prototype,e),t&&Mie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&(zD(this,ow)?this.col<=t.col:this.col>=t.col)}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&(zD(this,ow)?this.col>=t.col:this.col<=t.col)}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&(zD(this,ow)?this.col>=t.col:this.col<=t.col)}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&(zD(this,ow)?this.col<=t.col:this.col>=t.col)}},{key:"normalize",value:function(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new n(this.row,this.col,zD(this,ow))}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),n}();function jD(n){return(jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function w3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Rie(r.key),r)}}function M3e(n,e,t){(function x3e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function L4(n,e,t){return(e=Rie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rie(n){var e=function C3e(n,e){if("object"!==jD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==jD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===jD(e)?e:String(e)}function pp(n,e){return function E3e(n,e){return e.get?e.get.call(n):e.value}(n,Die(n,e,"get"))}function T3e(n,e,t){return function R3e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Die(n,e,"set"),t),t}function Die(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var df=new WeakMap;const I4=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w3e(this,n),L4(this,"highlight",null),L4(this,"from",null),L4(this,"to",null),M3e(this,df,{writable:!0,value:!1}),this.highlight=e.clone().normalize(),this.from=t.clone(),this.to=r.clone(),T3e(this,df,i)}return function S3e(n,e,t){e&&Tie(n.prototype,e),t&&Tie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setHighlight",value:function(t){return this.highlight=t.clone().normalize(),this}},{key:"setFrom",value:function(t){return this.from=t.clone(),this}},{key:"setTo",value:function(t){return this.to=t.clone(),this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){if(this.from.row<0&&this.to.row<0)return 0;var t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getWidth",value:function(){if(this.from.col<0&&this.to.col<0)return 0;var t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getCellsCount",value:function(){return this.getWidth()*this.getHeight()}},{key:"includes",value:function(t){var r=t.row,i=t.col,o=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return o.row<=r&&s.row>=r&&o.col<=i&&s.col>=i}},{key:"includesRange",value:function(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getOuterTopRightCorner().col>=t.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=t.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=t.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=t.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getOuterBottomRightCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=t.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=t.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=t.getOuterTopRightCorner().row}},{key:"expand",value:function(t){var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return(t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col)&&(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0)}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),u=Math.min(r.row,s.row),c=Math.min(r.col,s.col),f=Math.max(i.row,a.row),p=Math.max(i.col,a.col),g=this._createCellCoords(u,c),v=this._createCellCoords(f,p);return this.from=g,this.to=v,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var r=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=r[0],this.to=r[1];break;case"NE-SW":var i=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=i[0],this.to=i[1];break;case"SE-NW":var o=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var s=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=s[0],this.to=s[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getTopLeftCorner",value:function(){return pp(this,df)?this.getTopEndCorner():this.getTopStartCorner()}},{key:"getBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return pp(this,df)?this.getBottomStartCorner():this.getBottomEndCorner()}},{key:"getTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return pp(this,df)?this.getTopStartCorner():this.getTopEndCorner()}},{key:"getBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return pp(this,df)?this.getBottomEndCorner():this.getBottomStartCorner()}},{key:"getOuterTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterTopLeftCorner",value:function(){return pp(this,df)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}},{key:"getOuterBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return pp(this,df)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}},{key:"getOuterTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return pp(this,df)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}},{key:"getOuterBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return pp(this,df)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}},{key:"isCorner",value:function(t,r){return!!(r&&r.includes(t)&&(this.getOuterTopLeftCorner().isEqual(this._createCellCoords(r.from.row,r.from.col))||this.getOuterTopRightCorner().isEqual(this._createCellCoords(r.from.row,r.to.col))||this.getOuterBottomLeftCorner().isEqual(this._createCellCoords(r.to.row,r.from.col))||this.getOuterBottomRightCorner().isEqual(this._createCellCoords(r.to.row,r.to.col))))||t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,r){if(!(t instanceof L2))return!1;if(r){var i=r.from,o=r.to;if(r.includes(t)){if(this.getOuterTopStartCorner().isEqual(this._createCellCoords(i.row,i.col)))return this.getOuterBottomEndCorner();if(this.getOuterTopEndCorner().isEqual(this._createCellCoords(i.row,o.col)))return this.getOuterBottomStartCorner();if(this.getOuterBottomStartCorner().isEqual(this._createCellCoords(o.row,i.col)))return this.getOuterTopEndCorner();if(this.getOuterBottomEndCorner().isEqual(this._createCellCoords(o.row,o.col)))return this.getOuterTopStartCorner()}}return t.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():t.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():t.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():t.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var r_top=Math.min(this.from.row,this.to.row),r_bottom=Math.max(this.from.row,this.to.row),r_left=Math.min(this.from.col,this.to.col),r_right=Math.max(this.from.col,this.to.col),i_top=Math.min(t.from.row,t.to.row),i_bottom=Math.max(t.from.row,t.to.row),i_left=Math.min(t.from.col,t.to.col),i_right=Math.max(t.from.col,t.to.col),o=[];return r_top===i_top&&o.push("top"),r_right===i_right&&o.push("right"),r_bottom===i_bottom&&o.push("bottom"),r_left===i_left&&o.push("left"),o}},{key:"getInner",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)(this.from.row!==o||this.from.col!==s)&&(this.to.row!==o||this.to.col!==s)&&i.push(this._createCellCoords(o,s));return i}},{key:"getAll",value:function(){for(var t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[],o=t.row;o<=r.row;o++)for(var s=t.col;s<=r.col;s++)i.push(t.row===o&&t.col===s?t:r.row===o&&r.col===s?r:this._createCellCoords(o,s));return i}},{key:"forAll",value:function(t){for(var r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=r.row;o<=i.row;o++)for(var s=r.col;s<=i.col;s++)if(!1===t(o,s))return}},{key:"clone",value:function(){return new n(this.highlight,this.from,this.to,pp(this,df))}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}},{key:"_createCellCoords",value:function(t,r){return new L2(t,r,pp(this,df))}}]),n}();function UD(n){return(UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Aie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Oie(r.key),r)}}function hh(n,e,t){return(e=Oie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Oie(n){var e=function k3e(n,e){if("object"!==UD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==UD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===UD(e)?e:String(e)}var N4=function(){function n(e,t){(function A3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),hh(this,"wtTable",void 0),hh(this,"wtScroll",void 0),hh(this,"wtViewport",void 0),hh(this,"wtOverlays",void 0),hh(this,"selections",void 0),hh(this,"wtEvent",void 0),hh(this,"guid","wt_".concat($ne())),hh(this,"drawInterrupted",!1),hh(this,"drawn",!1),hh(this,"domBindings",void 0),hh(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=t,this.wtScroll=new d3e(this.createScrollDao())}return function O3e(n,e,t){e&&Aie(n.prototype,e),t&&Aie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"eventManager",get:function(){return new ea(this)}},{key:"findOriginalHeaders",value:function(){var t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(o,s){Qb(s,t[o])}])}}},{key:"createCellCoords",value:function(t,r){return new L2(t,r,this.wtSettings.getSetting("rtlMode"))}},{key:"createCellRange",value:function(t,r,i){return new I4(t,r,i,this.wtSettings.getSetting("rtlMode"))}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),a=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<o&&t.col<a)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<a&&t.row>=i-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<a)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"scrollViewport",value:function(t,r,i,o,s){return!(t.col<0||t.row<0)&&this.wtScroll.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return!(t<0)&&this.wtScroll.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{key:"createScrollDao",value:function(){var t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get wtSettings(){return t.wtSettings},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}},{key:"getTableDao",value:function(){var t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selections(){return t.selections},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count}}}}]),n}();function _x(n){return(_x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Lie(r.key),r)}}function F4(n,e){return(F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function F3e(n,e){if(e&&("object"===_x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return I2(n)}function I2(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function N2(n){return(N2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Pie(n,e,t){return(e=Lie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lie(n){var e=function B3e(n,e){if("object"!==_x(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_x(e)?e:String(e)}var V3e=function(n){!function I3e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&F4(n,e)}(t,n);var e=function N3e(n){var e=function H3e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=N2(n);if(e){var o=N2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return F3e(this,i)}}(t);function t(r,i,o){var s;(function L3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Pie(I2(s=e.call(this,r,i)),"cloneSource",void 0),Pie(I2(s),"cloneOverlay",void 0);var a=s.wtSettings.getSetting("facade",I2(s));return s.cloneSource=o.source,s.cloneOverlay=o.overlay,s.wtTable=s.cloneOverlay.createTable(s.getTableDao(),a,s.domBindings,s.wtSettings),s.wtViewport=o.viewport,s.selections=o.selections,s.wtEvent=new Yre(a,s.domBindings,s.wtSettings,s.eventManager,s.wtTable,s.selections,o.event),s.findOriginalHeaders(),s}return function P3e(n,e,t){return e&&kie(n.prototype,e),t&&kie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(N4);function WD(n){return(WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Iie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Nie(r.key),r)}}function Nie(n){var e=function W3e(n,e){if("object"!==WD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==WD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===WD(e)?e:String(e)}var YD=function(){function n(e,t,r,i,o){(function z3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function U3e(n,e,t){(e=Nie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"wtSettings",null),Um(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=t,this.wtSettings=i;var s=this.wot.wtTable,a=s.TABLE,u=s.hider,c=s.spreader,f=s.holder,p=s.wtRootElement;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=a,this.hider=u,this.spreader=c,this.holder=f,this.wtRootElement=p,this.trimmingContainer=sx(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}return function j3e(n,e,t){e&&Iie(n.prototype,e),t&&Iie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var r=t!==this.needFullRender;return r&&!this.needFullRender&&this.reset(),r}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=sx(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot.wtTable;this.mainTableScrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.wot.wtTable.holder:g2(t.TABLE)}},{key:"getRelativeCellPosition",value:function(t,r,i){if(!1!==this.clone.wtTable.holder.contains(t)){var o=this.mainTableScrollableElement===this.domBindings.rootWindow,s=i<this.wtSettings.getSetting("fixedColumnsStart"),a=r<this.wtSettings.getSetting("fixedRowsTop"),u=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),c=this.clone.wtTable.spreader,f={start:this.getRelativeStartPosition(c),top:c.offsetTop},p={start:this.getRelativeStartPosition(t),top:t.offsetTop};return o?this.getRelativeCellPositionWithinWindow(a,s,p,f):this.getRelativeCellPositionWithinHolder(a,u,s,p,f)}cs("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeStartPosition",value:function(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}},{key:"getRelativeCellPositionWithinWindow",value:function(t,r,i,o){var s=this.wot.wtTable.wtRootElement.getBoundingClientRect(),a=0,u=0;if(r){var c=s.left;this.isRtl()&&(c=this.domBindings.rootWindow.innerWidth-(s.left+s.width+Il())),a=c<=0?-1*c:0}else a=o.start;return u=t?this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:o.top,{start:i.start+a,top:i.top+u}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,r,i,o,s){var a_horizontal=this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),a_vertical=this.wot.wtOverlays.topOverlay.getScrollPosition(),u=0,c=0;if(i||(u=a_horizontal-s.start),r){var f=this.wot.wtTable.wtRootElement.getBoundingClientRect();c=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+f.top}else t||(c=a_vertical-s.top);return{start:o.start-u,top:o.top-c}}},{key:"makeClone",value:function(){if(-1===IHe.indexOf(this.type))throw new Error('Clone type "'.concat(this.type,'" is not supported.'));var t=this.wot.wtTable,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=i.createElement("DIV"),a=i.createElement("TABLE"),u=t.wtRootElement.parentNode;s.className="".concat(NHe.get(this.type)," handsontable"),s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,a.className=t.TABLE.className,s.appendChild(a),u.appendChild(s);var c=this.wtSettings.getSetting("preventOverflow");return this.mainTableScrollableElement=!0===c||"horizontal"===c&&this.type===nw||"vertical"===c&&this.type===rw?o:"hidden"===o.getComputedStyle(u).getPropertyValue("overflow")?t.holder:g2(t.TABLE),new V3e(a,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selections:this.wot.selections})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.shouldBeRendered();this.clone&&(this.needFullRender||r)&&this.clone.draw(t),this.needFullRender=r}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder;ut([t.style,this.clone.wtTable.hider.style,t.parentNode.style],function(a){a.width="",a.height=""})}}},{key:"isRtl",value:function(){return this.wtSettings.getSetting("rtlMode")}},{key:"destroy",value:function(){this.clone.eventManager.destroy()}}]),n}();function bx(n){return(bx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function F2(n,e,t){return(F2=Bie()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&H2(c,s.prototype),c}).apply(null,arguments)}function Fie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Vie(r.key),r)}}function H2(n,e){return(H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function X3e(n,e){if(e&&("object"===bx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hie(n)}function Hie(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bie(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function B2(n){return(B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Vie(n){var e=function q3e(n,e){if("object"!==bx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==bx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===bx(e)?e:String(e)}var J3e=function(n){!function $3e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H2(n,e)}(t,n);var e=function K3e(n){var e=Bie();return function(){var i,r=B2(n);if(e){var o=B2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return X3e(this,i)}}(t);function t(r,i,o,s){var a;return function Y3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function Z3e(n,e,t){(e=Vie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Hie(a=e.call(this,r,i,nw,o,s)),"cachedFixedRowsTop",-1),a.cachedFixedRowsTop=a.wtSettings.getSetting("fixedRowsTop"),a}return function G3e(n,e,t){e&&Fie(n.prototype,e),t&&Fie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return F2(s3e,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode,o=this.domBindings.rootWindow,s=this.wtSettings.getSetting("preventOverflow"),a=0,u=!1;if(this.trimmingContainer!==o||s&&"vertical"===s)a=this.getScrollPosition(),_2(i);else{var f=this.wot.wtTable.hider.getBoundingClientRect();u=Math.ceil(f.bottom)===i.offsetHeight,a=this.getOverlayOffset(),ZW(i,"0px","".concat(a,"px"))}var v=this.adjustHeaderBordersPosition(a,u);return this.adjustElementsSize(),v}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o&&o.scrollY!==i?(o.scrollTo(ox(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultRowHeight"),a=i,u=0;a<o;){var c=this.wot.wtTable.getRowHeight(a);u+=void 0===c?s:c,a+=1}return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=Il(o.rootDocument),f=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"horizontal"===p){var g=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(g-=u),g=Math.min(g,i.wtRootElement.scrollWidth),f.width="".concat(g,"px")}else f.width="";this.clone.wtTable.holder.style.width=f.width;var v=Qs(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(v=0),f.height="".concat(v,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.width=this.hider.style.width,o.style.width=o.parentNode.style.width,o.style.height="".concat(parseInt(o.parentNode.style.height,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.wot,a=this.wtSettings,c=(s.cloneSource?s.cloneSource:s).wtTable.holder,f=this.getTableParentOffset(),p=0;if(o&&this.wot.wtTable.getRowHeight(i)>this.wot.wtViewport.getViewportHeight()&&(o=!1),o&&c.offsetHeight!==c.clientHeight&&(p=Il(this.domBindings.rootDocument)),o){var w=a.getSetting("fixedRowsBottom"),M=a.getSetting("totalRows");f+=this.sumCellSizes(0,i+1),f-=s.wtViewport.getViewportHeight()-this.sumCellSizes(M-w,M),f+=1}else f+=this.sumCellSizes(a.getSetting("fixedRowsTop"),i);return this.setScrollPosition(f+=p)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return m2(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var c=this.wot.wtTable.getTotalHeight()-this.clone.wtTable.getTotalHeight();(s=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.wot.wtTable.holder.parentNode,a=this.wtSettings.getSetting("totalColumns");a?Bi(s,"emptyColumns"):Dn(s,"emptyColumns");var u=!1;if(!o){var c=this.wtSettings.getSetting("fixedRowsTop"),f=this.cachedFixedRowsTop!==c,p=this.wtSettings.getSetting("columnHeaders");if((f||0===c)&&p.length>0){var g=Ai(s,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),i||0===this.wtSettings.getSetting("totalRows")?(Dn(s,"innerBorderTop"),u=!g):(Bi(s,"innerBorderTop"),u=g)}}return u}}]),t}(YD),zie={getFirstRenderedRow:function(){var e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return 0===e||0===t?-1:r<0?0:r},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};Um(zie,"MIXIN_NAME","stickyRowsBottom",{writable:!1,enumerable:!1});const jie=zie;function wx(n){return(wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Uie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tBe(r.key),r)}}function tBe(n){var e=function nBe(n,e){if("object"!==wx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==wx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===wx(e)?e:String(e)}function H4(n,e){return(H4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sBe(n,e){if(e&&("object"===wx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function aBe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function V2(n){return(V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var B4=function(n){!function iBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&H4(n,e)}(t,n);var e=function oBe(n){var e=function lBe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=V2(n);if(e){var o=V2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sBe(this,i)}}(t);function t(r,i,o,s){return function rBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,fp)}return function eBe(n,e,t){return e&&Uie(n.prototype,e),t&&Uie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(yx);Ss(B4,jie),Ss(B4,A4);const uBe=B4;function Sx(n){return(Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function z2(n,e,t){return(z2=Gie()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&j2(c,s.prototype),c}).apply(null,arguments)}function Wie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$ie(r.key),r)}}function j2(n,e){return(j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function pBe(n,e){if(e&&("object"===Sx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yie(n)}function Yie(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gie(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function U2(n){return(U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function $ie(n){var e=function gBe(n,e){if("object"!==Sx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Sx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Sx(e)?e:String(e)}var yBe=function(n){!function fBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&j2(n,e)}(t,n);var e=function hBe(n){var e=Gie();return function(){var i,r=U2(n);if(e){var o=U2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pBe(this,i)}}(t);function t(r,i,o,s){var a;return function cBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function mBe(n,e,t){(e=$ie(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(Yie(a=e.call(this,r,i,fp,o,s)),"cachedFixedRowsBottom",-1),a.cachedFixedRowsBottom=a.wtSettings.getSetting("fixedRowsBottom"),a}return function dBe(n,e,t){e&&Wie(n.prototype,e),t&&Wie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return z2(uBe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var i=this.domBindings.rootWindow,o=this.clone.wtTable.holder.parentNode;o.style.top="";var s=0,a=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==i||a&&"vertical"===a?(s=this.getScrollPosition(),this.repositionOverlay()):(s=this.getOverlayOffset(),o.style.bottom="".concat(s,"px"));var u=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),u}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=Il(a)),u.style.bottom="".concat(c,"px")}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.mainTableScrollableElement===o?(o.scrollTo(ox(o),i),s=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wot,a=s.wtTable,c=s.wtSettings.getSetting("defaultRowHeight"),f=i,p=0;f<o;){var g=a.getRowHeight(f);p+=void 0===g?c:g,f+=1}return p}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings,c=a.rootWindow,f=Il(a.rootDocument),g=this.clone.wtTable.holder.parentNode.style,v=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==c||"horizontal"===v){var w=s.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(w-=f),w=Math.min(w,o.wtRootElement.scrollWidth),g.width="".concat(w,"px")}else g.width="";this.clone.wtTable.holder.style.width=g.width;var M=Qs(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(M=0),g.height="".concat(M,"px")}},{key:"adjustRootChildrenSize",value:function(){var i=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,i.style.width=i.parentNode.style.width,i.style.height=i.parentNode.style.height}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var i=this.isRtl()?"right":"left";this.clone.wtTable.spreader.style[i]="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;o&&u.offsetHeight!==u.clientHeight&&(c=Il(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportHeight(),s+=1):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return m2(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;if(this.trimmingContainer===i&&(!o||"vertical"!==o)){var a=this.wot.wtTable.getTotalHeight(),c=a-this.clone.wtTable.getTotalHeight(),f=this.domBindings.rootDocument.documentElement.clientHeight;(s=Math.max(this.getTableParentOffset()-this.getScrollPosition()-f+a,0))>c&&(s=0)}return s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.cachedFixedRowsBottom!==o,a=this.wtSettings.getSetting("columnHeaders"),u=!1;if((s||0===o)&&a.length>0){var c=this.wot.wtTable.holder.parentNode,f=Ai(c,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),i||0===this.wtSettings.getSetting("totalRows")?(Dn(c,"innerBorderBottom"),u=!f):(Bi(c,"innerBorderBottom"),u=f)}return u}}]),t}(YD),Kie={getFirstRenderedRow:function(){var e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow:function(){var e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getLastRenderedRow:function(){var e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow:function(){var e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getRenderedRowsCount:function(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount:function(){return this.dataAccessObject.countRowsVisible}};Um(Kie,"MIXIN_NAME","calculatedRows",{writable:!1,enumerable:!1});const Xie=Kie;var Zie={getFirstRenderedColumn:function(){return 0===this.wtSettings.getSetting("totalColumns")?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};Um(Zie,"MIXIN_NAME","stickyColumnsStart",{writable:!1,enumerable:!1});const V4=Zie;function Mx(n){return(Mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wBe(r.key),r)}}function wBe(n){var e=function SBe(n,e){if("object"!==Mx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Mx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Mx(e)?e:String(e)}function z4(n,e){return(z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function EBe(n,e){if(e&&("object"===Mx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function TBe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function W2(n){return(W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var j4=function(n){!function xBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&z4(n,e)}(t,n);var e=function CBe(n){var e=function RBe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=W2(n);if(e){var o=W2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EBe(this,i)}}(t);function t(r,i,o,s){return function MBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,rw)}return function bBe(n,e,t){return e&&qie(n.prototype,e),t&&qie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(yx);Ss(j4,Xie),Ss(j4,V4);const DBe=j4;function xx(n){return(xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Y2(n,e,t){return(Y2=Qie()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&G2(c,s.prototype),c}).apply(null,arguments)}function Jie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kBe(r.key),r)}}function kBe(n){var e=function PBe(n,e){if("object"!==xx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==xx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===xx(e)?e:String(e)}function G2(n,e){return(G2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function NBe(n,e){if(e&&("object"===xx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function FBe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Qie(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function $2(n){return($2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var HBe=function(n){!function LBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&G2(n,e)}(t,n);var e=function IBe(n){var e=Qie();return function(){var i,r=$2(n);if(e){var o=$2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NBe(this,i)}}(t);function t(r,i,o,s){return function ABe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,rw,o,s)}return function OBe(n,e,t){e&&Jie(n.prototype,e),t&&Jie(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Y2(DBe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var o=this.domBindings.rootWindow,s=this.clone.wtTable.holder.parentNode,a=this.wtSettings.getSetting("preventOverflow"),u=0;this.trimmingContainer!==o||a&&"horizontal"===a?(u=this.getScrollPosition(),_2(s)):(u=this.getOverlayOffset()*(this.isRtl()?-1:1),ZW(s,"".concat(u,"px"),"0px"));var c=this.adjustHeaderBordersPosition(u);return this.adjustElementsSize(),c}},{key:"setScrollPosition",value:function(i){var o=this.domBindings.rootWindow,s=!1;return this.isRtl()&&(i=-i),this.mainTableScrollableElement===o&&o.scrollX!==i?(o.scrollTo(i,dD(o)),s=!0):this.mainTableScrollableElement.scrollLeft!==i&&(this.mainTableScrollableElement.scrollLeft=i,s=!0),s}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(i,o){for(var s=this.wtSettings.getSetting("defaultColumnWidth"),a=i,u=0;a<o;)u+=this.wot.wtTable.getStretchedColumnWidth(a)||s,a+=1;return u}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot.wtTable,o=this.domBindings,a=o.rootWindow,u=Il(o.rootDocument),f=this.clone.wtTable.holder.parentNode.style,p=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==a||"vertical"===p){var g=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(g-=u),g=Math.min(g,i.wtRootElement.scrollHeight),f.height="".concat(g,"px")}else f.height="";this.clone.wtTable.holder.style.height=f.height;var v=vs(this.clone.wtTable.TABLE);f.width="".concat(v,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,s=this.wot.selections,a=this.facadeGetter(),u=Math.abs(null!==(i=null==s?void 0:s.getCell().getBorder(a).cornerCenterPointOffset)&&void 0!==i?i:0);this.clone.wtTable.hider.style.height=this.hider.style.height,o.style.height=o.parentNode.style.height,o.style.width="".concat(parseInt(o.parentNode.style.width,10)+u,"px")}},{key:"applyToDOM",value:function(){var i=this.wtSettings.getSetting("totalColumns"),o=this.isRtl()?"right":"left";if("number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[o]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==i)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[o]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?"".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):""}},{key:"scrollTo",value:function(i,o){var s=this.getTableParentOffset(),u=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,c=0;return o&&this.wot.wtTable.getColumnWidth(i)>this.wot.wtViewport.getViewportWidth()&&(o=!1),o&&u.offsetWidth!==u.clientWidth&&(c=Il(this.domBindings.rootDocument)),o?(s+=this.sumCellSizes(0,i+1),s-=this.wot.wtViewport.getViewportWidth()):s+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),i),this.setScrollPosition(s+=c)}},{key:"getTableParentOffset",value:function(){var o=0;return!this.wtSettings.getSetting("preventOverflow")&&this.trimmingContainer===this.domBindings.rootWindow&&(o=this.wot.wtTable.holderOffset.left),o}},{key:"getScrollPosition",value:function(){return Math.abs(KW(this.mainTableScrollableElement,this.domBindings.rootWindow))}},{key:"getOverlayOffset",value:function(){var i=this.domBindings.rootWindow,o=this.wtSettings.getSetting("preventOverflow"),s=0;return this.trimmingContainer!==i||o&&"horizontal"===o||(s=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>this.wot.wtTable.getTotalWidth()-this.clone.wtTable.getTotalWidth()&&(s=0),s}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.wtTable.holder.parentNode,s=this.wtSettings.getSetting("rowHeaders"),a=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Bi(o,"emptyRows"):Dn(o,"emptyRows");var c=!1;if(a&&!s.length)Dn(o,"innerBorderLeft innerBorderInlineStart");else if(!a&&s.length){var f=Ai(o,"innerBorderInlineStart");i?(Dn(o,"innerBorderLeft innerBorderInlineStart"),c=!f):(Bi(o,"innerBorderLeft innerBorderInlineStart"),c=f)}return c}}]),t}(YD);function Cx(n){return(Cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VBe(r.key),r)}}function VBe(n){var e=function zBe(n,e){if("object"!==Cx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Cx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Cx(e)?e:String(e)}function U4(n,e){return(U4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function YBe(n,e){if(e&&("object"===Cx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function GBe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function K2(n){return(K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var W4=function(n){!function UBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&U4(n,e)}(t,n);var e=function WBe(n){var e=function $Be(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=K2(n);if(e){var o=K2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return YBe(this,i)}}(t);function t(r,i,o,s){return function jBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,iw)}return function BBe(n,e,t){return e&&eoe(n.prototype,e),t&&eoe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(yx);Ss(W4,vie),Ss(W4,V4);const KBe=W4;function Ex(n){return(Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function X2(n,e,t){return(X2=noe()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&Z2(c,s.prototype),c}).apply(null,arguments)}function toe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ioe(r.key),r)}}function Z2(n,e){return(Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function QBe(n,e){if(e&&("object"===Ex(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Y4(n)}function Y4(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function noe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function q2(n){return(q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function roe(n,e,t){return(e=ioe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ioe(n){var e=function eVe(n,e){if("object"!==Ex(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Ex(e)?e:String(e)}var tVe=function(n){!function qBe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Z2(n,e)}(t,n);var e=function JBe(n){var e=noe();return function(){var i,r=q2(n);if(e){var o=q2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return QBe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function XBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),roe(Y4(c=e.call(this,r,i,iw,o,s)),"topOverlay",void 0),roe(Y4(c),"inlineStartOverlay",void 0),c.topOverlay=a,c.inlineStartOverlay=u,c}return function ZBe(n,e,t){e&&toe(n.prototype,e),t&&toe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return X2(KBe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;var i=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){var o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();ZW(i,"".concat(o,"px"),"".concat(s,"px"))}else _2(i);var a=Qs(this.clone.wtTable.TABLE),u=vs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(a=0),i.style.height="".concat(a,"px"),i.style.width="".concat(u,"px"),!1}}]),t}(YD);function Tx(n){return(Tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ooe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rVe(r.key),r)}}function rVe(n){var e=function iVe(n,e){if("object"!==Tx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Tx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Tx(e)?e:String(e)}function G4(n,e){return(G4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lVe(n,e){if(e&&("object"===Tx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function uVe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function J2(n){return(J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var $4=function(n){!function sVe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&G4(n,e)}(t,n);var e=function aVe(n){var e=function cVe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=J2(n);if(e){var o=J2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lVe(this,i)}}(t);function t(r,i,o,s){return function oVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,pv)}return function nVe(n,e,t){return e&&ooe(n.prototype,e),t&&ooe(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(t)}(yx);Ss($4,jie),Ss($4,V4);const dVe=$4;function Rx(n){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Q2(n,e,t){return(Q2=aoe()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&eF(c,s.prototype),c}).apply(null,arguments)}function soe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pVe(r.key),r)}}function pVe(n){var e=function mVe(n,e){if("object"!==Rx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Rx(e)?e:String(e)}function eF(n,e){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vVe(n,e){if(e&&("object"===Rx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _Ve(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function aoe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function tF(n){return(tF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var bVe=function(n){!function gVe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eF(n,e)}(t,n);var e=function yVe(n){var e=aoe();return function(){var i,r=tF(n);if(e){var o=tF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vVe(this,i)}}(t);function t(r,i,o,s,a,u){var c;return function fVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(c=e.call(this,r,i,pv,o,s)).bottomOverlay=a,c.inlineStartOverlay=u,c}return function hVe(n,e,t){e&&soe(n.prototype,e),t&&soe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Q2(dVe,o)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot;if(this.updateTrimmingContainer(),!i.wtTable.holder.parentNode)return!1;var o=this.clone.wtTable.holder.parentNode;if(o.style.top="",this.trimmingContainer===this.domBindings.rootWindow){var s=this.inlineStartOverlay.getOverlayOffset(),a=this.bottomOverlay.getOverlayOffset();o.style[this.isRtl()?"right":"left"]="".concat(s,"px"),o.style.bottom="".concat(a,"px")}else _2(o),this.repositionOverlay();var u=Qs(this.clone.wtTable.TABLE),c=vs(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(u=0),o.style.height="".concat(u,"px"),o.style.width="".concat(c,"px"),!1}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,s=i.wtViewport,a=this.domBindings.rootDocument,u=this.clone.wtTable.holder.parentNode,c=0;s.hasVerticalScroll()||(c+=s.getWorkspaceHeight()-o.getTotalHeight()),s.hasVerticalScroll()&&s.hasHorizontalScroll()&&(c+=Il(a)),u.style.bottom="".concat(c,"px")}}]),t}(YD);function GD(n){return(GD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mv(n,e,t){return(mv=wVe()?Reflect.construct.bind():function(i,o,s){var a=[null];a.push.apply(a,o);var c=new(Function.bind.apply(i,a));return s&&K4(c,s.prototype),c}).apply(null,arguments)}function wVe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function K4(n,e){return(K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function loe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uoe(r.key),r)}}function Ym(n,e,t){return(e=uoe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uoe(n){var e=function xVe(n,e){if("object"!==GD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==GD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===GD(e)?e:String(e)}const EVe=function(){function n(e,t,r,i,o,s){var a=this;(function SVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Ym(this,"wot",null),Ym(this,"topOverlay",null),Ym(this,"bottomOverlay",null),Ym(this,"inlineStartOverlay",null),Ym(this,"topInlineStartCornerOverlay",null),Ym(this,"bottomInlineStartCornerOverlay",null),Ym(this,"browserLineHeight",void 0),Ym(this,"wtSettings",null),Ym(this,"resizeObserver",new ResizeObserver(function(g){NW(function(){!Array.isArray(g)||!g.length||a.wtSettings.getSetting("onContainerElementResize")})})),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=t,this.wtTable=s;var u=this.domBindings,c=u.rootDocument,f=u.rootWindow;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Il(c);var p="hidden"===f.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=p?s.holder:g2(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=f.scrollX,this.lastScrollY=f.scrollY}return function MVe(n,e,t){e&&loe(n.prototype,e),t&&loe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getOverlays",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=[this.topOverlay,this.topInlineStartCornerOverlay,this.inlineStartOverlay,this.bottomOverlay,this.bottomInlineStartCornerOverlay];return t&&r.push(this.wtTable),r}},{key:"initBrowserLineHeight",value:function(){var t=this.domBindings,o=t.rootWindow.getComputedStyle(t.rootDocument.body),s=parseInt(o.lineHeight,10),a=1.2*parseInt(o.fontSize,10);this.browserLineHeight=s||a}},{key:"initOverlays",value:function(){var t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=mv(J3e,t),this.bottomOverlay=mv(yBe,t),this.inlineStartOverlay=mv(HBe,t),this.topInlineStartCornerOverlay=mv(tVe,t.concat([this.topOverlay,this.inlineStartOverlay])),this.bottomInlineStartCornerOverlay=mv(bVe,t.concat([this.bottomOverlay,this.inlineStartOverlay]))}},{key:"updateStateOfRendering",value:function(){var t=this.topOverlay.updateStateOfRendering();return t=this.bottomOverlay.updateStateOfRendering()||t,t=this.inlineStartOverlay.updateStateOfRendering()||t,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(t=this.topInlineStartCornerOverlay.updateStateOfRendering()||t),this.bottomOverlay.needFullRender&&(t=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||t)),t}},{key:"refreshAll",value:function(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}},{key:"registerListeners",value:function(){var t=this,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.topOverlay.mainTableScrollableElement,a=this.inlineStartOverlay.mainTableScrollableElement;this.eventManager.addEventListener(i.documentElement,"keydown",function(w){return t.onKeyDown(w)}),this.eventManager.addEventListener(i.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(i,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(s,"scroll",function(w){return t.onTableScroll(w)},{passive:!0}),s!==a&&this.eventManager.addEventListener(a,"scroll",function(w){return t.onTableScroll(w)},{passive:!0});var v,u=o.devicePixelRatio&&o.devicePixelRatio>1,c=this.scrollableElement===o,f=this.wtSettings.getSetting("preventWheel"),p={passive:c};(f||u||!jne())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",function(w){return t.onCloneWheel(w,f)},p),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(function(w){w&&w.needFullRender&&t.eventManager.addEventListener(w.clone.wtTable.holder,"wheel",function(C){return t.onCloneWheel(C,f)},p)}),this.eventManager.addEventListener(o,"resize",function(){clearTimeout(v),v=setTimeout(function(){t.wtSettings.getSetting("onWindowResize")},200)}),c||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(t){var r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target;this.keyPressed&&(o!==r&&s!==r&&!t.target.contains(o)||i!==r&&s!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t,r){var i=this.domBindings.rootWindow,o=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,a=t.target,u=s!==i&&a!==i&&!a.contains(s),c=o!==i&&a!==i&&!a.contains(o);if(!this.keyPressed||!u&&!c){var f=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&f)&&t.preventDefault()}}},{key:"onKeyDown",value:function(t){this.keyPressed=gD(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);var o=this.scrollVertically(r),s=this.scrollHorizontally(i);return o||s}},{key:"scrollVertically",value:function(t){var r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(t){var r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.domBindings.rootWindow,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,o=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],s=o[0],a=o[1];if(this.horizontalScrolling=r.scrollLeft!==s||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==a||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=s;var u=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;u&&(u.scrollLeft=s)}this.verticalScrolling&&(i.scrollTop=a),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,r=t.scrollLeft,i=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wtTable;this.scrollableElement="hidden"===this.domBindings.rootWindow.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?t.holder:g2(t.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.updateLastSpreaderSize();r&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}},{key:"updateLastSpreaderSize",value:function(){var t=this.wtTable.spreader,r=t.clientWidth,i=t.clientHeight,o=r!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height;return o&&(this.spreaderLastSize.width=r,this.spreaderLastSize.height=i),o}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.wot.wtViewport,i=this.wtTable,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=r.getRowHeaderWidth(),u=r.getColumnHeaderHeight(),c=i.hider.style;if(c.width="".concat(a+this.inlineStartOverlay.sumCellSizes(0,o),"px"),c.height="".concat(u+this.topOverlay.sumCellSizes(0,s)+1,"px"),this.scrollbarSize>0){var f=i.wtRootElement,p=f.scrollHeight,g=f.scrollWidth,v=i.holder,w=v.scrollHeight,M=v.scrollWidth;this.hasScrollbarRight=p<w,this.hasScrollbarBottom=g<M,this.hasScrollbarRight&&i.hider.scrollWidth+this.scrollbarSize>g?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&i.hider.scrollHeight+this.scrollbarSize>p&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.inlineStartOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){!this.wtTable.isVisible()||(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(t){if(!t)return null;var i=null;return ut([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(o){!o||o.clone&&o.clone.wtTable.TABLE.contains(t)&&(i=o.clone)}),i}},{key:"syncOverlayTableClassNames",value:function(){var t=this.wtTable.TABLE;ut([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],function(i){!i||(i.clone.wtTable.TABLE.className=t.className)})}}]),n}();function $D(n){return($D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function coe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,foe(r.key),r)}}function doe(n,e,t){return(e=foe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function foe(n){var e=function DVe(n,e){if("object"!==$D(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==$D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===$D(e)?e:String(e)}var AVe=function(){function n(e){var t=this;(function TVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),doe(this,"settings",{}),doe(this,"defaults",Object.freeze(this.getDefaults())),no(this.defaults,function(r,i){if(void 0!==e[i])t.settings[i]=e[i];else{if(void 0===r)throw new Error('A required setting "'.concat(i,'" was not provided'));t.settings[i]=r}})}return function RVe(n,e,t){e&&coe(n.prototype,e),t&&coe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getDefaults",value:function(){var t=this;return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:function(){return t.getSetting("fixedColumnsStart")>0||t.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return t.getSetting("fixedRowsTop")>0||t.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return t.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(i,o,s){var a=t.getSetting("data",i,o);Qb(s,null==a?"":a)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(i){return i},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(i){return i},onBeforeHighlightingColumnHeader:function(i){return i},onWindowResize:null,onContainerElementResize:null,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1}}},{key:"update",value:function(t,r){var i=this;return void 0===r?no(t,function(o,s){i.settings[s]=o}):this.settings[t]=r,this}},{key:"getSetting",value:function(t,r,i,o,s){return"function"==typeof this.settings[t]?this.settings[t](r,i,o,s):void 0!==r&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}},{key:"getSettingPure",value:function(t){return this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),n}();function Dx(n){return(Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,PVe(r.key),r)}}function PVe(n){var e=function LVe(n,e){if("object"!==Dx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Dx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Dx(e)?e:String(e)}function X4(n,e){return(X4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function FVe(n,e){if(e&&("object"===Dx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function HVe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function nF(n){return(nF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Z4=function(n){!function IVe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&X4(n,e)}(t,n);var e=function NVe(n){var e=function BVe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=nF(n);if(e){var o=nF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return FVe(this,i)}}(t);function t(r,i,o,s){return function OVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,r,i,o,s,"master")}return function kVe(n,e,t){e&&hoe(n.prototype,e),t&&hoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"alignOverlaysWithTrimmingContainer",value:function(){var i=sx(this.wtRootElement),o=this.domBindings.rootWindow;if(i===o)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{var a=i.parentElement,u=fD(i,"height",o),c=fD(i,"overflow",o),f=this.holder.style,p=i.scrollWidth,g=i.scrollHeight,v=i.getBoundingClientRect(),w=v.width,M=v.height;if(a&&["auto","hidden","scroll"].includes(c)){var L=i.cloneNode(!1);L.style.overflow="auto",L.style.position="absolute",i.nextElementSibling?a.insertBefore(L,i.nextElementSibling):a.appendChild(L);var H=parseInt(ew(L,o).height,10);a.removeChild(L),0===H&&(M=0)}M=Math.min(M,g),f.height="auto"===u?"auto":"".concat(M,"px"),w=Math.min(w,p),f.width="".concat(w,"px"),f.overflow="",this.hasTableHeight="auto"===f.height||M>0,this.hasTableWidth=w>0}this.isTableVisible=cD(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var i=this.wtSettings,o=this.dataAccessObject.wtViewport,s="master",u=i.getSetting("columnHeaders").length;if(u&&!o.hasOversizedColumnHeadersMarked[s]){for(var f=i.getSetting("rowHeaders").length,p=this.getRenderedColumnsCount(),g=0;g<u;g++)for(var v=-1*f;v<p;v++)this.markIfOversizedColumnHeader(v);o.hasOversizedColumnHeadersMarked[s]=!0}}}]),t}(yx);Ss(Z4,Xie),Ss(Z4,A4);const VVe=Z4;function KD(n){return(KD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function zVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function poe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,UVe(r.key),r)}}function UVe(n){var e=function WVe(n,e){if("object"!==KD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==KD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===KD(e)?e:String(e)}var moe=new WeakMap;const goe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.scrollbarHeight;zVe(this,n),moe.set(this,{viewportHeight:t,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:s,calculationType:a,horizontalScrollbarHeight:u}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.isVisibleInTrimmingContainer=!1,this.calculate()}return function jVe(n,e,t){e&&poe(n.prototype,e),t&&poe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var w,t=moe.get(this),r=t.calculationType,i=t.overrideFn,o=t.rowHeightFn,s=t.scrollOffset,a=Math.max(t.scrollOffset,0),u=t.totalRows,c=t.viewportHeight,f=t.horizontalScrollbarHeight||0,p=0,g=!0,v=[],M=0,C=0,L=0;L<u;L++)if(w=o(L),isNaN(w)&&(w=n.DEFAULT_HEIGHT),p<=a&&2!==r&&(this.startRow=L,M=w),p>=a&&p+(2===r?w:0)<=a+c-f&&(null===this.startRow&&(this.startRow=L,M=w),this.endRow=L),v.push(p),p+=w,C=w,2!==r&&(this.endRow=L),p>=a+c-f){g=!1;break}var z=2===r?0:C;if(this.isVisibleInTrimmingContainer=!(s+c-f<(2===r?M:0)||s>v.at(-1)+z),this.endRow===u-1&&g)for(this.startRow=this.endRow;this.startRow>0;){var X=v[this.endRow]+w-v[this.startRow-1];if((X<=c-f||2!==r)&&(this.startRow-=1),X>=c-f)break}1===r&&null!==this.startRow&&i&&i(this),this.startPosition=v[this.startRow],void 0===this.startPosition&&(this.startPosition=null),u<this.endRow&&(this.endRow=u-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}],[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),n}();function XD(n){return(XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function GVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,KVe(r.key),r)}}function KVe(n){var e=function XVe(n,e){if("object"!==XD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==XD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===XD(e)?e:String(e)}var Ax=new WeakMap;const q4=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewportSize,r=e.scrollOffset,i=e.totalItems,o=e.itemSizeFn,s=e.overrideFn,a=e.calculationType,u=e.stretchMode,c=e.stretchingItemWidthFn,f=void 0===c?function(g){return g}:c,p=e.inlineStartOffset;GVe(this,n),Ax.set(this,{viewportWidth:t,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:s,calculationType:a,stretchingColumnWidthFn:f,inlineStartOffset:p}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.isVisibleInTrimmingContainer=!1,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=u,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return function $Ve(n,e,t){e&&yoe(n.prototype,e),t&&yoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"calculate",value:function(){for(var o,t=0,r=!0,i=[],s=0,a=0,u=Ax.get(this),c=u.calculationType,f=u.overrideFn,p=u.scrollOffset,g=Math.max(u.scrollOffset,0),v=u.totalColumns,w=u.viewportWidth,M=g>0?w+1:w,C=0;C<v;C++)if(o=this._getColumnWidth(C),t<=g&&2!==c&&(this.startColumn=C,s=o),t>=g&&t+(2===c?o:0)<=g+M&&(null==this.startColumn&&(this.startColumn=C,s=o),this.endColumn=C),i.push(t),t+=o,a=o,2!==c&&(this.endColumn=C),t>=g+w){r=!1;break}var H=2===c?0:a,V=2===c?s:0;if(this.isVisibleInTrimmingContainer=!(p+w-M<-1*u.inlineStartOffset||p>i.at(-1)+H||-1*u.scrollOffset-u.viewportWidth>-1*V),this.endColumn===v-1&&r)for(this.startColumn=this.endColumn;this.startColumn>0;){var z=i[this.endColumn]+o-i[this.startColumn-1];if((z<=w||2!==c)&&(this.startColumn-=1),z>w)break}1===c&&null!==this.startColumn&&f&&f(this),this.startPosition=i[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),v<this.endColumn&&(this.endColumn=v-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){var r=t;this.totalTargetWidth=r;for(var i=Ax.get(this),o=i.totalColumns,s=0,a=0;a<o;a++){var u=this._getColumnWidth(a),c=i.stretchingColumnWidthFn(void 0,a);"number"==typeof c?r-=c:s+=u}var f=r-s;if("all"===this.stretch&&f>0)this.stretchAllRatio=r/s,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&r!==1/0){var p=this._getColumnWidth(o-1),g=f+p;this.stretchLastWidth=g>=0?g:p}}}},{key:"getStretchedColumnWidth",value:function(t,r){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=this._getStretchedAllColumnWidth(t,r):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=this._getStretchedLastColumnWidth(t)),i}},{key:"_getStretchedAllColumnWidth",value:function(t,r){var i=0,o=Ax.get(this),s=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(r*this.stretchAllRatio),u=o.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===u?a:isNaN(u)?this._getColumnWidth(t):u}if(this.stretchAllColumnsWidth.length===s&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var c=0;c<this.stretchAllColumnsWidth.length;c++)i+=this.stretchAllColumnsWidth[c];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===Ax.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var r=Ax.get(this).columnWidthFn(t);return isNaN(r)&&(r=n.DEFAULT_WIDTH),r}}],[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),n}();function ZD(n){return(ZD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function voe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QVe(r.key),r)}}function QVe(n){var e=function eze(n,e){if("object"!==ZD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ZD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ZD(e)?e:String(e)}const nze=function(){function n(e,t,r,i,o){var s=this;(function qVe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=t,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",function(){s.clientHeight=s.getWorkspaceHeight()})}return function JVe(n,e,t){e&&voe(n.prototype,e),t&&voe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getWorkspaceHeight",value:function(){var r=this.dataAccessObject.topOverlayTrimmingContainer;return r===this.domBindings.rootWindow?this.domBindings.rootDocument.documentElement.clientHeight:Qs(r)>0&&r.clientHeight>0?r.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var w,M,t=this.wtSettings,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,s=this.dataAccessObject.inlineStartOverlayTrimmingContainer,a=i.documentElement.offsetWidth,u=t.getSetting("totalColumns"),c=t.getSetting("preventOverflow"),f=t.getSetting("rtlMode"),p=this.wtTable.TABLE.getBoundingClientRect(),v=a-(f?p.right-a:p.left);if(c)return vs(this.wtTable.wtRootElement);if(w=t.getSetting("freezeOverlays")?Math.min(v,a):Math.min(this.getContainerFillWidth(),v,a),s===o&&u>0&&this.sumColumnWidths(0,u-1)>w)return i.documentElement.clientWidth;if(s!==o&&("scroll"===(M=fD(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",o))||"hidden"===M||"auto"===M))return Math.max(w,s.clientWidth);var C=t.getSetting("stretchH");return"none"!==C&&C?w:Math.max(w,vs(this.wtTable.TABLE))}},{key:"hasVerticalScroll",value:function(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,r){for(var i=0,o=t;o<r;)i+=this.wtTable.getColumnWidth(o),o+=1;return i}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);var i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}},{key:"getWorkspaceOffset",value:function(){return Ja(this.wtTable.TABLE)}},{key:"getColumnHeaderHeight",value:function(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Qs(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}},{key:"getRowHeaderWidth",value:function(){var t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var i=0,o=r.length;i<o;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){var s=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,u=r.length;a<u;a++)s?(this.rowHeaderWidth+=vs(s),s=s.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t}},{key:"createRowsCalculator",value:function(){var o,s,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable;this.rowHeaderWidth=NaN,o=r.getSetting("renderAllRows")&&1===t?1/0:this.getViewportHeight();var u=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset,c=r.getSetting("fixedRowsTop"),f=r.getSetting("fixedRowsBottom"),p=r.getSetting("totalRows");return c&&u>=0&&(u+=a=this.dataAccessObject.topOverlay.sumCellSizes(0,c),o-=a),f&&this.dataAccessObject.bottomOverlay.clone&&(o-=a=this.dataAccessObject.bottomOverlay.sumCellSizes(p-f,p)),s=i.holder.clientHeight===i.holder.offsetHeight?0:Il(this.domBindings.rootDocument),new goe({viewportSize:o,scrollOffset:u,totalItems:r.getSetting("totalRows"),itemSizeFn:function(v){return i.getRowHeight(v)},overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,scrollbarHeight:s})}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.wtSettings,i=this.wtTable,o=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;var a=r.getSetting("fixedColumnsStart");if(a&&s>=0){var u=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,a);s+=u,o-=u}return i.holder.clientWidth!==i.holder.offsetWidth&&(o-=Il(this.domBindings.rootDocument)),new q4({viewportSize:o,scrollOffset:s,totalItems:r.getSetting("totalColumns"),itemSizeFn:function(f){return i.getColumnWidth(f)},overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,stretchMode:r.getSetting("stretchH"),stretchingItemWidthFn:function(f,p){return r.getSetting("onBeforeStretchingColumnWidth",f,p)},inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t;if(r){var i=this.createRowsCalculator(2),o=this.createColumnsCalculator(2);this.areAllProposedVisibleRowsAlreadyRendered(i)&&this.areAllProposedVisibleColumnsAlreadyRendered(o)||(r=!1)}return r||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,r}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(!this.rowsVisibleCalculator)return!1;var r=t.startRow,i=t.endRow;if(null===r&&null===i)return!t.isVisibleInTrimmingContainer;var s=this.rowsRenderCalculator,a=s.startRow,u=s.endRow;return!(r<a||r===a&&r>0||i>u||i===u&&i<this.wtSettings.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(!this.columnsVisibleCalculator)return!1;var r=t.startColumn,i=t.endColumn;if(null===r&&null===i)return!t.isVisibleInTrimmingContainer;var s=this.columnsRenderCalculator,a=s.startColumn,u=s.endColumn;return!(r<a||r===a&&r>0||i>u||i===u&&i<this.wtSettings.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){no(this.hasOversizedColumnHeadersMarked,function(t,r,i){i[r]=void 0})}}]),n}();function Ox(n){return(Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _oe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oze(r.key),r)}}function oze(n){var e=function sze(n,e){if("object"!==Ox(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Ox(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Ox(e)?e:String(e)}function J4(n,e){return(J4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function uze(n,e){if(e&&("object"===Ox(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Q4(n)}function Q4(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rF(n){return(rF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dze=function(n){!function aze(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&J4(n,e)}(t,n);var e=function lze(n){var e=function cze(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rF(n);if(e){var o=rF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uze(this,i)}}(t);function t(r,i){var o;!function rze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(o=e.call(this,r,new AVe(i))).wtSettings.getSetting("facade",Q4(o));return o.wtTable=new VVe(o.getTableDao(),s,o.domBindings,o.wtSettings),o.wtViewport=new nze(o.getViewportDao(),o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.selections=o.wtSettings.getSetting("selections"),o.wtEvent=new Yre(s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable,o.selections),o.wtOverlays=new EVe(Q4(o),s,o.domBindings,o.wtSettings,o.eventManager,o.wtTable),o.exportSettingsAsClassNames(),o.findOriginalHeaders(),o}return function ize(n,e,t){e&&_oe(n.prototype,e),t&&_oe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"exportSettingsAsClassNames",value:function(){var i=this,s=[],a=[];no({rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},function(u,c){i.wtSettings.getSetting(c).length&&a.push(u),s.push(u)}),Bi(this.wtTable.wtRootElement.parentNode,s),Dn(this.wtTable.wtRootElement.parentNode,a)}},{key:"getViewportDao",value:function(){var i=this;return{get wot(){return i},get topOverlayTrimmingContainer(){return i.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return i.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return i.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return i.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return i.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return i.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return i.wtOverlays.topOverlay},get inlineStartOverlay(){return i.wtOverlays.inlineStartOverlay},get bottomOverlay(){return i.wtOverlays.bottomOverlay}}}}]),t}(N4);function qD(n){return(qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function boe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pze(r.key),r)}}function pze(n){var e=function mze(n,e){if("object"!==qD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==qD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===qD(e)?e:String(e)}var gze=function(){function n(e){(function fze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),e instanceof N4?this._wot=e:this._initFromSettings(e)}return function hze(n,e,t){e&&boe(n.prototype,e),t&&boe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_initFromSettings",value:function(t){t.facade=function(r){var i=new n(r);return function(){return i}},this._wot=new dze(t.table,t)}},{key:"guid",get:function(){return this._wot.guid}},{key:"rootDocument",get:function(){return this._wot.domBindings.rootDocument}},{key:"rootWindow",get:function(){return this._wot.domBindings.rootWindow}},{key:"wtSettings",get:function(){return this._wot.wtSettings}},{key:"cloneSource",get:function(){return this._wot.cloneSource}},{key:"cloneOverlay",get:function(){return this._wot.cloneOverlay}},{key:"selections",get:function(){return this._wot.selections}},{key:"wtViewport",get:function(){return this._wot.wtViewport}},{key:"wtOverlays",get:function(){return this._wot.wtOverlays}},{key:"wtTable",get:function(){return this._wot.wtTable}},{key:"wtEvent",get:function(){return this._wot.wtEvent}},{key:"wtScroll",get:function(){return this._wot.wtScroll}},{key:"drawn",get:function(){return this._wot.drawn},set:function(t){this._wot.drawn=t}},{key:"drawInterrupted",get:function(){return this._wot.drawInterrupted},set:function(t){this._wot.drawInterrupted=t}},{key:"lastMouseOver",get:function(){return this._wot.lastMouseOver},set:function(t){this._wot.lastMouseOver=t}},{key:"momentumScrolling",get:function(){return this._wot.momentumScrolling},set:function(t){this._wot.momentumScrolling=t}},{key:"touchApplied",get:function(){return this._wot.touchApplied},set:function(t){this._wot.touchApplied=t}},{key:"domBindings",get:function(){return this._wot.domBindings}},{key:"eventListeners",get:function(){return this._wot.eventListeners},set:function(t){this._wot.eventListeners=t}},{key:"eventManager",get:function(){return this._wot.eventManager}},{key:"createCellCoords",value:function(t,r){return this._wot.createCellCoords(t,r)}},{key:"createCellRange",value:function(t,r,i){return this._wot.createCellRange(t,r,i)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(t),this}},{key:"getCell",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(t,r)}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wot.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return this._wot.getViewport()}},{key:"getOverlayName",value:function(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){return this._wot.exportSettingsAsClassNames()}},{key:"update",value:function(t,r){return this._wot.wtSettings.update(t,r),this}},{key:"getSetting",value:function(t,r,i,o,s){return this._wot.wtSettings.getSetting(t,r,i,o,s)}},{key:"hasSetting",value:function(t){return this._wot.wtSettings.hasSetting(t)}},{key:"destroy",value:function(){this._wot.destroy()}}]),n}();function woe(n){var e=n.isShiftKey,t=n.isLeftClick,r=n.isRightClick,i=n.coords,o=n.selection,s=n.controller,a=n.cellCoordsFactory,u=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),f=o.isSelectedByRowHeader();if(e&&u)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(c||f)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!s.column?o.setRangeEnd(a(u.to.row,i.col)):f&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,u.to.col)):(!c&&!f&&i.col<0||c&&i.col<0)&&!s.row?o.selectRows(Math.max(u.from.row,0),i.row,i.col):(!c&&!f&&i.row<0||f&&i.row<0)&&!s.column&&o.selectColumns(Math.max(u.from.col,0),i.col,i.row);else{var p=!o.inInSelection(i),g=t||r&&p;i.row<0&&i.col>=0&&!s.column?g&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?g&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?g&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}var vze=new Map([["mousedown",woe],["mouseover",function yze(n){var t=n.coords,r=n.selection,i=n.controller,o=n.cellCoordsFactory;if(n.isLeftClick){var s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),u=r.tableProps.countCols(),c=r.tableProps.countRows();a&&!i.column?r.setRangeEnd(o(c-1,t.col)):s&&!i.row?r.setRangeEnd(o(t.row,u-1)):i.cell||r.setRangeEnd(t)}}],["touchstart",woe]]);function Soe(n,e){var t=e.coords,r=e.selection,i=e.controller,o=e.cellCoordsFactory;vze.get(n.type)({coords:t,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:n.shiftKey,isLeftClick:n4(n)||"touchstart"===n.type,isRightClick:tw(n)})}var Moe=new WeakMap,eY=Symbol("rootInstance");function _ze(n){Moe.set(n,!0)}function bze(n){return n===eY}function tY(n){return Moe.has(n)}function JD(n){return(JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function QD(n,e){return function Mze(n){if(Array.isArray(n))return n}(n)||function Sze(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||Coe(n,e)||function wze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xoe(n){return function Eze(n){if(Array.isArray(n))return nY(n)}(n)||function Cze(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Coe(n)||function xze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Coe(n,e){if(n){if("string"==typeof n)return nY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nY(n,e)}}function nY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Eoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Roe(r.key),r)}}function Toe(n,e,t){(function Dze(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function gv(n,e,t){return(e=Roe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Roe(n){var e=function Aze(n,e){if("object"!==JD(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==JD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===JD(e)?e:String(e)}function Doe(n,e){return function Oze(n,e){return e.get?e.get.call(n):e.value}(n,Ooe(n,e,"get"))}function Aoe(n,e,t){return function kze(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Ooe(n,e,"set"),t),t}function Ooe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var aw=new WeakMap,rY=new WeakMap,iY=new WeakMap;const Lze=function(){function n(e){(function Tze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),gv(this,"instance",void 0),gv(this,"eventManager",void 0),gv(this,"settings",void 0),gv(this,"THEAD",void 0),gv(this,"TBODY",void 0),gv(this,"_wt",void 0),gv(this,"activeWt",void 0),Toe(this,rY,{writable:!0,value:0}),Toe(this,iY,{writable:!0,value:0}),gv(this,"postponedAdjustElementsSize",!1),this.instance=e,this.eventManager=new ea(this.instance),this.settings=this.instance.getSettings(),aw.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}return function Rze(n,e,t){e&&Eoe(n.prototype,e),t&&Eoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(t)}},{key:"getCellAtCoords",value:function(t,r){var i=this._wt.getCell(t,r);return i<0?null:i}},{key:"scrollViewport",value:function(t,r,i,o,s){return this._wt.scrollViewport(t,r,i,o,s)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}},{key:"createElements",value:function(){var t=aw.get(this),r=this.instance,i=r.rootElement,o=r.rootDocument,s=i.getAttribute("style");s&&i.setAttribute("data-originalstyle",s),Dn(i,"handsontable"),t.table=o.createElement("TABLE"),Dn(t.table,"htCore"),this.instance.getSettings().tableClassName&&Dn(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,r=aw.get(this),i=this.instance,o=i.rootElement,s=i.rootDocument,a=i.selection,u=s.documentElement;this.eventManager.addEventListener(o,"mousedown",function(c){if(r.selectionMouseDown=!0,!t.isTextSelectionAllowed(c.target)){var f=t.instance.rootWindow;tre(f),c.preventDefault(),f.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){r.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(c){r.selectionMouseDown&&!t.isTextSelectionAllowed(c.target)&&(t.settings.fragmentSelection&&tre(t.instance.rootWindow),c.preventDefault())}),this.eventManager.addEventListener(u,"keyup",function(c){a.isInProgress()&&!c.shiftKey&&a.finish()}),this.eventManager.addEventListener(u,"mouseup",function(c){a.isInProgress()&&n4(c)&&a.finish(),r.mouseDown=!1,(qW(s.activeElement)||!a.isSelected()&&!a.isSelectedByAnyHeader()&&!o.contains(c.target)&&!tw(c))&&t.instance.unlisten()}),this.eventManager.addEventListener(u,"contextmenu",function(c){a.isInProgress()&&tw(c)&&(a.finish(),r.mouseDown=!1)}),this.eventManager.addEventListener(u,"touchend",function(){a.isInProgress()&&a.finish(),r.mouseDown=!1}),this.eventManager.addEventListener(u,"mousedown",function(c){var f=c.target,p=c.x||c.clientX,g=c.y||c.clientY,v=c.target;if(!r.mouseDown&&o&&t.instance.view){var w=t.instance.view._wt.wtTable.holder;if(v===w){var M=Il(s);if(s.elementFromPoint(p+M,g)!==w||s.elementFromPoint(p,g+M)!==w)return}else for(;v!==u;){if(null===v){if(c.isTargetWebComponent)break;return}if(v===o)return;v=v.parentNode}("function"==typeof t.settings.outsideClickDeselects?t.settings.outsideClickDeselects(f):t.settings.outsideClickDeselects)?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(r.table,"selectstart",function(c){t.settings.fragmentSelection||b2(c.target)||c.preventDefault()})}},{key:"translateFromRenderableToVisualCoords",value:function(t){var r;return(r=this.instance)._createCellCoords.apply(r,xoe(this.translateFromRenderableToVisualIndex(t.row,t.col)))}},{key:"translateFromRenderableToVisualIndex",value:function(t,r){var i=t>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t,o=r>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(r):r;return null===i&&(i=t),null===o&&(o=r),[i,o]}},{key:"countRenderableIndexes",value:function(t,r){var i=Math.min(t.getNotTrimmedIndexesLength(),r),o=t.getNearestNotHiddenIndex(i-1,-1);return null===o?0:t.getRenderableFromVisualIndex(o)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(t,r,i,o){if(isNaN(t)||t<0)return 0;var s=i.getNearestNotHiddenIndex(t,r),a=i.getRenderableFromVisualIndex(s);if(!Number.isInteger(a))return 0;var u=0;return r<0?u=a+1:r>0&&(u=o-a),u}},{key:"countNotHiddenFixedColumnsStart",value:function(){var t=this.instance.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}},{key:"countNotHiddenFixedRowsTop",value:function(){var t=this.instance.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}},{key:"countNotHiddenFixedRowsBottom",value:function(){var t=this.instance.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}},{key:"isMainTableNotFullyCoveredByOverlays",value:function(){var t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.instance.countRenderedRows()>t&&this.instance.countRenderedCols()>r}},{key:"initializeWalkontable",value:function(){var t=this,r=aw.get(this),i={rtlMode:this.instance.isRtl(),externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r.table,isDataViewInstance:function(){return tY(t.instance)},preventOverflow:function(){return t.settings.preventOverflow},preventWheel:function(){return t.settings.preventWheel},stretchH:function(){return t.settings.stretchH},data:function(f,p){var g;return(g=t.instance).getDataAtCell.apply(g,xoe(t.translateFromRenderableToVisualIndex(f,p)))},totalRows:function(){return t.countRenderableRows()},totalColumns:function(){return t.countRenderableColumns()},fixedColumnsStart:function(){return t.countNotHiddenFixedColumnsStart()},fixedRowsTop:function(){return t.countNotHiddenFixedRowsTop()},fixedRowsBottom:function(){return t.countNotHiddenFixedRowsBottom()},shouldRenderInlineStartOverlay:function(){return t.settings.fixedColumnsStart>0||i.rowHeaders().length>0},shouldRenderTopOverlay:function(){return t.settings.fixedRowsTop>0||i.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return t.settings.fixedRowsBottom>0},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var f=[];return t.instance.hasRowHeaders()&&f.push(function(p,g){var v=p>=0?t.instance.rowIndexMapper.getVisualFromRenderableIndex(p):p;t.appendRowHeader(v,g)}),t.instance.runHooks("afterGetRowHeaderRenderers",f),Aoe(t,iY,f.length),f},columnHeaders:function(){var f=[];return t.instance.hasColHeaders()&&f.push(function(p,g){var v=p>=0?t.instance.columnIndexMapper.getVisualFromRenderableIndex(p):p;t.appendColHeader(v,g)}),t.instance.runHooks("afterGetColumnHeaderRenderers",f),Aoe(t,rY,f.length),f},columnWidth:function(f){var p=t.instance.columnIndexMapper.getVisualFromRenderableIndex(f);return t.instance.getColWidth(null===p?f:p)},rowHeight:function(f){var p=t.instance.rowIndexMapper.getVisualFromRenderableIndex(f);return t.instance.getRowHeight(null===p?f:p)},cellRenderer:function(f,p,g){var w=QD(t.translateFromRenderableToVisualIndex(f,p),2),M=w[0],C=w[1],L=t.instance.runHooks("modifyGetCellCoords",M,C),H=M,V=C;if(Array.isArray(L)){var z=QD(L,2);H=z[0],V=z[1]}var X=t.instance.getCellMeta(H,V),re=t.instance.colToProp(V),me=t.instance.getDataAtRowProp(H,re);t.instance.hasHook("beforeValueRender")&&(me=t.instance.runHooks("beforeValueRender",me,X)),t.instance.runHooks("beforeRenderer",g,M,C,re,me,X),t.instance.getCellRenderer(X)(t.instance,g,M,C,re,me,X),t.instance.runHooks("afterRenderer",g,M,C,re,me,X)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){t.instance&&!t.instance.isDestroyed&&t.instance.refreshDimensions()},onContainerElementResize:function(){t.instance&&!t.instance.isDestroyed&&t.instance.refreshDimensions()},onCellMouseDown:function(f,p,g,v){var w=t.translateFromRenderableToVisualCoords(p),M={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=v,r.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",f,w,g,M),!lx(f)&&(Soe(f,{coords:w,selection:t.instance.selection,controller:M,cellCoordsFactory:function(L,H){return t.instance._createCellCoords(L,H)}}),t.instance.runHooks("afterOnCellMouseDown",f,w,g),t.activeWt=t._wt)},onCellContextMenu:function(f,p,g,v){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=v,r.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",f,w,g),!lx(f)&&(t.instance.runHooks("afterOnCellContextMenu",f,w,g),t.activeWt=t._wt)},onCellMouseOut:function(f,p,g,v){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=v,t.instance.runHooks("beforeOnCellMouseOut",f,w,g),!lx(f)&&(t.instance.runHooks("afterOnCellMouseOut",f,w,g),t.activeWt=t._wt)},onCellMouseOver:function(f,p,g,v){var w=t.translateFromRenderableToVisualCoords(p),M={row:!1,column:!1,cell:!1};t.activeWt=v,t.instance.runHooks("beforeOnCellMouseOver",f,w,g,M),!lx(f)&&(r.mouseDown&&Soe(f,{coords:w,selection:t.instance.selection,controller:M,cellCoordsFactory:function(L,H){return t.instance._createCellCoords(L,H)}}),t.instance.runHooks("afterOnCellMouseOver",f,w,g),t.activeWt=t._wt)},onCellMouseUp:function(f,p,g,v){var w=t.translateFromRenderableToVisualCoords(p);t.activeWt=v,t.instance.runHooks("beforeOnCellMouseUp",f,w,g),!lx(f)&&!t.instance.isDestroyed&&(t.instance.runHooks("afterOnCellMouseUp",f,w,g),t.activeWt=t._wt)},onCellCornerMouseDown:function(f){f.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",f)},onCellCornerDblClick:function(f){f.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",f)},beforeDraw:function(f,p){return t.beforeRender(f,p)},onDraw:function(f){return t.afterRender(f)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(f,p,g){var v=t.instance.rowIndexMapper,w=v.getVisualFromRenderableIndex(f),M=t.instance.runHooks("beforeHighlightingRowHeader",w,p,g);return v.getRenderableFromVisualIndex(v.getNearestNotHiddenIndex(M,1))},onBeforeHighlightingColumnHeader:function(f,p,g){var v=t.instance.columnIndexMapper,w=v.getVisualFromRenderableIndex(f),M=t.instance.runHooks("beforeHighlightingColumnHeader",w,p,g);return v.getRenderableFromVisualIndex(v.getNearestNotHiddenIndex(M,1))},onAfterDrawSelection:function(f,p,g){var v,M=QD(t.translateFromRenderableToVisualIndex(f,p),2),C=M[0],L=M[1],H=t.instance.selection.getSelectedRange(),V=H.size();if(V>0){var X=H.peekByIndex((null!=g?g:0)+1-V);v=[X.from.row,X.from.col,X.to.row,X.to.col]}return t.instance.runHooks("afterDrawSelection",C,L,v,g)},onBeforeDrawBorders:function(f,p){var g=QD(f,4),w=g[1],M=g[2],C=g[3],L=[t.instance.rowIndexMapper.getVisualFromRenderableIndex(g[0]),t.instance.columnIndexMapper.getVisualFromRenderableIndex(w),t.instance.rowIndexMapper.getVisualFromRenderableIndex(M),t.instance.columnIndexMapper.getVisualFromRenderableIndex(C)];return t.instance.runHooks("beforeDrawBorders",L,p)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(f,p){var g=t.instance.columnIndexMapper.getVisualFromRenderableIndex(p);return t.instance.runHooks("beforeStretchingColumnWidth",f,g)},onModifyRowHeaderWidth:function(f){return t.instance.runHooks("modifyRowHeaderWidth",f)},onModifyGetCellCoords:function(f,p,g){var v=t.instance.rowIndexMapper,w=t.instance.columnIndexMapper,M=p>=0?w.getVisualFromRenderableIndex(p):p,C=f>=0?v.getVisualFromRenderableIndex(f):f,L=t.instance.runHooks("modifyGetCellCoords",C,M,g);if(Array.isArray(L)){var H=QD(L,4),V=H[0],z=H[1],X=H[2],re=H[3];return[V>=0?v.getRenderableFromVisualIndex(v.getNearestNotHiddenIndex(V,1)):V,z>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(z,1)):z,X>=0?v.getRenderableFromVisualIndex(v.getNearestNotHiddenIndex(X,-1)):X,re>=0?w.getRenderableFromVisualIndex(w.getNearestNotHiddenIndex(re,-1)):re]}},viewportRowCalculatorOverride:function(f){var p=t.settings.viewportRowRenderingOffset;if("auto"===p&&t.settings.fixedRowsTop&&(p=10),p>0||"auto"===p){var g=t.countRenderableRows(),v=f.startRow,w=f.endRow;if("number"==typeof p)f.startRow=Math.max(v-p,0),f.endRow=Math.min(w+p,g-1);else if("auto"===p){var M=Math.ceil(w/g*12);f.startRow=Math.max(v-M,0),f.endRow=Math.min(w+M,g-1)}}t.instance.runHooks("afterViewportRowCalculatorOverride",f)},viewportColumnCalculatorOverride:function(f){var p=t.settings.viewportColumnRenderingOffset;if("auto"===p&&t.settings.fixedColumnsStart&&(p=10),p>0||"auto"===p){var g=t.countRenderableColumns(),v=f.startColumn,w=f.endColumn;if("number"==typeof p&&(f.startColumn=Math.max(v-p,0),f.endColumn=Math.min(w+p,g-1)),"auto"===p){var M=Math.ceil(w/g*6);f.startColumn=Math.max(v-M,0),f.endColumn=Math.min(w+M,g-1)}}t.instance.runHooks("afterViewportColumnCalculatorOverride",f)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var f=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||f}};this.instance.runHooks("beforeInitWalkontable",i),this._wt=new gze(i),this.activeWt=this._wt;var o=this._wt.wtTable.spreader,s=this.instance.rootElement.getBoundingClientRect();this.setLastSize(s.width,s.height),this.eventManager.addEventListener(o,"mousedown",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(o,"contextmenu",function(c){c.target===o&&3===c.which&&c.stopPropagation()}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t._wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(b2(t))return!0;var r=qb(t,this.instance.view._wt.wtTable.spreader);return!!(!0===this.settings.fragmentSelection&&r||"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return aw.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t,r;return null!==(t=null===(r=this.instance.getSelectedRangeLast())||void 0===r?void 0:r.isSingle())&&void 0!==t&&t}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,r){t&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,r)}},{key:"afterRender",value:function(t){t&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;if(!Ai(i,"relative"))return cp(r),void this.appendRowHeader(t,r);this.updateCellHeader(i.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,s=o.rootDocument,a=o.getRowHeader,u=s.createElement("div"),c=s.createElement("span");u.className="relative",c.className="rowHeader",this.updateCellHeader(c,t,a),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetRowHeader",t,r)}},{key:"appendColHeader",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.instance.getColHeader,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r.firstChild){var s=r.firstChild;Ai(s,"relative")?this.updateCellHeader(s.querySelector(".colHeader"),t,i,o):(cp(r),this.appendColHeader(t,r,i,o))}else{var a=this.instance.rootDocument,u=a.createElement("div"),c=a.createElement("span");u.className="relative",c.className="colHeader",this.updateCellHeader(c,t,i,o),u.appendChild(c),r.appendChild(u)}this.instance.runHooks("afterGetColHeader",t,r,o)}},{key:"updateCellHeader",value:function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=r,a=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(Ai(t,"colHeader")?s=a.wtTable.columnFilter.sourceToRendered(r):Ai(t,"rowHeader")&&(s=a.wtTable.rowFilter.sourceToRendered(r))),s>-1?ix(t,i(r,o)):(Qb(t,String.fromCharCode(160)),Dn(t,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(t){var i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}},{key:"maximumVisibleElementHeight",value:function(t){var i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}},{key:"setLastSize",value:function(t,r){var i=aw.get(this),o=[t,r];i.lastWidth=o[0],i.lastHeight=o[1]}},{key:"getLastSize",value:function(){var t=aw.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"getFirstFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleRow())}},{key:"getLastFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleRow())}},{key:"getFirstFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleColumn())}},{key:"getLastFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleColumn())}},{key:"getColumnHeadersCount",value:function(){return Doe(this,rY)}},{key:"getRowHeadersCount",value:function(){return Doe(this,iY)}},{key:"destroy",value:function(){this._wt.destroy(),this.eventManager.destroy()}}]),n}();function oY(n){return(oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var sY="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length;function aY(n){for(var r,e=n+1,t="";e>0;)r=(e-1)%sY,t=String.fromCharCode(65+r)+t,e=parseInt((e-r)/sY,10);return t}function Poe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n,r=[];return(!Array.isArray(n)||!Array.isArray(n[0]))&&(t=[n]),t.forEach(function(i,o){Array.isArray(i)?i.forEach(function(s,a){r.push([o+e,a,s])}):Object.keys(i).forEach(function(s){r.push([o+e,s,i[s]])})}),r}function Loe(n){var e=0;return Array.isArray(n)&&(n[0]&&Array.isArray(n[0])?e=n[0].length:n[0]&&to(n[0])&&(e=VW(n[0]))),e}function eA(n){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Fze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ioe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Bze(r.key),r)}}function Bze(n){var e=function Vze(n,e){if("object"!==eA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==eA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===eA(e)?e:String(e)}const jze=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Fze(this,n),this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return function Hze(n,e,t){e&&Ioe(n.prototype,e),t&&Ioe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"modifyRowData",value:function(t){var r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),void 0===r||Number.isInteger(r)?this.data[t]:r}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,t):this.data}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var r=this,i=[];return ut(this.data,function(o,s){var a=r.getAtCell(s,t);i.push(a)}),i}},{key:"getAtRow",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=void 0===r&&void 0===i,u=null,c=null;if(u=this.modifyRowData(t),Array.isArray(u))c=[],a?u.forEach(function(g,v){c[v]=o.getAtPhysicalCell(t,v,u)}):jr(r,i,function(g){c[g-r]=o.getAtPhysicalCell(t,g,u)});else if(to(u)||Es(u))if(c=s?[]:{},!a||s){var f=0,p=this.countFirstRowKeys()-1;jr(f,p,function(g){var v=o.colToProp(g);if(g>=(r||f)&&g<=(i||p)&&!Number.isInteger(v)){var w=o.getAtPhysicalCell(t,v,u);s?c.push(w):BW(c,v,w)}})}else no(u,function(g,v){BW(c,v,o.getAtPhysicalCell(t,v,u))});return c}},{key:"setAtCell",value:function(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var o=nx(i);this.hot.runHooks("modifySourceData",t,r,o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(r)?this.data[t][r]=i:BW(this.data[t],r,i)}}},{key:"getAtPhysicalCell",value:function(t,r,i){var o=null;if(i&&(o="string"==typeof r?function uIe(n,e){var t=e.split("."),r=n;return no(t,function(i){if(void 0===(r=r[i]))return r=void 0,!1}),r}(i,r):"function"==typeof r?r(i):i[r]),this.hot.hasHook("modifySourceData")){var s=nx(o);this.hot.runHooks("modifySourceData",t,r,s,"get"),s.isTouched()&&(o=s.value)}return o}},{key:"getAtCell",value:function(t,r){var i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}},{key:"getByRange",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1,a=null,u=null,c=null,f=null;null===r||null===i?(s=!0,a=0,c=this.countRows()-1):(a=Math.min(r.row,i.row),u=Math.min(r.col,i.col),c=Math.max(r.row,i.row),f=Math.max(r.col,i.col));var p=[];return jr(a,c,function(g){p.push(s?t.getAtRow(g,void 0,void 0,o):t.getAtRow(g,u,f,o))}),p}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}},{key:"countFirstRowKeys",value:function(){return Loe(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),n}();b(1074),b(9202);var Noe={_localHooks:Object.create(null),addLocalHook:function(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks:function(e,t,r,i,o,s,a){if(this._localHooks[e])for(var u=this._localHooks[e].length,c=0;c<u;c++)e4(this._localHooks[e][c],this,t,r,i,o,s,a)},clearLocalHooks:function(){return this._localHooks={},this}};Um(Noe,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1});const Pc=Noe;function tA(n){return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Wze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Foe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Gze(r.key),r)}}function Gze(n){var e=function $ze(n,e){if("object"!==tA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==tA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===tA(e)?e:String(e)}var lw=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Wze(this,n),this.indexedValues=[],this.initValueOrFn=e}return function Yze(n,e,t){e&&Foe(n.prototype,e),t&&Foe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(t){var r=this.indexedValues;if(t<r.length)return r[t]}},{key:"setValues",value:function(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(t,r){return t<this.indexedValues.length&&(this.indexedValues[t]=r,this.runLocalHooks("change"),!0)}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Es(this.initValueOrFn)?jr(r-1,function(i){return t.indexedValues.push(t.initValueOrFn(i))}):jr(r-1,function(){return t.indexedValues.push(t.initValueOrFn)}),this.runLocalHooks("change")}},{key:"init",value:function(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}]),n}();function lY(n){return function qze(n){if(Array.isArray(n))return uY(n)}(n)||function Zze(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Xze(n,e){if(n){if("string"==typeof n)return uY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uY(n,e)}}(n)||function Kze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cY(n,e,t,r){var i=t.length?t[0]:void 0;return[].concat(lY(n.slice(0,i)),lY(t.map(function(o,s){return Es(r)?r(o,s):r})),lY(void 0===i?[]:n.slice(i)))}function dY(n,e){return uf(n,function(t,r){return!1===e.includes(r)})}function kx(n){return(kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Jze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Hoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eje(r.key),r)}}function eje(n){var e=function tje(n,e){if("object"!==kx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==kx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===kx(e)?e:String(e)}function nA(){return nA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=nje(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},nA.apply(this,arguments)}function nje(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=uw(n)););return n}function fY(n,e){return(fY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function oje(n,e){if(e&&("object"===kx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function sje(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function uw(n){return(uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Ss(lw,Pc);var yv=function(n){!function rje(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fY(n,e)}(t,n);var e=function ije(n){var e=function aje(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uw(n);if(e){var o=uw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oje(this,i)}}(t);function t(){return Jze(this,t),e.apply(this,arguments)}return function Qze(n,e,t){e&&Hoe(n.prototype,e),t&&Hoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){this.indexedValues=cY(this.indexedValues,0,o,this.initValueOrFn),nA(uw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=dY(this.indexedValues,i),nA(uw(t.prototype),"remove",this).call(this,i)}}]),t}(lw);function Px(n){return(Px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Boe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cje(r.key),r)}}function cje(n){var e=function dje(n,e){if("object"!==Px(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Px(e)?e:String(e)}function hY(n,e){return(hY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function pje(n,e){if(e&&("object"===Px(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function mje(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function iF(n){return(iF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var oF=function(n){!function fje(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hY(n,e)}(t,n);var e=function hje(n){var e=function gje(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=iF(n);if(e){var o=iF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pje(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return lje(this,t),e.call(this,r)}return function uje(n,e,t){e&&Boe(n.prototype,e),t&&Boe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getHiddenIndexes",value:function(){return Za(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(yv);function pY(n){return function bje(n){if(Array.isArray(n))return mY(n)}(n)||function _je(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function vje(n,e){if(n){if("string"==typeof n)return mY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mY(n,e)}}(n)||function yje(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gY(n,e,t){return[].concat(pY(n.slice(0,e)),pY(t),pY(n.slice(e)))}function rA(n,e){return uf(n,function(t){return!1===e.includes(t)})}function yY(n,e){return eo(n,function(t){return t-e.filter(function(r){return r<t}).length})}function vY(n,e){var t=e[0],r=e.length;return eo(n,function(i){return i>=t?i+r:i})}function Lx(n){return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _Y(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Eje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Voe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,joe(r.key),r)}}function Gm(){return Gm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Rje(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Gm.apply(this,arguments)}function Rje(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ph(n)););return n}function bY(n,e){return(bY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Oje(n,e){if(e&&("object"===Lx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zoe(n)}function zoe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ph(n){return(ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Pje(n,e,t){return(e=joe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function joe(n){var e=function Lje(n,e){if("object"!==Lx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Lx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Lx(e)?e:String(e)}var sF=function(n){!function Dje(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bY(n,e)}(t,n);var e=function Aje(n){var e=function kje(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ph(n);if(e){var o=ph(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Oje(this,i)}}(t);function t(){var r;Eje(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pje(zoe(r=e.call.apply(e,[this].concat(o))),"orderOfIndexes",[]),r}return function Tje(n,e,t){e&&Voe(n.prototype,e),t&&Voe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValues",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return i.indexedValues[o]})}},{key:"setValues",value:function(i){this.orderOfIndexes=function wje(n){return function Cje(n){if(Array.isArray(n))return _Y(n)}(n)||function xje(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Mje(n,e){if(n){if("string"==typeof n)return _Y(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _Y(n,e)}}(n)||function Sje(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(i.length).keys()),Gm(ph(t.prototype),"setValues",this).call(this,i)}},{key:"setValueAtIndex",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return i<this.indexedValues.length&&(this.indexedValues[i]=o,!1===this.orderOfIndexes.includes(i)&&this.orderOfIndexes.splice(s,0,i),this.runLocalHooks("change"),!0)}},{key:"clearValue",value:function(i){this.orderOfIndexes=rA(this.orderOfIndexes,[i]),Es(this.initValueOrFn)?Gm(ph(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn(i)):Gm(ph(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,Gm(ph(t.prototype),"setDefaultValues",this).call(this,i)}},{key:"insert",value:function(i,o){this.indexedValues=cY(this.indexedValues,0,o,this.initValueOrFn),this.orderOfIndexes=vY(this.orderOfIndexes,o),Gm(ph(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=dY(this.indexedValues,i),this.orderOfIndexes=rA(this.orderOfIndexes,i),this.orderOfIndexes=yY(this.orderOfIndexes,i),Gm(ph(t.prototype),"remove",this).call(this,i)}},{key:"getEntries",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return[o,i.getValueAtIndex(o)]})}}]),t}(lw);function Ix(n){return(Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ije(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Uoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fje(r.key),r)}}function Fje(n){var e=function Hje(n,e){if("object"!==Ix(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Ix(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Ix(e)?e:String(e)}function wY(n,e){return(wY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function zje(n,e){if(e&&("object"===Ix(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function jje(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function aF(n){return(aF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var iA=function(n){!function Bje(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wY(n,e)}(t,n);var e=function Vje(n){var e=function Uje(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=aF(n);if(e){var o=aF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zje(this,i)}}(t);function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ije(this,t),e.call(this,r)}return function Nje(n,e,t){e&&Uoe(n.prototype,e),t&&Uoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getTrimmedIndexes",value:function(){return Za(this.getValues(),function(i,o,s){return o&&i.push(s),i},[])}}]),t}(yv),Woe=new Map([["hiding",oF],["index",lw],["linkedPhysicalIndexToValue",sF],["physicalIndexToValue",yv],["trimming",iA]]);function Nx(n){return(Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Yoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$je(r.key),r)}}function $je(n){var e=function Kje(n,e){if("object"!==Nx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Nx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Nx(e)?e:String(e)}function oA(){return oA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Xje(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},oA.apply(this,arguments)}function Xje(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=cw(n)););return n}function SY(n,e){return(SY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Jje(n,e){if(e&&("object"===Nx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Qje(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function cw(n){return(cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Goe=function(n){!function Zje(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&SY(n,e)}(t,n);var e=function qje(n){var e=function eUe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=cw(n);if(e){var o=cw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Jje(this,i)}}(t);function t(){return function Yje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function Gje(n,e,t){e&&Yoe(n.prototype,e),t&&Yoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=vY(this.indexedValues,o);this.indexedValues=gY(s,i,o),oA(cw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=rA(this.indexedValues,i);this.indexedValues=yY(o,i),oA(cw(t.prototype),"remove",this).call(this,i)}}]),t}(lw);function sA(n){return(sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $oe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rUe(r.key),r)}}function rUe(n){var e=function iUe(n,e){if("object"!==sA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==sA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===sA(e)?e:String(e)}var xY=function(){function n(){(function tUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.collection=new Map}return function nUe(n,e,t){e&&$oe(n.prototype,e),t&&$oe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"register",value:function(t,r){var i=this;!1===this.collection.has(t)&&(this.collection.set(t,r),r.addLocalHook("change",function(){return i.runLocalHooks("change",r)}))}},{key:"unregister",value:function(t){var r=this.collection.get(t);Cr(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r))}},{key:"unregisterAll",value:function(){var t=this;this.collection.forEach(function(r,i){return t.unregister(i)}),this.collection.clear()}},{key:"get",value:function(t){return Ms(t)?Array.from(this.collection.values()):this.collection.get(t)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(t){this.collection.forEach(function(r){r.remove(t)})}},{key:"insertToEvery",value:function(t,r){this.collection.forEach(function(i){i.insert(t,r)})}},{key:"initEvery",value:function(t){this.collection.forEach(function(r){r.init(t)})}}]),n}();function Fx(n){return(Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Koe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aUe(r.key),r)}}function aUe(n){var e=function lUe(n,e){if("object"!==Fx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Fx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Fx(e)?e:String(e)}function CY(n,e){return(CY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function dUe(n,e){if(e&&("object"===Fx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function fUe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function lF(n){return(lF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Ss(xY,Pc);var Xoe=function(n){!function uUe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CY(n,e)}(t,n);var e=function cUe(n){var e=function hUe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=lF(n);if(e){var o=lF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dUe(this,i)}}(t);function t(r,i){var o;return function oUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this)).mergedValuesCache=[],o.aggregationFunction=r,o.fallbackValue=i,o}return function sUe(n,e,t){e&&Koe(n.prototype,e),t&&Koe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMergedValues",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===i)return this.mergedValuesCache;if(0===this.getLength())return[];for(var o=eo(this.get(),function(p){return p.getValues()}),s=[],a=Cr(o[0])&&o[0].length||0,u=0;u<a;u+=1){for(var c=[],f=0;f<this.getLength();f+=1)c.push(o[f][u]);s.push(c)}return eo(s,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(i,o){var s=this.getMergedValues(o)[i];return Cr(s)?s:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}]),t}(xY);function aA(n){return(aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Zoe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,gUe(r.key),r)}}function gUe(n){var e=function yUe(n,e){if("object"!==aA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==aA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===aA(e)?e:String(e)}function qoe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var EY=new WeakMap,Joe=function(){function n(){(function pUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function vUe(n,e,t){(function _Ue(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}(this,EY,{writable:!0,value:[]})}return function mUe(n,e,t){e&&Zoe(n.prototype,e),t&&Zoe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"subscribe",value:function(t){return this.addLocalHook("change",t),this._write(function SUe(n,e){return function MUe(n,e){return e.get?e.get.call(n):e.value}(n,qoe(n,e,"get"))}(this,EY)),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(t){return t.length>0&&this.runLocalHooks("change",t),this}},{key:"_writeInitialChanges",value:function(t){!function bUe(n,e,t){return function wUe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,qoe(n,e,"set"),t),t}(this,EY,t)}}]),n}();function Qoe(n,e){for(var t=[],r=0,i=0;r<n.length&&i<e.length;r++,i++)n[r]!==e[i]&&t.push({op:"replace",index:i,oldValue:n[r],newValue:e[i]});for(;r<e.length;r++)t.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<n.length;i++)t.push({op:"remove",index:i,oldValue:n[i],newValue:void 0});return t}function lA(n){return(lA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ese(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,EUe(r.key),r)}}function EUe(n){var e=function TUe(n,e){if("object"!==lA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==lA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===lA(e)?e:String(e)}function uA(n,e,t){(function RUe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function ff(n,e){return function DUe(n,e){return e.get?e.get.call(n):e.value}(n,tse(n,e,"get"))}function uF(n,e,t){return function AUe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,tse(n,e,"set"),t),t}function tse(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}Ss(Joe,Pc);var nse,cF=new WeakMap,cA=new WeakMap,dF=new WeakMap,fF=new WeakMap,hF=new WeakMap,OUe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialIndexValue;xUe(this,n),uA(this,cF,{writable:!0,value:new Set}),uA(this,cA,{writable:!0,value:[]}),uA(this,dF,{writable:!0,value:[]}),uA(this,fF,{writable:!0,value:!1}),uA(this,hF,{writable:!0,value:!1}),uF(this,hF,null!=t&&t)}return function CUe(n,e,t){e&&ese(n.prototype,e),t&&ese(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createObserver",value:function(){var t=this,r=new Joe;return ff(this,cF).add(r),r.addLocalHook("unsubscribe",function(){ff(t,cF).delete(r)}),r._writeInitialChanges(Qoe(ff(this,cA),ff(this,dF))),r}},{key:"emit",value:function(t){var r=ff(this,dF);(!ff(this,fF)||ff(this,cA).length!==t.length)&&(0===t.length?t=new Array(r.length).fill(ff(this,hF)):uF(this,cA,new Array(t.length).fill(ff(this,hF))),ff(this,fF)||(uF(this,fF,!0),r=ff(this,cA)));var i=Qoe(r,t);ff(this,cF).forEach(function(o){return o._write(i)}),uF(this,dF,t)}}]),n}();function dA(n){return(dA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function TY(n){return function IUe(n){if(Array.isArray(n))return RY(n)}(n)||function LUe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function PUe(n,e){if(n){if("string"==typeof n)return RY(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RY(n,e)}}(n)||function kUe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RY(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function NUe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function rse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,BUe(r.key),r)}}function BUe(n){var e=function VUe(n,e){if("object"!==dA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==dA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===dA(e)?e:String(e)}var ose,ise=new Set(["getFirstNotHiddenIndex"]),DY=function(){function n(){var e=this;(function FUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.indexesSequence=new Goe,this.trimmingMapsCollection=new Xoe(function(t){return t.some(function(r){return!0===r})},!1),this.hidingMapsCollection=new Xoe(function(t){return t.some(function(r){return!0===r})},!1),this.variousMapsCollection=new xY,this.hidingChangesObservable=new OUe({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.indexesChangeSource=void 0,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",function(){e.indexesSequenceChanged=!0,e.updateCache(),e.runLocalHooks("indexesSequenceChange",e.indexesChangeSource),e.runLocalHooks("change",e.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",function(t){e.trimmedIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",function(t){e.hiddenIndexesChanged=!0,e.updateCache(),e.runLocalHooks("change",t,e.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",function(t){e.runLocalHooks("change",t,e.variousMapsCollection)})}return function HUe(n,e,t){e&&rse(n.prototype,e),t&&rse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(t){if("hiding"!==t)throw new Error('Unsupported index map type "'.concat(t,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(t,r,i){return this.registerMap(t,function Wje(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Woe.has(n))throw new Error('The provided map type ("'.concat(n,'") does not exist.'));return new(Woe.get(n))(e)}(r,i))}},{key:"registerMap",value:function(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error('Map with name "'.concat(t,'" has been already registered.'));r instanceof iA?this.trimmingMapsCollection.register(t,r):r instanceof oF?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);var i=this.getNumberOfIndexes();return i>0&&r.init(i),r}},{key:"unregisterMap",value:function(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(t){var r=this.notTrimmedIndexesCache[t];return Cr(r)?r:null}},{key:"getPhysicalFromRenderableIndex",value:function(t){var r=this.renderablePhysicalIndexesCache[t];return Cr(r)?r:null}},{key:"getVisualFromPhysicalIndex",value:function(t){var r=this.fromPhysicalToVisualIndexesCache.get(t);return Cr(r)?r:null}},{key:"getVisualFromRenderableIndex",value:function(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}},{key:"getRenderableFromVisualIndex",value:function(t){var r=this.fromVisualToRenderableIndexesCache.get(t);return Cr(r)?r:null}},{key:"getFirstNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t-r;ise.has("getFirstNotHiddenIndex")&&(ise.delete("getFirstNotHiddenIndex"),cs(ns(nse||(nse=NUe(['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next \n                        major release. Please use "getNearestNotHiddenIndex" instead.'],['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next\\x20\n                        major release. Please use "getNearestNotHiddenIndex" instead.'])))));var s=this.getPhysicalFromVisualIndex(t);return null===s?!0===i&&o!==t-r?this.getFirstNotHiddenIndex(o,-r,!1,o):null:!1===this.isHidden(s)?t:this.getFirstNotHiddenIndex(t+r,r,i,o)}},{key:"getNearestNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.getPhysicalFromVisualIndex(t);if(null===o)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;var s=Array.from(this.fromVisualToRenderableIndexesCache.keys()),a=-1;return-1===(a=r>0?s.findIndex(function(u){return u>t}):s.reverse().findIndex(function(u){return u<t}))?i?this.getNearestNotHiddenIndex(t,-r,!1):null:s[a]}},{key:"initToLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=TY(new Array(t).keys()),this.notHiddenIndexesCache=TY(new Array(t).keys()),this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}},{key:"fitToLength",value:function(t){var r=this.getNumberOfIndexes();if(t<r){var i=TY(Array(this.getNumberOfIndexes()-t).keys()).map(function(o){return o+t});this.removeIndexes(i)}else this.insertIndexes(r,t-r)}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(t){void 0===this.indexesChangeSource&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(t),"update"===this.indexesChangeSource&&(this.indexesChangeSource=void 0)}},{key:"getNotTrimmedIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notTrimmedIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isTrimmed(o)})}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.notHiddenIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===r)return this.renderablePhysicalIndexesCache;var i=this.getNotTrimmedIndexes();return i.filter(function(o){return!1===t.isHidden(o)})}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(t,r){var i=this;"number"==typeof t&&(t=[t]);var o=eo(t,function(p){return i.getPhysicalFromVisualIndex(p)}),s=this.getNotTrimmedIndexesLength(),a=t.length,u=rA(this.getIndexesSequence(),o),c=s-a;if(r+a<s){var f=u.filter(function(p){return!1===i.isTrimmed(p)})[r];c=u.indexOf(f)}this.indexesChangeSource="move",this.setIndexesSequence(gY(u,c,o)),this.indexesChangeSource=void 0}},{key:"isTrimmed",value:function(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}},{key:"isHidden",value:function(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}},{key:"insertIndexes",value:function(t,r){var i=this.getNotTrimmedIndexes()[t],o=Cr(i)?i:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),a=eo(new Array(r).fill(o),function(u,c){return u+c});this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(s,a),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(s,a),this.hidingMapsCollection.insertToEvery(s,a),this.variousMapsCollection.insertToEvery(s,a),this.resumeOperations()}},{key:"removeIndexes",value:function(t){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}},{key:"updateCache",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===t||!1===this.isBatched&&!0===r)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}},{key:"cacheFromVisualToRenderableIndexes",value:function(){var t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromRenderableIndex(r),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,r)}}}]),n}();function sse(n){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(n);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):n}function ase(n){Cr(n)&&t4(ns(ose||(ose=function zUe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language\\x20\n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'])),n))}Ss(DY,Pc);var lse=cf("phraseFormatters"),WUe=lse.register,YUe=lse.getValues;!function GUe(n,e){WUe(n,e)}("pluralize",function UUe(n,e){return Array.isArray(n)&&Number.isInteger(e)?n[e]:n});var cr,use="ContextMenu:items",Ui=use,AY="".concat(Ui,".noItems"),OY="".concat(Ui,".insertRowAbove"),kY="".concat(Ui,".insertRowBelow"),PY="".concat(Ui,".insertColumnOnTheLeft"),LY="".concat(Ui,".insertColumnOnTheRight"),IY="".concat(Ui,".removeRow"),NY="".concat(Ui,".removeColumn"),FY="".concat(Ui,".undo"),HY="".concat(Ui,".redo"),BY="".concat(Ui,".readOnly"),VY="".concat(Ui,".clearColumn"),zY="".concat(Ui,".copy"),jY="".concat(Ui,".copyWithHeaders"),UY="".concat(Ui,".copyWithGroupHeaders"),WY="".concat(Ui,".copyHeadersOnly"),YY="".concat(Ui,".cut"),GY="".concat(Ui,".freezeColumn"),$Y="".concat(Ui,".unfreezeColumn"),KY="".concat(Ui,".mergeCells"),XY="".concat(Ui,".unmergeCells"),ZY="".concat(Ui,".addComment"),qY="".concat(Ui,".editComment"),JY="".concat(Ui,".removeComment"),QY="".concat(Ui,".readOnlyComment"),eG="".concat(Ui,".align"),tG="".concat(Ui,".align.left"),nG="".concat(Ui,".align.center"),rG="".concat(Ui,".align.right"),iG="".concat(Ui,".align.justify"),oG="".concat(Ui,".align.top"),sG="".concat(Ui,".align.middle"),aG="".concat(Ui,".align.bottom"),lG="".concat(Ui,".borders"),uG="".concat(Ui,".borders.top"),cG="".concat(Ui,".borders.right"),dG="".concat(Ui,".borders.bottom"),fG="".concat(Ui,".borders.left"),hG="".concat(Ui,".borders.remove"),pG="".concat(Ui,".nestedHeaders.insertChildRow"),mG="".concat(Ui,".nestedHeaders.detachFromParent"),gG="".concat(Ui,".hideColumn"),yG="".concat(Ui,".showColumn"),vG="".concat(Ui,".hideRow"),_G="".concat(Ui,".showRow"),Gu="Filters:",ta="".concat(Gu,"conditions"),pF="".concat(ta,".none"),bG="".concat(ta,".isEmpty"),wG="".concat(ta,".isNotEmpty"),SG="".concat(ta,".isEqualTo"),MG="".concat(ta,".isNotEqualTo"),xG="".concat(ta,".beginsWith"),CG="".concat(ta,".endsWith"),EG="".concat(ta,".contains"),TG="".concat(ta,".doesNotContain"),KUe="".concat(ta,".byValue"),RG="".concat(ta,".greaterThan"),DG="".concat(ta,".greaterThanOrEqualTo"),AG="".concat(ta,".lessThan"),OG="".concat(ta,".lessThanOrEqualTo"),kG="".concat(ta,".isBetween"),PG="".concat(ta,".isNotBetween"),LG="".concat(ta,".after"),IG="".concat(ta,".before"),NG="".concat(ta,".today"),FG="".concat(ta,".tomorrow"),HG="".concat(ta,".yesterday"),BG="".concat(Gu,"labels.filterByCondition"),VG="".concat(Gu,"labels.filterByValue"),zG="".concat(Gu,"labels.conjunction"),mF="".concat(Gu,"labels.disjunction"),gF="".concat(Gu,"values.blankCells"),jG="".concat(Gu,"buttons.selectAll"),UG="".concat(Gu,"buttons.clear"),WG="".concat(Gu,"buttons.ok"),YG="".concat(Gu,"buttons.cancel"),GG="".concat(Gu,"buttons.placeholder.search"),$G="".concat(Gu,"buttons.placeholder.value"),KG="".concat(Gu,"buttons.placeholder.secondValue");function fA(n){return(fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hr(n,e,t){return e=function XUe(n){var e=function ZUe(n,e){if("object"!==fA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==fA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===fA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const cse=(hr(cr={languageCode:"en-US"},AY,"No available options"),hr(cr,OY,"Insert row above"),hr(cr,kY,"Insert row below"),hr(cr,PY,"Insert column left"),hr(cr,LY,"Insert column right"),hr(cr,IY,["Remove row","Remove rows"]),hr(cr,NY,["Remove column","Remove columns"]),hr(cr,FY,"Undo"),hr(cr,HY,"Redo"),hr(cr,BY,"Read only"),hr(cr,VY,"Clear column"),hr(cr,eG,"Alignment"),hr(cr,tG,"Left"),hr(cr,nG,"Center"),hr(cr,rG,"Right"),hr(cr,iG,"Justify"),hr(cr,oG,"Top"),hr(cr,sG,"Middle"),hr(cr,aG,"Bottom"),hr(cr,GY,"Freeze column"),hr(cr,$Y,"Unfreeze column"),hr(cr,lG,"Borders"),hr(cr,uG,"Top"),hr(cr,cG,"Right"),hr(cr,dG,"Bottom"),hr(cr,fG,"Left"),hr(cr,hG,"Remove border(s)"),hr(cr,ZY,"Add comment"),hr(cr,qY,"Edit comment"),hr(cr,JY,"Delete comment"),hr(cr,QY,"Read-only comment"),hr(cr,KY,"Merge cells"),hr(cr,XY,"Unmerge cells"),hr(cr,zY,"Copy"),hr(cr,jY,["Copy with header","Copy with headers"]),hr(cr,UY,["Copy with group header","Copy with group headers"]),hr(cr,WY,["Copy header only","Copy headers only"]),hr(cr,YY,"Cut"),hr(cr,pG,"Insert child row"),hr(cr,mG,"Detach from parent"),hr(cr,gG,["Hide column","Hide columns"]),hr(cr,yG,["Show column","Show columns"]),hr(cr,vG,["Hide row","Hide rows"]),hr(cr,_G,["Show row","Show rows"]),hr(cr,pF,"None"),hr(cr,bG,"Is empty"),hr(cr,wG,"Is not empty"),hr(cr,SG,"Is equal to"),hr(cr,MG,"Is not equal to"),hr(cr,xG,"Begins with"),hr(cr,CG,"Ends with"),hr(cr,EG,"Contains"),hr(cr,TG,"Does not contain"),hr(cr,RG,"Greater than"),hr(cr,DG,"Greater than or equal to"),hr(cr,AG,"Less than"),hr(cr,OG,"Less than or equal to"),hr(cr,kG,"Is between"),hr(cr,PG,"Is not between"),hr(cr,LG,"After"),hr(cr,IG,"Before"),hr(cr,NG,"Today"),hr(cr,FG,"Tomorrow"),hr(cr,HG,"Yesterday"),hr(cr,gF,"Blank cells"),hr(cr,BG,"Filter by condition"),hr(cr,VG,"Filter by value"),hr(cr,zG,"And"),hr(cr,mF,"Or"),hr(cr,jG,"Select all"),hr(cr,UG,"Clear"),hr(cr,WG,"OK"),hr(cr,YG,"Cancel"),hr(cr,GG,"Search"),hr(cr,$G,"Value"),hr(cr,KG,"Second value"),cr);var XG=cse.languageCode,yF=cf("languagesDictionaries"),JUe=yF.register,dse=yF.getItem,QUe=yF.hasItem,eWe=yF.getValues;function fse(n,e){var t=n,r=e;return to(n)&&(t=(r=n).languageCode),function tWe(n,e){n!==XG&&function jUe(n,e){no(e,function(t,r){Ms(n[r])&&(n[r]=t)})}(e,dse(XG))}(t,r),JUe(t,Yu(r)),Yu(r)}function hse(n){return ZG(n)?Yu(dse(n)):null}function ZG(n){return QUe(n)}function pse(n,e,t){var r=hse(n);if(null===r)return null;var i=r[e];if(Ms(i))return null;var o=function rWe(n,e){var t=n;return ut(function $Ue(){return YUe()}(),function(r){t=r(n,e)}),t}(i,t);return Array.isArray(o)?o[0]:o}function iWe(n){var e=sse(n);return ZG(e)||(e=XG,ase(n)),e}fse(cse),b(4655);var vF="active-header",_F="area",hA="cell",qG="fill",pA="header",JG="custom-selection";function mA(n){return(mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function QG(n,e){return function lWe(n){if(Array.isArray(n))return n}(n)||function aWe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function sWe(n,e){if(n){if("string"==typeof n)return mse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mse(n,e)}}(n,e)||function oWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dWe(r.key),r)}}function dWe(n){var e=function fWe(n,e){if("object"!==mA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==mA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===mA(e)?e:String(e)}b(9523);const pWe=function(){function n(e,t){(function uWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),t&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return function cWe(n,e,t){e&&gse(n.prototype,e),t&&gse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerListeners",value:function(){var t=this,r=this.wot.rootDocument.body;this.eventManager.addEventListener(r,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()});for(var i=function(u){t.eventManager.addEventListener(t.main.childNodes[u],"mouseenter",function(f){return t.onMouseEnter(f,t.main.childNodes[u])})},o=0,s=this.main.childNodes.length;o<s;o++)i(o)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,r){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),dp(t);var i=this,o=this.wot.rootDocument.body,s=r.getBoundingClientRect();r.style.display="none",this.eventManager.addEventListener(o,"mousemove",function u(c){(function a(c){if(c.clientY<Math.floor(s.top)||c.clientY>Math.ceil(s.top+s.height)||c.clientX<Math.floor(s.left)||c.clientX>Math.ceil(s.left+s.width))return!0})(c)&&(i.eventManager.removeEventListener(o,"mousemove",u),r.style.display="block")})}}},{key:"createBorders",value:function(t){var r=this.wot.rootDocument;this.main=r.createElement("div");var i=["top","start","bottom","end","corner"],o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(var s=0;s<5;s++){var a=i[s],u=r.createElement("div");u.className="wtBorder ".concat(this.settings.className||""),this.settings[a]&&this.settings[a].hide&&(u.className+=" hidden"),(o=u.style).backgroundColor=this.settings[a]&&this.settings[a].color?this.settings[a].color:t.border.color,o.height="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),o.width="".concat(this.settings[a]&&this.settings[a].width?this.settings[a].width:t.border.width,"px"),this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),up()&&this.createMultipleSelectorHandles(),this.disappear();var c=this.wot.wtTable,f=c.bordersHolder;f||((f=r.createElement("div")).className="htBorders",c.bordersHolder=f,c.spreader.appendChild(f)),f.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,r=this.wot.rootDocument;this.selectionHandles={top:r.createElement("DIV"),topHitArea:r.createElement("DIV"),bottom:r.createElement("DIV"),bottomHitArea:r.createElement("DIV")},this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style},no({position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")},function(u,c){t.selectionHandles.styles.bottomHitArea[c]=u,t.selectionHandles.styles.topHitArea[c]=u}),no({position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"},function(u,c){t.selectionHandles.styles.bottom[c]=u,t.selectionHandles.styles.top[c]=u}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}},{key:"isPartRange",value:function(t,r){var i=this.wot.selections.createOrGetArea();return!(!i.cellRange||t===i.cellRange.to.row&&r===i.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,r,i,o,s,a){var c=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",f=this.selectionHandles.styles,p=f.top,g=f.topHitArea,v=f.bottom,w=f.bottomHitArea,M=parseInt(p.borderWidth,10),C=parseInt(p.width,10),L=parseInt(g.width,10),H=this.wot.wtTable.getWidth(),V=this.wot.wtTable.getHeight();p.top="".concat(parseInt(i-C-1,10),"px"),p[c]="".concat(parseInt(o-C-1,10),"px"),g.top="".concat(parseInt(i-L/4*3,10),"px"),g[c]="".concat(parseInt(o-L/4*3,10),"px");var z=Math.min(parseInt(o+s,10),H-C-2*M),X=Math.min(parseInt(o+s-L/4,10),H-L-2*M);v[c]="".concat(z,"px"),w[c]="".concat(X,"px");var re=Math.min(parseInt(i+a,10),V-C-2*M),me=Math.min(parseInt(i+a-L/4,10),V-L-2*M);v.top="".concat(re,"px"),w.top="".concat(me,"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(p.display="block",g.display="block",this.isPartRange(t,r)?(v.display="none",w.display="none"):(v.display="block",w.display="block")):(p.display="none",v.display="none",g.display="none",w.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(p.zIndex="9999",g.zIndex="9999"):(p.zIndex="",g.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var a,u,c,f,p,g,r=this.wot,i=r.wtTable,o=r.rootDocument,s=r.rootWindow,v=i.getRenderedRowsCount(),w=0;w<v;w+=1){var M=i.rowFilter.renderedToSource(w);if(M>=t[0]&&M<=t[2]){a=M,p=t[0];break}}for(var C=v-1;C>=0;C-=1){var L=i.rowFilter.renderedToSource(C);if(L>=t[0]&&L<=t[2]){u=L;break}}for(var H=i.getRenderedColumnsCount(),V=0;V<H;V+=1){var z=i.columnFilter.renderedToSource(V);if(z>=t[1]&&z<=t[3]){c=z,g=t[1];break}}for(var X=H-1;X>=0;X-=1){var re=i.columnFilter.renderedToSource(X);if(re>=t[1]&&re<=t[3]){f=re;break}}if(void 0===a||void 0===c)return void this.disappear();var me=i.getCell(this.wot.createCellCoords(a,c)),ne=a!==u||c!==f,pe=ne?i.getCell(this.wot.createCellCoords(u,f)):me,Se=Ja(me),Ie=ne?Ja(pe):Se,ot=Ja(i.TABLE),at=vs(i.TABLE),ze=Se.top,vt=Se.left,be=this.wot.wtSettings.getSetting("rtlMode"),Oe=0,Ye=0;if(be){var Y=vs(me);Ye=vt+Y-Ie.left,Oe=s.innerWidth-vt-Y-(s.innerWidth-ot.left-at)-1}else Ye=Ie.left+vs(pe)-vt,Oe=vt-ot.left-1;if(this.isEntireColumnSelected(a,u)){var he=this.getDimensionsFromHeader("columns",c,f,p,ot),ge=null;if(he){var Me=QG(he,3);ge=Me[0],Oe=Me[1],Ye=Me[2]}ge&&(me=ge)}var Xe=ze-ot.top-1,Je=Ie.top+Qs(pe)-ze;if(this.isEntireRowSelected(c,f)){var tt=this.getDimensionsFromHeader("rows",a,u,g,ot),Rt=null;if(tt){var Wt=QG(tt,3);Rt=Wt[0],Xe=Wt[1],Je=Wt[2]}Rt&&(me=Rt)}var Nt=ew(me,s);parseInt(Nt.borderTopWidth,10)>0&&(Xe+=1,Je=Je>0?Je-1:0),parseInt(Nt[be?"borderRightWidth":"borderLeftWidth"],10)>0&&(Oe+=1,Ye=Ye>0?Ye-1:0);var bt=be?"right":"left";this.topStyle.top="".concat(Xe,"px"),this.topStyle[bt]="".concat(Oe,"px"),this.topStyle.width="".concat(Ye,"px"),this.topStyle.display="block",this.startStyle.top="".concat(Xe,"px"),this.startStyle[bt]="".concat(Oe,"px"),this.startStyle.height="".concat(Je,"px"),this.startStyle.display="block";var en=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(Xe+Je-en,"px"),this.bottomStyle[bt]="".concat(Oe,"px"),this.bottomStyle.width="".concat(Ye,"px"),this.bottomStyle.display="block",this.endStyle.top="".concat(Xe,"px"),this.endStyle[bt]="".concat(Oe+Ye-en,"px"),this.endStyle.height="".concat(Je+1,"px"),this.endStyle.display="block";var mt=this.settings.border.cornerVisible;mt="function"==typeof mt?mt(this.settings.layerLevel):mt;var Tt=this.wot.getSetting("onModifyGetCellCoords",u,f),Kt=u,Cn=f;if(Tt&&Array.isArray(Tt)){var _n=QG(Tt,4);Kt=_n[2],Cn=_n[3]}if(up()||!mt||this.isPartRange(Kt,Cn))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(Xe+Je+this.cornerCenterPointOffset-1,"px"),this.cornerStyle[bt]="".concat(Oe+Ye+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var Qn=sx(i.TABLE),In=Qn===s;In&&(Qn=o.documentElement);var cn=parseInt(this.cornerDefaultStyle.width,10)/2,En=parseInt(this.cornerDefaultStyle.height,10)/2;if(f===this.wot.getSetting("totalColumns")-1){var Un=In?pe.getBoundingClientRect().left:pe.offsetLeft;(be?Un-parseInt(this.cornerDefaultStyle.width,10)/2<0:Un+vs(pe)+parseInt(this.cornerDefaultStyle.width,10)/2>=y2(Qn))&&(this.cornerStyle[bt]="".concat(Math.floor(Oe+Ye+this.cornerCenterPointOffset-cn),"px"),this.cornerStyle[be?"borderLeftWidth":"borderRightWidth"]=0)}u===this.wot.getSetting("totalRows")-1&&(In?pe.getBoundingClientRect().top:pe.offsetTop)+Qs(pe)+parseInt(this.cornerDefaultStyle.height,10)/2>=hv(Qn)&&(this.cornerStyle.top="".concat(Math.floor(Xe+Je+this.cornerCenterPointOffset-En),"px"),this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}up()&&this.updateMultipleSelectionHandlesPosition(u,f,Xe,Oe,Ye,Je)}}},{key:"isEntireColumnSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,r,i,o,s){var a=this.wot.wtTable,u=a.wtRootElement.parentNode,c=null,f=null,p=null,g=null,v=null,w=null,M=null,C=null;switch(t){case"rows":c=function(){return a.getRowHeader.apply(a,arguments)},f=function(){return Qs.apply(void 0,arguments)},p="ht__selection--rows",w="top";break;case"columns":c=function(){return a.getColumnHeader.apply(a,arguments)},f=function(){return vs.apply(void 0,arguments)},p="ht__selection--columns",w="left"}if(u.classList.contains(p)){var L=this.wot.getSetting("columnHeaders").length;if(M=c(r,L-o),C=c(i,L-o),!M||!C)return!1;var H=Ja(M),V=Ja(C);return M&&C&&(g=H[w]-s[w]-1,v=V[w]+f(C)-H[w]),[M,g,v]}return!1}},{key:"changeBorderStyle",value:function(t,r){var i=this[t].style,o=r[t];!o||o.hide?Dn(this[t],"hidden"):(Ai(this[t],"hidden")&&Bi(this[t],"hidden"),i.backgroundColor=o.color,("top"===t||"bottom"===t)&&(i.height="".concat(o.width,"px")),("start"===t||"end"===t)&&(i.width="".concat(o.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var i=this[t].style;i.backgroundColor="#000",i.width="".concat(1,"px"),i.height="".concat(1,"px")}},{key:"toggleHiddenClass",value:function(t,r){this.changeBorderToDefaultStyle(t),r?Dn(this[t],"hidden"):Bi(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",up()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}]),n}();function yse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hx(n){return(Hx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,SWe(r.key),r)}}function SWe(n){var e=function MWe(n,e){if("object"!==Hx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Hx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Hx(e)?e:String(e)}function Bx(n){return(Bx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _se(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wse(r.key),r)}}function bF(){return bF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=RWe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},bF.apply(this,arguments)}function RWe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Vx(n)););return n}function e5(n,e){return(e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function OWe(n,e){if(e&&("object"===Bx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bse(n)}function bse(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vx(n){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function wse(n){var e=function LWe(n,e){if("object"!==Bx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Bx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Bx(e)?e:String(e)}const zx=function(n){!function DWe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e5(n,e)}(t,n);var e=function AWe(n){var e=function kWe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Vx(n);if(e){var o=Vx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OWe(this,i)}}(t);function t(r,i){var o;return function EWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function PWe(n,e,t){(e=wse(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(bse(o=e.call(this,r,null)),"visualCellRange",null),o.visualCellRange=i||null,o.commit(),o}return function TWe(n,e,t){e&&_se(n.prototype,e),t&&_se(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"add",value:function(i){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(i):this.visualCellRange.expand(i),this}},{key:"clear",value:function(){return this.visualCellRange=null,bF(Vx(t.prototype),"clear",this).call(this)}},{key:"trimToVisibleCellsRangeOnly",value:function(i){var o=i.from,s=i.to,a=this.getNearestNotHiddenCoords(o,1),u=this.getNearestNotHiddenCoords(s,-1);if(null===a||null===u)return null;if(a.row>u.row||a.col>u.col){if("header"!==this.settings.type&&"active-header"!==this.settings.type)return null;a=o,u=s}return this.settings.createCellRange(a,a,u)}},{key:"getNearestNotHiddenCoords",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper(),i.row,o);if(null===a)return null;var u=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper(),i.col,s);return null===u?null:this.settings.createCellCoords(a,u)}},{key:"getNearestNotHiddenIndex",value:function(i,o,s){if(o<0)return o;var a=i.getNearestNotHiddenIndex(o,s);return"header"!==this.settings.type&&"active-header"!==this.settings.type||null!==a?a:-1}},{key:"commit",value:function(){if(null===this.visualCellRange)return this;var i=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===i?null:this.createRenderableCellRange(i.from,i.to),this}},{key:"syncWith",value:function(i){var o="N-S"===i.getVerticalDirection()?1:-1,s="W-E"===i.getHorizontalDirection()?1:-1,a=this.getNearestNotHiddenCoords(i.from.clone().normalize(),o,s);if(null!==a&&i.overlaps(a)){if(null===this.cellRange){var u=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(u)}return i.setHighlight(a),this}return i.setHighlight(i.from),this}},{key:"getCorners",value:function(){var i=this.cellRange,o=i.from,s=i.to,a=null===o.row||null===s.row,u=null===o.col||null===s.col,c=this.settings.createCellCoords(a?null:Math.min(o.row,s.row),u?null:Math.min(o.col,s.col)),f=this.settings.createCellCoords(a?null:Math.max(o.row,s.row),u?null:Math.max(o.col,s.col));return[c.row,c.col,f.row,f.col]}},{key:"getVisualCorners",value:function(){var i=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),o=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[i.row,i.col,o.row,o.col]}},{key:"createRenderableCellRange",value:function(i,o){var s=this.settings.visualToRenderableCoords(i),a=this.settings.visualToRenderableCoords(o);return this.settings.createCellRange(s,s,a)}}]),t}(function(){function n(e,t){(function bWe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return function wWe(n,e,t){e&&vse(n.prototype,e),t&&vse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new pWe(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}},{key:"addClassAtCoords",value:function(t,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.wtTable.getCell(this.settings.createCellCoords(r,i));if("object"===Hx(a)){var u=o;s&&(u=this.classNameGenerator(a),this.classNames.includes(u)||this.classNames.push(u)),Dn(a,u)}return this}},{key:"linearClassNameGenerator",value:function(t,r){return function i(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===r||0===s)return t;var a=s>=0?s:r,u=t,c=0==(a-=1)?t:"".concat(t,"-").concat(a);if(Ai(o,c)){var f=a+1;u="".concat(t,"-").concat(f)}else u=i(o,a);return u}}},{key:"draw",value:function(t){if(this.isEmpty())this.settings.border&&this.getBorder(t).disappear();else{var r=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),o=this.getCorners(),s=function mWe(n,e){return function _We(n){if(Array.isArray(n))return n}(n)||function vWe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function yWe(n,e){if(n){if("string"==typeof n)return yse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yse(n,e)}}(n,e)||function gWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,4),a=s[0],u=s[1],c=s[2],f=s[3],p=this.settings,g=p.highlightHeaderClassName,v=p.highlightColumnClassName,w=p.highlightRowClassName,M=p.highlightOnlyClosestHeader,C=p.selectionType,L=void 0===C||["active-header","header"].includes(C);if(L&&null!==u&&null!==f)for(var H=0,V=0;V<i;V+=1){var z=t.wtTable.columnFilter.renderedToSource(V);if(z>=u&&z<=f){var X=t.wtTable.getColumnHeaders(z),re=X.length-1;M&&X.length>1&&(X=[X[re]]);for(var me=0;me<X.length;me+=1){var ne=[],pe=X[me];g&&ne.push(g),v&&ne.push(v);var Se=t.getSetting("onBeforeHighlightingColumnHeader",z,me=M?re:me,{selectionType:C,columnCursor:H,selectionWidth:f-u+1,classNames:ne});Se!==z&&(pe=t.wtTable.getColumnHeader(Se,me)),Dn(pe,ne)}H+=1}}if(null!==a&&null!==c)for(var Ie=0,ot=0;ot<r;ot+=1){var at=t.wtTable.rowFilter.renderedToSource(ot);if(L&&at>=a&&at<=c){var ze=t.wtTable.getRowHeaders(at),vt=ze.length-1;M&&ze.length>1&&(ze=[ze[vt]]);for(var be=0;be<ze.length;be+=1){var Oe=[],Ye=ze[be];g&&Oe.push(g),w&&Oe.push(w);var Y=t.getSetting("onBeforeHighlightingRowHeader",at,be=M?vt:be,{selectionType:C,rowCursor:Ie,selectionHeight:c-a+1,classNames:Oe});Y!==at&&(Ye=t.wtTable.getRowHeader(Y,be)),Dn(Ye,Oe)}Ie+=1}if(null!==u&&null!==f)for(var Q=0;Q<i;Q+=1){var he=t.wtTable.columnFilter.renderedToSource(Q);at>=a&&at<=c&&he>=u&&he<=f?this.settings.className&&this.addClassAtCoords(t,at,he,this.settings.className,this.settings.markIntersections):at>=a&&at<=c?w&&this.addClassAtCoords(t,at,he,w):he>=u&&he<=f&&v&&this.addClassAtCoords(t,at,he,v);var ge=t.getSetting("onAfterDrawSelection",at,he,this.settings.layerLevel);"string"==typeof ge&&this.addClassAtCoords(t,at,he,ge)}}t.getSetting("onBeforeDrawBorders",o,this.settings.className),this.settings.border&&this.getBorder(t).appear(o)}}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach(function(t){return t.destroy()})}}]),n}());function gA(n){return(gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var NWe=["activeHeaderClassName"];function Sse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mse(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Sse(Object(t),!0).forEach(function(r){FWe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FWe(n,e,t){return e=function HWe(n){var e=function BWe(n,e){if("object"!==gA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==gA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===gA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yA(n){return(yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var WWe=["layerLevel","areaCornerVisible"];function xse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cse(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?xse(Object(t),!0).forEach(function(r){YWe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YWe(n,e,t){return e=function GWe(n){var e=function $We(n,e){if("object"!==yA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==yA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===yA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vA(n){return(vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var JWe=["cellCornerVisible"];function Ese(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tse(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ese(Object(t),!0).forEach(function(r){QWe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ese(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function QWe(n,e,t){return e=function e4e(n){var e=function t4e(n,e){if("object"!==vA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==vA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===vA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _A(n){return(_A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var s4e=["border","visualCellRange"];function Rse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function t5(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Rse(Object(t),!0).forEach(function(r){a4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a4e(n,e,t){return e=function l4e(n){var e=function u4e(n,e){if("object"!==_A(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_A(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bA(n){return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Dse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ase(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Dse(Object(t),!0).forEach(function(r){p4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p4e(n,e,t){return e=function m4e(n){var e=function g4e(n,e){if("object"!==bA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==bA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===bA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}b(7790);function wA(n){return(wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var b4e=["headerClassName","rowClassName","columnClassName"];function Ose(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kse(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ose(Object(t),!0).forEach(function(r){w4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ose(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w4e(n,e,t){return e=function S4e(n){var e=function M4e(n,e){if("object"!==wA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==wA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===wA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SA(n){return(SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function D4e(n,e,t){return e=function A4e(n){var e=function O4e(n,e){if("object"!==SA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==SA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===SA(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Lse=cf("highlight/types"),jx=Lse.register,k4e=Lse.getItem;function Ux(n,e){return k4e(n)(function R4e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Pse(Object(t),!0).forEach(function(r){D4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({type:n},e))}function MA(n){return(MA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vv(n){return function N4e(n){if(Array.isArray(n))return n5(n)}(n)||function I4e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function L4e(n,e){if(n){if("string"==typeof n)return n5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n5(n,e)}}(n)||function P4e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ise(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xA(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ise(Object(t),!0).forEach(function(r){F4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ise(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function F4e(n,e,t){return(e=Fse(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fse(r.key),r)}}function Fse(n){var e=function V4e(n,e){if("object"!==MA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==MA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===MA(e)?e:String(e)}jx(vF,function jWe(n){var e=n.activeHeaderClassName,t=function VWe(n,e){if(null==n)return{};var r,i,t=function zWe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,NWe);return new zx(Mse(Mse({highlightHeaderClassName:e},t),{},{selectionType:vF}))}),jx(_F,function ZWe(n){var e=n.layerLevel,t=n.areaCornerVisible,r=function KWe(n,e){if(null==n)return{};var r,i,t=function XWe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,WWe);return new zx(Cse(Cse({className:"area",markIntersections:!0,layerLevel:Math.min(e,7),border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{},{selectionType:_F}))}),jx(hA,function i4e(n){var e=n.cellCornerVisible,t=function n4e(n,e){if(null==n)return{};var r,i,t=function r4e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,JWe);return new zx(Tse(Tse({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:e}},t),{},{selectionType:hA}))}),jx(JG,function f4e(n){var e=n.border,t=n.visualCellRange,r=function c4e(n,e){if(null==n)return{};var r,i,t=function d4e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,s4e);return new zx(t5(t5(t5({},e),r),{},{selectionType:JG}),t)}),jx(qG,function v4e(n){var e=Object.assign({},(function y4e(n){if(null==n)throw new TypeError("Cannot destructure "+n)}(n),n));return new zx(Ase(Ase({className:"fill",border:{width:1,color:"#ff0000"}},e),{},{selectionType:qG}))}),jx(pA,function E4e(n){var e=n.headerClassName,t=n.rowClassName,r=n.columnClassName,i=function x4e(n,e){if(null==n)return{};var r,i,t=function C4e(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(n,b4e);return new zx(kse(kse({className:"highlight",highlightHeaderClassName:e,highlightRowClassName:t,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:pA}))});const j4e=function(n){function e(t){(function H4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=t,this.layerLevel=0,this.cell=Ux(hA,t),this.fill=Ux(qG,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return function B4e(n,e,t){e&&Nse(n.prototype,e),t&&Nse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEnabledFor",value:function(r,i){var o=r;r===hA&&(o="current");var s=this.options.disabledCellSelection(i.row,i.col);return"string"==typeof s&&(s=[s]),!1===s||Array.isArray(s)&&!s.includes(o)}},{key:"useLayerLevel",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=r,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var i,r=this.layerLevel;return this.areas.has(r)?i=this.areas.get(r):(i=Ux(_F,xA({layerLevel:r},this.options)),this.areas.set(r,i)),i}},{key:"getAreas",value:function(){return vv(this.areas.values())}},{key:"createOrGetHeader",value:function(){var i,r=this.layerLevel;return this.headers.has(r)?i=this.headers.get(r):(i=Ux(pA,xA({},this.options)),this.headers.set(r,i)),i}},{key:"getHeaders",value:function(){return vv(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var i,r=this.layerLevel;return this.activeHeaders.has(r)?i=this.activeHeaders.get(r):(i=Ux(vF,xA({},this.options)),this.activeHeaders.set(r,i)),i}},{key:"getActiveHeaders",value:function(){return vv(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return vv(this.customSelections.values())}},{key:"addCustomSelection",value:function(r){this.customSelections.push(Ux(JG,xA(xA({},this.options),r)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),ut(this.areas.values(),function(r){r.clear()}),ut(this.headers.values(),function(r){r.clear()}),ut(this.activeHeaders.values(),function(r){r.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(vv(this.areas.values()),vv(this.headers.values()),vv(this.activeHeaders.values()),vv(this.customSelections))[Symbol.iterator]()}}]),e}();function CA(n){return(CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Hse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Y4e(r.key),r)}}function Y4e(n){var e=function G4e(n,e){if("object"!==CA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==CA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===CA(e)?e:String(e)}const K4e=function(n){function e(t){(function U4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.ranges=[],this.createCellRange=t}return function W4e(n,e,t){e&&Hse(n.prototype,e),t&&Hse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(r){return this.clear(),this.ranges.push(this.createCellRange(r)),this}},{key:"add",value:function(r){return this.ranges.push(this.createCellRange(r)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(r){return this.ranges.some(function(i){return i.includes(r)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.size()+r-1;return i>=0&&(o=this.ranges[i]),o}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();function EA(n){return(EA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,q4e(r.key),r)}}function q4e(n){var e=function J4e(n,e){if("object"!==EA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==EA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===EA(e)?e:String(e)}var Vse=function(){function n(e,t){(function X4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.range=e,this.options=t}return function Z4e(n,e,t){e&&Bse(n.prototype,e),t&&Bse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.options.createCellCoords(t,r),s=this.range.current().highlight,a=this.options.visualToRenderableCoords(s),u=a.row,c=a.col,f=s,p=0,g=0;if(this.runLocalHooks("beforeTransformStart",o),null!==u&&null!==c){var v=this.options.countRows(),w=this.options.countCols(),M=this.options.fixedRowsBottom(),C=this.options.minSpareRows(),L=this.options.minSpareCols(),H=this.options.autoWrapRow(),V=this.options.autoWrapCol();u+t>v-1?i&&C>0&&!(M&&u>=v-M-1)?(this.runLocalHooks("insertRowRequire",v),v=this.options.countRows()):V&&(o.row=1-v,o.col=c+o.col===w-1?1-w:1):V&&u+o.row<0&&c+o.col>=0&&(o.row=v-1,o.col=c+o.col===0?w-1:-1),c+o.col>w-1?i&&L>0?(this.runLocalHooks("insertColRequire",w),w=this.options.countCols()):H&&(o.row=u+o.row===v-1?1-v:1,o.col=1-w):H&&c+o.col<0&&u+o.row>=0&&(o.row=u+o.row===0?v-1:-1,o.col=w-1);var z=this.options.createCellCoords(u+o.row,c+o.col);p=0,g=0,z.row<0?(p=-1,z.row=0):z.row>0&&z.row>=v&&(p=1,z.row=v-1),z.col<0?(g=-1,z.col=0):z.col>0&&z.col>=w&&(g=1,z.col=w-1),f=this.options.renderableToVisualCoords(z)}return this.runLocalHooks("afterTransformStart",f,p,g),f}},{key:"transformEnd",value:function(t,r){var i=this.options.createCellCoords(t,r),o=this.range.current(),s=o.to,a=0,u=0;this.runLocalHooks("beforeTransformEnd",i);var c=this.options.visualToRenderableCoords(o.highlight);if(null!==c.row&&null!==c.col){var g=this.options.countRows(),v=this.options.countCols(),w=this.options.visualToRenderableCoords(o.to),L=this.options.createCellCoords(w.row+i.row,w.col+i.col);a=0,u=0,L.row<0?(a=-1,L.row=0):L.row>0&&L.row>=g&&(a=1,L.row=g-1),L.col<0?(u=-1,L.col=0):L.col>0&&L.col>=v&&(u=1,L.col=v-1),s=this.options.renderableToVisualCoords(L)}return this.runLocalHooks("afterTransformEnd",s,a,u),s}}]),n}();Ss(Vse,Pc);const Q4e=Vse;function zse(n,e){return function rYe(n){if(Array.isArray(n))return n}(n)||function nYe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function tYe(n,e){if(n){if("string"==typeof n)return jse(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jse(n,e)}}(n,e)||function eYe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jse(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function r5(n){return(r5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Yse,iYe=[3,2],oYe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],s5=Symbol("root"),Wse=Symbol("child");function Wx(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s5;if(e!==s5&&e!==Wse)throw new Error("The second argument is used internally only and cannot be overwritten.");var t=Array.isArray(n),r=e===s5,i=0;if(t){var o=n[0];if(0===n.length)i=1;else if(r&&o instanceof I4)i=3;else if(r&&Array.isArray(o))i=Wx(o,Wse);else if(n.length>=2&&n.length<=4){var s=!n.some(function(a,u){return!oYe[u].includes(r5(a))});s&&(i=2)}}return i}function TA(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.keepDirection,r=void 0!==t&&t,i=e.propToCol;if(!iYe.includes(n))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){var s=3===n,a=s?o.from.row:o[0],u=s?o.from.col:o[1],c=s?o.to.row:o[2],f=s?o.to.col:o[3];if("function"==typeof i&&("string"==typeof u&&(u=i(u)),"string"==typeof f&&(f=i(f))),Ms(c)&&(c=a),Ms(f)&&(f=u),!r){var p=a,g=u,v=c,w=f;a=Math.min(p,v),u=Math.min(g,w),c=Math.max(p,v),f=Math.max(g,w)}return[a,u,c,f]}}function _v(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof n&&n>=0&&n<e}function RA(n){return(RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gse(n,e){return function dYe(n){if(Array.isArray(n))return n}(n)||function cYe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function uYe(n,e){if(n){if("string"==typeof n)return $se(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $se(n,e)}}(n,e)||function lYe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $se(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Kse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mYe(r.key),r)}}function mYe(n){var e=function gYe(n,e){if("object"!==RA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==RA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===RA(e)?e:String(e)}var Xse=function(){function n(e,t){var r=this;(function hYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.settings=e,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new K4e(function(i,o,s){return r.tableProps.createCellRange(i,o,s)}),this.highlight=new j4e({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disabledCellSelection:function(o,s){return r.tableProps.isDisabledCellSelection(o,s)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},createCellRange:function(o,s,a){return r.tableProps.createCellRange(o,s,a)},rowIndexMapper:function(){return r.tableProps.rowIndexMapper()},columnIndexMapper:function(){return r.tableProps.columnIndexMapper()}}),this.transformation=new Q4e(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},createCellCoords:function(o,s){return r.tableProps.createCellCoords(o,s)},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(o))}),this.transformation.addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks.apply(r,["insertColRequire"].concat(o))})}return function pYe(n,e,t){e&&Kse(n.prototype,e),t&&Kse(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="multiple"===this.settings.selectionMode,s=Ms(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.row<0,u=t.col<0,c=a&&u,f=t.clone();this.selectedByCorner=c,this.runLocalHooks("beforeSetRangeStart".concat(i?"Only":""),f),(!o||o&&!s&&Ms(r))&&this.selectedRange.clear(),this.selectedRange.add(f),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!c&&u&&this.selectedByRowHeader.add(this.getLayerLevel()),!c&&a&&this.selectedByColumnHeader.add(this.getLayerLevel()),i||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,r){this.setRangeStart(t,r,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){var r=t.clone();this.runLocalHooks("beforeSetRangeEnd",r),this.begin();var i=this.selectedRange.current();"single"!==this.settings.selectionMode&&i.setTo(this.tableProps.createCellCoords(r.row,r.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(hA,i.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().syncWith(i);var o=this.getLayerLevel();o<this.highlight.layerLevel&&(ut(this.highlight.getAreas(),function(M){M.clear()}),ut(this.highlight.getHeaders(),function(M){M.clear()}),ut(this.highlight.getActiveHeaders(),function(M){M.clear()})),this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();if(s.clear(),a.clear(),u.clear(),this.highlight.isEnabledFor(_F,i.highlight)&&(this.isMultiple()||o>=1)&&(s.add(i.from).add(i.to).commit(),1===o)){var c=this.selectedRange.previous();this.highlight.useLayerLevel(o-1).createOrGetArea().add(c.from).commit().syncWith(c),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(pA,i.highlight)){var f=0===this.tableProps.countRowsTranslated(),p=0===this.tableProps.countColsTranslated(),g=i;(f||p)&&(g=i.clone()),f&&(g.from.row=-1),p&&(g.from.col=-1),"single"===this.settings.selectionMode?(this.isSelectedByAnyHeader()&&g.from.normalize(),a.add(g.from).commit()):a.add(g.from).add(g.to).commit(),this.isEntireRowSelected()&&this.tableProps.countCols()===i.getWidth()&&u.add(this.tableProps.createCellCoords(i.from.row,-1)).add(this.tableProps.createCellCoords(i.to.row,-1)).commit(),this.isEntireColumnSelected()&&this.tableProps.countRows()===i.getHeight()&&u.add(this.tableProps.createCellCoords(-1,i.from.col)).add(this.tableProps.createCellCoords(-1,i.to.col)).commit()}this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=nx(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setRangeStart(this.transformation.transformStart(t,r,i))}},{key:"transformEnd",value:function(t,r){this.setRangeEnd(this.transformation.transformEnd(t,r))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&this.isEntireRowSelected(t)}},{key:"isEntireRowSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(t)}},{key:"isEntireColumnSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){!this.isSelected()||(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.tableProps.countRows(),o=this.tableProps.countCols();if(t||r||0!==i&&0!==o){var s=this.tableProps.createCellCoords(r?-1:0,t?-1:0),a=this.tableProps.createCellCoords(i-1,o-1);this.clear(),this.setRangeStartOnly(s),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(a),this.finish()}}},{key:"selectCells",value:function(t){var r=this,i=Wx(t);if(1===i)return!1;if(0===i)throw new Error(ns(Yse||(Yse=function fYe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, \n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20\n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."]))));var o=TA(i,{propToCol:function(f){return r.tableProps.propToCol(f)},keepDirection:!0}),s=this.tableProps.countRows(),a=this.tableProps.countCols(),u=!t.some(function(c){var p=Gse(o(c),4),v=p[1],w=p[2],M=p[3];return!(_v(p[0],s)&&_v(v,a)&&_v(w,s)&&_v(M,a))});return u&&(this.clear(),ut(t,function(c){var p=Gse(o(c),4),w=p[2],M=p[3];r.setRangeStartOnly(r.tableProps.createCellCoords(p[0],p[1]),!1),r.setRangeEnd(r.tableProps.createCellCoords(w,M)),r.finish()})),u}},{key:"selectColumns",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o="string"==typeof t?this.tableProps.propToCol(t):t,s="string"==typeof r?this.tableProps.propToCol(r):r,a=this.tableProps.countCols(),u=this.tableProps.countRows(),c=_v(o,a)&&_v(s,a);return c&&(this.setRangeStartOnly(this.tableProps.createCellCoords(i,o)),this.setRangeEnd(this.tableProps.createCellCoords(u-1,s)),this.finish()),c}},{key:"selectRows",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=_v(t,o)&&_v(r,o);return a&&(this.setRangeStartOnly(this.tableProps.createCellCoords(t,i)),this.setRangeEnd(this.tableProps.createCellCoords(r,s-1)),this.finish()),a}},{key:"refresh",value:function(){if(this.highlight.getCustomSelections().forEach(function(c){c.commit()}),this.isSelected()){var r=this.highlight.getCell(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(var o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);var s=this.highlight.createOrGetArea(),a=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();s.commit(),a.commit(),u.commit()}this.highlight.useLayerLevel(i)}}}]),n}();Ss(Xse,Pc);const yYe=Xse;var DA=cf("cellTypes"),vYe=DA.register,_Ye=DA.getItem,Zse=DA.hasItem;function bYe(n){if(!Zse(n))throw Error('You declared cell type "'.concat(n,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method'));return _Ye(n)}function mp(n,e){"string"!=typeof n&&(n=(e=n).CELL_TYPE);var r=e.editor,i=e.renderer,o=e.validator;r&&yd(n,r),i&&Wm(n,i),o&&xD(n,o),vYe(n,e)}function wYe(n,e){var t;return"CELL_TYPE"!==n&&((null===(t=e._automaticallyAssignedMetaProps)||void 0===t?void 0:t.has(n))||!ya(e,n))}function MF(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,r="string"==typeof e.type?bYe(e.type):e.type;if(n._automaticallyAssignedMetaProps&&no(e,function(o,s){n._automaticallyAssignedMetaProps.delete(s)}),to(r)){t===n&&!n._automaticallyAssignedMetaProps&&(n._automaticallyAssignedMetaProps=new Set);var i={};no(r,function(o,s){var a;wYe(s,t)&&(i[s]=o,null===(a=n._automaticallyAssignedMetaProps)||void 0===a||a.add(s))}),qa(n,i)}}function xF(n){return Number.isInteger(n)&&n>=0}function CF(n,e){if(!n())throw new Error("Assertion failed: ".concat(e))}function EF(n){return null==n}function a5(n){return(a5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}const qse=function(){return{_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",isEmptyCol:function(e){var t,r;for(t=0,r=this.countRows();t<r;t++)if(!1===yl(this.getDataAtCell(t,e)))return!1;return!0},isEmptyRow:function(e){var t,r,i,o;for(t=0,r=this.countCols();t<r;t++)if(!1===yl(i=this.getDataAtCell(e,t)))return"object"===a5(i)&&(o=this.getCellMeta(e,t),HW(this.getSchema()[o.prop],i));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:void 0,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0}};function AA(n){return(AA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Jse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qse(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Jse(Object(t),!0).forEach(function(r){MYe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function MYe(n,e,t){return(e=nae(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nae(r.key),r)}}function tae(n,e,t){return e&&eae(n.prototype,e),t&&eae(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function nae(n){var e=function xYe(n,e){if("object"!==AA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==AA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===AA(e)?e:String(e)}function rae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var EYe=function(){function n(e){rae(this,n),this.metaCtor=function CYe(){return tae(function n(){rae(this,n)})}(),this.meta=this.metaCtor.prototype,qa(this.meta,qse()),this.meta.instance=e}return tae(n,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){var r;qa(this.meta,t),MF(this.meta,Qse(Qse({},t),{},{type:null!==(r=t.type)&&void 0!==r?r:this.meta.type}),t)}}]),n}();function OA(n){return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function iae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,DYe(r.key),r)}}function DYe(n){var e=function AYe(n,e){if("object"!==OA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==OA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===OA(e)?e:String(e)}var OYe=function(){function n(e){!function TYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.getMetaConstructor();this.meta=new t}return function RYe(n,e,t){e&&iae(n.prototype,e),t&&iae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){qa(this.meta,t),MF(this.meta,t,t)}}]),n}();function kA(n){return(kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function oae(n){return function IYe(n){if(Array.isArray(n))return l5(n)}(n)||function LYe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function PYe(n,e){if(n){if("string"==typeof n)return l5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l5(n,e)}}(n)||function kYe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,HYe(r.key),r)}}function HYe(n){var e=function BYe(n,e){if("object"!==kA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==kA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===kA(e)?e:String(e)}var u5=function(n){function e(t){(function NYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.valueFactory=t,this.data=[],this.index=[],this.holes=new Set}return function FYe(n,e,t){e&&sae(n.prototype,e),t&&sae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(e,[{key:"obtain",value:function(r){CF(function(){return xF(r)},"Expecting an unsigned number.");var o,i=this._getStorageIndexByKey(r);if(i>=0)void 0===(o=this.data[i])&&(o=this.valueFactory(r),this.data[i]=o);else if(o=this.valueFactory(r),this.holes.size>0){var s=this.holes.values().next().value;this.holes.delete(s),this.data[s]=o,this.index[r]=s}else this.data.push(o),this.index[r]=this.data.length-1;return o}},{key:"insert",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;CF(function(){return xF(r)||EF(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=[],s=this.data.length,a=0;a<i;a++)o.push(s+a),this.data.push(void 0);var u=EF(r)?this.index.length:r;this.index=[].concat(oae(this.index.slice(0,u)),o,oae(this.index.slice(u)))}},{key:"remove",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;CF(function(){return xF(r)||EF(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=this.index.splice(EF(r)?this.index.length-i:r,i),s=0;s<o.length;s++){var a=o[s];"number"==typeof a&&this.holes.add(a)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var r=this;return uf(this.data,function(i,o){return!r.holes.has(o)})[Symbol.iterator]()}},{key:"entries",value:function(){for(var r=[],i=0;i<this.data.length;i++){var o=this._getKeyByStorageIndex(i);-1!==o&&r.push([o,this.data[i]])}var s=0;return{next:function(){if(s<r.length){var u=r[s];return s+=1,{value:u,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(r){return this.index.length>r?this.index[r]:-1}},{key:"_getKeyByStorageIndex",value:function(r){return this.index.indexOf(r)}},{key:Symbol.iterator,value:function(){return this.entries()}}]),e}();function PA(n){return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function aae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jYe(r.key),r)}}function jYe(n){var e=function UYe(n,e){if("object"!==PA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==PA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===PA(e)?e:String(e)}var WYe=["data","width"],YYe=function(){function n(e){var t=this;(function VYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.globalMeta=e,this.metas=new u5(function(){return t._createMeta()})}return function zYe(n,e,t){e&&aae(n.prototype,e),t&&aae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r){var i=this.getMeta(t);qa(i,r),MF(i,r)}},{key:"createColumn",value:function(t,r){this.metas.insert(t,r)}},{key:"removeColumn",value:function(t,r){this.metas.remove(t,r)}},{key:"getMeta",value:function(t){return this.metas.obtain(t)}},{key:"getMetaConstructor",value:function(t){return this.metas.obtain(t).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return function SYe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function t(){}fv(t,n);for(var r=0;r<e.length;r++)t.prototype[e[r]]=void 0;return t}(this.globalMeta.getMetaConstructor(),WYe).prototype}}]),n}();function LA(n){return(LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function GYe(n){return function ZYe(n){if(Array.isArray(n))return c5(n)}(n)||function XYe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function KYe(n,e){if(n){if("string"==typeof n)return c5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c5(n,e)}}(n)||function $Ye(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QYe(r.key),r)}}function QYe(n){var e=function eGe(n,e){if("object"!==LA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==LA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===LA(e)?e:String(e)}var tGe=function(){function n(e){var t=this;(function qYe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.columnMeta=e,this.metas=new u5(function(){return t._createRow()})}return function JYe(n,e,t){e&&lae(n.prototype,e),t&&lae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateMeta",value:function(t,r,i){var o=this.getMeta(t,r);qa(o,i),MF(o,i)}},{key:"createRow",value:function(t,r){this.metas.insert(t,r)}},{key:"createColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}},{key:"removeRow",value:function(t,r){this.metas.remove(t,r)}},{key:"removeColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}},{key:"getMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);return void 0===i?o:o[i]}},{key:"setMeta",value:function(t,r,i,o){var s,a=this.metas.obtain(t).obtain(r);null===(s=a._automaticallyAssignedMetaProps)||void 0===s||s.delete(i),a[i]=o}},{key:"removeMeta",value:function(t,r,i){delete this.metas.obtain(t).obtain(r)[i]}},{key:"getMetas",value:function(){for(var t=[],r=Array.from(this.metas.values()),i=0;i<r.length;i++)t.push.apply(t,GYe(r[i].values()));return t}},{key:"getMetasAtRow",value:function(t){CF(function(){return xF(t)},"Expecting an unsigned number.");var r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var t=this;return new u5(function(r){return t._createMeta(r)})}},{key:"_createMeta",value:function(t){return new(this.columnMeta.getMetaConstructor(t))}}]),n}();function IA(n){return(IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function nGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iGe(r.key),r)}}function iGe(n){var e=function oGe(n,e){if("object"!==IA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==IA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===IA(e)?e:String(e)}var cae=function(){function n(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];nGe(this,n),this.hot=e,this.globalMeta=new EYe(e),this.tableMeta=new OYe(this.globalMeta),this.columnMeta=new YYe(this.globalMeta),this.cellMeta=new tGe(this.columnMeta),i.forEach(function(o){return new o(t)}),this.globalMeta.updateMeta(r)}return function rGe(n,e,t){e&&uae(n.prototype,e),t&&uae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(t){this.globalMeta.updateMeta(t)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(t){this.tableMeta.updateMeta(t)}},{key:"getColumnMeta",value:function(t){return this.columnMeta.getMeta(t)}},{key:"updateColumnMeta",value:function(t,r){this.columnMeta.updateMeta(t,r)}},{key:"getCellMeta",value:function(t,r,i){var o=i.visualRow,s=i.visualColumn,a=this.cellMeta.getMeta(t,r);return a.visualRow=o,a.visualCol=s,a.row=t,a.col=r,this.runLocalHooks("afterGetCellMeta",a),a}},{key:"getCellMetaKeyValue",value:function(t,r,i){if("string"!=typeof i)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}},{key:"setCellMeta",value:function(t,r,i,o){this.cellMeta.setMeta(t,r,i,o)}},{key:"updateCellMeta",value:function(t,r,i){this.cellMeta.updateMeta(t,r,i)}},{key:"removeCellMeta",value:function(t,r,i){this.cellMeta.removeMeta(t,r,i)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(t){return this.cellMeta.getMetasAtRow(t)}},{key:"createRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(t,r)}},{key:"removeRow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(t,r)}},{key:"createColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}},{key:"removeColumn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}]),n}();function NA(n){return(NA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lGe(r.key),r)}}function lGe(n){var e=function uGe(n,e){if("object"!==NA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==NA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===NA(e)?e:String(e)}Ss(cae,Pc);var cGe=function(){function n(e){var t=this;(function sGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.metaSyncMemo=new Map,e.addLocalHook("afterGetCellMeta",function(r){return t.extendCellMeta(r)}),Tr.getSingleton().add("beforeRender",function(r){r&&t.metaSyncMemo.clear()},this.metaManager.hot)}return function aGe(n,e,t){e&&dae(n.prototype,e),t&&dae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendCellMeta",value:function(t){var r,i=t.row,o=t.col;if(null===(r=this.metaSyncMemo.get(i))||void 0===r||!r.has(o)){var s=t.visualRow,a=t.visualCol,u=this.metaManager.hot,c=u.colToProp(a);t.prop=c,u.runHooks("beforeGetCellMeta",s,a,t);var f=ya(t,"type")?t.type:null,p=Es(t.cells)?t.cells(i,o,c):null;if(f)if(p){var g;p.type=null!==(g=p.type)&&void 0!==g?g:f}else p={type:f};p&&this.metaManager.updateCellMeta(i,o,p),u.runHooks("afterGetCellMeta",s,a,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}}]),n}();function FA(n){return(FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hGe(r.key),r)}}function hGe(n){var e=function pGe(n,e){if("object"!==FA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==FA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===FA(e)?e:String(e)}var mGe=function(){function n(e){(function dGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.metaManager=e,this.usageTracker=new Set,this.propDescriptors=new Map([["fixedColumnsLeft",{target:"fixedColumnsStart",onChange:function(r){if(this.metaManager.hot.isRtl()&&"fixedColumnsLeft"===r)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange:function(r,i,o){if(!o)throw new Error("The `".concat(r,"` option can not be updated after the Handsontable is initialized."))}}]]),this.extendMetaProps()}return function fGe(n,e,t){e&&fae(n.prototype,e),t&&fae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"extendMetaProps",value:function(){var t=this;this.propDescriptors.forEach(function(r,i){var o=r.target,s=r.onChange,a=void 0===s?function(){}:s,u="string"==typeof o,c=u?o:i,f="_".concat(c);t.metaManager.globalMeta.meta[f]=t.metaManager.globalMeta.meta[c],t.installPropWatcher(i,f,a),u&&t.installPropWatcher(o,f,a)})}},{key:"installPropWatcher",value:function(t,r,i){var o=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get:function(){return this[r]},set:function(a){var u=!o.usageTracker.has(t);o.usageTracker.add(t),i.call(o,t,a,u),this[r]=a},enumerable:!0,configurable:!0})}}]),n}(),hae=(b(3112),/^(\r\n|\n\r|\r|\n)/),gGe=/^[^\t\r\n]+/,pae=/^\t/;function HA(n){var e,t,r,i,s,o="";for(e=0,t=n.length;e<t;e+=1){for(i=n[e].length,r=0;r<i;r+=1)r>0&&(o+="\t"),"string"==typeof(s=n[e][r])?s.indexOf("\n")>-1?o+='"'.concat(s.replace(/"/g,'""'),'"'):o+=s:o+=null==s?"":s;e!==t-1&&(o+="\n")}return o}function d5(n){return function wGe(n){if(Array.isArray(n))return f5(n)}(n)||function bGe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function _Ge(n,e){if(n){if("string"==typeof n)return f5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f5(n,e)}}(n)||function vGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Yx(n){return(Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,xGe(r.key),r)}}function xGe(n){var e=function CGe(n,e){if("object"!==Yx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Yx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Yx(e)?e:String(e)}const TGe=function(){function n(e,t,r){(function SGe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.instance=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=t,this.duckSchema=this.createDuckSchema(),this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}return function MGe(n,e,t){e&&mae(n.prototype,e),t&&mae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"createMap",value:function(){var t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var i,r=this.tableMeta.columns;if(this.colToPropCache=[],this.propToColCache=new Map,r){var o=0,s=0,a=!1;if("function"==typeof r){var u=VW(t);o=u>0?u:this.countFirstRowKeys(),a=!0}else o=Math.min(this.tableMeta.maxCols,r.length);for(i=0;i<o;i++){var f=a?r(i):r[i];if(to(f)){if(void 0!==f.data){var p=a?s:i;this.colToPropCache[p]=f.data,this.propToColCache.set(f.data,p)}s+=1}}}else this.recursiveDuckColumns(t)}},{key:"countFirstRowKeys",value:function(){return Loe(this.dataSource)}},{key:"recursiveDuckColumns",value:function(t,r,i){var u,o=this,s=r,a=i;return void 0===s&&(s=0,a=""),"object"===Yx(t)&&!Array.isArray(t)&&no(t,function(c,f){null===c?(o.colToPropCache.push(u=a+f),o.propToColCache.set(u,s),s+=1):s=o.recursiveDuckColumns(c,s,"".concat(f,"."))}),s}},{key:"colToProp",value:function(t){if(!1===Number.isInteger(t))return t;var r=this.instance.toPhysicalColumn(t);return null===r?t:this.colToPropCache&&Cr(this.colToPropCache[r])?this.colToPropCache[r]:r}},{key:"propToCol",value:function(t){var r=this.propToColCache.get(t);if(Cr(r))return this.instance.toVisualColumn(r);var i=this.instance.toVisualColumn(t);return null===i?t:i}},{key:"getSchema",value:function(){var t=this.tableMeta.dataSchema;return t?"function"==typeof t?t():t:this.duckSchema}},{key:"createDuckSchema",value:function(){return this.dataSource&&this.dataSource[0]?uD(this.dataSource[0]):{}}},{key:"refreshDuckSchema",value:function(){this.duckSchema=this.createDuckSchema()}},{key:"createRow",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.source,a=o.mode,u=void 0===a?"above":a,c=this.instance.countSourceRows(),f=c,p=0,g=t;("number"!=typeof g||g>=c)&&(g=c),g<this.instance.countRows()&&(f=this.instance.toPhysicalRow(g));var v=this.instance.runHooks("beforeCreateRow",g,i,s);if(!1===v||null===f)return{delta:0};for(var w=this.tableMeta.maxRows,M=this.getSchema().length,C=[],L=function(){var z=null;"array"===r.instance.dataType?r.tableMeta.dataSchema?z=Yu(r.getSchema()):(z=[],jr(M-1,function(){return z.push(null)})):"function"===r.instance.dataType?z=r.tableMeta.dataSchema(g+p):d2(z={},r.getSchema()),C.push(z),p+=1};p<i&&c+p<w;)L();this.instance.rowIndexMapper.insertIndexes(g,p),"below"===u&&(f=Math.min(f+1,c)),this.spliceData(f,0,C);var H=this.instance.toVisualRow(f);return this.instance.countSourceRows()===C.length&&this.instance.columnIndexMapper.initToLength(this.instance.getInitialColumnCount()),p>0&&(null==t?this.metaManager.createRow(null,p):"auto"!==s&&this.metaManager.createRow(f,i)),this.instance.runHooks("afterCreateRow",H,p,s),this.instance.forceFullRender=!0,{delta:p,startPhysicalIndex:f}}},{key:"createCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.source,s=i.mode,a=void 0===s?"start":s;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var u=this.dataSource,c=this.tableMeta.maxCols,f=this.instance.countSourceCols(),p=t;("number"!=typeof p||p>=f)&&(p=f);var g=this.instance.runHooks("beforeCreateCol",p,r,o);if(!1===g)return{delta:0};var v=f;p<this.instance.countCols()&&(v=this.instance.toPhysicalColumn(p));var w=this.instance.countSourceRows(),M=this.instance.countCols(),C=0,L=v;"end"===a&&(L=Math.min(L+1,f));for(var H=L;C<r&&M<c;){if("number"!=typeof p||p>=M)if(w>0)for(var V=0;V<w;V+=1)void 0===u[V]&&(u[V]=[]),u[V].push(null);else u.push([null]);else for(var z=0;z<w;z++)u[z].splice(L,0,null);C+=1,L+=1,M+=1}this.instance.columnIndexMapper.insertIndexes(p,C),C>0&&(null==t?this.metaManager.createColumn(null,C):"auto"!==o&&this.metaManager.createColumn(H,r));var X=this.instance.toVisualColumn(H);return this.instance.runHooks("afterCreateCol",X,C,o),this.instance.forceFullRender=!0,this.refreshDuckSchema(),{delta:C,startPhysicalIndex:H}}},{key:"removeRow",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=Number.isInteger(t)?t:-i,a=this.visualRowsToPhysical(s,i),u=this.instance.countSourceRows(),c=this.instance.runHooks("beforeRemoveRow",s=(u+s)%u,a.length,a,o);if(!1===c)return!1;var f=a.length;if(this.filterData(s,f,a),s<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(a);var p=Cr(this.tableMeta.columns)||Cr(this.tableMeta.dataSchema);0===this.instance.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===p&&this.instance.columnIndexMapper.setIndexesSequence([])}var g=a.slice(0).sort(function(v,w){return w-v});return g.forEach(function(v){r.metaManager.removeRow(v,1)}),this.instance.runHooks("afterRemoveRow",s,f,a,o),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var o="number"!=typeof t?-r:t;o=(this.instance.countCols()+o)%this.instance.countCols();var s=this.visualColumnsToPhysical(o,r),a=s.slice(0).sort(function(H,V){return V-H}),u=this.instance.runHooks("beforeRemoveCol",o,r,s,i);if(!1===u)return!1;for(var c=!0,f=a.length,p=this.dataSource,g=0;g<f;g++)c&&s[0]!==s[g]-g&&(c=!1);if(c)for(var v=0,w=this.instance.countSourceRows();v<w;v++)p[v].splice(s[0],r),0===v&&this.metaManager.removeColumn(s[0],r);else for(var M=0,C=this.instance.countSourceRows();M<C;M++)for(var L=0;L<f;L++)p[M].splice(a[L],1),0===M&&this.metaManager.removeColumn(a[L],1);return o<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(s),0===this.instance.columnIndexMapper.getNotTrimmedIndexesLength()&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",o,r,s,i),this.instance.forceFullRender=!0,this.refreshDuckSchema(),!0}},{key:"spliceCol",value:function(t,r,i){for(var o=this.instance.getDataAtCol(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),f=3;f<u;f++)c[f-3]=arguments[f];Fne(c,a);for(var p=0;p<i;)c.push(null),p+=1;return iIe(c),this.instance.populateFromArray(r,t,c,null,null,"spliceCol"),s}},{key:"spliceRow",value:function(t,r,i){for(var o=this.instance.getSourceDataAtRow(t),s=o.slice(r,r+i),a=o.slice(r+i),u=arguments.length,c=new Array(u>3?u-3:0),f=3;f<u;f++)c[f-3]=arguments[f];Fne(c,a);for(var p=0;p<i;)c.push(null),p+=1;return this.instance.populateFromArray(t,r,[c],null,null,"spliceRow"),s}},{key:"spliceData",value:function(t,r,i){var o=this;if(!1!==this.instance.runHooks("beforeDataSplice",t,r,i)){var a=[].concat(d5(this.dataSource.slice(0,t)),d5(i),d5(this.dataSource.slice(t)));this.dataSource.length=0,a.forEach(function(u){return o.dataSource.push(u)})}}},{key:"filterData",value:function(t,r,i){var o=this.instance.runHooks("filterData",t,r,i);!1===Array.isArray(o)&&(o=this.dataSource.filter(function(s,a){return-1===i.indexOf(a)})),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}},{key:"get",value:function(t,r){var i=this.instance.toPhysicalRow(t),o=this.dataSource[i],s=this.instance.runHooks("modifyRowData",i),a=null;if((o=isNaN(s)?s:o)&&o.hasOwnProperty&&ya(o,r))a=o[r];else if("string"==typeof r&&r.indexOf(".")>-1){var u=r.split("."),c=o;if(!c)return null;for(var f=0,p=u.length;f<p;f++)if(void 0===(c=c[u[f]]))return null;a=c}else"function"==typeof r&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.instance.hasHook("modifyData")){var g=nx(a);this.instance.runHooks("modifyData",i,this.propToCol(r),g,"get"),g.isTouched()&&(a=g.value)}return a}},{key:"getCopyable",value:function(t,r){return this.instance.getCellMeta(t,this.propToCol(r)).copyable?this.get(t,r):""}},{key:"set",value:function(t,r,i){var o=this.instance.toPhysicalRow(t),s=i,a=this.dataSource[o],u=this.instance.runHooks("modifyRowData",o);if(a=isNaN(u)?u:a,this.instance.hasHook("modifyData")){var c=nx(s);this.instance.runHooks("modifyData",o,this.propToCol(r),c,"set"),c.isTouched()&&(s=c.value)}if(a&&a.hasOwnProperty&&ya(a,r))a[r]=s;else if("string"==typeof r&&r.indexOf(".")>-1){var v,f=r.split("."),p=a,g=0;for(g=0,v=f.length-1;g<v;g++)void 0===p[f[g]]&&(p[f[g]]={}),p=p[f[g]];p[f[g]]=s}else"function"==typeof r?r(this.dataSource.slice(o,o+1)[0],s):a[r]=s}},{key:"visualRowsToPhysical",value:function(t,r){for(var u,i=this.instance.countSourceRows(),o=[],s=(i+t)%i,a=r;s<i&&a;)u=this.instance.toPhysicalRow(s),o.push(u),a-=1,s+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,r){for(var i=this.instance.countCols(),o=[],s=(i+t)%i,a=r;s<i&&a;){var u=this.instance.toPhysicalColumn(s);o.push(u),a-=1,s+=1}return o}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var r=0;r<this.instance.countCols();r++)this.set(t,this.colToProp(r),"")}},{key:"getLength",value:function(){var r,t=this.tableMeta.maxRows;r=t<0||0===t?0:t||1/0;var i=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}},{key:"getAll",value:function(){var t={row:0,col:0},r={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-r.row!=0||this.instance.countSourceRows()?this.getRange(t,r,n.DESTINATION_RENDERER):[]}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,r,i){var s,a,u,o=[],c=this.tableMeta.maxRows,f=this.tableMeta.maxCols;if(0===c||0===f)return[];var p=i===n.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,g=Math.min(Math.max(c-1,0),Math.max(t.row,r.row)),v=Math.min(Math.max(f-1,0),Math.max(t.col,r.col));for(s=Math.min(t.row,r.row);s<=g;s++){u=[];var w=s>=0?this.instance.toPhysicalRow(s):s;for(a=Math.min(t.col,r.col);a<=v&&null!==w;a++)u.push(p.call(this,s,this.colToProp(a)));null!==w&&o.push(u)}return o}},{key:"getText",value:function(t,r){return HA(this.getRange(t,r,n.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,r){return HA(this.getRange(t,r,n.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),n}();function TF(n){return(TF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gae(n,e,t,r){var i=r.hotInstance,o=r.dataMap,s=r.dataSource,a=r.internalSource,u=r.source,c=r.metaManager,f=r.firstRun,p=fh(a),g=i.getSettings();i.dataType=Array.isArray(g.dataSchema)?"array":Es(g.dataSchema)?"function":"object",o&&o.destroy(),n=i.runHooks("before".concat(p),n,f,u);var v=new TGe(i,n,c);if(e(v),"object"===TF(n)&&null!==n)n.push&&n.splice||(n=[n]);else{if(null!==n)throw new Error("".concat(a," only accepts array of objects or array of arrays (").concat(TF(n)," given)"));var w=v.getSchema();n=[];var M,L,C=0;for(C=0,L=g.startRows;C<L;C++)if("object"!==i.dataType&&"function"!==i.dataType||!g.dataSchema)if("array"===i.dataType)M=Yu(w[0]),n.push(M);else{M=[];for(var H=0,V=g.startCols;H<V;H++)M.push(null);n.push(M)}else M=Yu(w),n.push(M)}Array.isArray(n[0])&&(i.dataType="array"),g.data=n,v.dataSource=n,s.data=n,s.dataType=i.dataType,s.colToProp=v.colToProp.bind(v),s.propToCol=v.propToCol.bind(v),s.countCachedColumns=v.countCachedColumns.bind(v),t(v),i.runHooks("after".concat(p),n,f,u),f||(i.runHooks("afterChange",null,a),i.render())}var _ae,yae=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),RF=function(e){return e.map(function(t){var r=t.toLowerCase();return yae.has(r)?yae.get(r):r}).sort().join("+")},vae=function(e){return e.toLowerCase()};function bae(n,e){if(n){if("string"==typeof n)return h5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h5(n,e)}}function h5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FGe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var wae,Sae,VGe=["meta","alt","shift","control"],BA=function BGe(){var n=new Set;return{press:function(t){n.add(t)},release:function(t){n.delete(t)},releaseAll:function(){n.clear()},isPressed:function(t){return n.has(t)}}}(),jGe=function(e){var t=e.ownerWindow,r=e.handleEvent,i=e.beforeKeyDown,o=e.afterKeyDown,s=x2({errorIdExists:function(M){return'The "'.concat(M,'" context name is already registered.')}}),a="grid",c=function(){return a},f=function(M){return s.getItem(M)},g=!1,v=function zGe(n,e,t,r,i){var o=function(v){return VGe.includes(v)},s=function(v){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=[];return v.altKey&&M.push("alt"),w&&(v.ctrlKey||v.metaKey)?M.push("control/meta"):(v.ctrlKey&&M.push("control"),v.metaKey&&M.push("meta")),v.shiftKey&&M.push("shift"),M},a=function(v){if(!1!==e(v)){var w=t(v);if(229!==v.keyCode&&!1!==w&&!lx(v)){var M=vae(v.key),C=[];o(M)?BA.press(M):C=s(v);var L=[M].concat(C);!i(v,L)&&(Gne()&&C.includes("meta")||!Gne()&&C.includes("control"))&&i(v,[M].concat(s(v,!0))),r(v)}}},u=function(v){if(!1!==e(v)){var w=vae(v.key);!1!==o(w)&&BA.release(w)}},c=function(){BA.releaseAll()};return{mount:function(){for(var v=n;v;)v.document.documentElement.addEventListener("keydown",a),v.document.documentElement.addEventListener("keyup",u),v.document.documentElement.addEventListener("blur",c),v=f2(v)},unmount:function(){for(var v=n;v;)v.document.documentElement.removeEventListener("keydown",a),v.document.documentElement.removeEventListener("keyup",u),v.document.documentElement.removeEventListener("blur",c),v=f2(v)},isPressed:function(v){return BA.isPressed(v)},releasePressedKeys:function(){return BA.releaseAll()}}}(t,r,i,o,function(w,M){var C=f(c()),L=!1;if(!C.hasShortcut(M))return L;for(var H=C.getShortcuts(M),V=0;V<H.length;V++){var z=H[V],X=z.callback,me=z.preventDefault,ne=z.stopPropagation,pe=z.captureCtrl;if(!1!==(0,z.runOnlyIf)(w)&&(g=pe,L=!1===X(w,M),g=!1,me&&w.preventDefault(),ne&&w.stopPropagation(),L))break}return L});return v.mount(),{addContext:function(M){var C=function(e){var t=x2({errorIdExists:function(f){return'The "'.concat(f,'" shortcut is already registered in the "').concat(e,'" context.')}}),r=function(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=f.keys,g=f.callback,v=f.group,w=f.runOnlyIf,M=void 0===w?function(){return!0}:w,C=f.captureCtrl,L=void 0!==C&&C,H=f.preventDefault,V=void 0===H||H,z=f.stopPropagation,X=void 0!==z&&z,re=f.relativeToGroup,me=f.position;if(Ms(v))throw new Error("You need to define the shortcut's group.");if(!1===Es(g))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(p))throw new Error(ns(_ae||(_ae=FGe(["Pass the shortcut's keys as an array of arrays, \n      using the KeyboardEvent.key properties: \n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."],["Pass the shortcut\\'s keys as an array of arrays,\\x20\n      using the KeyboardEvent.key properties:\\x20\n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."]))));var ne={callback:g,group:v,runOnlyIf:M,captureCtrl:L,preventDefault:V,stopPropagation:X};if(Cr(re)){var pe=[re,me];ne.relativeToGroup=pe[0],ne.position=pe[1]}p.forEach(function(Se){var Ie=RF(Se);if(t.hasItem(Ie)){var at=t.getItem(Ie),ze=at.findIndex(function(vt){return vt.group===re});-1!==ze?"before"===me?ze-=1:ze+=1:ze=at.length,at.splice(ze,0,ne)}else t.addItem(Ie,[ne])})},o=function(f){var p=RF(f);t.removeItem(p)};return{addShortcut:r,addShortcuts:function(f){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.forEach(function(g){no(p,function(v,w){!1===Object.prototype.hasOwnProperty.call(g,w)&&(g[w]=p[w])}),r(g)})},getShortcuts:function(f){var p=RF(f),g=t.getItem(p);return Cr(g)?g.slice():[]},hasShortcut:function(f){var p=RF(f);return t.hasItem(p)},removeShortcutsByKeys:o,removeShortcutsByGroup:function(f){t.getItems().forEach(function(g){var v=function PGe(n,e){return function NGe(n){if(Array.isArray(n))return n}(n)||function IGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||bae(n,e)||function LGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,2),w=v[0],M=v[1],C=M.filter(function(L){return L.group!==f});0===C.length?o(function(e){return e.split("+")}(w)):(M.length=0,M.push.apply(M,function DGe(n){return function kGe(n){if(Array.isArray(n))return h5(n)}(n)||function OGe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||bae(n)||function AGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(C)))})}}}(M);return s.addItem(M,C),C},getActiveContextName:c,getContext:f,setActiveContextName:function(M){a=M},isCtrlPressed:function(){return!g&&(v.isPressed("control")||v.isPressed("meta"))},releasePressedKeys:function(){return v.releasePressedKeys()},destroy:function(){return v.unmount()}}};function Lc(n){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Mae(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function gp(n,e){return function YGe(n){if(Array.isArray(n))return n}(n)||function WGe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||xae(n,e)||function UGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gx(n){return function KGe(n){if(Array.isArray(n))return p5(n)}(n)||function $Ge(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||xae(n)||function GGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xae(n,e){if(n){if("string"==typeof n)return p5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p5(n,e)}}function p5(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var XGe="gridDefault",m5=null,DF=new Set;function g5(n,e){var t,u,c,f,p,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=this,a=new ea(s),g=!0;bze(i)&&_ze(this),this.rootElement=n,this.rootDocument=n.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;var v=null!==(t=null==e?void 0:e.layoutDirection)&&void 0!==t?t:"inherit",w=["rtl","ltr"].includes(v)?v:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",w),this.isRtl=function(){return"rtl"===w},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=iWe(e.language);var M=new cae(s,e,[cGe,mGe]),C=M.getTableMeta(),L=M.getGlobalMeta(),H=x2();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,n.insertBefore(this.container,n.firstChild),tY(this)&&FIe(e.licenseKey,n),this.guid="ht_".concat($ne()),this.columnIndexMapper=new DY,this.rowIndexMapper=new DY,this.columnIndexMapper.addLocalHook("indexesSequenceChange",function(Y){s.runHooks("afterColumnSequenceChange",Y)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",function(Y){s.runHooks("afterRowSequenceChange",Y)}),c=new jze(s),(!this.rootElement.id||"ht_"===this.rootElement.id.substring(0,3))&&(this.rootElement.id=this.guid);var V=function(Q){var he=Q.row,ge=Q.col;return s._createCellCoords(he>=0?s.rowIndexMapper.getRenderableFromVisualIndex(he):he,ge>=0?s.columnIndexMapper.getRenderableFromVisualIndex(ge):ge)},z=function(Q){var he=Q.row,ge=Q.col;return s._createCellCoords(he>=0?s.rowIndexMapper.getVisualFromRenderableIndex(he):he,ge>=0?s.columnIndexMapper.getVisualFromRenderableIndex(ge):ge)},X=new yYe(C,{rowIndexMapper:function(){return s.rowIndexMapper},columnIndexMapper:function(){return s.columnIndexMapper},countCols:function(){return s.countCols()},countRows:function(){return s.countRows()},propToCol:function(Q){return u.propToCol(Q)},isEditorOpened:function(){return!!s.getActiveEditor()&&s.getActiveEditor().isOpened()},countColsTranslated:function(){return r.view.countRenderableColumns()},countRowsTranslated:function(){return r.view.countRenderableRows()},getShortcutManager:function(){return s.getShortcutManager()},createCellCoords:function(Q,he){return s._createCellCoords(Q,he)},createCellRange:function(Q,he,ge){return s._createCellRange(Q,he,ge)},visualToRenderableCoords:V,renderableToVisualCoords:z,isDisabledCellSelection:function(Q,he){return s.getCellMeta(Q,he).disableVisualSelection}});this.selection=X;var re=function(Q){Q.hiddenIndexesChanged&&r.selection.refresh()};function me(Y){var Q=sse(Y);ZG(Q)?(s.runHooks("beforeLanguageChange",Q),L.language=Q,s.runHooks("afterLanguageChange",Q)):ase(Y)}function ne(Y,Q){var he="className"===Y?s.rootElement:s.table;if(g)Dn(he,Q);else{var ge=[],Me=[];L[Y]&&(ge=Array.isArray(L[Y])?L[Y]:Vne(L[Y])),Q&&(Me=Array.isArray(Q)?Q:Vne(Q));var Xe=Bne(ge,Me),Je=Bne(Me,ge);Xe.length&&Bi(he,Xe),Je.length&&Dn(he,Je)}L[Y]=Q}function pe(){var Y=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,Y=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===Y&&(Y=!0,this.onQueueEmpty(this.valid))}}}function Se(Y){var Q=Y.replace(",",".");return!1===isNaN(parseFloat(Q))?parseFloat(Q):Y}function Ie(Y,Q,he){if(Y.length){var ge=s.getActiveEditor(),Me=s.runHooks("beforeChange",Y,Q||"edit"),Xe=!0;if(!1===Me)return void(ge&&ge.cancelChanges());var Je=new pe;Je.onQueueEmpty=function(Tt){ge&&Xe&&ge.cancelChanges(),he(Tt)};for(var tt=Y.length-1;tt>=0;tt--)if(null===Y[tt])Y.splice(tt,1);else{var Rt=gp(Y[tt],4),Wt=Rt[0],bt=Rt[3],en=u.propToCol(Rt[1]),mt=s.getCellMeta(Wt,en);"numeric"===mt.type&&"string"==typeof bt&&kNe(bt)&&(Y[tt][3]=Se(bt)),s.getCellValidator(mt)&&(Je.addValidatorToQueue(),s.validateCell(Y[tt][3],mt,function(Tt,Kt){return function(Cn){if("boolean"!=typeof Cn)throw new Error("Validation error: result is not boolean");if(!1===Cn&&!1===Kt.allowInvalid){Xe=!1,Y.splice(Tt,1),Kt.valid=!0;var _n=s.getCell(Kt.visualRow,Kt.visualCol);null!==_n&&Bi(_n,C.invalidCellClassName)}Je.removeValidatorFormQueue()}}(tt,mt),Q))}Je.checkIfQueueIsEmpty()}}function ot(Y,Q){var he=Y.length-1;if(!(he<0)){for(;he>=0;he--){var ge=!1;if(null!==Y[he]){if(null!=Y[he][2]||null!=Y[he][3]){if(C.allowInsertRow)for(;Y[he][0]>s.countRows()-1;)if(0===u.createRow(void 0,void 0,{source:Q}).delta){ge=!0;break}if("array"===s.dataType&&(!C.columns||0===C.columns.length)&&C.allowInsertColumn)for(;u.propToCol(Y[he][1])>s.countCols()-1;)if(0===u.createCol(void 0,void 0,{source:Q}).delta){ge=!0;break}ge||u.set(Y[he][0],Y[he][1],Y[he][3])}}else Y.splice(he,1)}s.forceFullRender=!0,f.adjustRowsAndCols(),s.runHooks("beforeChangeRender",Y,Q),p.lockEditor(),s._refreshBorders(null),p.unlockEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",Y,Q||"edit");var Rt=s.getActiveEditor();Rt&&Cr(Rt.refreshValue)&&Rt.refreshValue()}}function at(Y,Q,he){return Array.isArray(Y)?Y:[[Y,Q,he]]}this.columnIndexMapper.addLocalHook("cacheUpdated",re),this.rowIndexMapper.addLocalHook("cacheUpdated",re),this.selection.addLocalHook("beforeSetRangeStart",function(Y){r.runHooks("beforeSetRangeStart",Y)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(Y){r.runHooks("beforeSetRangeStartOnly",Y)}),this.selection.addLocalHook("beforeSetRangeEnd",function(Y){r.runHooks("beforeSetRangeEnd",Y),Y.row<0&&(Y.row=r.view._wt.wtTable.getFirstVisibleRow()),Y.col<0&&(Y.col=r.view._wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(Y){var Q=nx(!1),he=r.selection.getSelectedRange(),ge=he.current(),Me=ge.from,Xe=ge.to,Je=he.size()-1;r.runHooks("afterSelection",Me.row,Me.col,Xe.row,Xe.col,Q,Je),r.runHooks("afterSelectionByProp",Me.row,s.colToProp(Me.col),Xe.row,s.colToProp(Xe.col),Q,Je);var tt=r.selection.isSelectedByAnyHeader(),Rt=r.selection.selectedRange.current(),Wt=!0;o&&(Wt=!1),Q.isTouched()&&(Wt=!Q.value);var Nt=r.selection.isSelectedByRowHeader(),bt=r.selection.isSelectedByColumnHeader();!1!==Wt&&(tt?Nt?r.view.scrollViewportVertically(s.rowIndexMapper.getRenderableFromVisualIndex(Y.row)):bt&&r.view.scrollViewportHorizontally(s.columnIndexMapper.getRenderableFromVisualIndex(Y.col)):Rt&&!r.selection.isMultiple()?r.view.scrollViewport(V(Rt.from)):r.view.scrollViewport(V(Y))),Nt&&bt?Dn(r.rootElement,["ht__selection--rows","ht__selection--columns"]):Nt?(Bi(r.rootElement,"ht__selection--columns"),Dn(r.rootElement,"ht__selection--rows")):bt?(Bi(r.rootElement,"ht__selection--rows"),Dn(r.rootElement,"ht__selection--columns")):Bi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(Y){var Q=Y.length-1,he=Y[Q],ge=he.from,Me=he.to;r.runHooks("afterSelectionEnd",ge.row,ge.col,Me.row,Me.col,Q),r.runHooks("afterSelectionEndByProp",ge.row,s.colToProp(ge.col),Me.row,s.colToProp(Me.col),Q)}),this.selection.addLocalHook("afterIsMultipleSelection",function(Y){var Q=r.runHooks("afterIsMultipleSelection",Y.value);Y.value&&(Y.value=Q)}),this.selection.addLocalHook("beforeModifyTransformStart",function(Y){r.runHooks("modifyTransformStart",Y)}),this.selection.addLocalHook("afterModifyTransformStart",function(Y,Q,he){r.runHooks("afterModifyTransformStart",Y,Q,he)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(Y){r.runHooks("modifyTransformEnd",Y)}),this.selection.addLocalHook("afterModifyTransformEnd",function(Y,Q,he){r.runHooks("afterModifyTransformEnd",Y,Q,he)}),this.selection.addLocalHook("afterDeselect",function(){p.destroyEditor(),r._refreshBorders(),Bi(r.rootElement,["ht__selection--rows","ht__selection--columns"]),r.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(Y){r.alter("insert_row_above",Y,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(Y){r.alter("insert_col_start",Y,1,"auto")}),f={alter:function(Q,he){var ge,Me,Xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,Je=arguments.length>3?arguments[3]:void 0,tt=arguments.length>4?arguments[4]:void 0,Rt=function(sr){if(0===sr.length)return[];var Or=Gx(sr);return Or.sort(function(Gn,ar){var Ki=gp(Gn,1)[0],Lo=gp(ar,1)[0];return Ki===Lo?0:Ki>Lo?1:-1}),Za(Or,function(Gn,ar){var ri=gp(ar,2),Ki=ri[0],Li=ri[1],Lo=Gn[Gn.length-1],qo=gp(Lo,2),Qa=qo[0]+qo[1];if(Ki<=Qa){var vf=Math.max(Li-(Qa-Ki),0);Lo[1]+=vf}else Gn.push([Ki,Li]);return Gn},[Or[0]])};switch(Q){case"insert_row":DF.has(Q)||(DF.add(Q),cs(ns(wae||(wae=Mae(["The `","` action of the `alter()` method is deprecated and will be removed \n                              in the next major release of Handsontable. Use the `insert_row_above` action instead."],["The \\`","\\` action of the \\`alter()\\` method is deprecated and will be removed\\x20\n                              in the next major release of Handsontable. Use the \\`insert_row_above\\` action instead."])),Q)));case"insert_row_below":case"insert_row_above":var Wt=s.countSourceRows();if(C.maxRows===Wt)return;var Nt="insert_row_below"===Q?"below":"above";he=null!==(ge=he)&&void 0!==ge?ge:"insert_row"===Q||"below"===Nt?Wt:0;var bt=u.createRow(he,Xe,{source:Je,mode:Nt}),en=bt.delta,mt=bt.startPhysicalIndex;if(en){var Tt=X.selectedRange.current(),Kt=null==Tt?void 0:Tt.from,Cn=null==Kt?void 0:Kt.row,_n=s.toVisualRow(mt);if(X.isSelectedByCorner())s.selectAll();else if(Cr(Cn)&&Cn>=_n){var Qn=Tt.to,In=Qn.row,cn=Qn.col,En=Kt.col;X.isSelectedByRowHeader()&&(En=-1),X.getSelectedRange().pop(),X.setRangeStartOnly(s._createCellCoords(Cn+en,En),!0),X.setRangeEnd(s._createCellCoords(In+en,cn))}else s._refreshBorders()}break;case"insert_col":DF.has(Q)||(DF.add(Q),cs(ns(Sae||(Sae=Mae(["The `","` action of the `alter()` method is deprecated and will be removed \n                              in the next major release of Handsontable. Use the `insert_col_start` action instead."],["The \\`","\\` action of the \\`alter()\\` method is deprecated and will be removed\\x20\n                              in the next major release of Handsontable. Use the \\`insert_col_start\\` action instead."])),Q)));case"insert_col_start":case"insert_col_end":var Un="insert_col_end"===Q?"end":"start";he=null!==(Me=he)&&void 0!==Me?Me:"insert_col"===Q||"end"===Un?s.countSourceCols():0;var He=u.createCol(he,Xe,{source:Je,mode:Un}),Ce=He.delta,Vt=He.startPhysicalIndex;if(Ce){if(Array.isArray(C.colHeaders)){var rn=[s.toVisualColumn(Vt),0];rn.length+=Ce,Array.prototype.splice.apply(C.colHeaders,rn)}var mn=X.selectedRange.current(),Fn=null==mn?void 0:mn.from,Nr=null==Fn?void 0:Fn.col,Gt=s.toVisualColumn(Vt);if(X.isSelectedByCorner())s.selectAll();else if(Cr(Nr)&&Nr>=Gt){var yr=mn.to,nr=yr.row,er=yr.col,yt=Fn.row;X.isSelectedByColumnHeader()&&(yt=-1),X.getSelectedRange().pop(),X.setRangeStartOnly(s._createCellCoords(yt,Nr+Ce),!0),X.setRangeEnd(s._createCellCoords(nr,er+Ce))}else s._refreshBorders()}break;case"remove_row":var Wn=function(sr){var Or=0;ut(sr,function(Tn){var Gn=gp(Tn,2),ar=Gn[0],ri=Gn[1],Ki=yl(ar)?s.countRows()-1:Math.max(ar-Or,0);if(Number.isInteger(ar)&&(ar=Math.max(ar-Or,0)),u.removeRow(ar,ri,Je)){var Lo=s.countRows(),qo=C.fixedRowsTop;qo>=Ki+1&&(C.fixedRowsTop-=Math.min(ri,qo-Ki));var _a=C.fixedRowsBottom;_a&&Ki>=Lo-_a&&(C.fixedRowsBottom-=Math.min(ri,_a)),Or+=ri}})};Array.isArray(he)?Wn(Rt(he)):Wn([[he,Xe]]),f.adjustRowsAndCols(),s._refreshBorders();break;case"remove_col":var Hn=function(sr){var Or=0;ut(sr,function(Tn){var Gn=gp(Tn,2),ar=Gn[0],ri=Gn[1],Ki=yl(ar)?s.countCols()-1:Math.max(ar-Or,0),Li=s.toPhysicalColumn(Ki);if(Number.isInteger(ar)&&(ar=Math.max(ar-Or,0)),u.removeCol(ar,ri,Je)){var qo=C.fixedColumnsStart;qo>=Ki+1&&(C.fixedColumnsStart-=Math.min(ri,qo-Ki)),Array.isArray(C.colHeaders)&&(void 0===Li&&(Li=-1),C.colHeaders.splice(Li,ri)),Or+=ri}})};Array.isArray(he)?Hn(Rt(he)):Hn([[he,Xe]]),f.adjustRowsAndCols(),s._refreshBorders();break;default:throw new Error('There is no such action "'.concat(Q,'"'))}tt||f.adjustRowsAndCols()},adjustRowsAndCols:function(){var Wt,Q=C.minRows,he=C.minSpareRows,ge=C.minCols,Me=C.minSpareCols;if(0===s.countRows()&&0===s.countCols()&&X.deselect(),Q){var Xe=s.countRows();Xe<Q&&u.createRow(Xe,Q-Xe,{source:"auto"})}if(he){var Je=s.countEmptyRows(!0);if(Je<he){var Rt=Math.min(he-Je,C.maxRows-s.countSourceRows());u.createRow(s.countRows(),Rt,{source:"auto"})}}(ge||Me)&&(Wt=s.countEmptyCols(!0));var Nt=s.countCols();if(ge&&!C.columns&&Nt<ge){var bt=ge-Nt;Wt+=bt,u.createCol(Nt,bt,{source:"auto"})}if(Me&&!C.columns&&"array"===s.dataType&&Wt<Me){Nt=s.countCols();var mt=Math.min(Me-Wt,C.maxCols-Nt);u.createCol(Nt,mt,{source:"auto"})}if(X.isSelected()){var Tt=s.countRows(),Kt=s.countCols();ut(X.selectedRange,function(Cn){var _n=!1,Qn=Cn.from.row,In=Cn.from.col,cn=Cn.to.row,En=Cn.to.col;Qn>Tt-1?(_n=!0,cn>(Qn=Tt-1)&&(cn=Qn)):cn>Tt-1&&(_n=!0,Qn>(cn=Tt-1)&&(Qn=cn)),In>Kt-1?(_n=!0,En>(In=Kt-1)&&(En=In)):En>Kt-1&&(_n=!0,In>(En=Kt-1)&&(In=En)),_n&&s.selectCell(Qn,In,cn,En)})}s.view&&s.view.adjustElementsSize()},populateFromArray:function(Q,he,ge,Me,Xe,Je,tt){var Rt,Wt,Nt,bt,en=[],mt={},Tt=[],Kt=Q.row,Cn=Q.col;if(0===(Wt=he.length))return!1;var _n=0,Qn=0;switch(to(ge)&&(_n=ge.col-Cn+1,Qn=ge.row-Kt+1),Xe){case"shift_down":var In=c2(he),cn=In.length,En=Math.max(cn,_n),Un=s.getData().slice(Kt),He=c2(Un).slice(Cn,Cn+En);for(Nt=0;Nt<En;Nt+=1)if(Nt<cn){for(Rt=0,Wt=In[Nt].length;Rt<Qn-Wt;Rt+=1)In[Nt].push(In[Nt][Rt%Wt]);Tt.push(In[Nt].concat(Nt<He.length?He[Nt]:new Array(Un.length).fill(null)))}else Tt.push(In[Nt%cn].concat(He[Nt]));s.populateFromArray(Kt,Cn,c2(Tt));break;case"shift_right":var Ce=he.length,Vt=Math.max(Ce,Qn),rn=s.getData().slice(Kt).map(function(qo){return qo.slice(Cn)});for(Rt=0;Rt<Vt;Rt+=1)if(Rt<Ce){for(Nt=0,bt=he[Rt].length;Nt<_n-bt;Nt+=1)he[Rt].push(he[Rt][Nt%bt]);var Fn;if(Rt<rn.length)for(var mn=0;mn<rn[Rt].length;mn+=1)he[Rt].push(rn[Rt][mn]);else(Fn=he[Rt]).push.apply(Fn,Gx(new Array(rn[0].length).fill(null)))}else he.push(he[Rt%Wt].slice(0,Vt).concat(rn[Rt]));s.populateFromArray(Kt,Cn,he);break;default:mt.row=Q.row,mt.col=Q.col;var er,Nr={row:ge&&Q?ge.row-Q.row+1:1,col:ge&&Q?ge.col-Q.col+1:1},Gt=0,yr=0,nr=!0,yt=function(_a){var Ic=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Qa=he[_a%he.length];return null!==Ic?Qa[Ic%Qa.length]:Qa},Wn=he.length,Hn=ge?ge.row-Q.row+1:0;for(Wt=ge?Hn:Math.max(Wn,Hn),Rt=0;Rt<Wt&&!(ge&&mt.row>ge.row&&Hn>Wn||!C.allowInsertRow&&mt.row>s.countRows()-1||mt.row>=C.maxRows);Rt++){var Yr=Rt-Gt,sr=yt(Yr).length,Or=ge?ge.col-Q.col+1:0;if(bt=ge?Or:Math.max(sr,Or),mt.col=Q.col,er=s.getCellMeta(mt.row,mt.col),"CopyPaste.paste"!==Me&&"Autofill.fill"!==Me||!er.skipRowOnPaste){for(yr=0,Nt=0;Nt<bt&&!(ge&&mt.col>ge.col&&Or>sr||!C.allowInsertColumn&&mt.col>s.countCols()-1||mt.col>=C.maxCols);Nt++)if(er=s.getCellMeta(mt.row,mt.col),"CopyPaste.paste"!==Me&&"Autofill.fill"!==Me||!er.skipColumnOnPaste)if(er.readOnly&&"UndoRedo.undo"!==Me)mt.col+=1;else{var Tn=Nt-yr,Gn=yt(Yr,Tn),ar=s.getDataAtCell(mt.row,mt.col);if("Autofill.fill"===Me){var Ki=s.runHooks("beforeAutofillInsidePopulate",{row:Yr,col:Tn},Je,he,tt,{},Nr);Ki&&(Gn=Ms(Ki.value)?Gn:Ki.value)}if(null!==Gn&&"object"===Lc(Gn))if(Array.isArray(Gn)&&null===ar&&(ar=[]),null===ar||"object"!==Lc(ar))nr=!1;else{var Li=uD(Array.isArray(ar)?ar:ar[0]||ar),Lo=uD(Array.isArray(Gn)?Gn:Gn[0]||Gn);HW(Li,Lo)||Array.isArray(Li)&&Array.isArray(Lo)?Gn=Yu(Gn):nr=!1}else null!==ar&&"object"===Lc(ar)&&(nr=!1);nr&&en.push([mt.row,mt.col,Gn]),nr=!0,mt.col+=1}else yr+=1,mt.col+=1,bt+=1;mt.row+=1}else Gt+=1,mt.row+=1,Wt+=1}s.setDataAtCell(en,null,null,Me||"populateFromArray")}}},this.init=function(){c.setData(C.data),s.runHooks("beforeInit"),(up()||Wne())&&Dn(s.rootElement,"mobile"),this.updateSettings(C,!0),this.view=new Lze(this),p=_Ne.getInstance(s,C,X),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),!!g&&null===s.rootElement.offsetParent&&PIe(s.rootElement,function(){s.view._wt.wtOverlays.updateLastSpreaderSize(),s.render(),s.view.adjustElementsSize()}),"object"===Lc(g)&&(s.runHooks("afterChange",g[0],g[1]),g=!1),s.runHooks("afterInit")},this._createCellCoords=function(Y,Q){return s.view._wt.createCellCoords(Y,Q)},this._createCellRange=function(Y,Q,he){return s.view._wt.createCellRange(Y,Q,he)},this.validateCell=function(Y,Q,he,ge){var Je,Me=s.getCellValidator(Q);function Xe(Je){var tt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(tt&&!0!==Q.hidden){var Rt=Q.visualCol,Wt=Q.visualRow,Nt=s.getCell(Wt,Rt,!0);if(Nt&&"TH"!==Nt.nodeName){var bt=s.rowIndexMapper.getRenderableFromVisualIndex(Wt),en=s.columnIndexMapper.getRenderableFromVisualIndex(Rt);s.view._wt.getSetting("cellRenderer",bt,en,Nt)}he(Je)}else he(Je)}LIe(Me)&&(Je=Me,Me=function(tt,Rt){Rt(Je.test(tt))}),Es(Me)?(Y=s.runHooks("beforeValidate",Y,Q.visualRow,Q.prop,ge),s._registerImmediate(function(){Me.call(Q,Y,function(Je){!s||(Je=s.runHooks("afterValidate",Je,Y,Q.visualRow,Q.prop,ge),Q.valid=Je,Xe(Je),s.runHooks("postAfterValidate",Je,Y,Q.visualRow,Q.prop,ge))})})):s._registerImmediate(function(){Q.valid=!0,Xe(Q.valid,!1)})},this.setDataAtCell=function(Y,Q,he,ge){var tt,Rt,Wt,Me=at(Y,Q,he),Xe=[],Je=ge;for(tt=0,Rt=Me.length;tt<Rt;tt++){if("object"!==Lc(Me[tt]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof Me[tt][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");Wt=Me[tt][1]>=this.countCols()?Me[tt][1]:u.colToProp(Me[tt][1]),Xe.push([Me[tt][0],Wt,c.getAtCell(this.toPhysicalRow(Me[tt][0]),Me[tt][1]),Me[tt][2]])}!Je&&"object"===Lc(Y)&&(Je=Q),s.runHooks("afterSetDataAtCell",Xe,Je),Ie(Xe,Je,function(){ot(Xe,Je)})},this.setDataAtRowProp=function(Y,Q,he,ge){var tt,Rt,Me=at(Y,Q,he),Xe=[],Je=ge;for(tt=0,Rt=Me.length;tt<Rt;tt++)Xe.push([Me[tt][0],Me[tt][1],c.getAtCell(this.toPhysicalRow(Me[tt][0]),Me[tt][1]),Me[tt][2]]);!Je&&"object"===Lc(Y)&&(Je=Q),s.runHooks("afterSetDataAtRowProp",Xe,Je),Ie(Xe,Je,function(){ot(Xe,Je)})},this.listen=function(){s&&!s.isListening()&&(m5=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(m5=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return m5===s.guid},this.destroyEditor=function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s._refreshBorders(Y,Q)},this.populateFromArray=function(Y,Q,he,ge,Me,Xe,Je,tt,Rt){if("object"!==Lc(he)||"object"!==Lc(he[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var Wt="number"==typeof ge?s._createCellCoords(ge,Me):null;return f.populateFromArray(s._createCellCoords(Y,Q),he,Wt,Xe,Je,tt,Rt)},this.spliceCol=function(Y,Q,he){for(var ge,Me=arguments.length,Xe=new Array(Me>3?Me-3:0),Je=3;Je<Me;Je++)Xe[Je-3]=arguments[Je];return(ge=u).spliceCol.apply(ge,[Y,Q,he].concat(Xe))},this.spliceRow=function(Y,Q,he){for(var ge,Me=arguments.length,Xe=new Array(Me>3?Me-3:0),Je=3;Je<Me;Je++)Xe[Je-3]=arguments[Je];return(ge=u).spliceRow.apply(ge,[Y,Q,he].concat(Xe))},this.getSelected=function(){if(X.isSelected())return eo(X.getSelectedRange(),function(Y){var Q=Y.from,he=Y.to;return[Q.row,Q.col,he.row,he.col]})},this.getSelectedLast=function(){var Q,Y=this.getSelected();return Y&&Y.length>0&&(Q=Y[Y.length-1]),Q},this.getSelectedRange=function(){if(X.isSelected())return Array.from(X.getSelectedRange())},this.getSelectedRangeLast=function(){var Q,Y=this.getSelectedRange();return Y&&Y.length>0&&(Q=Y[Y.length-1]),Q},this.emptySelectedCells=function(Y){var Q=this;if(X.isSelected()&&0!==this.countRows()&&0!==this.countCols()){var he=[];ut(X.getSelectedRange(),function(ge){var Me=ge.getTopStartCorner(),Xe=ge.getBottomEndCorner();jr(Me.row,Xe.row,function(Je){jr(Me.col,Xe.col,function(tt){Q.getCellMeta(Je,tt).readOnly||he.push([Je,tt,null])})})}),he.length>0&&this.setDataAtCell(he,Y)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var Y=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(Y,0),!this.isRenderSuspended()&&Y===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(p.lockEditor(),this._refreshBorders(null),p.unlockEditor()))},this.batchRender=function(Y){this.suspendRender();var Q=Y();return this.resumeRender(),Q},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(Q,0),(!this.isExecutionSuspended()&&Q===this.executionSuspendedCounter||Y)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(Y){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();var he=Y();return this.resumeExecution(Q),he},this.batch=function(Y){this.suspendRender(),this.suspendExecution();var Q=Y();return this.resumeExecution(),this.resumeRender(),Q},this.refreshDimensions=function(){if(s.view){var Y=s.view.getLastSize(),Q=Y.width,he=Y.height,ge=s.rootElement.getBoundingClientRect(),Me=ge.width,Xe=ge.height,Je=Me!==Q||Xe!==he;!1===s.runHooks("beforeRefreshDimensions",{width:Q,height:he},{width:Me,height:Xe},Je)||((Je||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(Me,Xe),s.render()),s.runHooks("afterRefreshDimensions",{width:Q,height:he},{width:Me,height:Xe},Je))}},this.updateData=function(Y,Q){var he=this;gae(Y,function(ge){u=ge},function(ge){u=ge,s.columnIndexMapper.fitToLength(he.getInitialColumnCount()),s.rowIndexMapper.fitToLength(he.countSourceRows()),f.adjustRowsAndCols()},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"updateData",source:Q,metaManager:M,firstRun:g})},this.loadData=function(Y,Q){gae(Y,function(he){u=he},function(){M.clearCellsCache(),s.initIndexMappers(),f.adjustRowsAndCols(),g&&(g=[null,"loadData"])},{hotInstance:s,dataMap:u,dataSource:c,internalSource:"loadData",source:Q,metaManager:M,firstRun:g})},this.getInitialColumnCount=function(){var Y=C.columns,Q=0;if(Array.isArray(Y))Q=Y.length;else if(Es(Y))if("array"===s.dataType)for(var he=this.countSourceCols(),ge=0;ge<he;ge+=1)Y(ge)&&(Q+=1);else("object"===s.dataType||"function"===s.dataType)&&(Q=u.colToPropCache.length);else if(Cr(C.dataSchema)){var Me=u.getSchema();Q=Array.isArray(Me)?Me.length:VW(Me)}else Q=this.countSourceCols();return Q},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(Y,Q,he,ge){return Ms(Y)?u.getAll():u.getRange(s._createCellCoords(Y,Q),s._createCellCoords(he,ge),u.DESTINATION_RENDERER)},this.getCopyableText=function(Y,Q,he,ge){return u.getCopyableText(s._createCellCoords(Y,Q),s._createCellCoords(he,ge))},this.getCopyableData=function(Y,Q){return u.getCopyable(Y,u.colToProp(Q))},this.getSchema=function(){return u.getSchema()},this.updateSettings=function(Y){var Me,Xe,Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1],he=(g?s.loadData:s.updateData).bind(this),ge=!1;if(Cr(Y.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Cr(Y.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Cr(Y.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(Me in Y)"data"===Me||("language"===Me?me(Y.language):"className"===Me?ne("className",Y.className):"tableClassName"===Me&&s.table?(ne("tableClassName",Y.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):Tr.getSingleton().isRegistered(Me)||Tr.getSingleton().isDeprecated(Me)?(Es(Y[Me])||Array.isArray(Y[Me]))&&(Y[Me].initialHook=!0,s.addHook(Me,Y[Me])):!Q&&ya(Y,Me)&&(L[Me]=Y[Me]));void 0===Y.data&&void 0===C.data?he(null,"updateSettings"):void 0!==Y.data?he(Y.data,"updateSettings"):void 0!==Y.columns&&(u.createMap(),s.initIndexMappers());var Je=s.countCols(),tt=C.columns;if(tt&&Es(tt)&&(ge=!0),(void 0!==Y.cell||void 0!==Y.cells||void 0!==Y.columns)&&M.clearCache(),Je>0)for(Me=0,Xe=0;Me<Je;Me++){if(tt){var Rt=ge?tt(Me):tt[Xe];Rt&&M.updateColumnMeta(Xe,Rt)}Xe+=1}Cr(Y.cell)&&no(Y.cell,function(Tt){s.setCellMetaObject(Tt.row,Tt.col,Tt)}),s.runHooks("afterCellMetaReset");var Wt=s.rootElement.style.height;""!==Wt&&(Wt=parseInt(s.rootElement.style.height,10));var Nt=Y.height;if(Es(Nt)&&(Nt=Nt()),Q){var bt=s.rootElement.getAttribute("style");bt&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style"))}if(null===Nt){var en=s.rootElement.getAttribute("data-initialstyle");en&&(en.indexOf("height")>-1||en.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",en):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else void 0!==Nt&&(s.rootElement.style.height=isNaN(Nt)?"".concat(Nt):"".concat(Nt,"px"),s.rootElement.style.overflow="hidden");if(void 0!==Y.width){var mt=Y.width;Es(mt)&&(mt=mt()),s.rootElement.style.width=isNaN(mt)?"".concat(mt):"".concat(mt,"px")}Q||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",Y)),f.adjustRowsAndCols(),s.view&&!g&&(s.forceFullRender=!0,p.lockEditor(),s._refreshBorders(null),s.view._wt.wtOverlays.adjustElementsSize(),p.unlockEditor()),!Q&&s.view&&(""===Wt||""===Nt||void 0===Nt)&&Wt!==Nt&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var Y=s.getSelectedLast();if(C.getValue){if(Es(C.getValue))return C.getValue.call(s);if(Y)return s.getData()[Y[0][0]][C.getValue]}else if(Y)return s.getDataAtCell(Y[0],Y[1])},this.getSettings=function(){return C},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(Y,Q,he,ge,Me){f.alter(Y,Q,he,ge,Me)},this.getCell=function(Y,Q){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ge=Q,Me=Y;if(Q>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(Q)))return null;ge=this.columnIndexMapper.getRenderableFromVisualIndex(Q)}if(Y>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(Y)))return null;Me=this.rowIndexMapper.getRenderableFromVisualIndex(Y)}return null===Me||null===ge?null:s.view.getCellAtCoords(s._createCellCoords(Me,ge),he)},this.getCoords=function(Y){var Q=this.view._wt.wtTable.getCoords(Y);if(null===Q)return null;var he=Q.row,ge=Q.col,Me=he,Xe=ge;return he>=0&&(Me=this.rowIndexMapper.getVisualFromRenderableIndex(he)),ge>=0&&(Xe=this.columnIndexMapper.getVisualFromRenderableIndex(ge)),s._createCellCoords(Me,Xe)},this.colToProp=function(Y){return u.colToProp(Y)},this.propToCol=function(Y){return u.propToCol(Y)},this.toVisualRow=function(Y){return r.rowIndexMapper.getVisualFromPhysicalIndex(Y)},this.toVisualColumn=function(Y){return r.columnIndexMapper.getVisualFromPhysicalIndex(Y)},this.toPhysicalRow=function(Y){return r.rowIndexMapper.getPhysicalFromVisualIndex(Y)},this.toPhysicalColumn=function(Y){return r.columnIndexMapper.getPhysicalFromVisualIndex(Y)},this.getDataAtCell=function(Y,Q){return u.get(Y,u.colToProp(Q))},this.getDataAtRowProp=function(Y,Q){return u.get(Y,Q)},this.getDataAtCol=function(Y){for(var Q=[],he=u.getRange(s._createCellCoords(0,Y),s._createCellCoords(C.data.length-1,Y),u.DESTINATION_RENDERER),ge=0;ge<he.length;ge+=1)for(var Me=0;Me<he[ge].length;Me+=1)Q.push(he[ge][Me]);return Q},this.getDataAtProp=function(Y){for(var Q=[],he=u.getRange(s._createCellCoords(0,u.propToCol(Y)),s._createCellCoords(C.data.length-1,u.propToCol(Y)),u.DESTINATION_RENDERER),ge=0;ge<he.length;ge+=1)for(var Me=0;Me<he[ge].length;Me+=1)Q.push(he[ge][Me]);return Q},this.getSourceData=function(Y,Q,he,ge){return void 0===Y?c.getData():c.getByRange(s._createCellCoords(Y,Q),s._createCellCoords(he,ge))},this.getSourceDataArray=function(Y,Q,he,ge){return void 0===Y?c.getData(!0):c.getByRange(s._createCellCoords(Y,Q),s._createCellCoords(he,ge),!0)},this.getSourceDataAtCol=function(Y){return c.getAtColumn(Y)},this.setSourceDataAtCell=function(Y,Q,he,ge){var Me=at(Y,Q,he),Xe=this.hasHook("afterSetSourceDataAtCell"),Je=[];Xe&&ut(Me,function(Rt){var Wt=gp(Rt,3),Nt=Wt[0],bt=Wt[1],en=Wt[2];Je.push([Nt,bt,c.getAtCell(Nt,bt),en])}),ut(Me,function(Rt){var Wt=gp(Rt,3);c.setAtCell(Wt[0],Wt[1],Wt[2])}),Xe&&this.runHooks("afterSetSourceDataAtCell",Je,ge),this.render();var tt=s.getActiveEditor();tt&&Cr(tt.refreshValue)&&tt.refreshValue()},this.getSourceDataAtRow=function(Y){return c.getAtRow(Y)},this.getSourceDataAtCell=function(Y,Q){return c.getAtCell(Y,Q)},this.getDataAtRow=function(Y){return u.getRange(s._createCellCoords(Y,0),s._createCellCoords(Y,this.countCols()-1),u.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(Y,Q,he,ge){var Me=this,Xe=void 0===Y?[0,0,this.countRows(),this.countCols()]:[Y,Q,he,ge],Je=Xe[0],tt=Xe[1],Rt=Xe[2],Wt=Xe[3],Nt=null,bt=null;void 0===Rt&&(Rt=Je),void 0===Wt&&(Wt=tt);var en="mixed";return jr(Math.max(Math.min(Je,Rt),0),Math.max(Je,Rt),function(mt){var Tt=!0;return jr(Math.max(Math.min(tt,Wt),0),Math.max(tt,Wt),function(Kt){var Cn=Me.getCellMeta(mt,Kt);return bt=Cn.type,Nt?Tt=Nt===bt:Nt=bt,Tt}),en=Tt?bt:"mixed",Tt}),en},this.removeCellMeta=function(Y,Q,he){var ge=[this.toPhysicalRow(Y),this.toPhysicalColumn(Q)],Me=ge[0],Xe=ge[1],Je=M.getCellMetaKeyValue(Me,Xe,he);!1!==s.runHooks("beforeRemoveCellMeta",Y,Q,he,Je)&&(M.removeCellMeta(Me,Xe,he),s.runHooks("afterRemoveCellMeta",Y,Q,he,Je)),Je=null},this.spliceCellsMeta=function(Y){for(var Q=this,he=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ge=arguments.length,Me=new Array(ge>2?ge-2:0),Xe=2;Xe<ge;Xe++)Me[Xe-2]=arguments[Xe];if(Me.length>0&&!Array.isArray(Me[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");he>0&&M.removeRow(this.toPhysicalRow(Y),he),Me.length>0&&ut(Me.reverse(),function(Je){M.createRow(Q.toPhysicalRow(Y)),ut(Je,function(tt,Rt){return Q.setCellMetaObject(Y,Rt,tt)})}),s.render()},this.setCellMetaObject=function(Y,Q,he){var ge=this;"object"===Lc(he)&&no(he,function(Me,Xe){ge.setCellMeta(Y,Q,Xe,Me)})},this.setCellMeta=function(Y,Q,he,ge){if(!1!==s.runHooks("beforeSetCellMeta",Y,Q,he,ge)){var Xe=Y,Je=Q;Y<this.countRows()&&(Xe=this.toPhysicalRow(Y)),Q<this.countCols()&&(Je=this.toPhysicalColumn(Q)),M.setCellMeta(Xe,Je,he,ge),s.runHooks("afterSetCellMeta",Y,Q,he,ge)}},this.getCellsMeta=function(){return M.getCellsMeta()},this.getCellMeta=function(Y,Q){var he=this.toPhysicalRow(Y),ge=this.toPhysicalColumn(Q);return null===he&&(he=Y),null===ge&&(ge=Q),M.getCellMeta(he,ge,{visualRow:Y,visualColumn:Q})},this.getCellMetaAtRow=function(Y){return M.getCellsMetaAtRow(Y)},this.isColumnModificationAllowed=function(){return!("object"===s.dataType||C.columns)},this.getCellRenderer=function(Y,Q){var he="number"==typeof Y?s.getCellMeta(Y,Q).renderer:Y.renderer;return"string"==typeof he?jre(he):Ms(he)?jre("text"):he},this.getCellEditor=function(Y,Q){var he="number"==typeof Y?s.getCellMeta(Y,Q).editor:Y.editor;return"string"==typeof he?Mre(he):Ms(he)?Mre("text"):he},this.getCellValidator=function(Y,Q){var he="number"==typeof Y?s.getCellMeta(Y,Q).validator:Y.validator;return"string"==typeof he?S2e(he):he},this.validateCells=function(Y){this._validateCells(Y)},this.validateRows=function(Y,Q){if(!Array.isArray(Y))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(Q,Y)},this.validateColumns=function(Y,Q){if(!Array.isArray(Y))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(Q,void 0,Y)},this._validateCells=function(Y,Q,he){var ge=new pe;Y&&(ge.onQueueEmpty=Y);for(var Me=s.countRows()-1;Me>=0;)if(void 0===Q||-1!==Q.indexOf(Me)){for(var Xe=s.countCols()-1;Xe>=0;)void 0===he||-1!==he.indexOf(Xe)?(ge.addValidatorToQueue(),s.validateCell(s.getDataAtCell(Me,Xe),s.getCellMeta(Me,Xe),function(Je){if("boolean"!=typeof Je)throw new Error("Validation error: result is not boolean");!1===Je&&(ge.valid=!1),ge.removeValidatorFormQueue()},"validateCells"),Xe-=1):Xe-=1;Me-=1}else Me-=1;ge.checkIfQueueIsEmpty()},this.getRowHeader=function(Y){var Q=C.rowHeaders,he=Y;return void 0!==he&&(he=s.runHooks("modifyRowHeader",he)),void 0===he?(Q=[],jr(s.countRows()-1,function(ge){Q.push(s.getRowHeader(ge))})):Array.isArray(Q)&&void 0!==Q[he]?Q=Q[he]:Es(Q)?Q=Q(he):Q&&"string"!=typeof Q&&"number"!=typeof Q&&(Q=he+1),Q},this.hasRowHeaders=function(){return!!C.rowHeaders},this.hasColHeaders=function(){if(null!=C.colHeaders)return!!C.colHeaders;for(var Y=0,Q=s.countCols();Y<Q;Y++)if(s.getColHeader(Y))return!0;return!1},this.getColHeader=function(Y){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,he=s.runHooks("modifyColHeader",Y);if(void 0===he){for(var ge=[],Me=s.countCols(),Xe=0;Xe<Me;Xe++)ge.push(s.getColHeader(Xe));return ge}var Je=C.colHeaders,tt=function(bt){for(var en=[],mt=s.countCols(),Tt=0;Tt<mt;Tt++)Es(C.columns)&&C.columns(Tt)&&en.push(Tt);return en[bt]},Rt=s.toPhysicalColumn(he),Wt=tt(Rt);return!1===C.colHeaders?Je=null:C.columns&&Es(C.columns)&&C.columns(Wt)&&C.columns(Wt).title?Je=C.columns(Wt).title:C.columns&&C.columns[Rt]&&C.columns[Rt].title?Je=C.columns[Rt].title:Array.isArray(C.colHeaders)&&void 0!==C.colHeaders[Rt]?Je=C.colHeaders[Rt]:Es(C.colHeaders)?Je=C.colHeaders(Rt):C.colHeaders&&"string"!=typeof C.colHeaders&&"number"!=typeof C.colHeaders&&(Je=aY(he)),s.runHooks("modifyColumnHeaderValue",Je,Y,Q)},this._getColWidthFromSettings=function(Y){var Q;if(Y>=0&&(Q=s.getCellMeta(0,Y).width),(void 0===Q||Q===C.width)&&(Q=C.colWidths),null!=Q){switch(Lc(Q)){case"object":Q=Q[Y];break;case"function":Q=Q(Y)}"string"==typeof Q&&(Q=parseInt(Q,10))}return Q},this.getColWidth=function(Y){var Q=s._getColWidthFromSettings(Y);return void 0===(Q=s.runHooks("modifyColWidth",Q,Y))&&(Q=q4.DEFAULT_WIDTH),Q},this._getRowHeightFromSettings=function(Y){var Q=C.rowHeights;if(null!=Q){switch(Lc(Q)){case"object":Q=Q[Y];break;case"function":Q=Q(Y)}"string"==typeof Q&&(Q=parseInt(Q,10))}return Q},this.getRowHeight=function(Y){var Q=s._getRowHeightFromSettings(Y);return s.runHooks("modifyRowHeight",Q,Y)},this.countSourceRows=function(){return c.countRows()},this.countSourceCols=function(){return c.countFirstRowKeys()},this.countRows=function(){return u.getLength()},this.countCols=function(){var Y=C.maxCols,Q=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(Y,Q)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=0;return p4(s.countRows()-1,function(he){if(s.isEmptyRow(he))Q+=1;else if(!0===Y)return!1}),Q},this.countEmptyCols=function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=0;return p4(s.countCols()-1,function(he){if(s.isEmptyCol(he))Q+=1;else if(!0===Y)return!1}),Q},this.isEmptyRow=function(Y){return C.isEmptyRow.call(s,Y)},this.isEmptyCol=function(Y){return C.isEmptyCol.call(s,Y)},this.selectCell=function(Y,Q,he,ge){var Me=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Xe=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Ms(Y)&&!Ms(Q)&&this.selectCells([[Y,Q,he,ge]],Me,Xe)},this.selectCells=function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],he=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===Q&&(o=!0);var ge=X.selectCells(Y);return ge&&he&&s.listen(),o=!1,ge},this.selectColumns=function(Y){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;return X.selectColumns(Y,Q)},this.selectRows=function(Y){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;return X.selectRows(Y,Q)},this.deselectCell=function(){X.deselect()},this.selectAll=function(){var Y=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Q=Y&&this.hasRowHeaders(),he=Y&&this.hasColHeaders();o=!0,X.selectAll(Q,he),o=!1};var ze=function(Q,he){return Q.getNearestNotHiddenIndex(he,1,!0)};function vt(Y){return function(){throw new Error('The "'.concat(Y,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.scrollViewportTo=function(Y,Q){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ge=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Me=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Xe=!he,Je=!ge,tt=Y,Rt=Q;if(Me){var Wt=Number.isInteger(Y),Nt=Number.isInteger(Q),bt=Wt?ze(this.rowIndexMapper,Y):void 0,en=Nt?ze(this.columnIndexMapper,Q):void 0;if(null===bt||null===en)return!1;tt=Wt?s.rowIndexMapper.getRenderableFromVisualIndex(bt):void 0,Rt=Nt?s.columnIndexMapper.getRenderableFromVisualIndex(en):void 0}var mt=Number.isInteger(tt),Tt=Number.isInteger(Rt);return mt&&Tt?s.view.scrollViewport(s._createCellCoords(tt,Rt),Xe,ge,he,Je):mt&&!1===Tt?s.view.scrollViewportVertically(tt,Xe,he):!(!Tt||!1!==mt)&&s.view.scrollViewportHorizontally(Rt,ge,Je)},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),c&&c.destroy(),c=null,this.getShortcutManager().destroy(),M.clearCache(),tY(s)){var Y=this.rootDocument.querySelector(".hot-display-license-info");Y&&Y.parentNode.removeChild(Y)}cp(s.rootElement),a.destroy(),p&&p.destroy(),s.batchExecution(function(){s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),H.getItems().forEach(function(Q){gp(Q,2)[1].destroy()}),H.clear(),s.runHooks("afterDestroy")},!0),Tr.getSingleton().destroy(s),no(s,function(Q,he,ge){Es(Q)?ge[he]=vt(he):"guid"!==he&&(ge[he]=null)}),s.isDestroyed=!0,u&&u.destroy(),u=null,f=null,X=null,p=null,s=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(Y){var Q=fh(Y);return"UndoRedo"===Q?this.undoRedo:H.getItem(Q)},this.getPluginName=function(Y){return Y===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:H.getId(Y)},this.getInstance=function(){return s},this.addHook=function(Y,Q){Tr.getSingleton().add(Y,Q,s)},this.hasHook=function(Y){return Tr.getSingleton().has(Y,s)||Tr.getSingleton().has(Y)},this.addHookOnce=function(Y,Q){Tr.getSingleton().once(Y,Q,s)},this.removeHook=function(Y,Q){Tr.getSingleton().remove(Y,Q,s)},this.runHooks=function(Y,Q,he,ge,Me,Xe,Je){return Tr.getSingleton().run(s,Y,Q,he,ge,Me,Xe,Je)},this.getTranslatedPhrase=function(Y,Q){return pse(C.language,Y,Q)},this.toHTML=function(){return Dre(r)},this.toTableElement=function(){var Y=r.rootDocument.createElement("div");return Y.insertAdjacentHTML("afterbegin",Dre(r)),Y.firstElementChild},this.timeouts=[],this._registerTimeout=function(Y){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,he=Y;"function"==typeof he&&(he=setTimeout(he,Q)),this.timeouts.push(he)},this._clearTimeouts=function(){ut(this.timeouts,function(Y){clearTimeout(Y)})},this.immediates=[],this._registerImmediate=function(Y){this.immediates.push(setImmediate(Y))},this._clearImmediates=function(){ut(this.immediates,function(Y){clearImmediate(Y)})},this._refreshBorders=function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.destroyEditor(Y),s.view.render(),Q&&X.isSelected()&&p.prepareEditor()},this.isRtl=function(){return"rtl"===s.rootWindow.getComputedStyle(s.rootElement).direction},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};var be=jGe({handleEvent:function(Q){return s.isListening()&&void 0!==(null==Q?void 0:Q.key)},beforeKeyDown:function(Q){return r.runHooks("beforeKeyDown",Q)},afterKeyDown:function(Q){r.isDestroyed||s.runHooks("afterDocumentKeyDown",Q)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",function(Y){!1===Y.ctrlKey&&!1===Y.metaKey&&be.releasePressedKeys()}),this.getShortcutManager=function(){return be};var Oe=be.addContext("grid"),Ye={runOnlyIf:function(){return Cr(s.getSelected())&&s.countRenderedRows()>0&&s.countRenderedCols()>0},group:XGe};be.setActiveContextName("grid"),Oe.addShortcuts([{keys:[["Control/Meta","A"]],callback:function(){s.selectAll()}},{keys:[["Control/Meta","Enter"]],callback:function(){for(var Q=s.getSelectedRange(),he=Q[Q.length-1].highlight,ge=he.row,Me=he.col,Xe=s.getDataAtCell(ge,Me),Je=new Map,tt=0;tt<Q.length;tt++)Q[tt].forAll(function(Rt,Wt){Rt>=0&&Wt>=0&&(Rt!==ge||Wt!==Me)&&(s.getCellMeta(Rt,Wt).readOnly||Je.set("".concat(Rt,"x").concat(Wt),[Rt,Wt,Xe]))});s.setDataAtCell(Array.from(Je.values()))},runOnlyIf:function(){return s.getSelectedRangeLast().getCellsCount()>1}},{keys:[["ArrowUp"]],callback:function(){X.transformStart(-1,0)}},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(0,1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowUp","Shift"]],callback:function(){X.transformEnd(-1,0)}},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=s.getSelectedRangeLast(),he=Q.from,ge=Q.to,Me=s.rowIndexMapper.getNearestNotHiddenIndex(0,1);X.setRangeStart(he.clone()),X.setRangeEnd(s._createCellCoords(Me,ge.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowDown"]],callback:function(){X.transformStart(1,0)}},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1),s.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowDown","Shift"]],callback:function(){X.transformEnd(1,0)}},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=s.getSelectedRangeLast(),he=Q.from,ge=Q.to,Me=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-1,-1);X.setRangeStart(he.clone()),X.setRangeEnd(s._createCellCoords(Me,ge.col))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByColumnHeader())}},{keys:[["ArrowLeft"]],callback:function(){X.transformStart(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,he=s.getSelectedRangeLast().highlight.row,ge=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,Gx(s.isRtl()?[s.countCols()-1,-1]:[0,1]));X.setRangeStart(s._createCellCoords(he,ge))}},{keys:[["ArrowLeft","Shift"]],callback:function(){X.transformEnd(0,-1*s.getDirectionFactor())}},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,he=s.getSelectedRangeLast(),ge=he.from,Me=he.to,Xe=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,Gx(s.isRtl()?[s.countCols()-1,-1]:[0,1]));X.setRangeStart(ge.clone()),X.setRangeEnd(s._createCellCoords(Me.row,Xe))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["ArrowRight"]],callback:function(){X.transformStart(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,he=s.getSelectedRangeLast().highlight.row,ge=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,Gx(s.isRtl()?[0,1]:[s.countCols()-1,-1]));X.setRangeStart(s._createCellCoords(he,ge))}},{keys:[["ArrowRight","Shift"]],callback:function(){X.transformEnd(0,s.getDirectionFactor())}},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var Q,he=s.getSelectedRangeLast(),ge=he.from,Me=he.to,Xe=(Q=s.columnIndexMapper).getNearestNotHiddenIndex.apply(Q,Gx(s.isRtl()?[0,1]:[s.countCols()-1,-1]));X.setRangeStart(ge.clone()),X.setRangeEnd(s._createCellCoords(Me.row,Xe))},runOnlyIf:function(){return!(s.selection.isSelectedByCorner()||s.selection.isSelectedByRowHeader())}},{keys:[["Home"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedColumnsStart,10),he=s.getSelectedRangeLast().highlight.row,ge=s.columnIndexMapper.getNearestNotHiddenIndex(Q,1);X.setRangeStart(s._createCellCoords(he,ge))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["Home","Shift"]],callback:function(){X.setRangeEnd(s._createCellCoords(X.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(0,1)))}},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedRowsTop,10),he=parseInt(s.getSettings().fixedColumnsStart,10),ge=s.rowIndexMapper.getNearestNotHiddenIndex(Q,1),Me=s.columnIndexMapper.getNearestNotHiddenIndex(he,1);X.setRangeStart(s._createCellCoords(ge,Me))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End"]],captureCtrl:!0,callback:function(){X.setRangeStart(s._createCellCoords(s.getSelectedRangeLast().highlight.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End","Shift"]],callback:function(){X.setRangeEnd(s._createCellCoords(X.selectedRange.current().from.row,s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1)))}},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:function(){var Q=parseInt(s.getSettings().fixedRowsBottom,10),he=s.rowIndexMapper.getNearestNotHiddenIndex(s.countRows()-Q-1,-1),ge=s.columnIndexMapper.getNearestNotHiddenIndex(s.countCols()-1,-1);X.setRangeStart(s._createCellCoords(he,ge))},runOnlyIf:function(){return s.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["PageUp"]],callback:function(){X.transformStart(-s.countVisibleRows(),0)}},{keys:[["PageUp","Shift"]],callback:function(){var he=s.getSelectedRangeLast().to,ge=Math.max(he.row-s.countVisibleRows(),0),Me=s.rowIndexMapper.getNearestNotHiddenIndex(ge,1);if(null!==Me){var Xe=s._createCellCoords(Me,he.col),Je=he.row-s.view.getFirstFullyVisibleRow(),tt=Math.max(Xe.row-Je,0);X.setRangeEnd(Xe),s.scrollViewportTo(tt)}}},{keys:[["PageDown"]],callback:function(){X.transformStart(s.countVisibleRows(),0)}},{keys:[["PageDown","Shift"]],callback:function(){var he=s.getSelectedRangeLast().to,ge=Math.min(he.row+s.countVisibleRows(),s.countRows()-1),Me=s.rowIndexMapper.getNearestNotHiddenIndex(ge,-1);if(null!==Me){var Xe=s._createCellCoords(Me,he.col),Je=he.row-s.view.getFirstFullyVisibleRow(),tt=Math.min(Xe.row-Je,s.countRows()-1);X.setRangeEnd(Xe),s.scrollViewportTo(tt)}}},{keys:[["Tab"]],callback:function(Q){var he="function"==typeof C.tabMoves?C.tabMoves(Q):C.tabMoves;X.transformStart(he.row,he.col,!0)}},{keys:[["Shift","Tab"]],callback:function(Q){var he="function"==typeof C.tabMoves?C.tabMoves(Q):C.tabMoves;X.transformStart(-he.row,-he.col)}}],Ye),Vre().forEach(function(Y){var Q=S4(Y);H.addItem(Y,new Q(r))}),Tr.getSingleton().run(s,"construct")}var Cae={_hooksStorage:Object.create(null),addHook:function(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey:function(e){var t=this;ut(this._hooksStorage[e]||[],function(r){t.hot.removeHook(e,r)})},clearHooks:function(){var e=this;no(this._hooksStorage,function(t,r){return e.removeHooksByKey(r)}),this._hooksStorage={}}};Um(Cae,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});const qGe=Cae;function $x(n){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Eae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y5(n,e){return(y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function o5e(n,e){if(e&&("object"===$x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function s5e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function AF(n){return(AF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Tae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,l5e(r.key),r)}}function Dae(n,e,t){return e&&Rae(n.prototype,e),t&&Rae(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function l5e(n){var e=function u5e(n,e){if("object"!==$x(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==$x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===$x(e)?e:String(e)}var Nl=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),v5="baseEditor",Kx=function(){function n(e){Tae(this,n),this.hot=e,this.instance=e,this.state=Nl.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return Dae(n,[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,r,i,o,s,a){this.TD=o,this.row=t,this.col=r,this.prop=i,this.originalValue=s,this.cellProperties=a,this.state=Nl.VIRGIN}},{key:"extend",value:function(){return function(t){!function r5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y5(n,e)}(i,t);var r=function i5e(n){var e=function a5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=AF(n);if(e){var o=AF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return o5e(this,i)}}(i);function i(){return Tae(this,i),r.apply(this,arguments)}return Dae(i)}(this.constructor)}},{key:"saveValue",value:function(t,r){var o,s,a,u,i=this;if(r){var c=this.hot.getSelectedLast();o=Math.max(Math.min(c[0],c[2]),0),s=Math.max(Math.min(c[1],c[3]),0),a=Math.max(c[0],c[2]),u=Math.max(c[1],c[3])}else{var f=[this.row,this.col,null,null];o=f[0],s=f[1],a=f[2],u=f[3]}var p=this.hot.runHooks("modifyGetCellCoords",o,s);if(Array.isArray(p)){var g=function JGe(n,e){return function n5e(n){if(Array.isArray(n))return n}(n)||function t5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function e5e(n,e){if(n){if("string"==typeof n)return Eae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eae(n,e)}}(n,e)||function QGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o=g[0],s=g[1]}var w=this.hot.getShortcutManager().getContext("editor"),M={runOnlyIf:function(){return Cr(i.hot.getSelected())},group:v5};this.isInFullEditMode()&&w.addShortcuts([{keys:[["ArrowUp"]],callback:function(){i.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){i.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){i.hot.selection.transformStart(0,-1*i.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){i.hot.selection.transformStart(0,i.hot.getDirectionFactor())}}],M),this.hot.populateFromArray(o,s,t,a,u,"edit")}},{key:"beginEditing",value:function(t,r){if(this.state===Nl.VIRGIN){var i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(o,s)),this.state=Nl.EDITING,this.isInFullEditMode()){var a="string"==typeof t?t:Pa(this.originalValue);this.setValue(a)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,r,i){var s,o=this;if(i){var a=this._closeCallback;this._closeCallback=function(p){a&&a(p),i(p),o.hot.view.render()}}if(!this.isWaiting()){var c=this.hot.getShortcutManager().getContext("editor");if(c.removeShortcutsByGroup(v5),c.removeShortcutsByGroup(M2),this.state===Nl.VIRGIN)return void this.hot._registerTimeout(function(){o._fireCallbacks(!0)});if(this.state===Nl.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();var f=this.getValue();s=this.cellProperties.trimWhitespace?[["string"==typeof f?String.prototype.trim.call(f||""):f]]:[[f]],this.state=Nl.WAITING,this.saveValue(s,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(p){o.state=Nl.FINISHED,o.discardEditor(p)}):(this.state=Nl.FINISHED,this.discardEditor(!0))}}}},{key:"cancelChanges",value:function(){this.state=Nl.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===Nl.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Nl.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Nl.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===Nl.WAITING}},{key:"getEditedCellRect",value:function(){var t,r=this.getEditedCell();if(r){var i=this.hot.view._wt,o=i.wtOverlays,s=i.wtViewport,a=this.hot.rootWindow,u=Ja(r),c=vs(r),f=Ja(this.hot.rootElement),p=vs(this.hot.rootElement),g=o.topOverlay.holder,v=o.inlineStartOverlay.holder,w=g!==a?g.scrollTop:0,M=v!==a?v.scrollLeft:0,C=a.innerWidth-f.left-p,H=(null!==(t=o.getParentOverlay(r))&&void 0!==t?t:this.hot.view._wt).wtTable,V=H.name,z=["master","inline_start"].includes(V)?w:0,X=["master","top","bottom"].includes(V)?M:0,me=u.top-f.top-(u.top===f.top?0:1)-z,ne=0;ne=this.hot.isRtl()?a.innerWidth-u.left-c-C-1+X:u.left-f.left-1-X,["top","top_inline_start_corner"].includes(V)&&(me+=o.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(V)&&(ne+=Math.abs(o.inlineStartOverlay.getOverlayOffset()));var pe=this.hot.hasColHeaders(),Se=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),Ie=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),at=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(pe&&Se<=0||Se===at)&&(me+=1),Ie<=0&&(ne+=1);var ze=s.rowsRenderCalculator.startPosition,vt=s.columnsRenderCalculator.startPosition,be=Math.abs(o.inlineStartOverlay.getScrollPosition()),Oe=o.topOverlay.getScrollPosition(),Ye=Il(this.hot.rootDocument),Y=r.offsetTop+ze-Oe,Q=0;if(this.hot.isRtl()){var he=r.offsetLeft;Q=he>=0?H.getWidth()-r.offsetLeft:Math.abs(he),Q+=vt-be-c}else Q=r.offsetLeft+vt-be;var ge=ew(this.TD,this.hot.rootWindow),Me=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",Xe=parseInt(ge[Me],10)>0?0:1,Je=parseInt(ge.borderTopWidth,10)>0?0:1,tt=vs(r)+Xe,Rt=Qs(r)+Je,Wt=function AIe(n){return n.offsetWidth!==n.clientWidth}(g)?Ye:0,Nt=function OIe(n){return n.offsetHeight!==n.clientHeight}(v)?Ye:0,bt=this.hot.view.maximumVisibleElementWidth(Q)-Wt+Xe;return{top:me,start:ne,height:Rt,maxHeight:Math.max(this.hot.view.maximumVisibleElementHeight(Y)-Nt+Je,23),width:tt,maxWidth:bt}}}},{key:"getEditedCellsLayerClass",value:function(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?r=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?r=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}}],[{key:"EDITOR_TYPE",get:function(){return"base"}}]),n}();function d5e(){var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},t=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(v,w,M){v.addEventListener(w,M,!1)},s=function(v,w,M){v.removeEventListener(w,M,!1)},a=function(v){var w,M;v?/^[a-zA-Z \.,\\\/\|0-9]$/.test(v)||(v="."):v="",void 0!==r.textContent?r.textContent=e.value+v:r.data=e.value+v,i.style.position="absolute",i.style.fontSize=p(e).fontSize,i.style.fontFamily=p(e).fontFamily,i.style.whiteSpace="pre",t.appendChild(i),w=i.clientWidth+2,t.removeChild(i),e.style.height=n.minHeight+"px",e.style.width=n.minWidth>w?n.minWidth+"px":w>n.maxWidth?n.maxWidth+"px":w+"px",n.minHeight>(M=e.scrollHeight?e.scrollHeight-1:0)?e.style.height=n.minHeight+"px":n.maxHeight<M?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=M+"px"},u=function(){window.setTimeout(a,0)};function p(g){return g.currentStyle||document.defaultView.getComputedStyle(g)}return{init:function(v,w,M){!function(v,w,M){e=v,function(v){if(v&&v.minHeight)if("inherit"==v.minHeight)n.minHeight=e.clientHeight;else{var w=parseInt(v.minHeight);isNaN(w)||(n.minHeight=w)}if(v&&v.maxHeight)if("inherit"==v.maxHeight)n.maxHeight=e.clientHeight;else{var M=parseInt(v.maxHeight);isNaN(M)||(n.maxHeight=M)}if(v&&v.minWidth)if("inherit"==v.minWidth)n.minWidth=e.clientWidth;else{var C=parseInt(v.minWidth);isNaN(C)||(n.minWidth=C)}if(v&&v.maxWidth)if("inherit"==v.maxWidth)n.maxWidth=e.clientWidth;else{var L=parseInt(v.maxWidth);isNaN(L)||(n.maxWidth=L)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}(w),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),M&&(o(e,"change",a),o(e,"cut",u),o(e,"paste",u),o(e,"drop",u),o(e,"keydown",u),o(e,"focus",a),o(e,"compositionstart",u),o(e,"compositionupdate",u),o(e,"compositionend",u)),a()}(v,w,M)},unObserve:function(){s(e,"change",a),s(e,"cut",u),s(e,"paste",u),s(e,"drop",u),s(e,"keydown",u),s(e,"focus",a),s(e,"compositionstart",u),s(e,"compositionupdate",u),s(e,"compositionend",u)},resize:a}}function Aae(n,e){for(var t=ere(e),r=e.value.split("\n"),i=t,o=0,s=0;s<r.length;s++){0!==s&&(o+=r[s-1].length+1);var u=o+r[s].length;if("home"===n?i=o:"end"===n&&(i=u),t<=u)break}v2(e,i)}function Xx(n){return(Xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oae(n,e){return function m5e(n){if(Array.isArray(n))return n}(n)||function p5e(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function h5e(n,e){if(n){if("string"==typeof n)return kae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kae(n,e)}}(n,e)||function f5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kae(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pae(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v5e(r.key),r)}}function v5e(n){var e=function _5e(n,e){if("object"!==Xx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Xx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Xx(e)?e:String(e)}function VA(){return VA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=b5e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},VA.apply(this,arguments)}function b5e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=dw(n)););return n}function _5(n,e){return(_5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function M5e(n,e){if(e&&("object"===Xx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lae(n)}function Lae(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dw(n){return(dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Ss(Kx,qGe);var OF="ht_editor_hidden",Iae="textEditor",fw=function(n){!function w5e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_5(n,e)}(t,n);var e=function S5e(n){var e=function x5e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dw(n);if(e){var o=dw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return M5e(this,i)}}(t);function t(r){var i;return function g5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(Lae(i)),i.autoResize=d5e(),i.TEXTAREA=void 0,i.textareaStyle=void 0,i.TEXTAREA_PARENT=void 0,i.textareaParentStyle=void 0,i.layerClass=void 0,i.createElements(),i.bindEvents(),i.hot.addHookOnce("afterDestroy",function(){return i.destroy()}),i}return function y5e(n,e,t){e&&Pae(n.prototype,e),t&&Pae(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(i){this.TEXTAREA.value=i}},{key:"open",value:function(){var i=this;this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.addHook("afterDocumentKeyDown",function(s){return i.onAfterDocumentKeyDown(s)}),this.registerShortcuts()}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts(),this.removeHooksByKey("afterDocumentKeyDown")}},{key:"prepare",value:function(i,o,s,a,u,c){var f=this.state;if(VA(dw(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),!c.readOnly){this.refreshDimensions(!0);var g=c.fragmentSelection;c.allowInvalid&&(this.TEXTAREA.value=""),f!==Nl.FINISHED&&this.hideEditableElement(),!g&&!up()&&this.focus()}}},{key:"beginEditing",value:function(i,o){this.state===Nl.VIRGIN&&(this.TEXTAREA.value="",VA(dw(t.prototype),"beginEditing",this).call(this,i,o))}},{key:"focus",value:function(){this.TEXTAREA.select(),v2(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var i=this.hot.rootDocument;this.TEXTAREA=i.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,Dn(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=i.createElement("DIV"),Dn(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ai(this.TEXTAREA_PARENT,this.layerClass)&&Bi(this.TEXTAREA_PARENT,this.layerClass),Dn(this.TEXTAREA_PARENT,OF),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(function gIe(){return gd.ie.value}()||function mIe(){return gd.edge.value}())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Bi(this.TEXTAREA_PARENT,this.layerClass),Dn(this.TEXTAREA_PARENT,OF)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var i=this.TEXTAREA_PARENT.childNodes,o=!1;jr(i.length-1,function(s){if(Ai(i[s],"handsontableEditor"))return o=!0,!1}),Ai(this.TEXTAREA_PARENT,OF)&&Bi(this.TEXTAREA_PARENT,OF),o?(this.layerClass="ht_editor_visible",Dn(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Dn(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var i=this.hot.toPhysicalRow(this.row),o=this.hot.getSourceDataAtCell(i,this.col);this.originalValue=o,this.setValue(o),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===Nl.EDITING||i){if(this.TD=this.getEditedCell(),!this.TD)return void(i||this.close());var o=this.getEditedCellRect(),s=o.top,a=o.start,u=o.width,c=o.maxWidth,f=o.height,p=o.maxHeight;this.textareaParentStyle.top="".concat(s,"px"),this.textareaParentStyle[this.hot.isRtl()?"right":"left"]="".concat(a,"px"),this.showEditableElement();var g=ew(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=g.fontSize,this.TEXTAREA.style.fontFamily=g.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;var v=ew(this.TEXTAREA),w=parseInt(v.paddingLeft,10)+parseInt(v.paddingRight,10),M=parseInt(v.paddingTop,10)+parseInt(v.paddingBottom,10),C=u-w,L=f-M,H=c-w,V=p-M;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(C,H),minHeight:Math.min(L,V),maxWidth:H,maxHeight:V},!0)}}},{key:"bindEvents",value:function(){var i=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(o){return o.stopPropagation()}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(o){return o.stopPropagation()}),Une()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",function(){return i.finishEditing(!1)}),this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){i.refreshDimensions(),i.focus()}),this.addHook("afterRowResize",function(){i.refreshDimensions(),i.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),u=function(){i.hot.rootDocument.execCommand("insertText",!1,"\n")};s.addShortcuts([{keys:[["Tab"]],callback:function(f){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(f):p.tabMoves;i.hot.selection.transformStart(g.row,g.col,!0)}},{keys:[["Shift","Tab"]],callback:function(f){var p=i.hot.getSettings(),g="function"==typeof p.tabMoves?p.tabMoves(f):p.tabMoves;i.hot.selection.transformStart(-g.row,-g.col)}},{keys:[["Control","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(f){return!i.hot.selection.isMultiple()&&!f.altKey},relativeToGroup:wD,position:"before"},{keys:[["Meta","Enter"]],callback:function(){return u(),!1},runOnlyIf:function(){return!i.hot.selection.isMultiple()},relativeToGroup:wD,position:"before"},{keys:[["Alt","Enter"]],callback:function(){return u(),!1},relativeToGroup:wD,position:"before"},{keys:[["PageUp"]],callback:function(){i.hot.selection.transformStart(-i.hot.countVisibleRows(),0)}},{keys:[["PageDown"]],callback:function(){i.hot.selection.transformStart(i.hot.countVisibleRows(),0)}},{keys:[["Home"]],callback:function(f,p){Aae(Oae(p,1)[0],i.TEXTAREA)}},{keys:[["End"]],callback:function(f,p){Aae(Oae(p,1)[0],i.TEXTAREA)}},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:function(){i.hot._registerTimeout(function(){i.autoResize.resize()},10)}}],{runOnlyIf:function(){return Cr(i.hot.getSelected())},group:Iae})}},{key:"unregisterShortcuts",value:function(){var o=this.hot.getShortcutManager().getContext("editor");o.removeShortcutsByGroup(M2),o.removeShortcutsByGroup(Iae),o.removeShortcutsByGroup(v5)}},{key:"onAfterDocumentKeyDown",value:function(i){-1===[Ir.ARROW_UP,Ir.ARROW_RIGHT,Ir.ARROW_DOWN,Ir.ARROW_LEFT].indexOf(i.keyCode)&&this.autoResize.resize(String.fromCharCode(i.keyCode))}}],[{key:"EDITOR_TYPE",get:function(){return"text"}}]),t}(Kx);function zA(n,e,t,r,i,o,s){var a=[],u=[];s.className&&Dn(e,s.className),s.readOnly&&a.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?a.push(s.invalidCellClassName):u.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&a.push(s.noWordWrapClassName),!o&&s.placeholder&&a.push(s.placeholderCellClassName),Bi(e,u),Dn(e,a)}function bv(n,e,t,r,i,o,s){zA.apply(this,[n,e,t,r,i,o,s]);var a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=Pa(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){cp(e);var u=n.rootDocument.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=n.getSourceDataAtRow(t),e.appendChild(u)}else Qb(e,a)}zA.RENDERER_TYPE="base",bv.RENDERER_TYPE="text";var Nae={CELL_TYPE:"text",editor:fw,renderer:bv};function mh(n,e){var t=new g5(n,e||{},eY);return t.init(),t}mp(Nae),mh.editors={BaseEditor:Kx},mh.Core=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new g5(n,e,eY)},mh.DefaultSettings=qse(),mh.hooks=Tr.getSingleton(),mh.CellCoords=L2,mh.CellRange=I4,mh.packageName="handsontable",mh.buildDate="23/05/2023 09:21:52",mh.version="12.4.0",mh.languages={dictionaryKeys:S,getLanguageDictionary:hse,getLanguagesDictionaries:function nWe(){return eWe()},registerLanguageDictionary:fse,getTranslatedPhrase:pse};const b5=mh,A5e=["container"],w5=new Map,Fae="The Handsontable instance bound to this component was destroyed and cannot be used properly.";let S5=(()=>{class n{getInstance(t){const r=w5.get(t);return r.isDestroyed?(console.warn(Fae),null):r}registerInstance(t,r){return w5.set(t,r)}removeInstance(t){return w5.delete(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();const O5e=Object.keys(b5.DefaultSettings),Hae=b5.hooks.getRegistered();let Bae=(()=>{class n{mergeSettings(t){const r="object"==typeof t.settings,i=r?t.settings:{};return Hae.concat(O5e).forEach(s=>{const a=Hae.indexOf(s)>-1;let u;r&&a&&(u=t.settings[s]),void 0!==t[s]&&(u=t[s]),void 0!==u&&(i[s]="function"==typeof u&&a?function(...c){return t._ngZone.run(()=>u.apply(this,c))}:u)}),i}prepareChanges(t){const r={};return Object.keys(t).forEach(o=>{t.hasOwnProperty(o)&&(r[o]=t[o].currentValue)}),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),$m=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.__hotInstance=null,this.columnsComponents=[],this.hotId=""}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(Fae),null)}set hotInstance(t){this.__hotInstance=t}ngAfterViewInit(){const t=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){const r=[];this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),t.columns=r}this._ngZone.runOutsideAngular(()=>{this.hotInstance=new b5.Core(this.container.nativeElement,t),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(t){if(null===this.hotInstance)return;const r=this._hotSettingsResolver.prepareChanges(t);this.updateHotTable(r)}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(t){!this.hotInstance||this._ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(t,!1)})}onAfterColumnsChange(){if(void 0!==this.columnsComponents&&this.columnsComponents.length>0){const t=[];this.columnsComponents.forEach(i=>{t.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:t})}}onAfterColumnsNumberChange(){const t=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(r=>{t.push(this._hotSettingsResolver.mergeSettings(r))}),this.updateHotTable({columns:t})}addColumn(t){this.columnsComponents.push(t),this.onAfterColumnsNumberChange()}removeColumn(t){const r=this.columnsComponents.indexOf(t);this.columnsComponents.splice(r,1),this.onAfterColumnsNumberChange()}}return n.\u0275fac=function(t){return new(t||n)(Le(Ci),Le(S5),Le(Bae))},n.\u0275cmp=vi({type:n,selectors:[["hot-table"]],viewQuery:function(t,r){if(1&t&&kl(A5e,5),2&t){let i;To(i=Ro())&&(r.container=i.first)}},inputs:{hotId:"hotId",settings:"settings",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataSchema:"dataSchema",dateFormat:"dateFormat",defaultDate:"defaultDate",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnFreeze:"afterColumnFreeze",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSequenceChange:"afterColumnSequenceChange",afterColumnSort:"afterColumnSort",afterColumnUnfreeze:"afterColumnUnfreeze",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterRowSequenceChange:"afterRowSequenceChange",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeAutofillInsidePopulate:"beforeAutofillInsidePopulate",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnFreeze:"beforeColumnFreeze",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeColumnUnfreeze:"beforeColumnUnfreeze",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyData:"modifyData",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[ki([S5,Bae]),As],decls:2,vars:1,consts:[[3,"id"],["container",""]],template:function(t,r){1&t&&lt(0,"div",0,1),2&t&&_e("id",r.hotId)},encapsulation:2}),n})(),k5e=(()=>{class n{static forRoot(){return{ngModule:n,providers:[S5]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n.version="12.4.0",n})(),P5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u4e3b\u6841","\u4e3b\u6841\u672c\u6570","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a"],this.dataset=[{name:"Beam",value:"",unit:""},{name:"amount_V",value:this.model.beam.amount_V,unit:"\u672c"},{name:"D",value:this.model.beam.D,unit:"mm"},{name:"tf",value:this.model.beam.tf,unit:"mm"},{name:"W",value:this.model.beam.W,unit:"mm"},{name:"tw",value:this.model.beam.tw,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.integer_cell=[{row:0,col:1,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;const c=this.dataset[a[0]].name;null!=this.integer_cell.find(p=>p.row===a[0])&&(u=Math.round(u)),this.model.beam[c]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-beam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u4e3b\u6841\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),L5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u6a2a\u69cb","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074","\u96e2\u9694\uff08\u5185\u5074","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055"],this.dataset=[{name:"Cross",value:"",unit:""},{name:"D3",value:this.model.cross.D3,unit:"mm"},{name:"tf2",value:this.model.cross.tf2,unit:"mm"},{name:"W2",value:this.model.cross.W2,unit:"mm"},{name:"tw2",value:this.model.cross.tw2,unit:"mm"},{name:"s_edge",value:this.model.cross.s_edge,unit:"mm"},{name:"s_middle",value:this.model.cross.s_middle,unit:"mm"},{name:"Gusset04",value:"",unit:""},{name:"GA4",value:this.model.cross.GA4,unit:"mm"},{name:"GD4",value:this.model.cross.GD4,unit:"mm"},{name:"GB4",value:this.model.cross.GB4,unit:"mm"},{name:"GC4",value:this.model.cross.GC4,unit:"mm"},{name:"Gt4",value:this.model.cross.Gt4,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"300",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.cross[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-cross"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u6a2a\u69cb\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",150)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),I5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u8377\u91cd\u5206\u914d\u6a2a\u6841","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09","\u914d\u7f6e\u5217\u6570"],this.dataset=[{name:"Crossbeam",value:"",unit:""},{name:"D4",value:this.model.crossbeam.D4,unit:"mm"},{name:"tf3",value:this.model.crossbeam.tf3,unit:"mm"},{name:"W3",value:this.model.crossbeam.W3,unit:"mm"},{name:"tw3",value:this.model.crossbeam.tw3,unit:"mm"},{name:"s_edge2",value:this.model.crossbeam.s_edge2,unit:"mm"},{name:"s_middle2",value:this.model.crossbeam.s_middle2,unit:"mm"},{name:"location2",value:this.model.crossbeam.location2,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.crossbeam[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-crossbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u8377\u91cd\u5206\u914d\u6a2a\u6841\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),N5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u7aef\u6a2a\u6841","\u30d5\u30e9\u30f3\u30b8\u5e45","\u30d5\u30e9\u30f3\u30b8\u539a","\u30a6\u30a7\u30d6\u5e45","\u30a6\u30a7\u30d6\u539a","\u96e2\u9694\uff08\u5916\u5074\uff09","\u96e2\u9694\uff08\u5185\u5074\uff09"],this.dataset=[{name:"endbeam",value:"",unit:""},{name:"D5",value:this.model.endbeam.D5,unit:"mm"},{name:"tf4",value:this.model.endbeam.tf4,unit:"mm"},{name:"W5",value:this.model.endbeam.W5,unit:"mm"},{name:"tw4",value:this.model.endbeam.tw4,unit:"mm"},{name:"s_edge3",value:this.model.endbeam.s_edge3,unit:"mm"},{name:"s_middle3",value:this.model.endbeam.s_middle3,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.endbeam[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-endbeam"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u7aef\u6a2a\u6841\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",100)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),F5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u4e2d\u9593\u5bfe\u50be\u69cb","L\u92fc\u5e95\u9762\u5e45","L\u92fc\u5074\u9762\u5e45","L\u92fc\u539a","\u6c34\u5e73\u90e8\u96e2\u9694","\u659c\u90e8\u96e2\u9694\uff08\u5916\u5074\uff09","\u659c\u90e8\u96e2\u9694\uff08\u5185\u5074\uff09","\u4e2d\u9593\u5bfe\u50be\u69cb\u914d\u7f6e\u9ad8","\u4e2d\u9593\u5bfe\u50be\u69cb\u5168\u4f53\u9ad8","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09","\u5168\u4f53\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694","\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09","\u9577\u8fba\u9ad8","\u77ed\u8fba\u9ad8","\u5929\u7aef\u5e45","\u5e95\u9762\u5e45","\u539a\u3055","\u4e3b\u6841\u304b\u3089\u306e\u96e2\u9694"],this.dataset=[{name:"mid",value:"",unit:""},{name:"A",value:this.model.mid.A,unit:"mm"},{name:"B",value:this.model.mid.B,unit:"mm"},{name:"t",value:this.model.mid.t,unit:"mm"},{name:"s",value:this.model.mid.s,unit:"mm"},{name:"s_out",value:this.model.mid.s_out,unit:"mm"},{name:"s_in",value:this.model.mid.s_in,unit:"mm"},{name:"dz",value:this.model.mid.dz,unit:"mm"},{name:"H",value:this.model.mid.H,unit:"mm"},{name:"Gusset01",value:"",unit:""},{name:"GA1",value:this.model.mid.GA1,unit:"mm"},{name:"GD1",value:this.model.mid.GD1,unit:"mm"},{name:"GB1",value:this.model.mid.GB1,unit:"mm"},{name:"GC1",value:this.model.mid.GC1,unit:"mm"},{name:"Gt1",value:this.model.mid.Gt1,unit:"mm"},{name:"Gusset02",value:"",unit:""},{name:"GA2",value:this.model.mid.GA2,unit:"mm"},{name:"GD2",value:this.model.mid.GD2,unit:"mm"},{name:"GB2",value:this.model.mid.GB2,unit:"mm"},{name:"GC2",value:this.model.mid.GC2,unit:"mm"},{name:"Gt2",value:this.model.mid.Gt2,unit:"mm"},{name:"Gdx2",value:this.model.mid.Gdx2,unit:"mm"},{name:"Gusset03",value:"",unit:""},{name:"GA3",value:this.model.mid.GA3,unit:"mm"},{name:"GD3",value:this.model.mid.GD3,unit:"mm"},{name:"GC3",value:this.model.mid.GC3,unit:"mm"},{name:"GB3",value:this.model.mid.GB3,unit:"mm"},{name:"Gt3",value:this.model.mid.Gt1,unit:"mm"},{name:"Gdx3",value:this.model.mid.Gdx2,unit:"mm"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.0"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,width:"330",columns:this.columns,colWidths:[50,100],allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.mid[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-mid"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u4e2d\u9593\u5bfe\u50be\u69cb\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",180)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),H5e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u696d\u52d9\u540d","\u8def\u7dda\u540d","\u9053\u8def\u7a2e\u5225","\u6a4b\u9577","\u6841\u9577","\u652f\u9593\u9577","\u958b\u59cb\u8ddd\u96e2\u6a19","\u7d42\u4e86\u8ddd\u96e2\u6a19","\u958b\u59cb\u6e2c\u70b9\u756a\u53f7","\u958b\u59cb\u6e2c\u70b9x\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9y\u5ea7\u6a19","\u958b\u59cb\u6e2c\u70b9z\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9\u756a\u53f7","\u7d42\u4e86\u6e2c\u70b9x\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9y\u5ea7\u6a19","\u7d42\u4e86\u6e2c\u70b9z\u5ea7\u6a19","\u6a2a\u6841\u30fb\u5bfe\u50be\u69cb\u306e\u5217\u6570"],this.dataset=[{name:"ProjectName",value:this.model.others.Name_P,unit:""},{name:"RouteName",value:this.model.others.Name_R,unit:""},{name:"RoadClass",value:this.model.others.Class_R,unit:""},{name:"L",value:this.model.others.L,unit:"m"},{name:"L_01",value:this.model.others.L_01,unit:"m"},{name:"L_02",value:this.model.others.L_02,unit:"m"},{name:"Milepost_B",value:this.model.others.Milepost_B,unit:"km"},{name:"Milepost_E",value:this.model.others.Milepost_E,unit:"km"},{name:"BP",value:this.model.others.BP,unit:"NO."},{name:"BPx",value:this.model.others.BPx,unit:"m"},{name:"BPy",value:this.model.others.BPy,unit:"m"},{name:"BPz",value:this.model.others.BPz,unit:"m"},{name:"EP",value:this.model.others.EP,unit:"NO."},{name:"EPx",value:this.model.others.EPx,unit:"m"},{name:"EPy",value:this.model.others.EPy,unit:"m"},{name:"EPz",value:this.model.others.EPz,unit:"m"},{name:"amount_H",value:this.model.others.amount_H,unit:"\u5217"}],this.columns=[{data:"unit",readOnly:!0},{data:"value"}],this.integer_cell=[{row:2,col:2,type:"numeric",numericFormat:{pattern:"mantissa"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,cell:this.integer_cell,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=a[3];const c=this.dataset[a[0]].name;null!=this.integer_cell.find(p=>p.row===a[0])&&(u=Math.round(u)),this.model.others[c]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-others"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u5171\u901a\u9805\u76ee\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",130)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),Vae=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Le(yc),Le(mi))},n.\u0275dir=Mn({type:n}),n})(),hw=(()=>{class n extends Vae{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xo(n)))(r||n)}}(),n.\u0275dir=Mn({type:n,features:[wr]}),n})();const vd=new Rn("NgValueAccessor"),V5e={provide:vd,useExisting:Ii(()=>M5),multi:!0},j5e=new Rn("CompositionEventMode");let M5=(()=>{class n extends Vae{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function z5e(){const n=qh()?qh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(yc),Le(mi),Le(j5e,8))},n.\u0275dir=Mn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&on("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ki([V5e]),wr]}),n})();const Ql=new Rn("NgValidators"),Sv=new Rn("NgAsyncValidators");function qae(n){return null!=n}function Jae(n){return jt(n)?is(n):n}function Qae(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ele(n,e){return e.map(t=>t(n))}function tle(n){return n.map(e=>function Y5e(n){return!n.validate}(e)?e:t=>e.validate(t))}function x5(n){return null!=n?function nle(n){if(!n)return null;const e=n.filter(qae);return 0==e.length?null:function(t){return Qae(ele(t,e))}}(tle(n)):null}function C5(n){return null!=n?function rle(n){if(!n)return null;const e=n.filter(qae);return 0==e.length?null:function(t){return Dne(ele(t,e).map(Jae)).pipe(vn(Qae))}}(tle(n)):null}function ile(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function E5(n){return n?Array.isArray(n)?n:[n]:[]}function PF(n,e){return Array.isArray(n)?n.includes(e):n===e}function ale(n,e){const t=E5(e);return E5(n).forEach(i=>{PF(t,i)||t.push(i)}),t}function lle(n,e){return E5(e).filter(t=>!PF(n,t))}class ule{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=x5(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=C5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mv extends ule{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $u extends ule{get formDirective(){return null}get path(){return null}}let dle=(()=>{class n extends class cle{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(Mv,2))},n.\u0275dir=Mn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wr]}),n})();const jA="VALID",IF="INVALID",Zx="PENDING",UA="DISABLED";function hle(n){return Array.isArray(n)?x5(n):n||null}function ple(n){return Array.isArray(n)?C5(n):n||null}function NF(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function WA(n,e){var t,r;(function P5(n,e){const t=function ole(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ile(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function sle(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ile(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();BF(e._rawValidators,i),BF(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function t8e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vle(n,e)})}(n,e),function r8e(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function n8e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vle(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function e8e(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function BF(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vle(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sle(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mle(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const d8e={provide:Mv,useExisting:Ii(()=>F5)},Tle=(()=>Promise.resolve(null))();let F5=(()=>{class n extends Mv{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class yle{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=hle(this._rawValidators),this._composedAsyncValidatorFn=ple(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jA}get invalid(){return this.status===IF}get pending(){return this.status==Zx}get disabled(){return this.status===UA}get enabled(){return this.status!==UA}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=hle(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ple(e)}addValidators(e){this.setValidators(ale(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ale(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lle(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lle(e,this._rawAsyncValidators))}hasValidator(e){return PF(this._rawValidators,e)}hasAsyncValidator(e){return PF(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zx,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=UA,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jA,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jA||this.status===Zx)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?UA:jA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zx,this._hasOwnPendingAsyncValidator=!0;const t=Jae(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bo,this.statusChanges=new bo}_calculateStatus(){return this._allControlsDisabled()?UA:this.errors?IF:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zx)?Zx:this._anyControlsHaveStatus(IF)?IF:jA}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){NF(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function A5(n){return(NF(n)?n.validators:n)||null}(t),function O5(n,e){return(NF(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NF(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Mle(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sle(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sle(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Mle(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new bo,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function I5(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===M5?t=o:function s8e(n){return Object.getPrototypeOf(n.constructor)===hw}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function L5(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){WA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tle.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function _m(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);Tle.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function FF(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(Le($u,9),Le(Ql,10),Le(Sv,10),Le(vd,10),Le(Hu,8))},n.\u0275dir=Mn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ki([d8e]),wr,As]}),n})(),Dle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})();const H5=new Rn("NgModelWithFormControlWarning");let Yle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Dle]}),n})(),N8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Yle]}),n})(),F8e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H5,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Yle]}),n})();const B8e=["input"],V8e=["label"],z8e=function(n){return{enterDuration:n}},j8e=["*"],U8e=new Rn("mat-checkbox-default-options",{providedIn:"root",factory:Gle});function Gle(){return{color:"accent",clickAction:"check-indeterminate"}}let W8e=0;const $le=Gle(),Y8e={provide:vd,useExisting:Ii(()=>Kle),multi:!0};class G8e{}const $8e=aQ(lM(ER(EI(class{constructor(n){this._elementRef=n}}))));let K8e=(()=>{class n extends $8e{constructor(t,r,i,o,s,a,u){super(r),this._changeDetectorRef=i,this._ngZone=o,this._animationMode=a,this._options=u,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new bo,this.indeterminateChange=new bo,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||$le,this.color=this.defaultColor=this._options.color||$le.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++W8e}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Aa(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const r=Aa(t);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=Aa(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=Aa(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){var t;const r=null===(t=this._options)||void 0===t?void 0:t.clickAction;this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){cm()},n.\u0275dir=Mn({type:n,viewQuery:function(t,r){if(1&t&&(kl(B8e,5),kl(V8e,5),kl(uM,5)),2&t){let i;To(i=Ro())&&(r._inputElement=i.first),To(i=Ro())&&(r._labelElement=i.first),To(i=Ro())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[wr]}),n})(),Kle=(()=>{class n extends K8e{constructor(t,r,i,o,s,a,u){super("mat-checkbox-",t,r,o,s,a,u),this._focusMonitor=i,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const r=new G8e;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,r){t?this._focusMonitor.focusVia(this._inputElement,t,r):this._inputElement.nativeElement.focus(r)}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Hu),Le(Tm),Le(Ci),Bf("tabindex"),Le(Kh,8),Le(U8e,8))},n.\u0275cmp=vi({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,r){2&t&&(BS("id",r.id),ts("tabindex",null)("aria-label",null)("aria-labelledby",null),ha("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[ki([Y8e]),wr],ngContentSelectors:j8e,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,r){if(1&t&&(fn(),Re(0,"label",0,1)(2,"span",2)(3,"input",3,4),on("change",function(o){return r._onInteractionEvent(o)})("click",function(o){return r._onInputClick(o)}),$e(),Re(5,"span",5),lt(6,"span",6),$e(),lt(7,"span",7),Re(8,"span",8),Jc(),Re(9,"svg",9),lt(10,"path",10),$e(),function Up(){!function uT(){yn.lFrame.currentNamespace=null}()}(),lt(11,"span",11),$e()(),Re(12,"span",12,13),on("cdkObserveContent",function(){return r._onLabelTextChange()}),Re(14,"span",14),Xn(15,"\xa0"),$e(),Ji(16),$e()()),2&t){const i=ke(1),o=ke(13);ts("for",r.inputId),Fr(2),ha("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),Fr(1),_e("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),ts("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),Fr(2),_e("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",PK(19,z8e,"NoopAnimations"===r._animationMode?0:150))}},dependencies:[uM,hCe],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Xle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})(),q8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[TI,Ao,Gj,Xle,Ao,Xle]}),n})();function J8e(n,e){if(1&n){const t=xt();Re(0,"li")(1,"mat-checkbox",8),on("ngModelChange",function(i){return fr(uo(t).$implicit.completed=i)})("ngModelChange",function(){return uo(t),fr(_i().updateAllComplete())})("change",function(){return uo(t),fr(_i().redraw())}),Xn(2),$e()()}if(2&n){const t=e.$implicit;Fr(1),_e("ngModel",t.completed)("color",t.color),Fr(1),_o(" ",t.name," ")}}function Q8e(n,e){if(1&n){const t=xt();Re(0,"li")(1,"mat-checkbox",8),on("ngModelChange",function(i){return fr(uo(t).$implicit.completed=i)})("ngModelChange",function(){return uo(t),fr(_i().updateAllComplete2())})("change",function(){return uo(t),fr(_i().redraw())}),Xn(2),$e()()}if(2&n){const t=e.$implicit;Fr(1),_e("ngModel",t.completed)("color",t.color),Fr(1),_o(" ",t.name," ")}}let e6e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.slab={name:"\u5e8a\u7248",completed:this.model.display.slab,color:"primary"},this.pavement={name:"\u8217\u88c5",completed:this.model.display.pavement,color:"primary"},this.beam={name:"\u4e3b\u6841",completed:this.model.display.beam,color:"primary"},this.crossbeam={name:"\u8377\u91cd\u5206\u914d\u6a2a\u6841",completed:this.model.display.crossbeam,color:"primary"},this.endbeam={name:"\u7aef\u6a2a\u6841",completed:this.model.display.endbeam,color:"primary"},this.mid={name:"\u4e2d\u9593\u5bfe\u50be\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u5bfe\u50be\u69cb",completed:this.model.display.mid,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u659c\u6750\uff09",completed:this.model.display.gusset01,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u5f26\u6750\uff09",completed:this.model.display.gusset02,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8\uff08\u4e0b\u5f26\u6750\uff09",completed:this.model.display.gusset03,color:"accent"}]},this.allComplete=!0,this.cross={name:"\u6a2a\u69cb",completed:!0,color:"primary",subtasks:[{name:"\u4e0a\u6a2a\u69cb",completed:this.model.display.cross_u,color:"accent"},{name:"\u4e0b\u6a2a\u69cb",completed:this.model.display.cross_l,color:"accent"},{name:"\u30ac\u30bb\u30c3\u30c8\u30d7\u30ec\u30fc\u30c8",completed:this.model.display.gusset04,color:"accent"}]},this.allComplete2=!0}redraw(){this.model.display.slab=this.slab.completed,this.model.display.pavement=this.pavement.completed,this.model.display.beam=this.beam.completed,this.model.display.crossbeam=this.crossbeam.completed,this.model.display.endbeam=this.endbeam.completed,null!=this.mid.subtasks&&(this.model.display.mid=this.mid.subtasks[0].completed,this.model.display.gusset01=this.mid.subtasks[1].completed,this.model.display.gusset02=this.mid.subtasks[2].completed,this.model.display.gusset03=this.mid.subtasks[3].completed),null!=this.cross.subtasks&&(this.model.display.cross_u=this.cross.subtasks[0].completed,this.model.display.cross_l=this.cross.subtasks[1].completed,this.model.display.gusset04=this.cross.subtasks[2].completed),this.girder.createGirder(this.model.palam())}updateAllComplete(){this.allComplete=null!=this.mid.subtasks&&this.mid.subtasks.every(t=>t.completed)}someComplete(){return null!=this.mid.subtasks&&this.mid.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}setAll(t){this.allComplete=t,null!=this.mid.subtasks&&(this.mid.subtasks.forEach(r=>r.completed=t),this.redraw())}updateAllComplete2(){this.allComplete2=null!=this.cross.subtasks&&this.cross.subtasks.every(t=>t.completed)}someComplete2(){return null!=this.cross.subtasks&&this.cross.subtasks.filter(t=>t.completed).length>0&&!this.allComplete2}setAll2(t){this.allComplete2=t,null!=this.cross.subtasks&&(this.cross.subtasks.forEach(r=>r.completed=t),this.redraw())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-display"]],decls:39,vars:25,consts:[["mat-dialog-title",""],[1,"example-section"],[1,"example-list-section"],[1,"example-margin",3,"ngModel","color","ngModelChange","change"],[1,"example-margin",3,"checked","color","indeterminate","change"],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],[3,"ngModel","color","ngModelChange","change"]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u4f5c\u6210\u3059\u308b\u30e2\u30c7\u30eb\u3092\u9078\u629e"),$e(),Re(2,"section",1)(3,"span",2)(4,"mat-checkbox",3),on("ngModelChange",function(o){return r.pavement.completed=o})("change",function(){return r.redraw()}),Xn(5),$e()()(),Re(6,"section",1)(7,"span",2)(8,"mat-checkbox",3),on("ngModelChange",function(o){return r.slab.completed=o})("change",function(){return r.redraw()}),Xn(9),$e()()(),Re(10,"section",1)(11,"span",2)(12,"mat-checkbox",3),on("ngModelChange",function(o){return r.beam.completed=o})("change",function(){return r.redraw()}),Xn(13),$e()()(),Re(14,"section",1)(15,"span",2)(16,"mat-checkbox",4),on("change",function(o){return r.setAll(o.checked)}),Xn(17),$e()(),Re(18,"span",2)(19,"ul"),ie(20,J8e,3,3,"li",5),$e()()(),Re(21,"section",1)(22,"span",2)(23,"mat-checkbox",4),on("change",function(o){return r.setAll2(o.checked)}),Xn(24),$e()(),Re(25,"span",2)(26,"ul"),ie(27,Q8e,3,3,"li",5),$e()()(),Re(28,"section",1)(29,"span",2)(30,"mat-checkbox",3),on("ngModelChange",function(o){return r.crossbeam.completed=o})("change",function(){return r.redraw()}),Xn(31),$e()()(),Re(32,"section",1)(33,"span",2)(34,"mat-checkbox",3),on("ngModelChange",function(o){return r.endbeam.completed=o})("change",function(){return r.redraw()}),Xn(35),$e()()(),Re(36,"div",6)(37,"button",7),Xn(38,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(4),_e("ngModel",r.pavement.completed)("color",r.pavement.color),Fr(1),_o(" ",r.pavement.name," "),Fr(3),_e("ngModel",r.slab.completed)("color",r.slab.color),Fr(1),_o(" ",r.slab.name," "),Fr(3),_e("ngModel",r.beam.completed)("color",r.beam.color),Fr(1),_o(" ",r.beam.name," "),Fr(3),_e("checked",r.allComplete)("color",r.mid.color)("indeterminate",r.someComplete()),Fr(1),_o(" ",r.mid.name," "),Fr(3),_e("ngForOf",r.mid.subtasks),Fr(3),_e("checked",r.allComplete2)("color",r.cross.color)("indeterminate",r.someComplete2()),Fr(1),_o(" ",r.cross.name," "),Fr(3),_e("ngForOf",r.cross.subtasks),Fr(3),_e("ngModel",r.crossbeam.completed)("color",r.crossbeam.color),Fr(1),_o(" ",r.crossbeam.name," "),Fr(3),_e("ngModel",r.endbeam.completed)("color",r.endbeam.color),Fr(1),_o(" ",r.endbeam.name," "))},dependencies:[Az,dle,F5,eh,rp,ip,op,Kle]}),n})(),t6e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u5e8a\u7248","\u5de6\u5e45\u54e1","\u53f3\u5e45\u54e1","\u5730\u8986\u5e45","\u58c1\u9ad8","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u4e0a\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u5de6\uff09","\u5e8a\u7248\u5e95\u9762\u52fe\u914d\uff08\u53f3\uff09","\u5e8a\u7248\u539a","\u30cf\u30f3\u30c1\u9ad8","\u30cf\u30f3\u30c1\u52fe\u914d","\u5e8a\u7248\u7aef\u90e8\u304b\u3089\u4e3b\u6841\u307e\u3067\u306e\u96e2\u9694"],this.dataset=[{name:"Slab",value:"",unit:""},{name:"b1",value:this.model.slab.b1,unit:"m"},{name:"b2",value:this.model.slab.b2,unit:"m"},{name:"b3",value:this.model.slab.b3,unit:"m"},{name:"SH",value:this.model.slab.SH,unit:"m"},{name:"i1",value:this.model.slab.i1,unit:"%"},{name:"i2",value:this.model.slab.i2,unit:"%"},{name:"j1",value:this.model.slab.i1,unit:"%"},{name:"j2",value:this.model.slab.i2,unit:"%"},{name:"T1",value:this.model.slab.T1,unit:"m"},{name:"T2",value:this.model.slab.T2,unit:"m"},{name:"n",value:this.model.slab.n,unit:"1:n"},{name:"Ss",value:this.model.slab.Ss,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.slab[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-slab"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u30b9\u30e9\u30d6\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})(),n6e=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.model=r,this.girder=i,this.rowheader=["\u8217\u88c5","\u8217\u88c5\u52fe\u914d\uff08\u5de6\uff09","\u8217\u88c5\u52fe\u914d\uff08\u53f3\uff09","\u8217\u88c5\u539a"],this.dataset=[{name:"pavement",value:"",unit:""},{name:"i1",value:this.model.pavement.i1,unit:"%"},{name:"i2",value:this.model.pavement.i2,unit:"%"},{name:"T",value:this.model.pavement.T,unit:"m"}],this.columns=[{data:"unit",readOnly:!0},{data:"value",type:"numeric",numericFormat:{pattern:"0,0.000"}}],this.hotSettings={data:this.dataset,colHeaders:!1,rowHeaders:this.rowheader,columns:this.columns,allowEmpty:!1,beforeChange:(o,s)=>{for(const a of o){if(null===a)continue;let u=parseFloat(a[3]);if(isNaN(u))return!1;this.model.pavement[this.dataset[a[0]].name]=u}return this.redraw(),!0}}}redraw(){this.girder.createGirder(this.model.palam())}}return n.\u0275fac=function(t){return new(t||n)(Le(dd),Le(ah),Le(ch))},n.\u0275cmp=vi({type:n,selectors:[["app-side-right-pavement"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["height","auto","licenseKey","non-commercial-and-evaluation",3,"settings","rowHeaderWidth","stretchH"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(Re(0,"h1",0),Xn(1,"\u8217\u88c5\u306e\u7de8\u96c6"),$e(),Re(2,"div",1),lt(3,"hot-table",2),$e(),Re(4,"div",3)(5,"button",4),Xn(6,"\u9589\u3058\u308b"),$e()()),2&t&&(Fr(3),_e("settings",r.hotSettings)("rowHeaderWidth",200)("stretchH","last"))},dependencies:[$m,eh,rp,ip,Am,op]}),n})();class Jle{constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Pt,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let r6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[Ao,Ao]}),n})();const i6e=["*"],s6e=["text"];function a6e(n,e){if(1&n&&lt(0,"mat-pseudo-checkbox",5),2&n){const t=_i();_e("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const l6e=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],u6e=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let c6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),d6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Mn({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const f6e=ER(class{}),h6e=ER(class{}),p6e={provide:vd,useExisting:Ii(()=>$5),multi:!0};class m6e{constructor(e,t){this.source=e,this.options=t}}let Qle=(()=>{class n extends h6e{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this.selectionList=i,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new bo,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const r=Aa(t);r!==this._disabled&&(this._disabled=r,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const r=Aa(t);r!==this._selected&&(this._setSelected(r),(r||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(i=>t.compareWith(this._value,i))&&this._setSelected(!0);const r=this._selected;Promise.resolve().then(()=>{(this._selected||r)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function PEe(n,e,t="mat"){n.changes.pipe(Sm(n)).subscribe(({length:r})=>{TR(e,`${t}-2-line`,!1),TR(e,`${t}-3-line`,!1),TR(e,`${t}-multi-line`,!1),2===r||3===r?TR(e,`${t}-${r}-line`,!0):r>3&&TR(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,r=this.selectionList._removeOptionFromList(this);t&&r&&r.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Hu),Le(Ii(()=>$5)))},n.\u0275cmp=vi({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,r,i){if(1&t&&(fl(i,c6e,5),fl(i,d6e,5),fl(i,kEe,5)),2&t){let o;To(o=Ro())&&(r._avatar=o.first),To(o=Ro())&&(r._icon=o.first),To(o=Ro())&&(r._lines=o)}},viewQuery:function(t,r){if(1&t&&kl(s6e,5),2&t){let i;To(i=Ro())&&(r._text=i.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&on("focus",function(){return r._handleFocus()})("blur",function(){return r._handleBlur()})("click",function(){return r._handleClick()}),2&t&&(ts("aria-selected",r.selected)("aria-disabled",r.disabled)("tabindex",-1),ha("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)("mat-primary","primary"===r.color)("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("mat-list-single-selected-option",r.selected&&!r.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[wr],ngContentSelectors:u6e,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,r){1&t&&(fn(l6e),Re(0,"div",0),lt(1,"div",1),ie(2,a6e,1,2,"mat-pseudo-checkbox",2),Re(3,"div",3,4),Ji(5),$e(),Ji(6,1),$e()),2&t&&(ha("mat-list-item-content-reverse","after"==r.checkboxPosition),Fr(1),_e("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()),Fr(1),_e("ngIf",r.selectionList.multiple))},dependencies:[uM,BEe,nR],encapsulation:2,changeDetection:0}),n})(),$5=(()=>{class n extends f6e{constructor(t,r,i){super(),this._element=t,this._changeDetector=r,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new bo,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new Jle(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Pt,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Aa(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const r=Aa(t);r!==this._multiple&&(this._multiple=r,this.selectedOptions=new Jle(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new PJ(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Vu(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Sm(null),Vu(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Vu(this._destroyed)).subscribe(t=>{if(t.added)for(let r of t.added)r.selected=!0;if(t.removed)for(let r of t.removed)r.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Vu(this._destroyed)).subscribe(t=>{var r;if("keyboard"===t||"program"===t){let i=0;for(let o=0;o<this.options.length;o++)if(null!==(r=this.options.get(o))&&void 0!==r&&r.selected){i=o;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const r=t.disableRipple,i=t.color;(r&&!r.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const r=this._getOptionIndex(t);return r>-1&&this._keyManager.activeItemIndex===r&&(r>0?this._keyManager.updateActiveItem(r-1):0===r&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(r+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const r=t.keyCode,i=this._keyManager,o=i.activeItemIndex,s=Mb(t);switch(r){case 32:case 13:!s&&!i.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===r&&this.multiple&&Mb(t,"ctrlKey")&&!i.isTyping()){const a=this.options.some(u=>!u.disabled&&!u.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else i.onKeydown(t)}this.multiple&&(38===r||40===r)&&t.shiftKey&&i.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new m6e(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(r=>r._setSelected(!1)),t.forEach(r=>{const i=this.options.find(o=>!o.selected&&this.compareWith(o.value,r));i&&i._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let r=this.options.toArray()[t];r&&!r.disabled&&(this._multiple||!r.selected)&&(r.toggle(),this._emitChangeEvent([r]))}}_setAllOptionsSelected(t,r,i){const o=[];return this.options.forEach(s=>{(!r||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),i&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(Le(mi),Le(Hu),Le(Tm))},n.\u0275cmp=vi({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,r,i){if(1&t&&fl(i,Qle,5),2&t){let o;To(o=Ro())&&(r.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,r){1&t&&on("keydown",function(o){return r._keydown(o)}),2&t&&ts("aria-multiselectable",r.multiple)("aria-disabled",r.disabled.toString())("tabindex",r._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[ki([p6e]),wr,As],ngContentSelectors:i6e,decls:1,vars:0,template:function(t,r){1&t&&(fn(),Ji(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),g6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[lQ,TI,Ao,fQ,gb,lQ,Ao,fQ,r6e]}),n})(),y6e=(()=>{class n{constructor(t){this.dialog=t}openDialog(t){let r=null;"others"===t?r=H5e:"display"===t?r=e6e:"pavement"===t?r=n6e:"slab"===t?r=t6e:"beam"===t?r=P5e:"mid"===t?r=F5e:"cross"===t?r=L5e:"crossbeam"===t?r=I5e:"endbeam"===t&&(r=N5e),null!=r&&this.dialog.open(r,{width:"400px",position:{right:"10px",top:"70px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(Le(DR))},n.\u0275cmp=vi({type:n,selectors:[["app-side-left"]],decls:20,vars:1,consts:[[3,"multiple"],["shoes",""],[3,"click"]],template:function(t,r){1&t&&(Re(0,"mat-selection-list",0,1)(2,"mat-list-option",2),on("click",function(){return r.openDialog("others")}),Xn(3,"\u5171\u901a"),$e(),Re(4,"mat-list-option",2),on("click",function(){return r.openDialog("display")}),Xn(5,"\u69cb\u6210"),$e(),Re(6,"mat-list-option",2),on("click",function(){return r.openDialog("pavement")}),Xn(7,"\u8217\u88c5"),$e(),Re(8,"mat-list-option",2),on("click",function(){return r.openDialog("slab")}),Xn(9,"\u5e8a\u7248"),$e(),Re(10,"mat-list-option",2),on("click",function(){return r.openDialog("beam")}),Xn(11,"\u4e3b\u6841"),$e(),Re(12,"mat-list-option",2),on("click",function(){return r.openDialog("mid")}),Xn(13,"\u4e2d\u9593\u5bfe\u50be\u69cb"),$e(),Re(14,"mat-list-option",2),on("click",function(){return r.openDialog("cross")}),Xn(15,"\u6a2a\u69cb"),$e(),Re(16,"mat-list-option",2),on("click",function(){return r.openDialog("crossbeam")}),Xn(17,"\u8377\u91cd\u5206\u914d\u6a2a\u6841"),$e(),Re(18,"mat-list-option",2),on("click",function(){return r.openDialog("endbeam")}),Xn(19,"\u7aef\u6a2a\u6841"),$e()()),2&t&&_e("multiple",!1)},dependencies:[$5,Qle],styles:["mat-selection-list[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}mat-list-option[_ngcontent-%COMP%]{margin:10px}"]}),n})(),v6e=(()=>{class n{constructor(t,r){this.changeDetectorRef=t,this.dialog=r}openChat(){this.dialog.open(lTe,{width:"350px",position:{right:"10px",bottom:"10px"},hasBackdrop:!1})}}return n.\u0275fac=function(t){return new(t||n)(Le(Hu),Le(DR))},n.\u0275cmp=vi({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"over-three"]],template:function(t,r){1&t&&lt(0,"app-menu",0)(1,"app-side-left",0)(2,"app-three")},dependencies:[WPe,qLe,y6e],styles:[".over-three[_ngcontent-%COMP%]{z-index:10;position:relative}.right-buttom[_ngcontent-%COMP%]{z-index:10;position:fixed;right:50px;bottom:50px;transition:1s;opacity:.7}.right-buttom[_ngcontent-%COMP%]:hover{opacity:1}app-side-left[_ngcontent-%COMP%]{width:15%;display:block}"]}),n})();function eue(n){return new pn(3e3,!1)}function Q6e(){return"undefined"!=typeof window&&void 0!==window.document}function K5(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xv(n){switch(n.length){case 0:return new RR;case 1:return n[0];default:return new gQ(n)}}function tue(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let u=-1,c=null;if(r.forEach(f=>{const p=f.get("offset"),g=p==u,v=g&&c||new Map;f.forEach((w,M)=>{let C=M,L=w;if("offset"!==M)switch(C=e.normalizePropertyName(C,s),L){case"!":L=i.get(M);break;case Rm:L=o.get(M);break;default:L=e.normalizeStyleValue(M,C,L,s)}v.set(C,L)}),g||a.push(v),c=v,u=p}),s.length)throw function z6e(n){return new pn(3502,!1)}();return a}function X5(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Z5(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Z5(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Z5(t,"destroy",n)))}}function Z5(n,e,t){const r=t.totalTime,o=q5(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function q5(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function _d(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function nue(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let J5=(n,e)=>!1,rue=(n,e,t)=>[],iue=null;function Q5(n){const e=n.parentNode||n.host;return e===iue?null:e}(K5()||"undefined"!=typeof Element)&&(Q6e()?(iue=(()=>document.documentElement)(),J5=(n,e)=>{for(;e;){if(e===n)return!0;e=Q5(e)}return!1}):J5=(n,e)=>n.contains(e),rue=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let mw=null,oue=!1;const sue=J5,aue=rue;let lue=(()=>{class n{validateStyleProperty(t){return function t9e(n){mw||(mw=function n9e(){return"undefined"!=typeof document?document.body:null}()||{},oue=!!mw.style&&"WebkitAppearance"in mw.style);let e=!0;return mw.style&&!function e9e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mw.style,!e&&oue&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mw.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return sue(t,r)}getParentElement(t){return Q5(t)}query(t,r,i){return aue(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],u){return new RR(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),e8=(()=>{class n{}return n.NOOP=new lue,n})();const t8="ng-enter",zF="ng-leave",jF="ng-trigger",UF=".ng-trigger",cue="ng-animating",n8=".ng-animating";function Cv(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:r8(parseFloat(e[1]),e[2])}function r8(n,e){return"s"===e?1e3*n:n}function WF(n,e,t){return n.hasOwnProperty("duration")?n:function o9e(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(eue()),{duration:0,delay:0,easing:""};i=r8(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(o=r8(parseFloat(u),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function _6e(){return new pn(3100,!1)}()),a=!0),o<0&&(e.push(function b6e(){return new pn(3101,!1)}()),a=!0),a&&e.splice(u,0,eue())}return{duration:i,delay:o,easing:s}}(n,e,t)}function $A(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function due(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ev(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function hue(n,e,t){return t?e+":"+t+";":""}function pue(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=hue(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hue(0,u9e(t),n.style[t]));n.setAttribute("style",e)}function yp(n,e,t){n.style&&(e.forEach((r,i)=>{const o=o8(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),K5()&&pue(n))}function gw(n,e){n.style&&(e.forEach((t,r)=>{const i=o8(r);n.style[i]=""}),K5()&&pue(n))}function KA(n){return Array.isArray(n)?1==n.length?n[0]:pQ(n):n}const i8=new RegExp("{{\\s*(.+?)\\s*}}","g");function mue(n){let e=[];if("string"==typeof n){let t;for(;t=i8.exec(n);)e.push(t[1]);i8.lastIndex=0}return e}function YF(n,e,t){const r=n.toString(),i=r.replace(i8,(o,s)=>{let a=e[s];return null==a&&(t.push(function S6e(n){return new pn(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function GF(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const l9e=/-+([a-z0-9])/g;function o8(n){return n.replace(l9e,(...e)=>e[1].toUpperCase())}function u9e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bd(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function M6e(n){return new pn(3004,!1)}()}}function gue(n,e){return window.getComputedStyle(n)[e]}function m9e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function g9e(n,e,t){if(":"==n[0]){const u=function y9e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function F6e(n){return new pn(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function N6e(n){return new pn(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(yue(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(yue(s,i))}(r,t,e)):t.push(n),t}const ZF=new Set(["true","1"]),qF=new Set(["false","0"]);function yue(n,e){const t=ZF.has(n)||qF.has(n),r=ZF.has(e)||qF.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?ZF.has(n):qF.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?ZF.has(e):qF.has(e)),s&&a}}const v9e=new RegExp("s*:selfs*,?","g");function s8(n,e,t,r){return new _9e(n).build(e,t,r)}class _9e{constructor(e){this._driver=e}build(e,t,r){const i=new S9e(t);return this._resetContextStyleTimingState(i),bd(this,KA(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function C6e(){return new pn(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,s.push(u)}else t.errors.push(function E6e(){return new pn(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{mue(u).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(GF(o.values()),t.errors.push(function T6e(n,e){return new pn(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=bd(this,KA(e.animation),t);return{type:1,matchers:m9e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:yw(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>bd(this,r,t)),options:yw(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=bd(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:yw(e.options)}}visitAnimate(e,t){const r=function x9e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return a8(WF(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=a8(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=WF(t,e);return a8(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Jl({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=Jl(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(s,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Rm?r.push(a):t.errors.push(new pn(3002,!1)):r.push(due(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let u of a.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),f=c.get(u);let p=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push(function D6e(n,e,t,r,i){return new pn(3010,!1)}()),p=!1),o=f.startTime),p&&c.set(u,{startTime:o,endTime:i}),t.options&&function a9e(n,e,t){const r=e.params||{},i=mue(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function w6e(n){return new pn(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function A6e(){return new pn(3011,!1)}()),r;let o=0;const s=[];let a=!1,u=!1,c=0;const f=e.steps.map(L=>{const H=this._makeStyleAst(L,t);let V=null!=H.offset?H.offset:function M9e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(H.styles),z=0;return null!=V&&(o++,z=H.offset=V),u=u||z<0||z>1,a=a||z<c,c=z,s.push(z),H});u&&t.errors.push(function O6e(){return new pn(3012,!1)}()),a&&t.errors.push(function k6e(){return new pn(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function P6e(){return new pn(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,w=t.currentTime,M=t.currentAnimateTimings,C=M.duration;return f.forEach((L,H)=>{const V=g>0?H==v?1:g*H:s[H],z=V*C;t.currentTime=w+M.delay+z,M.duration=z,this._validateStyleAst(L,t),L.offset=V,r.styles.push(L)}),r}visitReference(e,t){return{type:8,animation:bd(this,KA(e.animation),t),options:yw(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yw(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yw(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function b9e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(v9e,"")),n=n.replace(/@\*/g,UF).replace(/@\w+/g,t=>UF+"-"+t.slice(1)).replace(/:animating/g,n8),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,_d(t.collectedStyles,t.currentQuerySelector,new Map);const a=bd(this,KA(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:yw(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function L6e(){return new pn(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:WF(e.timings,t.errors,!0);return{type:12,animation:bd(this,KA(e.animation),t),timings:r,options:null}}}class S9e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yw(n){return n?(n=$A(n)).params&&(n.params=function w9e(n){return n?$A(n):null}(n.params)):n={},n}function a8(n,e,t){return{duration:n,delay:e,easing:t}}function l8(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class JF{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const T9e=new RegExp(":enter","g"),D9e=new RegExp(":leave","g");function u8(n,e,t,r,i,o=new Map,s=new Map,a,u,c=[]){return(new A9e).buildKeyframes(n,e,t,r,i,o,s,a,u,c)}class A9e{buildKeyframes(e,t,r,i,o,s,a,u,c,f=[]){c=c||new JF;const p=new c8(e,t,c,i,o,f,[]);p.options=u;const g=u.delay?Cv(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,u),bd(this,r,p);const v=p.timelines.filter(w=>w.containsAnimation());if(v.length&&a.size){let w;for(let M=v.length-1;M>=0;M--){const C=v[M];if(C.element===t){w=C;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,u)}return v.length?v.map(w=>w.buildKeyframes()):[l8(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Cv(r.duration):null,a=null!=r.delay?Cv(r.delay):null;return 0!==s&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),bd(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=QF);const s=Cv(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>bd(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Cv(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),bd(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return WF(t.params?YF(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*o),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Cv(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=QF);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,f)=>{t.currentQueryIndex=f;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(u=p.currentTimeline),bd(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let u=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=t.currentTimeline;u&&f.delayNextStep(u);const p=f.currentTime;bd(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const QF={};class c8{constructor(e,t,r,i,o,s,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=QF,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new eH(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Cv(r.duration)),null!=r.delay&&(i.delay=Cv(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=YF(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new c8(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=QF,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new O9e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(T9e,"."+this._enterClassName)).replace(D9e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function I6e(n){return new pn(3014,!1)}()),a}}class eH{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new eH(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Rm),this._currentKeyframe.set(t,Rm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){var o;t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function k9e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Rm)}else Ev(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,c]of a){const f=YF(c,s,r);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,null!==(o=this._globalTimelineStyles.get(u))&&void 0!==o?o:Rm),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=Ev(a,new Map,this._backFill);c.forEach((f,p)=>{"!"===f?e.add(p):f===Rm&&t.add(p)}),r||c.set("offset",u/this.duration),i.push(c)});const o=e.size?GF(e.values()):[],s=t.size?GF(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return l8(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class O9e extends eH{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,u=Ev(e[0]);u.set("offset",0),o.push(u);const c=Ev(e[0]);c.set("offset",bue(a)),o.push(c);const f=e.length-1;for(let p=1;p<=f;p++){let g=Ev(e[p]);const v=g.get("offset");g.set("offset",bue((t+v*r)/s)),o.push(g)}r=s,t=0,i="",e=o}return l8(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function bue(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class d8{}const P9e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class L9e extends d8{normalizePropertyName(e,t){return o8(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(P9e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function x6e(n,e){return new pn(3005,!1)}())}return s+o}}function wue(n,e,t,r,i,o,s,a,u,c,f,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:p,errors:g}}const f8={};class Sue{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function I9e(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,u,c,f){var p;const g=[],v=this.ast.options&&this.ast.options.params||f8,M=this.buildStyles(r,a&&a.params||f8,g),C=u&&u.params||f8,L=this.buildStyles(i,C,g),H=new Set,V=new Map,z=new Map,X="void"===i,re={params:N9e(C,v),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},me=f?[]:u8(e,t,this.ast.animation,o,s,M,L,re,c,g);let ne=0;if(me.forEach(Se=>{ne=Math.max(Se.duration+Se.delay,ne)}),g.length)return wue(t,this._triggerName,r,i,X,M,L,[],[],V,z,ne,g);me.forEach(Se=>{const Ie=Se.element,ot=_d(V,Ie,new Set);Se.preStyleProps.forEach(ze=>ot.add(ze));const at=_d(z,Ie,new Set);Se.postStyleProps.forEach(ze=>at.add(ze)),Ie!==t&&H.add(Ie)});const pe=GF(H.values());return wue(t,this._triggerName,r,i,X,M,L,me,pe,V,z,ne)}}function N9e(n,e){const t=$A(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class F9e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=$A(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=YF(s,i,t));const u=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,u,s,t),r.set(u,s)})}),r}}class B9e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new F9e(i.style,i.options&&i.options.params||{},r))}),Mue(this.states,"true","1"),Mue(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Sue(e,i,this.states))}),this.fallbackTransition=function V9e(n,e,t){return new Sue(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Mue(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const z9e=new JF;class j9e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=s8(this._driver,t,r,[]);if(r.length)throw function j6e(n){return new pn(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=tue(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=u8(this._driver,t,o,t8,zF,new Map,new Map,r,z9e,i),s.forEach(f=>{const p=_d(a,f.element,new Map);f.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(function U6e(){return new pn(3300,!1)}()),s=[]),i.length)throw function W6e(n){return new pn(3504,!1)}();a.forEach((f,p)=>{f.forEach((g,v)=>{f.set(v,this._driver.computeStyle(p,v,Rm))})});const c=xv(s.map(f=>{const p=a.get(f.element);return this._buildPlayer(f,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Y6e(n){return new pn(3301,!1)}();return t}listen(e,t,r,i){const o=q5(t,"","","");return X5(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const xue="ng-animate-queued",h8="ng-animate-disabled",$9e=[],Cue={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K9e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hf="__ng_removed";class p8{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function J9e(n){return null!=n?n:null}(r?e.value:e),r){const o=$A(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const XA="void",m8=new p8(XA);class X9e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pf(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function G6e(n,e){return new pn(3302,!1)}();if(null==r||0==r.length)throw function $6e(n){return new pn(3303,!1)}();if(!function Q9e(n){return"start"==n||"done"==n}(r))throw function K6e(n,e){return new pn(3400,!1)}();const o=_d(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=_d(this._engine.statesByElement,e,new Map);return a.has(t)||(pf(e,jF),pf(e,jF+"-"+t),a.set(t,m8)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function X6e(n){return new pn(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new g8(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(pf(e,jF),pf(e,jF+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new p8(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=m8),c.value!==XA&&u.value===c.value){if(!function n7e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(u.params,c.params)){const M=[],C=o.matchStyles(u.value,u.params,M),L=o.matchStyles(c.value,c.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{gw(e,C),yp(e,L)})}return}const g=_d(this._engine.playersByElement,e,[]);g.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let v=o.matchTransition(u.value,c.value,e,c.params),w=!1;if(!v){if(!i)return;v=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:u,toState:c,player:s,isFallbackTransition:w}),w||(pf(e,xue),s.onStart(()=>{qx(e,xue)})),s.onDone(()=>{let M=this.players.indexOf(s);M>=0&&this.players.splice(M,1);const C=this._engine.playersByElement.get(e);if(C){let L=C.indexOf(s);L>=0&&C.splice(L,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,UF,!0);r.forEach(i=>{if(i[hf])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((u,c)=>{if(s.set(c,u.value),this._triggers.has(c)){const f=this.trigger(e,c,XA,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&xv(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const u=this._triggers.get(s).fallbackTransition,c=r.get(s)||m8,f=new p8(XA),p=new g8(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:c,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[hf];(!o||o===Cue)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pf(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const u=q5(o,r.triggerName,r.fromState.value,r.toState.value);u._data=e,X5(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Z9e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new X9e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(tH(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!tH(t))return;const o=t[hf];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pf(e,h8)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qx(e,h8))}removeNode(e,t,r,i){if(tH(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[hf]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return tH(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,UF,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,n8,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xv(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[hf];if(r&&r.setForRemoval){if(e[hf]=Cue,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(h8)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pf(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xv(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Z6e(n){return new pn(3402,!1)}()}_flushAnimations(e,t){const r=new JF,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(be=>{f.add(be);const Oe=this.driver.query(be,".ng-animate-queued",!0);for(let Ye=0;Ye<Oe.length;Ye++)f.add(Oe[Ye])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=Rue(g,this.collectedEnterElements),w=new Map;let M=0;v.forEach((be,Oe)=>{const Ye=t8+M++;w.set(Oe,Ye),be.forEach(Y=>pf(Y,Ye))});const C=[],L=new Set,H=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const Oe=this.collectedLeaveElements[be],Ye=Oe[hf];Ye&&Ye.setForRemoval&&(C.push(Oe),L.add(Oe),Ye.hasAnimation?this.driver.query(Oe,".ng-star-inserted",!0).forEach(Y=>L.add(Y)):H.add(Oe))}const V=new Map,z=Rue(g,Array.from(L));z.forEach((be,Oe)=>{const Ye=zF+M++;V.set(Oe,Ye),be.forEach(Y=>pf(Y,Ye))}),e.push(()=>{v.forEach((be,Oe)=>{const Ye=w.get(Oe);be.forEach(Y=>qx(Y,Ye))}),z.forEach((be,Oe)=>{const Ye=V.get(Oe);be.forEach(Y=>qx(Y,Ye))}),C.forEach(be=>{this.processLeaveNode(be)})});const X=[],re=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(t).forEach(Ye=>{const Y=Ye.player,Q=Ye.element;if(X.push(Y),this.collectedEnterElements.length){const Rt=Q[hf];if(Rt&&Rt.setForMove){if(Rt.previousTriggersValues&&Rt.previousTriggersValues.has(Ye.triggerName)){const Wt=Rt.previousTriggersValues.get(Ye.triggerName),Nt=this.statesByElement.get(Ye.element);if(Nt&&Nt.has(Ye.triggerName)){const bt=Nt.get(Ye.triggerName);bt.value=Wt,Nt.set(Ye.triggerName,bt)}}return void Y.destroy()}}const he=!p||!this.driver.containsElement(p,Q),ge=V.get(Q),Me=w.get(Q),Xe=this._buildInstruction(Ye,r,Me,ge,he);if(Xe.errors&&Xe.errors.length)return void re.push(Xe);if(he)return Y.onStart(()=>gw(Q,Xe.fromStyles)),Y.onDestroy(()=>yp(Q,Xe.toStyles)),void i.push(Y);if(Ye.isFallbackTransition)return Y.onStart(()=>gw(Q,Xe.fromStyles)),Y.onDestroy(()=>yp(Q,Xe.toStyles)),void i.push(Y);const Je=[];Xe.timelines.forEach(Rt=>{Rt.stretchStartingKeyframe=!0,this.disabledNodes.has(Rt.element)||Je.push(Rt)}),Xe.timelines=Je,r.append(Q,Xe.timelines),s.push({instruction:Xe,player:Y,element:Q}),Xe.queriedElements.forEach(Rt=>_d(a,Rt,[]).push(Y)),Xe.preStyleProps.forEach((Rt,Wt)=>{if(Rt.size){let Nt=u.get(Wt);Nt||u.set(Wt,Nt=new Set),Rt.forEach((bt,en)=>Nt.add(en))}}),Xe.postStyleProps.forEach((Rt,Wt)=>{let Nt=c.get(Wt);Nt||c.set(Wt,Nt=new Set),Rt.forEach((bt,en)=>Nt.add(en))})});if(re.length){const be=[];re.forEach(Oe=>{be.push(function q6e(n,e){return new pn(3505,!1)}())}),X.forEach(Oe=>Oe.destroy()),this.reportError(be)}const me=new Map,ne=new Map;s.forEach(be=>{const Oe=be.element;r.has(Oe)&&(ne.set(Oe,Oe),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,me))}),i.forEach(be=>{const Oe=be.element;this._getPreviousPlayers(Oe,!1,be.namespaceId,be.triggerName,null).forEach(Y=>{_d(me,Oe,[]).push(Y),Y.destroy()})});const pe=C.filter(be=>Aue(be,u,c)),Se=new Map;Tue(Se,this.driver,H,c,Rm).forEach(be=>{Aue(be,u,c)&&pe.push(be)});const ot=new Map;v.forEach((be,Oe)=>{Tue(ot,this.driver,new Set(be),u,"!")}),pe.forEach(be=>{var Oe,Ye;const Y=Se.get(be),Q=ot.get(be);Se.set(be,new Map([...Array.from(null!==(Oe=null==Y?void 0:Y.entries())&&void 0!==Oe?Oe:[]),...Array.from(null!==(Ye=null==Q?void 0:Q.entries())&&void 0!==Ye?Ye:[])]))});const at=[],ze=[],vt={};s.forEach(be=>{const{element:Oe,player:Ye,instruction:Y}=be;if(r.has(Oe)){if(f.has(Oe))return Ye.onDestroy(()=>yp(Oe,Y.toStyles)),Ye.disabled=!0,Ye.overrideTotalTime(Y.totalTime),void i.push(Ye);let Q=vt;if(ne.size>1){let ge=Oe;const Me=[];for(;ge=ge.parentNode;){const Xe=ne.get(ge);if(Xe){Q=Xe;break}Me.push(ge)}Me.forEach(Xe=>ne.set(Xe,Q))}const he=this._buildAnimation(Ye.namespaceId,Y,me,o,ot,Se);if(Ye.setRealPlayer(he),Q===vt)at.push(Ye);else{const ge=this.playersByElement.get(Q);ge&&ge.length&&(Ye.parentPlayer=xv(ge)),i.push(Ye)}}else gw(Oe,Y.fromStyles),Ye.onDestroy(()=>yp(Oe,Y.toStyles)),ze.push(Ye),f.has(Oe)&&i.push(Ye)}),ze.forEach(be=>{const Oe=o.get(be.element);if(Oe&&Oe.length){const Ye=xv(Oe);be.setRealPlayer(Ye)}}),i.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<C.length;be++){const Oe=C[be],Ye=Oe[hf];if(qx(Oe,zF),Ye&&Ye.hasAnimation)continue;let Y=[];if(a.size){let he=a.get(Oe);he&&he.length&&Y.push(...he);let ge=this.driver.query(Oe,n8,!0);for(let Me=0;Me<ge.length;Me++){let Xe=a.get(ge[Me]);Xe&&Xe.length&&Y.push(...Xe)}}const Q=Y.filter(he=>!he.destroyed);Q.length?e7e(this,Oe,Q):this.processLeaveNode(Oe)}return C.length=0,at.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const Oe=this.players.indexOf(be);this.players.splice(Oe,1)}),be.play()}),at}elementContainsData(e,t){let r=!1;const i=t[hf];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const u=!o||o==XA;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,f=c!==o,p=_d(r,c,[]);this._getPreviousPlayers(c,f,s,a,t.toState).forEach(v=>{const w=v.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),v.destroy(),p.push(v)})}gw(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,u=t.element,c=[],f=new Set,p=new Set,g=t.timelines.map(w=>{const M=w.element;f.add(M);const C=M[hf];if(C&&C.removedBeforeQueried)return new RR(w.duration,w.delay);const L=M!==u,H=function t7e(n){const e=[];return Due(n,e),e}((r.get(M)||$9e).map(me=>me.getRealPlayer())).filter(me=>!!me.element&&me.element===M),V=o.get(M),z=s.get(M),X=tue(0,this._normalizer,0,w.keyframes,V,z),re=this._buildPlayer(w,X,H);if(w.subTimeline&&i&&p.add(M),L){const me=new g8(e,a,M);me.setRealPlayer(re),c.push(me)}return re});c.forEach(w=>{_d(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function q9e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>pf(w,cue));const v=xv(g);return v.onDestroy(()=>{f.forEach(w=>qx(w,cue)),yp(u,t.toStyles)}),p.forEach(w=>{_d(i,w,[]).push(v)}),v}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new RR(e.duration,e.delay)}}class g8{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new RR,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>X5(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_d(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tH(n){return n&&1===n.nodeType}function Eue(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Tue(n,e,t,r,i){const o=[];t.forEach(u=>o.push(Eue(u)));const s=[];r.forEach((u,c)=>{const f=new Map;u.forEach(p=>{const g=e.computeStyle(c,p,i);f.set(p,g),(!g||0==g.length)&&(c[hf]=K9e,s.push(c))}),n.set(c,f)});let a=0;return t.forEach(u=>Eue(u,o[a++])),s}function Rue(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let u=o.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?1:s(c),o.set(a,u),u}return e.forEach(a=>{const u=s(a);1!==u&&t.get(u).push(a)}),t}function pf(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function qx(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function e7e(n,e,t){xv(t).onDone(()=>n.processLeaveNode(e))}function Due(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gQ?Due(r.players,e):e.push(r)}}function Aue(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class nH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Z9e(e,t,r),this._timelineEngine=new j9e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const u=[],f=s8(this._driver,o,u,[]);if(u.length)throw function V6e(n,e){return new pn(3404,!1)}();a=function H9e(n,e,t){return new B9e(n,e,t)}(i,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=nue(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=nue(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let i7e=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&yp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yp(this._element,this._initialStyles),this._endStyles&&(yp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gw(this._element,this._endStyles),this._endStyles=null),yp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function y8(n){let e=null;return n.forEach((t,r)=>{(function o7e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Oue{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:gue(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class s7e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sue(e,t)}getParentElement(e){return Q5(e)}query(e,t,r){return aue(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const c=new Map,f=s.filter(v=>v instanceof Oue);(function c9e(n,e){return 0===n||0===e})(r,i)&&f.forEach(v=>{v.currentSnapshot.forEach((w,M)=>c.set(M,w))});let p=function s9e(n){return n.length?n[0]instanceof Map?n:n.map(e=>due(e)):[]}(t).map(v=>Ev(v));p=function d9e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,gue(n,a)))}}return e}(e,p,c);const g=function r7e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=y8(e[0]),e.length>1&&(r=y8(e[e.length-1]))):e instanceof Map&&(t=y8(e)),t||r?new i7e(n,t,r):null}(e,p);return new Oue(e,p,u,g)}}let a7e=(()=>{class n extends hQ{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Eu.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pQ(t):t;return kue(this._renderer,null,r,"register",[i]),new l7e(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(_t(ay),_t(Pi))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();class l7e extends class VEe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new u7e(this._id,e,t||{},this._renderer)}}class u7e{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kue(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function kue(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Pue="@.disabled";let c7e=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(o);return f||(f=new Lue("",o,this.engine),this._rendererCache.set(o,f)),f}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(s,a,t,f.name,f)};return r.data.animation.forEach(u),new d7e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(_t(ay),_t(nH),_t(Ci))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})();class Lue{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Pue?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class d7e extends Lue{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Pue?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function f7e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function h7e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const Iue=[{provide:hQ,useClass:a7e},{provide:d8,useFactory:function m7e(){return new L9e}},{provide:nH,useClass:(()=>{class n extends nH{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(_t(Pi),_t(e8),_t(d8),_t($S))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})()},{provide:ay,useFactory:function g7e(n,e,t){return new c7e(n,e,t)},deps:[kL,nH,Ci]}],v8=[{provide:e8,useFactory:()=>new s7e},{provide:Kh,useValue:"BrowserAnimations"},...Iue],Nue=[{provide:e8,useClass:lue},{provide:Kh,useValue:"NoopAnimations"},...Iue];let y7e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Nue:v8}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:v8,imports:[RZ]}),n})();function Jx(n){return(Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function v7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,b7e(r.key),r)}}function b7e(n){var e=function w7e(n,e){if("object"!==Jx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Jx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Jx(e)?e:String(e)}function gh(){return gh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=S7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gh.apply(this,arguments)}function S7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=wd(n)););return n}function _8(n,e){return(_8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function C7e(n,e){if(e&&("object"===Jx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function E7e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function wd(n){return(wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Hue="handsontableEditor",b8=function(n){!function M7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_8(n,e)}(t,n);var e=function x7e(n){var e=function T7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=wd(n);if(e){var o=wd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return C7e(this,i)}}(t);function t(){return v7e(this,t),e.apply(this,arguments)}return function _7e(n,e,t){e&&Fue(n.prototype,e),t&&Fue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"open",value:function(){gh(wd(t.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),v2(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),gh(wd(t.prototype),"close",this).call(this)}},{key:"prepare",value:function(i,o,s,a,u,c){gh(wd(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var f=this,p={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(v,w){var M=this.getSourceData(w.row,w.col);void 0!==M&&f.setValue(M),f.instance.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&qa(p,c.handsontable),this.htOptions=p}},{key:"beginEditing",value:function(i,o){var s=this.hot.getSettings().onBeginEditing;s&&!1===s()||gh(wd(t.prototype),"beginEditing",this).call(this,i,o)}},{key:"createElements",value:function(){gh(wd(t.prototype),"createElements",this).call(this);var i=this.hot.rootDocument.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.htContainer=i,this.assignHooks()}},{key:"finishEditing",value:function(i,o,s){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var a=this.htEditor.getInstance().getValue();void 0!==a&&this.setValue(a)}gh(wd(t.prototype),"finishEditing",this).call(this,i,o,s)}},{key:"assignHooks",value:function(){var i=this;this.hot.addHook("afterDestroy",function(){i.htEditor&&i.htEditor.destroy()})}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor");gh(wd(t.prototype),"registerShortcuts",this).call(this);var u=function(f,p){var g=i.htEditor.getInstance();if(void 0!==f&&(f<0||g.flipped&&f>g.countRows()-1?g.deselectCell():g.selectCell(f,0),g.getData().length))return p.preventDefault(),dp(p),i.hot.listen(),i.TEXTAREA.focus(),!1};s.addShortcuts([{keys:[["ArrowUp"]],callback:function(f){var g,v,p=i.htEditor.getInstance();return!p.getSelectedLast()&&p.flipped?g=p.countRows()-1:p.getSelectedLast()&&(p.flipped?(v=p.getSelectedLast()[0],g=Math.max(0,v-1)):g=(v=p.getSelectedLast()[0])-1),u(g,f)},preventDefault:!1},{keys:[["ArrowDown"]],callback:function(f){var g,v,p=i.htEditor.getInstance();if(p.getSelectedLast()||p.flipped){if(p.getSelectedLast())if(p.flipped)g=p.getSelectedLast()[0]+1;else if(!p.flipped){var w=p.countRows()-1;v=p.getSelectedLast()[0],g=Math.min(w,v+1)}}else g=0;return u(g,f)},preventDefault:!1}],{group:Hue,relativeToGroup:M2,position:"before"})}},{key:"unregisterShortcuts",value:function(){gh(wd(t.prototype),"unregisterShortcuts",this).call(this),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Hue)}}],[{key:"EDITOR_TYPE",get:function(){return"handsontable"}}]),t}(fw);function Qx(n){return(Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Vue(r.key),r)}}function vw(){return vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=O7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vw.apply(this,arguments)}function O7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Km(n)););return n}function w8(n,e){return(w8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function L7e(n,e){if(e&&("object"===Qx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S8(n)}function S8(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Km(n){return(Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Vue(n){var e=function F7e(n,e){if("object"!==Qx(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Qx(e)?e:String(e)}var M8=new WeakMap,x8=function(n){!function k7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&w8(n,e)}(t,n);var e=function P7e(n){var e=function I7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Km(n);if(e){var o=Km(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return L7e(this,i)}}(t);function t(r){var i;return function D7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function N7e(n,e,t){(e=Vue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(S8(i=e.call(this,r)),"sortByRelevance",function(o,s,a){var v,w,M,u=[],c=[],f=o.length,p=s.length;if(0===f){for(w=0;w<p;w++)c.push(w);return c}for(w=0;w<p;w++){if(v=Zne(Pa(s[w])),a)M=v.indexOf(o);else{var C=this.cellProperties.locale;M=v.toLocaleLowerCase(C).indexOf(o.toLocaleLowerCase(C))}-1!==M&&u.push({baseIndex:w,index:M,charsLeft:v.length-M-f,value:v})}for(u.sort(function(L,H){if(-1===H.index)return-1;if(-1===L.index)return 1;if(L.index<H.index)return-1;if(H.index<L.index)return 1;if(L.index===H.index){if(L.charsLeft<H.charsLeft)return-1;if(L.charsLeft>H.charsLeft)return 1}return 0}),w=0,p=u.length;w<p;w++)c.push(u[w].baseIndex);return c}),i.query=null,i.strippedChoices=[],i.rawChoices=[],M8.set(S8(i),{skipOne:!1,isMacOS:i.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),i}return function A7e(n,e,t){e&&Bue(n.prototype,e),t&&Bue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getValue",value:function(){var i=this,o=this.rawChoices.find(function(s){return i.stripValueIfNeeded(s)===i.TEXTAREA.value});return Cr(o)?o:this.TEXTAREA.value}},{key:"createElements",value:function(){vw(Km(t.prototype),"createElements",this).call(this),Dn(this.htContainer,"autocompleteEditor"),Dn(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var i=this,o=M8.get(this);vw(Km(t.prototype),"open",this).call(this);var s=this.htEditor.getInstance(),a=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var u=Il();0===u&&o.isMacOS&&(u+=15),this.addHook("beforeKeyDown",function(c){return i.onBeforeKeyDown(c)}),s.updateSettings({colWidths:a?[vs(this.TEXTAREA)-2]:void 0,width:a?vs(this.TEXTAREA)+u:void 0,renderer:function(f,p,g,v,w,M,C){bv(f,p,g,v,w,M,C);var me,ne,L=i.cellProperties,H=L.filteringCaseSensitive,V=L.allowHtml,z=L.locale,X=i.query,re=Pa(M);re&&!V&&-1!==(me=!0===H?re.indexOf(X):re.toLocaleLowerCase(z).indexOf(X.toLocaleLowerCase(z)))&&(ne=re.substr(me,X.length),re=re.replace(ne,"<strong>".concat(ne,"</strong>"))),p.innerHTML=re},autoColumnSize:!0}),o.skipOne&&(o.skipOne=!1),this.hot._registerTimeout(function(){i.queryChoices(i.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),vw(Km(t.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(i){vw(Km(t.prototype),"discardEditor",this).call(this,i),this.hot.view.render()}},{key:"queryChoices",value:function(i){var o=this,s=this.cellProperties.source;this.query=i,"function"==typeof s?s.call(this.cellProperties,i,function(a){o.rawChoices=a,o.updateChoicesList(o.stripValuesIfNeeded(a))}):Array.isArray(s)?(this.rawChoices=s,this.updateChoicesList(this.stripValuesIfNeeded(s))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(i){var o=ere(this.TEXTAREA),s=function TIe(n){var e=n.ownerDocument;if(n.selectionEnd)return n.selectionEnd;if(e.selection){var t=e.selection.createRange();return null===t?0:n.createTextRange().text.indexOf(t.text)+t.text.length}return 0}(this.TEXTAREA),a=this.cellProperties.sortByRelevance,u=this.cellProperties.filter,c=null,f=null,p=i;a&&(c=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),p,this.cellProperties.filteringCaseSensitive));var g=Array.isArray(c)?c.length:0;if(!1===u)g&&(f=c[0]);else{for(var v=[],w=0,M=p.length;w<M&&!(a&&g<=w);w++)v.push(g?p[c[w]]:p[w]);f=0,p=v}this.strippedChoices=p,this.htEditor.loadData(c2([p])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(f),this.hot.listen(),v2(this.TEXTAREA,o,o===s?void 0:s)}},{key:"flipDropdownIfNeeded",value:function(){var i=sx(this.hot.view._wt.wtTable.TABLE),o=i===this.hot.rootWindow,s=this.cellProperties.preventOverflow;if(o||!o&&(s||"horizontal"===s))return!1;var a=Ja(this.TEXTAREA),u=Qs(this.TEXTAREA),c=this.getDropdownHeight(),f=i.scrollTop,p=Qs(this.hot.view._wt.wtTable.THEAD),g=Ja(i),v=a.top-g.top-p+f,w=i.scrollHeight-v-p-u,M=c>w&&v>w;return M?this.flipDropdown(c):this.unflipDropdown(),this.limitDropdownIfNeeded(M?v:w,c),M}},{key:"limitDropdownIfNeeded",value:function(i,o){if(o>i){var c,s=0,a=0,u=0;do{s+=u=this.htEditor.getRowHeight(a)||this.htEditor.view._wt.getSetting("defaultRowHeight"),a+=1}while(s<i);c=s-u,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+o-c,"px")),this.setDropdownHeight(s-u)}}},{key:"flipDropdown",value:function(i){var o=this.htEditor.rootElement.style;o.position="absolute",o.top="".concat(-i,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var i=this.htEditor.rootElement.style;i.position="absolute",i.top="",this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var i=this.htEditor.getColWidth(0)+Il(this.hot.rootDocument)+2,o=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:o?void 0:i}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(i){this.htEditor.updateSettings({height:i})}},{key:"highlightBestMatchingChoice",value:function(i){"number"==typeof i?this.htEditor.selectCell(i,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var i=this.htEditor.getInstance().getRowHeight(0)||23,o=this.cellProperties.visibleRows;return this.strippedChoices.length>=o?o*i:this.strippedChoices.length*i+8}},{key:"stripValueIfNeeded",value:function(i){return this.stripValuesIfNeeded([i])[0]}},{key:"stripValuesIfNeeded",value:function(i){var o=this.cellProperties.allowHtml,s=eo(i,function(u){return Pa(u)});return eo(s,function(u){return o?u:Zne(u)})}},{key:"allowKeyEventPropagation",value:function(i){var o=this.htEditor.getSelectedRangeLast(),s_row=o?o.from.row:-1,a=!1;return i===Ir.ARROW_DOWN&&s_row>0&&s_row<this.htEditor.countRows()-1&&(a=!0),i===Ir.ARROW_UP&&s_row>-1&&(a=!0),a}},{key:"onBeforeKeyDown",value:function(i){var o=this,s=M8.get(this);if(s.skipOne=!1,function jIe(n){return 32===n||n>=48&&n<=57||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n>=226||n>=65&&n<=90}(i.keyCode)||i.keyCode===Ir.BACKSPACE||i.keyCode===Ir.DELETE||i.keyCode===Ir.INSERT){var a=10;if(i.keyCode===Ir.C&&(i.ctrlKey||i.metaKey))return;this.isOpened()||(a+=10),this.htEditor&&this.hot._registerTimeout(function(){o.queryChoices(o.TEXTAREA.value),s.skipOne=!0},a)}}}],[{key:"EDITOR_TYPE",get:function(){return"autocomplete"}}]),t}(b8);function eC(n){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function B7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,z7e(r.key),r)}}function z7e(n){var e=function j7e(n,e){if("object"!==eC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==eC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===eC(e)?e:String(e)}function C8(n,e){return(C8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Y7e(n,e){if(e&&("object"===eC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function G7e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function iH(n){return(iH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var jue=function(n){!function U7e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&C8(n,e)}(t,n);var e=function W7e(n){var e=function $7e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=iH(n);if(e){var o=iH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Y7e(this,i)}}(t);function t(){return B7e(this,t),e.apply(this,arguments)}return function V7e(n,e,t){e&&zue(n.prototype,e),t&&zue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"beginEditing",value:function(i,o){if(o&&"mouseup"===o.type){var s=this.TD.querySelector('input[type="checkbox"]');Ai(s,"htBadValue")||s.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}],[{key:"EDITOR_TYPE",get:function(){return"checkbox"}}]),t}(Kx),Uue=b(8183);function tC(n){return(tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Wue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,q7e(r.key),r)}}function q7e(n){var e=function J7e(n,e){if("object"!==tC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==tC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===tC(e)?e:String(e)}function Xm(){return Xm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Q7e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xm.apply(this,arguments)}function Q7e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=yh(n)););return n}function E8(n,e){return(E8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function n$e(n,e){if(e&&("object"===tC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function r$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function yh(n){return(yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Gue="dateEditor",$ue=function(n){!function e$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&E8(n,e)}(t,n);var e=function t$e(n){var e=function i$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yh(n);if(e){var o=yh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n$e(this,i)}}(t);function t(r){var i;return function X7e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).defaultDateFormat="DD/MM/YYYY",i.isCellEdited=!1,i.parentDestroyed=!1,i.$datePicker=null,i}return function Z7e(n,e,t){e&&Wue(n.prototype,e),t&&Wue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){var i=this;if("function"!=typeof Zo)throw new Error("You need to include moment.js to your project.");if("function"!=typeof Uue)throw new Error("You need to include Pikaday to your project.");Xm(yh(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){i.parentDestroyed=!0,i.destroyElements()})}},{key:"createElements",value:function(){Xm(yh(t.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Dn(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),new ea(this).addEventListener(this.datePicker,"mousedown",function(o){return o.stopPropagation()})}},{key:"destroyElements",value:function(){var i=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),i&&i.removeChild(this.datePicker)}},{key:"prepare",value:function(i,o,s,a,u,c){Xm(yh(t.prototype),"prepare",this).call(this,i,o,s,a,u,c)}},{key:"open",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.hot.getShortcutManager(),s=o.getContext("editor");Xm(yh(t.prototype),"open",this).call(this),this.showDatepicker(i),s.addShortcut({keys:[["Enter"]],callback:function(u){u.stopPropagation()},group:Gue})}},{key:"close",value:function(){var i,o=this;this._opened=!1,null!==(i=this.$datePicker)&&void 0!==i&&i.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout(function(){o.instance._refreshBorders()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Gue),Xm(yh(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var s=this.originalValue;void 0!==s&&this.setValue(s)}Xm(yh(t.prototype),"finishEditing",this).call(this,i,o)}},{key:"showDatepicker",value:function(i){var c,o=this.TD.getBoundingClientRect(),s=this.cellProperties.dateFormat||this.defaultDateFormat,a=this.instance.view.isMouseDown(),u=!!i&&mre(i.keyCode);this.datePicker.style.display="block",this.$datePicker=new Uue(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+o.top+Qs(this.TD),"px");var f;f=this.hot.isRtl()?o.right-vs(this.datePicker):o.left,this.datePickerStyle.left="".concat(f,"px"),this.originalValue?(Zo(c=this.originalValue,s,!0).isValid()&&this.$datePicker.setMoment(Zo(c,s),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!u&&!a&&this.setValue("")):this.cellProperties.defaultDate?(Zo(c=this.cellProperties.defaultDate,s,!0).isValid()&&this.$datePicker.setMoment(Zo(c,s),!0),!u&&!a&&this.setValue("")):this.$datePicker.gotoToday()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var i=this,o=this.TEXTAREA,s={};this.cellProperties&&this.cellProperties.datePickerConfig&&d2(s,this.cellProperties.datePickerConfig);var a=s.onSelect,u=s.onClose;return s.field=o,s.trigger=o,s.container=this.datePicker,s.bound=!1,s.format=s.format||this.defaultDateFormat,s.reposition=s.reposition||!1,s.isRTL=!1,s.onSelect=function(c){var f=c;isNaN(f.getTime())||(f=Zo(f).format(i.cellProperties.dateFormat||i.defaultDateFormat)),i.setValue(f),i.hideDatepicker(),a&&a()},s.onClose=function(){i.parentDestroyed||i.finishEditing(!1),u&&u()},s}}],[{key:"EDITOR_TYPE",get:function(){return"date"}}]),t}(fw);function nC(n){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function o$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Kue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,a$e(r.key),r)}}function a$e(n){var e=function l$e(n,e){if("object"!==nC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==nC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===nC(e)?e:String(e)}function oH(){return oH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=u$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},oH.apply(this,arguments)}function u$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rC(n)););return n}function T8(n,e){return(T8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function f$e(n,e){if(e&&("object"===nC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function h$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function rC(n){return(rC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var R8=function(n){!function c$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T8(n,e)}(t,n);var e=function d$e(n){var e=function p$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rC(n);if(e){var o=rC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return f$e(this,i)}}(t);function t(){return o$e(this,t),e.apply(this,arguments)}return function s$e(n,e,t){e&&Kue(n.prototype,e),t&&Kue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){oH(rC(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],[{key:"EDITOR_TYPE",get:function(){return"dropdown"}}]),t}(x8);function iC(n){return(iC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function g$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xue(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v$e(r.key),r)}}function v$e(n){var e=function _$e(n,e){if("object"!==iC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==iC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===iC(e)?e:String(e)}function D8(n,e){return(D8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function S$e(n,e){if(e&&("object"===iC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function M$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sH(n){return(sH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().add("beforeValidate",function(n,e,t){var r=this.getCellMeta(e,this.propToCol(t));r.editor===R8&&void 0===r.strict&&(r.filter=!1,r.strict=!0)});var Zue=function(n){!function b$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&D8(n,e)}(t,n);var e=function w$e(n){var e=function x$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sH(n);if(e){var o=sH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return S$e(this,i)}}(t);function t(){return g$e(this,t),e.apply(this,arguments)}return function y$e(n,e,t){e&&Xue(n.prototype,e),t&&Xue(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,null,[{key:"EDITOR_TYPE",get:function(){return"numeric"}}]),t}(fw);function oC(n){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function E$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function que(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,R$e(r.key),r)}}function R$e(n){var e=function D$e(n,e){if("object"!==oC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==oC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===oC(e)?e:String(e)}function aH(){return aH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=A$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},aH.apply(this,arguments)}function A$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=sC(n)););return n}function A8(n,e){return(A8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function P$e(n,e){if(e&&("object"===oC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function L$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function sC(n){return(sC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Jue=function(n){!function O$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A8(n,e)}(t,n);var e=function k$e(n){var e=function I$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=sC(n);if(e){var o=sC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return P$e(this,i)}}(t);function t(){return E$e(this,t),e.apply(this,arguments)}return function T$e(n,e,t){e&&que(n.prototype,e),t&&que(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"createElements",value:function(){aH(sC(t.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,cp(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}],[{key:"EDITOR_TYPE",get:function(){return"password"}}]),t}(fw);function _w(n){return(_w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function F$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Que(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,B$e(r.key),r)}}function B$e(n){var e=function V$e(n,e){if("object"!==_w(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_w(e)?e:String(e)}function lH(){return lH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=z$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lH.apply(this,arguments)}function z$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=aC(n)););return n}function O8(n,e){return(O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function W$e(n,e){if(e&&("object"===_w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Y$e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function aC(n){return(aC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var k8="ht_editor_visible",ece="selectEditor",K$e=function(n){!function j$e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O8(n,e)}(t,n);var e=function U$e(n){var e=function G$e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=aC(n);if(e){var o=aC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return W$e(this,i)}}(t);function t(){return F$e(this,t),e.apply(this,arguments)}return function H$e(n,e,t){e&&Que(n.prototype,e),t&&Que(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),Dn(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(i){this.select.value=i}},{key:"open",value:function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",Ai(this.select,k8)&&Bi(this.select,k8),this.unregisterShortcuts(),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var i=this;this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){return i.refreshDimensions()}),this.addHook("afterRowResize",function(){return i.refreshDimensions()})}},{key:"prepare",value:function(i,o,s,a,u,c){var f=this;lH(aC(t.prototype),"prepare",this).call(this,i,o,s,a,u,c);var g,p=this.cellProperties.selectOptions;g=this.prepareOptions("function"==typeof p?p(this.row,this.col,this.prop):p),cp(this.select),no(g,function(v,w){var M=f.hot.rootDocument.createElement("OPTION");M.value=w,ix(M,v),f.select.appendChild(M)})}},{key:"prepareOptions",value:function(i){var o={};if(Array.isArray(i))for(var s=0,a=i.length;s<a;s++)o[i[s]]=i[s];else"object"===_w(i)&&(o=i);return o}},{key:"refreshValue",value:function(){var i=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=i,this.setValue(i),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===Nl.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var i=this.getEditedCellRect(),o=i.top,s=i.start,a=i.width,c=this.select.style;c.height="".concat(i.height,"px"),c.width="".concat(a,"px"),c.top="".concat(o,"px"),c[this.hot.isRtl()?"right":"left"]="".concat(s,"px"),c.margin="0px",Dn(this.select,k8)}}},{key:"registerShortcuts",value:function(){var i=this,s=this.hot.getShortcutManager().getContext("editor"),a={group:ece};!1!==this.isInFullEditMode()&&s.addShortcuts([{keys:[["ArrowUp"]],callback:function(){var c=i.select.selectedIndex-1;c>=0&&(i.select[c].selected=!0)}},{keys:[["ArrowDown"]],callback:function(){var c=i.select.selectedIndex+1;c<=i.select.length-1&&(i.select[c].selected=!0)}}],a)}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(ece)}}],[{key:"EDITOR_TYPE",get:function(){return"select"}}]),t}(Kx);function lC(n){return(lC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function X$e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,q$e(r.key),r)}}function q$e(n){var e=function J$e(n,e){if("object"!==lC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==lC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===lC(e)?e:String(e)}function uH(){return uH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Q$e(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},uH.apply(this,arguments)}function Q$e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=uC(n)););return n}function P8(n,e){return(P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function nKe(n,e){if(e&&("object"===lC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function rKe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function uC(n){return(uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var nce=function(n){!function eKe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&P8(n,e)}(t,n);var e=function tKe(n){var e=function iKe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=uC(n);if(e){var o=uC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nKe(this,i)}}(t);function t(){return X$e(this,t),e.apply(this,arguments)}return function Z$e(n,e,t){e&&tce(n.prototype,e),t&&tce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"prepare",value:function(i,o,s,a,u,c){uH(uC(t.prototype),"prepare",this).call(this,i,o,s,a,u,c),this.TEXTAREA.dir="ltr"}}],[{key:"EDITOR_TYPE",get:function(){return"time"}}]),t}(fw);function L8(n,e,t,r,i,o,s){zA.apply(this,[n,e,t,r,i,o,s]),ix(e,null==o?"":o,!1)}function cC(n,e,t,r,i,o,s){var a=n.rootDocument,u=s.allowHtml?L8:bv,c=a.createElement("DIV");if(c.className="htAutocompleteArrow",c.appendChild(a.createTextNode(String.fromCharCode(9660))),u.apply(this,[n,e,t,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode(String.fromCharCode(160))),e.insertBefore(c,e.firstChild),Dn(e,"htAutocomplete"),!n.acArrowListener){var f=new ea(n);n.acArrowListener=function(p){Ai(p.target,"htAutocompleteArrow")&&n.view._wt.getSetting("onCellDblClick",null,n._createCellCoords(t,r),e)},f.addEventListener(n.rootElement,"mousedown",n.acArrowListener),n.addHookOnce("afterDestroy",function(){f.destroy()})}}L8.RENDERER_TYPE="html",cC.RENDERER_TYPE="autocomplete";var rce=new WeakMap,ice=new WeakMap,dC="data-row",fC="data-col";function I8(n,e,t,r,i,o,s){var a=n.rootDocument;zA.apply(this,[n,e,t,r,i,o,s]),function dKe(n){var e=ice.get(n);if(!e){var t=n.rootElement;(e=new ea(n)).addEventListener(t,"click",function(r){return function mKe(n,e){var t=n.target;if(N8(t)&&t.hasAttribute(dC)&&t.hasAttribute(fC)){var r=parseInt(t.getAttribute(dC),10),i=parseInt(t.getAttribute(fC),10);e.getCellMeta(r,i).readOnly&&n.preventDefault()}}(r,n)}),e.addEventListener(t,"mouseup",function(r){return function pKe(n,e){var t=n.target;!N8(t)||!t.hasAttribute(dC)||!t.hasAttribute(fC)||setTimeout(e.listen,10)}(r,n)}),e.addEventListener(t,"change",function(r){return function gKe(n,e){var t=n.target;if(N8(t)&&t.hasAttribute(dC)&&t.hasAttribute(fC)){var r=parseInt(t.getAttribute(dC),10),i=parseInt(t.getAttribute(fC),10),o=e.getCellMeta(r,i);o.readOnly||e.setDataAtCell(r,i,n.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate)}}(r,n)}),ice.set(n,e)}}(n);var u=function fKe(n){var e=n.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(a),c=s.label,f=!1;if(void 0===s.checkedTemplate&&(s.checkedTemplate=!0),void 0===s.uncheckedTemplate&&(s.uncheckedTemplate=!1),cp(e),o===s.checkedTemplate||Pa(o).toLocaleLowerCase(s.locale)===Pa(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||Pa(o).toLocaleLowerCase(s.locale)===Pa(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:yl(o)?Dn(u,"noValue"):(u.style.display="none",Dn(u,"htBadValue"),f=!0),u.setAttribute(dC,t),u.setAttribute(fC,r),!f&&c){var p="";if(c.value)p="function"==typeof c.value?c.value.call(this,t,r,i,o):c.value;else if(c.property){var g=n.getDataAtRowProp(t,c.property);p=null!==g?g:""}var v=function hKe(n,e,t){var r=n.createElement("label");return r.className="htCheckboxRendererLabel ".concat(t?"fullWidth":""),r.appendChild(n.createTextNode(e)),r.cloneNode(!0)}(a,p,!0!==c.separated);"before"===c.position?c.separated?(e.appendChild(v),e.appendChild(u)):(v.appendChild(u),u=v):(!c.position||"after"===c.position)&&(c.separated?(e.appendChild(u),e.appendChild(v)):(v.insertBefore(u,v.firstChild),u=v))}function M(){var L=arguments.length>0&&void 0!==arguments[0]&&arguments[0],H=n.getSelectedRange();if(H)for(var V=0;V<H.length;V++){for(var z=H[V].getTopStartCorner(),X=z.row,re=z.col,me=H[V].getBottomEndCorner(),ne=me.row,pe=me.col,Se=[],Ie=X;Ie<=ne;Ie+=1)for(var ot=re;ot<=pe;ot+=1){var at=n.getCellMeta(Ie,ot);if("checkbox"!==at.type)return;if(!0!==at.readOnly){void 0===at.checkedTemplate&&(at.checkedTemplate=!0),void 0===at.uncheckedTemplate&&(at.uncheckedTemplate=!1);var ze=n.getDataAtCell(Ie,ot);!1===L?[at.checkedTemplate,at.checkedTemplate.toString()].includes(ze)?Se.push([Ie,ot,at.uncheckedTemplate]):[at.uncheckedTemplate,at.uncheckedTemplate.toString(),null,void 0].includes(ze)&&Se.push([Ie,ot,at.checkedTemplate]):Se.push([Ie,ot,at.uncheckedTemplate])}}Se.length>0&&n.setDataAtCell(Se)}}function C(){var L=n.getSelectedRange();if(L){for(var H=0;H<L.length;H++)for(var V=L[H].getTopStartCorner(),z=L[H].getBottomEndCorner(),X=V.row;X<=z.row;X++)for(var re=V.col;re<=z.col;re++){var me=n.getCellMeta(X,re);if("checkbox"!==me.type)return!1;var ne=n.getCell(X,re);if(null==ne)return!0;if(ne.querySelectorAll("input[type=checkbox]").length>0&&!me.readOnly)return!0}return!1}}(!c||c&&!c.separated)&&e.appendChild(u),f&&e.appendChild(a.createTextNode("#bad-value#")),rce.has(n)||(rce.set(n,!0),function w(){n.getShortcutManager().getContext("grid").addShortcuts([{keys:[["space"]],callback:function(){return M(),!C()}},{keys:[["enter"]],callback:function(){return M(),!C()},runOnlyIf:function(){return n.getSettings().enterBeginsEditing}},{keys:[["delete"],["backspace"]],callback:function(){return M(!0),!C()},relativeToGroup:wD,position:"before"}],{group:"checkboxRenderer"})}())}function N8(n){return"INPUT"===n.tagName&&"checkbox"===n.getAttribute("type")}Tr.getSingleton().add("modifyAutoColumnSizeSeed",function(n,e,t){var r=e.label,o=e.row;if("checkbox"===e.type){if(r){var u=r.value,c=r.property,f=t;if(u)f="function"==typeof u?u(o,e.column,e.prop,t):u;else if(c){var p=this.getDataAtRowProp(o,c);f=null!==p?p:t}n=f}return n}}),I8.RENDERER_TYPE="checkbox";var bw=b(1046);function F8(n,e,t,r,i,o,s){var a=o;if(kc(a)){var u=s.numericFormat,c=u&&u.culture||"-",f=u&&u.pattern,p=s.className||"",g=p.length?p.split(" "):[];if(void 0!==c&&!bw.languages()[c]){var v=c.replace("-",""),w=bw.allLanguages?bw.allLanguages[c]:bw[v];w&&bw.registerLanguage(w)}bw.setLanguage(c),a=bw(a).format(f||"0"),g.indexOf("htLeft")<0&&g.indexOf("htCenter")<0&&g.indexOf("htRight")<0&&g.indexOf("htJustify")<0&&g.push("htRight"),g.indexOf("htNumeric")<0&&g.push("htNumeric"),s.className=g.join(" "),e.dir="ltr"}bv(n,e,t,r,i,a,s)}function H8(n,e,t,r,i,o,s){bv.apply(this,[n,e,t,r,i,o,s]);var u=s.hashSymbol||"*",c="";jr((s.hashLength||e.innerHTML.length)-1,function(){c+=u}),ix(e,c)}function B8(n,e,t,r,i,o,s){bv.apply(this,[n,e,t,r,i,o,s]),e.dir="ltr"}function cH(n,e){var t=n;null==t&&(t=""),this.allowEmpty&&""===t?e(!0):this.strict&&this.source?"function"==typeof this.source?this.source(t,sce(t,e)):sce(t,e)(this.source):e(!0)}function sce(n,e){var t=n;return function(r){for(var i=!1,o=0,s=r.length;o<s;o++)if(t===r[o]){i=!0;break}e(i)}}function V8(n,e){var t=Sre("date",this.instance),r=n,i=!0;null==r&&(r="");var o=Zo(r,this.dateFormat||t.defaultDateFormat,!0).isValid(),s=Zo(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(!0===this.correctFormat){var a=function xKe(n,e){var t=Zo(function SKe(n){var e=new Date(n);return isNaN(new Date("".concat(n,"T00:00")).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}(n)),r=Zo(n,e),i=n.search(/[A-z]/g)>-1;return(t.isValid()&&t.format("x")===r.format("x")||!r.isValid()||i?t:r).format(e)}(r,this.dateFormat),u=this.instance.toVisualRow(this.row),c=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(u,c,a,"dateValidator"),i=!0}else i=!1;e(i)}function z8(n,e){var t=n;null==t&&(t=""),e(!(!this.allowEmpty||""!==t)||""!==t&&kc(n))}F8.RENDERER_TYPE="numeric",H8.RENDERER_TYPE="password",B8.RENDERER_TYPE="time",cH.VALIDATOR_TYPE="autocomplete",b(8859),V8.VALIDATOR_TYPE="date",z8.VALIDATOR_TYPE="numeric";var EKe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];function j8(n,e){var t=this.timeFormat||"h:mm:ss a",r=!0,i=n;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var s=Zo(i,EKe,!0).isValid()?Zo(i):Zo(i,t),a=s.isValid(),u=Zo(i,t,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(a=!0,u=!0),a||(r=!1),!a&&u&&(r=!0),a&&!u)if(!0===this.correctFormat){var c=s.format(t),f=this.instance.toVisualRow(this.row),p=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(f,p,c,"timeValidator"),r=!0}else r=!1;e(r)}j8.VALIDATOR_TYPE="time";var AKe={CELL_TYPE:"autocomplete",editor:x8,renderer:cC,validator:cH},kKe={CELL_TYPE:"checkbox",editor:jue,renderer:I8},LKe={CELL_TYPE:"date",editor:$ue,renderer:cC,validator:V8},NKe={CELL_TYPE:"dropdown",editor:R8,renderer:cC,validator:cH},HKe={CELL_TYPE:"handsontable",editor:b8,renderer:cC},VKe={CELL_TYPE:"numeric",editor:Zue,renderer:F8,validator:z8,dataType:"number"},jKe={CELL_TYPE:"password",editor:Jue,renderer:H8,copyable:!1},WKe={CELL_TYPE:"time",editor:nce,renderer:B8,validator:j8};function ZA(n){return(ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ace(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QKe(r.key),r)}}function QKe(n){var e=function eXe(n,e){if("object"!==ZA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ZA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ZA(e)?e:String(e)}b(6557);var uce=new Map([["plugin",function m2e(n){return!!S4(n)}],["cell-type",Zse],["editor",wre],["renderer",zre],["validator",Ure]]),ww=new WeakMap,U8=[],vp=null,cce=new WeakSet,rs=function(){function n(e){var t=this;(function qKe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),function tXe(n,e){(function nXe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.add(n)}(this,cce),Um(this,"hot",e,{writable:!1}),ww.set(this,{hooks:{}}),vp=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(r){return t.onUpdateSettings(r)}),this.hot.addHook("beforeInit",function(){return t.init()})}return function JKe(n,e,t){e&&lce(n.prototype,e),t&&lce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"init",value:function(){var t=this;this.pluginName=this.hot.getPluginName(this);var r=this.constructor.PLUGIN_DEPS,i=Array.isArray(r)?r:[];if(i.length>0){var o=[];if(i.forEach(function(c){var p=function GKe(n,e){return function ZKe(n){if(Array.isArray(n))return n}(n)||function XKe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function KKe(n,e){if(n){if("string"==typeof n)return ace(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ace(n,e)}}(n,e)||function $Ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(":"),2),g=p[0],v=p[1];if(!uce.has(g))throw new Error('Unknown plugin dependency type "'.concat(g,'" was found.'));uce.get(g)(v)||o.push(" - ".concat(v," (").concat(g,")"))}),o.length>0){var s=["The ".concat(this.pluginName," plugin requires the following modules:\n"),"".concat(o.join("\n"),"\n")].join("");U8.push(s)}}if(vp||(vp=Vre()),vp.indexOf("UndoRedo")>=0&&vp.splice(vp.indexOf("UndoRedo"),1),vp.indexOf(this.pluginName)>=0&&vp.splice(vp.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",function(){t.isEnabled&&t.isEnabled()&&t.enablePlugin()}),0===vp.length){if(U8.length>0){var u=["".concat(U8.join("\n"),"\n"),"You have to import and register them manually."].join("");throw new Error(u)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,r){ww.get(this).hooks[t]=ww.get(this).hooks[t]||[];var i=ww.get(this).hooks[t];this.hot.addHook(t,r),i.push(r),ww.get(this).hooks[t]=i}},{key:"removeHooks",value:function(t){var r=this;ut(ww.get(this).hooks[t]||[],function(i){r.hot.removeHook(t,i)})}},{key:"clearHooks",value:function(){var t=this,r=ww.get(this).hooks;no(r,function(i,o){return t.removeHooks(o)}),r.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){ut(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(t){var r=function rXe(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}(this,cce,oXe).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),no(this,function(r,i){"hot"!==i&&(t[i]=null)}),delete this.t,delete this.hot}}],[{key:"PLUGIN_KEY",get:function(){return"base"}},{key:"SETTING_KEYS",get:function(){return[this.PLUGIN_KEY]}}]),n}();function oXe(n){if(!n)return!1;var e=this.constructor.SETTING_KEYS;if("boolean"==typeof e)return e;for(var t=0;t<e.length;t++)if(void 0!==n[e[t]])return!0;return!1}function qA(n){return(qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hXe(r.key),r)}}function hXe(n){var e=function pXe(n,e){if("object"!==qA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==qA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===qA(e)?e:String(e)}const hce=function(){function n(e){(function dXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return function fXe(n,e,t){e&&fce(n.prototype,e),t&&fce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addRow",value:function(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){if(null!=this.hot.getColHeader(0)){var i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}},{key:"addColumn",value:function(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),ut(this.rows,function(r){t(r.row,Qs(r.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),ut(this.columns,function(r){var i=r.table.getBoundingClientRect();t(r.col,Math.ceil(i.width))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,r){this.settings||(this.settings={}),this.settings[t]=r}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(i){ut(i.strings,function(o){r.appendChild(t.createColElement(o.col))})}),r}},{key:"createRow",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment(),s=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,s),o.appendChild(s)),this.samples.forEach(function(a){ut(a.strings,function(u){var c=u.col,f=r.hot.getCellMeta(t,c);f.col=c,f.row=t;var p=r.hot.getCellRenderer(f),g=i.createElement("td");g.setAttribute("ghost-table",1),p(r.hot,g,t,c,r.hot.colToProp(c),u.value,f),o.appendChild(g)})}),o}},{key:"appendColumnHeadersRow",value:function(){var t=this,r=this.hot.rootDocument,i=r.createDocumentFragment(),o=[];if(this.hot.hasRowHeaders()){var s=r.createElement("th");o.push([-1,s]),i.appendChild(s)}this.samples.forEach(function(a){ut(a.strings,function(u){var c=u.col,f=r.createElement("th");o.push([c,f]),i.appendChild(f)})}),this.table.tHead.appendChild(i),ut(o,function(a){var u=function sXe(n,e){return function cXe(n){if(Array.isArray(n))return n}(n)||function uXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function lXe(n,e){if(n){if("string"==typeof n)return dce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dce(n,e)}}(n,e)||function aXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a,2);t.hot.view.appendColHeader(u[0],u[1])})}},{key:"createCol",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment();return this.samples.forEach(function(s){ut(s.strings,function(a){var u=a.row,c=r.hot.getCellMeta(u,t);c.col=t,c.row=u;var f=r.hot.getCellRenderer(c),p=i.createElement("td"),g=i.createElement("tr");p.setAttribute("ghost-table",1),f(r.hot,p,u,t,r.hot.colToProp(t),a.value,c),g.appendChild(p),o.appendChild(g)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var r=this.hot.rootDocument.createElement("col");return r.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(t),"px"),r}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),s=r.createElement("thead"),a=r.createElement("tbody"),u=r.createElement("colgroup"),c=r.createElement("tr"),f=r.createElement("th");return this.isVertical()&&o.appendChild(u),this.isHorizontal()&&(c.appendChild(f),s.appendChild(c),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(s),this.isVertical()&&a.appendChild(c),o.appendChild(a),Dn(o,t),i.appendChild(o),{fragment:i,table:o,tHead:s,tBody:a,colGroup:u,tr:c,th:f}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("div"),s="htGhostTable htAutoSize ".concat(t.trim());return Dn(o,s),i.appendChild(o),{fragment:i,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),n}();function JA(n){return(JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mce(r.key),r)}}function mce(n){var e=function _Xe(n,e){if("object"!==JA(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==JA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===JA(e)?e:String(e)}const gce=function(){function n(e){(function yXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return function vXe(n,e,t){e&&pce(n.prototype,e),t&&pce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:n.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,r){return this.generateSamples("row",r,t)}},{key:"generateColumnSamples",value:function(t,r){return this.generateSamples("col",r,t)}},{key:"generateSamples",value:function(t,r,i){var o=this,s=new Map,a="number"==typeof i?{from:i,to:i}:i;return jr(a.from,a.to,function(f){var p=o.generateSample(t,r,f);s.set(f,p)}),s}},{key:"generateSample",value:function(t,r,i){var o=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var s=new Map,a="row"===t?"col":"row",u=[];return jr(r.from,r.to,function(c){var w,f="row"===t?o.dataFactory(i,c):o.dataFactory(c,i),p=f.value,g=f.bundleSeed,v="string"==typeof g&&g.length>0;w=v?g:to(p)?"".concat(Object.keys(p).length):Array.isArray(p)?"".concat(p.length):"".concat(Pa(p).length),s.has(w)||s.set(w,{needed:o.getSampleCount(),strings:[]});var M=s.get(w);M.needed&&(!(u.indexOf(p)>-1)||o.allowDuplicates||v)&&(M.strings.push(function gXe(n,e,t){return(e=mce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({value:p},a,c)),u.push(p),M.needed-=1)}),s}}],[{key:"SAMPLE_COUNT",get:function(){return 3}}]),n}();function hC(n){return(hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yce(n,e){return function xXe(n){if(Array.isArray(n))return n}(n)||function MXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function SXe(n,e){if(n){if("string"==typeof n)return vce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vce(n,e)}}(n,e)||function wXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _ce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,TXe(r.key),r)}}function TXe(n){var e=function RXe(n,e){if("object"!==hC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==hC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===hC(e)?e:String(e)}function Sw(){return Sw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=DXe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Sw.apply(this,arguments)}function DXe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Zm(n)););return n}function W8(n,e){return(W8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kXe(n,e){if(e&&("object"===hC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bce(n)}function bce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zm(n){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("modifyAutoColumnSizeSeed");var QA="autoColumnSize",Y8=new WeakMap,NXe=function(n){!function AXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&W8(n,e)}(t,n);var e=function OXe(n){var e=function PXe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Zm(n);if(e){var o=Zm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kXe(this,i)}}(t);function t(r){var i;return function CXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Y8.set(bce(i),{cachedColumnHeaders:[]}),i.ghostTable=new hce(i.hot),i.samplesGenerator=new gce(function(o,s){var a=i.hot.getCellMeta(o,s),u="";a.spanned||(u=i.hot.getDataAtCell(o,s));var c="";return i.hot.hasHook("modifyAutoColumnSizeSeed")&&(c=i.hot.runHooks("modifyAutoColumnSizeSeed",c,a,u)),{value:u,bundleSeed:c}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredColumns=0,i.columnWidthsMap=new yv,i.hot.columnIndexMapper.registerMap("autoColumnSize",i.columnWidthsMap),i.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),i}return function EXe(n,e,t){e&&_ce(n.prototype,e),t&&_ce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings()[QA]&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[QA];o&&null!=o.useHeaders&&this.ghostTable.setSetting("useHeaders",o.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(s){return i.onBeforeChange(s)}),this.addHook("afterFormulasValuesUpdate",function(s){return i.onAfterFormulasValuesUpdate(s)}),this.addHook("beforeViewRender",function(s){return i.onBeforeViewRender(s)}),this.addHook("modifyColWidth",function(s,a){return i.getColumnWidth(a,s)}),this.addHook("afterInit",function(){return i.onAfterInit()}),Sw(Zm(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var i=this.findColumnsWhereHeaderWasChanged();i.length&&(this.clearCache(i),this.calculateVisibleColumnsWidth()),Sw(Zm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=this;Sw(Zm(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)})}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var o=this.hot.renderCall,s=this.getFirstVisibleColumn(),a=this.getLastVisibleColumn();-1===s||-1===a||this.calculateColumnsWidth({from:s,to:a},void 0,o)}}},{key:"calculateColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;jr(u.from,u.to,function(f){var p=i.hot.toPhysicalColumn(f);null===p&&(p=f),(a||null===i.columnWidthsMap.getValueAtIndex(p)&&!i.hot._getColWidthFromSettings(p))&&ut(i.samplesGenerator.generateColumnSamples(f,c),function(v){var w=yce(v,2);return i.ghostTable.addColumn(w[0],w[1])})}),this.ghostTable.columns.length&&(this.hot.batchExecution(function(){i.ghostTable.getWidths(function(f,p){var g=i.hot.toPhysicalColumn(f);i.columnWidthsMap.setValueAtIndex(g,p)})},!0),this.measuredColumns=u.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=0,a=this.hot.countCols()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return u2(u),void(i.inProgress=!1);i.calculateColumnsWidth({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=NW(p):(u2(u),i.inProgress=!1,i.hot.view.adjustElementsSize())},f=this.getSyncCalculationLimit();this.firstCalculation&&f>=0&&(this.calculateColumnsWidth({from:0,to:f},o),this.firstCalculation=!1,s=f+1),s<a?c():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[QA],o=i&&ya(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&ya(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[QA],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countCols()-1;return to(i)&&(Kne(o=i.syncLimit)?o=Ore(s,o):o>>=0),Math.min(o,s)}},{key:"getColumnWidth",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o;return void 0===a&&(a=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(i)),s&&"number"==typeof a&&(a=Math.max(a,q4.DEFAULT_WIDTH))),a}},{key:"getFirstVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getFirstVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getFirstRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"getLastVisibleColumn",value:function(){var i=this.hot.view._wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getLastVisibleColumn();if(-1!==o)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var s=i.wtTable.getLastRenderedColumn();if(-1!==s)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(s)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var i=this.hot.getColHeader(),s=Y8.get(this).cachedColumnHeaders;return Za(i,function(u,c,f){var p=s.length;return(p-1<f||s[f]!==c)&&u.push(f),p-1<f?s.push(c):s[f]=c,u},[])}},{key:"clearCache",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.length?this.hot.batchExecution(function(){ut(o,function(s){i.columnWidthsMap.setValueAtIndex(s,null)})},!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!uf(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){i.hot&&i.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(i){var o=this,s=eo(i,function(a){var u=yce(a,2);return o.hot.toPhysicalColumn(o.hot.propToCol(u[1]))});this.clearCache(Array.from(new Set(s)))}},{key:"onBeforeColumnResize",value:function(i,o,s){var a=i;return s&&(this.calculateColumnsWidth(o,void 0,!0),a=this.getColumnWidth(o,void 0,!1)),a}},{key:"onAfterInit",value:function(){Y8.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(i){var s=eo(uf(i,function(a){var u;return Cr(null===(u=a.address)||void 0===u?void 0:u.col)}),function(a){return a.address.col});this.clearCache(Array.from(new Set(s)))}},{key:"destroy",value:function(){this.ghostTable.clean(),Sw(Zm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return QA}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),t}(rs),Mw={horizontal:"horizontal",vertical:"vertical"};function pC(n){return(pC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wce(n,e){if(n){if("string"==typeof n)return G8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G8(n,e)}}function G8(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Sce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ZXe(r.key),r)}}function ZXe(n){var e=function qXe(n,e){if("object"!==pC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==pC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===pC(e)?e:String(e)}function xw(){return xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=JXe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xw.apply(this,arguments)}function JXe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qm(n)););return n}function $8(n,e){return($8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function tZe(n,e){if(e&&("object"===pC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mce(n)}function Mce(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qm(n){return(qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("modifyAutofillRange"),Tr.getSingleton().register("beforeAutofill"),Tr.getSingleton().register("afterAutofill");var xce="autofill",iZe=["fillHandle"],aZe=function(n){!function QXe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$8(n,e)}(t,n);var e=function eZe(n){var e=function nZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qm(n);if(e){var o=qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tZe(this,i)}}(t);function t(r){var i;return function KXe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(Mce(i)),i.addingStarted=!1,i.mouseDownOnCellCorner=!1,i.mouseDragOutside=!1,i.handleDraggedCells=0,i.directions=[],i.autoInsertRow=!1,i}return function XXe(n,e,t){e&&Sce(n.prototype,e),t&&Sce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(o){return i.onAfterCellCornerMouseDown(o)}),this.addHook("afterOnCellCornerDblClick",function(o){return i.onCellCornerDblClick(o)}),this.addHook("beforeOnCellMouseOver",function(o,s){return i.onBeforeCellMouseOver(s)}),xw(qm(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),xw(qm(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),xw(qm(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var i=this,o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=s.row,u=s.col,c=o.getBottomEndCorner(),g=this.hot.runHooks("modifyCopyableRange",[{startRow:a,startCol:u,endRow:c.row,endCol:c.col}]),v=[],w=[],M=[];return ut(g,function(C){for(var L=C.startRow;L<=C.endRow;L+=1)-1===v.indexOf(L)&&v.push(L);for(var H=C.startCol;H<=C.endCol;H+=1)-1===w.indexOf(H)&&w.push(H)}),ut(v,function(C){var L=[];ut(w,function(H){L.push(i.hot.getCopyableData(C,H))}),M.push(L)}),M}},{key:"fillIn",value:function(){var i=this;if(this.hot.selection.highlight.getFill().isEmpty())return!1;var s=function WXe(n,e){return function $Xe(n){if(Array.isArray(n))return n}(n)||function GXe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||wce(n,e)||function YXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.hot.selection.highlight.getFill().getVisualCorners(),4),a=s[0],u=s[1],c=s[2],f=s[3],p=this.hot.getSelectedRangeLast(),g=p.getTopStartCorner(),v=p.getBottomEndCorner();this.resetSelectionOfDraggedArea();var w=[g.row,g.col,v.row,v.col],M=this.hot.runHooks("modifyAutofillRange",[Math.min(g.row,a),Math.min(g.col,u),Math.max(v.row,c),Math.max(v.col,f)],w),C=function HXe(n,e,t){var r,i,o;return e[0]===n[0]&&e[1]<n[1]?(o="left",r=t(e[0],e[1]),i=t(e[2],n[1]-1)):e[2]===n[2]&&e[0]===n[0]&&e[3]>n[3]?(o="right",r=t(e[0],n[3]+1),i=t(e[2],e[3])):e[0]<n[0]&&e[1]===n[1]?(o="up",r=t(e[0],e[1]),i=t(n[0]-1,e[3])):e[2]>n[2]&&e[1]===n[1]&&(o="down",r=t(n[2]+1,e[1]),i=t(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}(w,M,function(Ye,Y){return i.hot._createCellCoords(Ye,Y)}),L=C.directionOfDrag,H=C.startOfDragCoords,V=C.endOfDragCoords;if(H&&H.row>-1&&H.col>-1){var z=this.getSelectionData(),X=p.clone(),re=this.hot._createCellRange(H,H,V),me=this.hot.runHooks("beforeAutofill",z,X,re,L);if(!1===me)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var ne=function FXe(n,e,t,r){var i=t.length,o=t?t[0].length:0,s=[],a=e.row-n.row,u=e.col-n.col;if(-1!==["down","up"].indexOf(r)){for(var c=[],f=0;f<u;f++){var p=parseInt(t[0][f],10),g=parseInt(t[i-1][f],10);c.push(("down"===r?g-p:p-g)/(i-1)||0)}s.push(c)}if(-1!==["right","left"].indexOf(r))for(var w=0;w<a;w++){var M=parseInt(t[w][0],10),C=parseInt(t[w][o-1],10);s.push([("right"===r?C-M:M-C)/(o-1)||0])}return s}(H,V,z,L),pe=me,Se=me;if(["up","left"].indexOf(L)>-1&&(1!==Se.length||0!==Se[0].length))if(pe=[],"up"===L)for(var Ie=V.row-H.row+1,ot=Ie%Se.length,at=0;at<Ie;at++)pe.push(Se[(at+(Se.length-ot))%Se.length]);else for(var ze=V.col-H.col+1,vt=ze%Se[0].length,be=0;be<Se.length;be++){pe.push([]);for(var Oe=0;Oe<ze;Oe++)pe[be].push(Se[be][(Oe+(Se[be].length-vt))%Se[be].length])}this.hot.populateFromArray(H.row,H.col,pe,V.row,V.col,"".concat(this.pluginName,".fill"),null,L,ne),this.setSelection(M),this.hot.runHooks("afterAutofill",pe,X,re,L),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(i){return i.row<0&&(i.row=0),i.col<0&&(i.col=0),i}},{key:"getCoordsOfDragAndDropBorders",value:function(i){var o=this.hot.getSelectedRangeLast(),s=o.getBottomEndCorner(),a=i;if(this.directions.includes(Mw.vertical)&&this.directions.includes(Mw.horizontal)){var u=o.getTopStartCorner();(s.col<=i.col||u.col>=i.col)&&(a=this.hot._createCellCoords(s.row,i.col)),(s.row<i.row||u.row>i.row)&&(a=this.hot._createCellCoords(i.row,s.col))}else if(this.directions.includes(Mw.vertical))a=this.hot._createCellCoords(i.row,s.col);else{if(!this.directions.includes(Mw.horizontal))return;a=this.hot._createCellCoords(s.row,i.col)}return this.reduceSelectionAreaIfNeeded(a)}},{key:"showBorder",value:function(i){var o=this.getCoordsOfDragAndDropBorders(i);o&&this.redrawBorders(o)}},{key:"addRow",value:function(){var i=this;this.hot._registerTimeout(function(){i.hot.alter("insert_row_below",void 0,1,"".concat(i.pluginName,".fill")),i.addingStarted=!1},200)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){var i=this.hot.getSelectedLast(),o=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.countRows();i[2]<s-1&&o[2]===s-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(i){for(var a,o=this.hot.getData(),s=this.hot.countRows(),u=i[2]+1;u<s;u++){for(var c=i[1];c<=i[3];c++)if(o[u][c])return-1;(o[u][i[1]-1]||o[u][i[3]+1])&&(a=u)}return a}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(i,o){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(i[0],i[1])).add(this.hot._createCellCoords(o,i[3])).commit()}},{key:"setSelection",value:function(i){var o;(o=this.hot).selectCell.apply(o,function VXe(n){return function UXe(n){if(Array.isArray(n))return G8(n)}(n)||function jXe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||wce(n)||function zXe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(eo(i,function(s){return Math.max(s,0)})).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var i=this.hot.getSelectedLast(),o=this.getIndexOfLastAdjacentFilledInRow(i);return-1!==o&&void 0!==o&&(this.addSelectionFromStartAreaToSpecificRowIndex(i,o),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(i){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(i).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(i){var o=this.hot.rootDocument.documentElement,s=Ja(this.hot.table).top-(this.hot.rootWindow.pageYOffset||o.scrollTop)+Qs(this.hot.table),a=Ja(this.hot.table).left-(this.hot.rootWindow.pageXOffset||o.scrollLeft)+vs(this.hot.table);return i.clientY>s&&i.clientX<=a}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(i){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(i),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(i){var o=this.getIfMouseWasDraggedOutside(i);!1===this.addingStarted&&this.handleDraggedCells>0&&o?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var i=function BXe(n){var e={};return!0===n?(e.directions=Object.keys(Mw),e.autoInsertRow=!0):to(n)?(e.autoInsertRow=!!Cr(n.autoInsertRow)&&n.direction!==Mw.horizontal&&n.autoInsertRow,e.directions=Cr(n.direction)?[n.direction]:Object.keys(Mw)):"string"==typeof n?(e.directions=[n],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}(this.hot.getSettings().fillHandle);this.directions=i.directions,this.autoInsertRow=i.autoInsertRow}},{key:"destroy",value:function(){xw(qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return xce}},{key:"PLUGIN_PRIORITY",get:function(){return 20}},{key:"SETTING_KEYS",get:function(){return[xce].concat(iZe)}}]),t}(rs);function mC(n){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lZe(n,e){return function fZe(n){if(Array.isArray(n))return n}(n)||function dZe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function cZe(n,e){if(n){if("string"==typeof n)return Cce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cce(n,e)}}(n,e)||function uZe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ece(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mZe(r.key),r)}}function mZe(n){var e=function gZe(n,e){if("object"!==mC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==mC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===mC(e)?e:String(e)}function gC(){return gC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=yZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gC.apply(this,arguments)}function yZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Tv(n)););return n}function K8(n,e){return(K8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function bZe(n,e){if(e&&("object"===mC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function wZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Tv(n){return(Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dH="autoRowSize",CZe=function(n){!function vZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&K8(n,e)}(t,n);var e=function _Ze(n){var e=function SZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Tv(n);if(e){var o=Tv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bZe(this,i)}}(t);function t(r){var i;return function hZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).rowHeightsMap=void 0,i.headerHeight=null,i.ghostTable=new hce(i.hot),i.samplesGenerator=new gce(function(o,s){var a;return o>=0?a=i.hot.getDataAtCell(o,s):-1===o&&(a=i.hot.getColHeader(s)),{value:a}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredRows=0,i.rowHeightsMap=new yv,i.hot.rowIndexMapper.registerMap("autoRowSize",i.rowHeightsMap),i.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)}),i}return function pZe(n,e,t){e&&Ece(n.prototype,e),t&&Ece(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){var i=this.hot.getSettings()[dH];return!0===i||to(i)}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeChangeRender",function(o){return i.onBeforeChange(o)}),this.addHook("beforeColumnResize",function(){return i.recalculateAllRowsHeight()}),this.addHook("beforeViewRender",function(o){return i.onBeforeViewRender(o)}),this.addHook("modifyRowHeight",function(o,s){return i.getRowHeight(s,o)}),this.addHook("modifyColumnHeaderHeight",function(){return i.getColumnHeaderHeight()}),gC(Tv(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this;this.headerHeight=null,gC(Tv(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",function(o,s,a){return i.onBeforeRowResize(o,s,a)})}},{key:"calculateRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="number"==typeof o?{from:o,to:o}:o,c="number"==typeof s?{from:s,to:s}:s;if(null!==this.hot.getColHeader(0)){var f=this.samplesGenerator.generateRowSamples(-1,c);this.ghostTable.addColumnHeadersRow(f.get(-1))}jr(u.from,u.to,function(p){(a||null===i.rowHeightsMap.getValueAtIndex(p))&&ut(i.samplesGenerator.generateRowSamples(p,c),function(v){var w=lZe(v,2);return i.ghostTable.addRow(w[0],w[1])})}),this.ghostTable.rows.length&&(this.hot.batchExecution(function(){i.ghostTable.getHeights(function(p,g){p<0?i.headerHeight=g:i.rowHeightsMap.setValueAtIndex(i.hot.toPhysicalRow(p),g)})},!0),this.measuredRows=u.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},s=0,a=this.hot.countRows()-1,u=null;this.inProgress=!0;var c=function p(){if(!i.hot)return u2(u),void(i.inProgress=!1);i.calculateRowsHeight({from:s,to:Math.min(s+t.CALCULATION_STEP,a)},o),(s=s+t.CALCULATION_STEP+1)<a?u=NW(p):(u2(u),i.inProgress=!1,i.hot.view.adjustElementsSize(!0),i.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&i.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},f=this.getSyncCalculationLimit();this.firstCalculation&&f>=0&&(this.calculateRowsHeight({from:0,to:f},o),this.firstCalculation=!1,s=f+1),s<a?c():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[dH],o=i&&ya(i,"samplingRatio")?i.samplingRatio:void 0,s=i&&ya(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),s&&this.samplesGenerator.setAllowDuplicates(s)}},{key:"recalculateAllRowsHeight",value:function(){cD(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[dH],o=t.SYNC_CALCULATION_LIMIT,s=this.hot.countRows()-1;return to(i)&&(Kne(o=i.syncLimit)?o=Ore(s,o):o>>=0),Math.min(o,s)}},{key:"getRowHeight",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=i<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(i)),a=o;return null!==s&&s>(o||0)&&(a=s),a}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getFirstVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var i=this.hot.view._wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getLastVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(i){var o=this,s="number"==typeof i?{from:i,to:i}:i,a=s.from,u=s.to;this.hot.batchExecution(function(){jr(Math.min(a,u),Math.max(a,u),function(c){o.rowHeightsMap.setValueAtIndex(c,null)})},!0)}},{key:"isNeedRecalculate",value:function(){return!!uf(this.rowHeightsMap.getValues().slice(0,this.measuredRows),function(i){return null===i}).length}},{key:"onBeforeViewRender",value:function(){var i=this.hot.renderCall,o=this.hot.getSettings().fixedRowsBottom,s=this.getFirstVisibleRow(),a=this.getLastVisibleRow();if(-1!==s&&-1!==a){if(this.calculateRowsHeight({from:s,to:a},void 0,i),o){var u=this.hot.countRows()-1;this.calculateRowsHeight({from:u-o,to:u})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(i,o){this.clearCacheByRange({from:i,to:o}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(i,o,s){var a=i;return s&&(this.calculateRowsHeight(o,void 0,!0),a=this.getRowHeight(o)),a}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){i.hot&&i.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(i){var o=null;1===i.length?o=i[0][0]:i.length>1&&(o={from:i[0][0],to:i[i.length-1][0]}),null!==o&&this.clearCacheByRange(o)}},{key:"destroy",value:function(){this.ghostTable.clean(),gC(Tv(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return dH}},{key:"PLUGIN_PRIORITY",get:function(){return 40}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),t}(rs),Tce=new Map([["indexesSequence",{getListWithInsertedItems:gY,getListWithRemovedItems:rA}],["physicallyIndexed",{getListWithInsertedItems:cY,getListWithRemovedItems:dY}]]),Rce=function(e){if(!1===Tce.has(e))throw new Error("Alter strategy with ID '".concat(e,"' does not exist."));return Tce.get(e)};function yC(n){return(yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Dce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,RZe(r.key),r)}}function RZe(n){var e=function DZe(n,e){if("object"!==yC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==yC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===yC(e)?e:String(e)}function eO(){return eO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=AZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},eO.apply(this,arguments)}function AZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Cw(n)););return n}function X8(n,e){return(X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function PZe(n,e){if(e&&("object"===yC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function LZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Cw(n){return(Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Ace=Rce("physicallyIndexed"),NZe=Ace.getListWithInsertedItems,FZe=Ace.getListWithRemovedItems;const BZe=function(n){!function OZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&X8(n,e)}(t,n);var e=function kZe(n){var e=function IZe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Cw(n);if(e){var o=Cw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PZe(this,i)}}(t);function t(){return function EZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function TZe(n,e,t){e&&Dce(n.prototype,e),t&&Dce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=vY(this.indexedValues,o);this.indexedValues=NZe(s,i,o,this.initValueOrFn),eO(Cw(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=FZe(this.indexedValues,i);this.indexedValues=yY(o,i),eO(Cw(t.prototype),"remove",this).call(this,i)}}]),t}(lw);function vC(n){return(vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Z8(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Oce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$Ze(r.key),r)}}function $Ze(n){var e=function KZe(n,e){if("object"!==vC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==vC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===vC(e)?e:String(e)}function tO(){return tO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=XZe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tO.apply(this,arguments)}function XZe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Ew(n)););return n}function q8(n,e){return(q8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function JZe(n,e){if(e&&("object"===vC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function QZe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Ew(n){return(Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var kce=Rce("physicallyIndexed"),tqe=kce.getListWithInsertedItems,nqe=kce.getListWithRemovedItems;function _C(n){return(_C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aqe(r.key),r)}}function aqe(n){var e=function lqe(n,e){if("object"!==_C(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_C(e)?e:String(e)}function bC(){return bC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=uqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},bC.apply(this,arguments)}function uqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Rv(n)););return n}function J8(n,e){return(J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function fqe(n,e){if(e&&("object"===_C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function hqe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Rv(n){return(Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Q8="bindRowsWithHeaders",yqe=new Map([["loose",BZe],["strict",function(n){!function ZZe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&q8(n,e)}(t,n);var e=function qZe(n){var e=function eqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Ew(n);if(e){var o=Ew(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JZe(this,i)}}(t);function t(){return function YZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,function(r){return r})}return function GZe(n,e,t){e&&Oce(n.prototype,e),t&&Oce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"insert",value:function(i,o){var s=this;this.indexedValues=tqe(this.indexedValues,i,o,function(a,u){return s.getNextValue(u)}),tO(Ew(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=nqe(this.indexedValues,i),tO(Ew(t.prototype),"remove",this).call(this,i)}},{key:"getNextValue",value:function(i){return Math.max.apply(Math,function VZe(n){return function WZe(n){if(Array.isArray(n))return Z8(n)}(n)||function UZe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function jZe(n,e){if(n){if("string"==typeof n)return Z8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z8(n,e)}}(n)||function zZe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.getValues()))+1+i}}]),t}(lw)]]),vqe=function(n){!function cqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&J8(n,e)}(t,n);var e=function dqe(n){var e=function pqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Rv(n);if(e){var o=Rv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fqe(this,i)}}(t);function t(r){var i;return function oqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).headerIndexes=null,i}return function sqe(n,e,t){e&&Pce(n.prototype,e),t&&Pce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Q8]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[Q8];"string"!=typeof o&&(o="loose");var s=yqe.get(o);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new s),this.addHook("modifyRowHeader",function(a){return i.onModifyRowHeader(a)}),bC(Rv(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),bC(Rv(t.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(i){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(i))}},{key:"destroy",value:function(){bC(Rv(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Q8}},{key:"PLUGIN_PRIORITY",get:function(){return 210}}]),t}(rs);function wC(n){return(wC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Lce(n){return function Sqe(n){if(Array.isArray(n))return e6(n)}(n)||function wqe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bqe(n,e){if(n){if("string"==typeof n)return e6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e6(n,e)}}(n)||function _qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ice(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Nce(r.key),r)}}function Tw(){return Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Cqe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tw.apply(this,arguments)}function Cqe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Jm(n)););return n}function t6(n,e){return(t6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Rqe(n,e){if(e&&("object"===wC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return SC(n)}function SC(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jm(n){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Aqe(n,e,t){(function Oqe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function n6(n,e,t){return(e=Nce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nce(n){var e=function kqe(n,e){if("object"!==wC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==wC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===wC(e)?e:String(e)}function Fce(n,e){return function Pqe(n,e){return e.get?e.get.call(n):e.value}(n,Hce(n,e,"get"))}function r6(n,e,t){return function Lqe(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Hce(n,e,"set"),t),t}function Hce(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var i6="collapsibleColumns",Nqe=["nestedHeaders"],MC="collapsibleIndicator",Bce=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),xC=new WeakMap,Fqe=function(n){!function Eqe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t6(n,e)}(t,n);var e=function Tqe(n){var e=function Dqe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Jm(n);if(e){var o=Jm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rqe(this,i)}}(t);function t(){var r;Mqe(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n6(SC(r=e.call.apply(e,[this].concat(o))),"nestedHeadersPlugin",null),n6(SC(r),"eventManager",new ea(SC(r))),n6(SC(r),"headerStateManager",null),Aqe(SC(r),xC,{writable:!0,value:null}),r}return function xqe(n,e,t){e&&Ice(n.prototype,e),t&&Ice(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[i6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.hot.getSettings().nestedHeaders||cs("You need to configure the Nested Headers plugin in order to use collapsible headers."),r6(this,xC,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(a,u,c){return i.onBeforeOnCellMouseDown(a,u,c)}),Tw(Jm(t.prototype),"enablePlugin",this).call(this),this.updatePlugin())}},{key:"updatePlugin",value:function(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var o=this.hot.getSettings().collapsibleColumns;"boolean"==typeof o?this.headerStateManager.mapState(function(s){return{collapsible:s.origColspan>1}}):Array.isArray(o)&&(this.headerStateManager.mapState(function(){return{collapsible:!1}}),this.headerStateManager.mergeStateWith(o))}Tw(Jm(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),r6(this,xC,null),this.nestedHeadersPlugin=null,this.clearButtons(),Tw(Jm(t.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var i=this.hot.view._wt.getSetting("columnHeaders").length,o=this.hot.view._wt.wtTable.THEAD,s=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,a=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,u=function(f){f&&f.parentNode.removeChild(f)};jr(0,i-1,function(c){var f=o.childNodes[c],p=s.childNodes[c],g=a?a.childNodes[c]:null;jr(0,f.childNodes.length-1,function(v){var w=f.childNodes[v].querySelector(".".concat(MC));u(w),p&&p.childNodes[v]&&(w=p.childNodes[v].querySelector(".".concat(MC)),u(w)),a&&g&&g.childNodes[v]&&(w=g.childNodes[v].querySelector(".".concat(MC)),u(w))})})}}},{key:"expandSection",value:function(i){this.toggleCollapsibleSection([i],"expand")}},{key:"collapseSection",value:function(i){this.toggleCollapsibleSection([i],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(i){var o=this,s=this.headerStateManager.mapNodes(function(a){var p=a.columnIndex,g=a.isCollapsed;if(!0===a.collapsible&&a.origColspan>1&&(g&&"expand"===i||!g&&"collapse"===i))return{row:o.headerStateManager.levelToRowCoords(a.headerLevel),col:p}});this.toggleCollapsibleSection(s,i)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(i,o){var s=this;if(!Bce.has(o))throw new Error("Unsupported action is passed (".concat(o,")."));if(Array.isArray(i)){var a=uf(i,function(C){return C.row<0}),u=a.length>0;ut(a,function(C){var L,z=null!==(L=s.headerStateManager.getHeaderSettings(C.row,C.col))&&void 0!==L?L:{},re=z.isCollapsed;if(!z.collapsible||re&&"collapse"===o||!re&&"expand"===o)return u=!1,!1});var c=[],f=[];u&&ut(a,function(C){var V=s.headerStateManager.triggerNodeModification(o,C.row,C.col),re=V.rollbackModification;V.colspanCompensation>0&&(f.push.apply(f,Lce(V.affectedColumns)),c.push(re))});var p=this.getCollapsedColumns(),g=[];"collapse"===o?g=Hne([].concat(Lce(p),f)):"expand"===o&&(g=uf(p,function(C){return!f.includes(C)}));var v=Bce.get(o);if(!1===this.hot.runHooks(v.beforeHook,p,g,u))return void ut(c,function(C){C()});this.hot.batchExecution(function(){ut(f,function(C){Fce(s,xC).setValueAtIndex(s.hot.toPhysicalColumn(C),v.hideColumn)})},!0);var M=this.getCollapsedColumns().length!==p.length;this.hot.runHooks(v.afterHook,p,g,u,M),this.hot.render(),this.hot.view.adjustElementsSize(!0)}}},{key:"getCollapsedColumns",value:function(){return Fce(this,xC).getHiddenIndexes()}},{key:"onAfterGetColHeader",value:function(i,o,s){var a,w,u=null!==(a=this.headerStateManager.getHeaderSettings(s,i))&&void 0!==a?a:{},p=u.isCollapsed,g=u.collapsible&&u.origColspan>1&&i>=this.hot.getSettings().fixedColumnsStart,v=o.querySelector(".".concat(MC));g?(v||(Dn(v=this.hot.rootDocument.createElement("div"),MC),o.querySelector("div:first-child").appendChild(v)),Bi(v,["collapsed","expanded"]),p?(Dn(v,"collapsed"),Qb(v,"+")):(Dn(v,"expanded"),Qb(v,"-"))):null===(w=v)||void 0===w||w.remove()}},{key:"onBeforeOnCellMouseDown",value:function(i,o){Ai(i.target,MC)&&(Ai(i.target,"expanded")?(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"collapse")):Ai(i.target,"collapsed")&&(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"expand")),dp(i))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){r6(this,xC,null),Tw(Jm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return i6}},{key:"PLUGIN_PRIORITY",get:function(){return 290}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}},{key:"SETTING_KEYS",get:function(){return[i6].concat(Nqe)}}]),t}(rs);function nO(n){return(nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Vce(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bqe(n,e,t){return(e=Wce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zce(n,e){return function Uqe(n){if(Array.isArray(n))return n}(n)||function jqe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function zqe(n,e){if(n){if("string"==typeof n)return jce(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jce(n,e)}}(n,e)||function Vqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jce(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Uce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Wce(r.key),r)}}function Wce(n){var e=function Gqe(n,e){if("object"!==nO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==nO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===nO(e)?e:String(e)}var $qe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],qqe=function(){function n(e,t){(function Wqe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.sortingStates=new sF,this.sortEmptyCells=!1,this.indicator=!0,this.headerAction=!0,this.compareFunctionFactory=void 0,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}return function Yqe(n,e,t){e&&Uce(n.prototype,e),t&&Uce(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"updateAllColumnsProperties",value:function(t){var r=this;!to(t)||no(t,function(i,o){$qe.includes(o)&&(r[o]=i)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"==typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getSortOrderOfColumn",value:function(t){var r;return null===(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))||void 0===r?void 0:r.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(function(r){return zce(r,1)[0]===t})}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(t){return to(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}},{key:"getSortStates",value:function(){var t=this;return null===this.sortingStates?[]:this.sortingStates.getEntries().map(function(i){var o=zce(i,2),a=o[1];return function Hqe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Vce(Object(t),!0).forEach(function(r){Bqe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vce(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({column:t.hot.toVisualColumn(o[0])},a)})}},{key:"getColumnSortState",value:function(t){var r=this.getSortOrderOfColumn(t);if(Cr(r))return{column:t,sortOrder:r}}},{key:"setSortStates",value:function(t){this.sortingStates.clear();for(var r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}]),n}(),fH="asc",hH="desc";function Yce(n){if(n!==hH)return n===fH?hH:fH}function Gce(n){return n.querySelector(".".concat("colHeader"))}function $ce(n,e){if(n<0||!e.parentNode)return!1;var t=e.parentNode.parentNode.childNodes;return-1==Array.from(t).indexOf(e.parentNode)-t.length}function o6(n,e,t){return-1===n&&e>=0&&!1===tw(t)}var Kce="indicatorDisabled",Xce="columnSorting",Zce="sortAction",qce=new Map([[fH,"ascending"],[hH,"descending"]]);function rJe(n,e,t,r){var i=[Xce];if(r&&i.push(Zce),!1===t)return i.push(Kce),i;var o=n.getSortOrderOfColumn(e);return Cr(o)&&i.push(qce.get(o)),i}function iJe(){return Array.from(qce.values()).concat(Zce,Kce,Xce)}function Jce(n,e,t){var r=e.locale;return function(i,o){var s=t.sortEmptyCells;return"string"==typeof i&&(i=i.toLocaleLowerCase(r)),"string"==typeof o&&(o=o.toLocaleLowerCase(r)),i===o?0:yl(i)?yl(o)?0:s&&"asc"===n?-1:1:yl(o)?s&&"asc"===n?1:-1:isNaN(i)&&!isNaN(o)?"asc"===n?1:-1:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?"asc"===n?-1:1:i>o?"asc"===n?1:-1:0}}var s6=cf("sorting.compareFunctionFactory"),pH=s6.register,ede=s6.getItem,fJe=s6.hasItem,tde=cf("sorting.mainSortComparator"),nde=tde.register,hJe=tde.getItem;function rde(n){return fJe(n)?ede(n):ede("default")}function ide(n){return function yJe(n){if(Array.isArray(n))return n}(n)||function gJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function mJe(n,e){if(n){if("string"==typeof n)return ode(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ode(n,e)}}(n)||function pJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ode(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function CC(n){return(CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}pH("numeric",function sJe(n,e,t){return function(r,i){var o=parseFloat(r),s=parseFloat(i),a=t.sortEmptyCells;if(o===s||isNaN(o)&&isNaN(s))return 0;if(a){if(yl(r))return"asc"===n?-1:1;if(yl(i))return"asc"===n?1:-1}return isNaN(o)?1:isNaN(s)?-1:o<s?"asc"===n?-1:1:o>s?"asc"===n?1:-1:0}}),pH("checkbox",function lJe(n,e,t){var r=e.checkedTemplate,i=e.uncheckedTemplate,o=t.sortEmptyCells;return function(s,a){var u=yl(s),c=yl(a),f=u?i:s,p=c?i:a,g=f===i||f===r,v=p===i||p===r;if(!1===o){if(u&&!1===c)return 1;if(!1===u&&c)return-1}return!1===g&&v?"asc"===n?-1:1:g&&!1===v?"asc"===n?1:-1:!1===g&&!1===v?Jce(n,e,t)(s,a):f===i&&p===r?"asc"===n?-1:1:f===r&&p===i?"asc"===n?1:-1:0}}),pH("date",function cJe(n,e,t){return function(r,i){var o=t.sortEmptyCells;if(r===i)return 0;if(yl(r))return yl(i)?0:o&&"asc"===n?-1:1;if(yl(i))return o&&"asc"===n?1:-1;var s=e.dateFormat,a=Zo(r,s),u=Zo(i,s);return a.isValid()?u.isValid()?u.isAfter(a)?"asc"===n?-1:1:u.isBefore(a)?"asc"===n?1:-1:0:-1:1}}),pH("default",Jce);var _Je=["column"],bJe=["column"];function EC(n){return function xJe(n){if(Array.isArray(n))return a6(n)}(n)||function MJe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function SJe(n,e){if(n){if("string"==typeof n)return a6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a6(n,e)}}(n)||function wJe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a6(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ade(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?sde(Object(t),!0).forEach(function(r){CJe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CJe(n,e,t){return(e=cde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lde(n,e){if(null==n)return{};var r,i,t=function EJe(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function ude(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cde(r.key),r)}}function cde(n){var e=function DJe(n,e){if("object"!==CC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==CC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===CC(e)?e:String(e)}function Rw(){return Rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=AJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rw.apply(this,arguments)}function AJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Qm(n)););return n}function l6(n,e){return(l6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function PJe(n,e){if(e&&("object"===CC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function LJe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Qm(n){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var u6="columnSorting",dde="append";nde(u6,function vJe(n,e){return function(t,r){var f,p,g,v,w,o=ide(t).slice(1),a=ide(r).slice(1);return f=n[0],g=o[0],v=a[0],((w=(p=e[0]).columnSorting).compareFunctionFactory?w.compareFunctionFactory:rde(p.type))(f,p,w)(g,v)}}),Tr.getSingleton().register("beforeColumnSort"),Tr.getSingleton().register("afterColumnSort");var fde=function(n){!function OJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&l6(n,e)}(t,n);var e=function kJe(n){var e=function IJe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Qm(n);if(e){var o=Qm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PJe(this,i)}}(t);function t(r){var i;return function TJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).columnStatesManager=null,i.columnMetaCache=null,i.pluginKey=u6,i.indexesSequenceCache=null,i}return function RJe(n,e,t){e&&ude(n.prototype,e),t&&ude(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnStatesManager=new qqe(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new yv(function(o){var s=i.hot.toVisualColumn(o);return null===s&&(s=o),i.getMergedPluginSettings(s)}),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(o,s){return i.onAfterOnCellMouseDown(o,s)}),this.addHook("afterInit",function(){return i.loadOrSortBySettings()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.hot.view&&this.loadOrSortBySettings(),Rw(Qm(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this,o=function(a,u){var c=Gce(u);!1===$ce(a,u)||null===c||i.updateHeaderClasses(c)};this.hot.addHook("afterGetColHeader",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("afterGetColHeader",o)}),this.hot.batchExecution(function(){null!==i.indexesSequenceCache&&(i.hot.rowIndexMapper.setIndexesSequence(i.indexesSequenceCache.getValues()),i.hot.rowIndexMapper.unregisterMap(i.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,Rw(Qm(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){var o=this.getSortConfig(),s=this.getNormalizedSortConfigs(i),a=this.areValidSortConfigs(s);!1!==this.hot.runHooks("beforeColumnSort",o,s,a)&&(0===o.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Goe),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),a&&(this.columnStatesManager.setSortStates(s),this.sortByPresetSortStates(s),this.saveAllSortSettings(s)),this.hot.runHooks("afterColumnSort",o,a?s:o,a),a&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(i){return Cr(i)?this.columnStatesManager.getColumnSortState(i):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(i){var o=this.getNormalizedSortConfigs(i);this.areValidSortConfigs(o)&&this.columnStatesManager.setSortStates(o)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i.slice(0,1):[i]}},{key:"areValidSortConfigs",value:function(i){var o=this.hot.countCols();return function eJe(n){if(n.some(function(t){return!1===function Qqe(n){if(!1===to(n))return!1;var t=n.sortOrder;return Number.isInteger(n.column)&&[fH,hH].includes(t)}(t)}))return!1;var e=n.map(function(t){return t.column});return new Set(e).size===e.length}(i)&&i.every(function(s){var a=s.column;return a<=o&&a>=0})}},{key:"saveAllSortSettings",value:function(i){var o=this,s=this.columnStatesManager.getAllColumnsProperties();s.initialConfig=eo(i,function(c){var f=c.column,p=lde(c,_Je);return ade({column:o.hot.toPhysicalColumn(f)},p)}),this.hot.runHooks("persistentStateSave","columnSorting",s)}},{key:"getAllSavedSortSettings",value:function(){var i=this,o={};this.hot.runHooks("persistentStateLoad","columnSorting",o);var s=o.value;return Cr(s)&&Array.isArray(s.initialConfig)&&(s.initialConfig=eo(s.initialConfig,function(c){var f=c.column,p=lde(c,bJe);return ade({column:i.hot.toVisualColumn(f)},p)})),s}},{key:"getColumnNextConfig",value:function(i){var o=this.columnStatesManager.getSortOrderOfColumn(i);if(Cr(o)){var s=Yce(o);return Cr(s)?{column:i,sortOrder:s}:void 0}var a=this.hot.countCols();if(Number.isInteger(i)&&i>=0&&i<a)return{column:i,sortOrder:Yce()}}},{key:"getNextSortConfig",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dde,s=this.columnStatesManager.getIndexOfColumnInSortQueue(i),a=-1!==s,u=this.getSortConfig(),c=this.getColumnNextConfig(i);if(a){if(Ms(c))return[].concat(EC(u.slice(0,s)),EC(u.slice(s+1)));if(o===dde)return[].concat(EC(u.slice(0,s)),EC(u.slice(s+1)),[c]);if("replace"===o)return[].concat(EC(u.slice(0,s)),[c],EC(u.slice(s+1)))}return Cr(c)?u.concat(c):u}},{key:"getPluginColumnConfig",value:function(i){if(to(i)){var o=i[this.pluginKey];if(to(o))return o}return{}}},{key:"getMergedPluginSettings",value:function(i){var o=this.hot.getSettings()[this.pluginKey],s=this.columnStatesManager.getAllColumnsProperties(),a=this.hot.getCellMeta(0,i),u=Object.getPrototypeOf(a);return Array.isArray(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns[i])):Es(u.columns)?Object.assign(s,o,this.getPluginColumnConfig(u.columns(i))):Object.assign(s,o)}},{key:"getFirstCellSettings",value:function(i){var o=this.hot.getCellMeta(0,i),s=Object.create(o);return s[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(i)),s}},{key:"getNumberOfRowsToSort",value:function(i){var o=this.hot.getSettings();return o.maxRows<=i?o.maxRows:i-o.minSpareRows}},{key:"sortByPresetSortStates",value:function(i){var o=this;if(0!==i.length){for(var s=[],a=this.hot.countRows(),u=function(C){return eo(i,function(L){return o.hot.getDataAtCell(C,L.column)})},c=0;c<this.getNumberOfRowsToSort(a);c+=1)s.push([this.hot.toPhysicalRow(c)].concat(u(c)));var f=eo(s,function(M){return M[0]});!function oJe(n,e){for(var t=hJe(e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.sort(t.apply(void 0,i))}(s,this.pluginKey,eo(i,function(M){return M.sortOrder}),eo(i,function(M){return o.getFirstCellSettings(M.column)}));for(var p=s.length;p<a;p+=1)s.push([p].concat(u(p)));var g=eo(s,function(M){return M[0]}),v=new Map(eo(f,function(M,C){return[M,g[C]]})),w=eo(this.hot.rowIndexMapper.getIndexesSequence(),function(M){return v.has(M)?v.get(M):M});this.hot.rowIndexMapper.setIndexesSequence(w)}else this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues())}},{key:"loadOrSortBySettings",value:function(){var i=this.getAllSavedSortSettings();if(to(i))this.sortBySettings(i);else{var o=this.hot.getSettings()[this.pluginKey];this.sortBySettings(o)}}},{key:"sortBySettings",value:function(i){if(to(i)){this.columnStatesManager.updateAllColumnsProperties(i);var o=i.initialConfig;(Array.isArray(o)||to(o))&&this.sort(o)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(i,o){var s=Gce(o);if(!1!==$ce(i,o)&&null!==s){var a=this.getFirstCellSettings(i)[this.pluginKey];this.updateHeaderClasses(s,this.columnStatesManager,i,a.indicator,a.headerAction)}}},{key:"updateHeaderClasses",value:function(i){if(Bi(i,iJe()),!1!==this.enabled){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];Dn(i,rJe.apply(void 0,s))}}},{key:"onUpdateSettings",value:function(i){Rw(Qm(t.prototype),"onUpdateSettings",this).call(this),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Cr(i[this.pluginKey])&&this.sortBySettings(i[this.pluginKey])}},{key:"onAfterLoadData",value:function(i){!0===i&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(i,o){return this.getFirstCellSettings(o)[this.pluginKey].headerAction&&"SPAN"===i.target.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){!1!==o6(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==o6(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(o.col)),this.sort(this.getColumnNextConfig(o.col)))}},{key:"destroy",value:function(){var i;null===(i=this.columnStatesManager)||void 0===i||i.destroy(),Rw(Qm(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return u6}},{key:"PLUGIN_PRIORITY",get:function(){return 50}}]),t}(rs);function rO(n){return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VJe(r.key),r)}}function VJe(n){var e=function zJe(n,e){if("object"!==rO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==rO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===rO(e)?e:String(e)}b(6992);const UJe=function(){function n(e,t){(function HJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=this.plugin.hot,this.endpoints=[],this.settings=t,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}return function BJe(n,e,t){e&&hde(n.prototype,e),t&&hde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getEndpoint",value:function(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var r=this,i=[],o=t;if(o||"function"!=typeof this.settings)return o||(o=this.settings),ut(o,function(s){var a={};r.assignSetting(s,a,"ranges",[[0,r.hot.countRows()-1]]),r.assignSetting(s,a,"reversedRowCoords",!1),r.assignSetting(s,a,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),r.assignSetting(s,a,"sourceColumn",s.destinationColumn),r.assignSetting(s,a,"type","sum"),r.assignSetting(s,a,"forceNumeric",!1),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"suppressDataTypeErrors",!0),r.assignSetting(s,a,"customFunction",null),r.assignSetting(s,a,"readOnly",!0),r.assignSetting(s,a,"roundFloat",!1),i.push(a)}),i;this.settingsType="function"}},{key:"assignSetting",value:function(t,r,i,o){if("ranges"!==i||void 0!==t[i]){if("ranges"!==i||0!==t[i].length)if(void 0===t[i]){if(o instanceof Error)throw o;r[i]=o}else r[i]="destinationRow"===i&&r.reversedRowCoords?this.hot.countRows()-t[i]-1:t[i]}else r[i]=o}},{key:"resetSetupBeforeStructureAlteration",value:function(t,r,i){if("function"===this.settingsType){var o=t.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();ut(s,function(a){"row"===o&&a.destinationRow>=r&&("insert_row"===t?a.alterRowOffset=i:"remove_row"===t&&(a.alterRowOffset=-1*i)),"col"===o&&a.destinationColumn>=r&&("insert_col"===t?a.alterColumnOffset=i:"remove_col"===t&&(a.alterColumnOffset=-1*i))}),this.resetAllEndpoints(s,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,r,i,o,s){var a=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var f=t.indexOf("row")>-1?"row":"col",p=t.indexOf("remove")>-1?-1:1,g=this.getAllEndpoints(),v=0===t.indexOf("move_row"),w=r;ut(g,function(M){"row"===f&&M.destinationRow>=w&&(M.alterRowOffset=p*i),"col"===f&&M.destinationColumn>=w&&(M.alterColumnOffset=p*i)}),this.resetAllEndpoints(g,!v),ut(g,v?function(M){a.extendEndpointRanges(M,w,o[0],o.length),a.recreatePhysicalRanges(M),a.clearOffsetInformation(M)}:function(M){a.shiftEndpointCoordinates(M,w)}),u&&this.refreshAllEndpoints()}else{var c=function M(){return a.hot.removeHook("beforeViewRender",M),a.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",c)}}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,r,i,o){ut(t.ranges,function(s){s[1]&&(r>=s[0]&&r<=s[1]?i>s[1]?s[1]+=o:i<s[0]&&(s[0]-=o):i>=s[0]&&i<=s[1]&&(s[1]-=o,r<=s[0]&&(s[0]+=1,s[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var r=this,o=[],s=[];ut(t.ranges,function(a){var u=[];if(a[1])for(var c=a[0];c<=a[1];c++)u.push(r.hot.toPhysicalRow(c));else u.push(r.hot.toPhysicalRow(a[0]));s.push(u)}),ut(s,function(a){var u=[];ut(a,function(c,f){0===f?u.push(c):a[f]!==a[f-1]+1&&(u.push(a[f-1]),o.push(u),(u=[]).push(c)),f===a.length-1&&(u.push(c),o.push(u))})}),t.ranges=o}},{key:"shiftEndpointCoordinates",value:function(t,r){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,ut(t.ranges,function(i){ut(i,function(o,s){o>=r&&(i[s]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.some(function(s){var u=s.alterColumnOffset||0;return s.destinationRow+(s.alterRowOffset||0)>=t.hot.countRows()||s.destinationColumn+u>=t.hot.countCols()});o||(this.cellsToSetCache=[],ut(r,function(s){t.resetEndpointValue(s,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],ut(this.getAllEndpoints(),function(r){t.currentEndpoint=r,t.plugin.calculate(r),t.setEndpointValue(r,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var r=this,i=[];this.cellsToSetCache=[],ut(t,function(o,s,a){"".concat(o[2]||"")!=="".concat(o[3])&&ut(r.getAllEndpoints(),function(u,c){r.hot.propToCol(a[s][1])===u.sourceColumn&&-1===i.indexOf(c)&&i.push(c)})}),ut(i,function(o){r.refreshEndpoint(r.getEndpoint(o))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.alterRowOffset||0,o=t.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?o:0)),""])}},{key:"setEndpointValue",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols())this.throwOutOfBoundsWarning();else{var s=this.hot.toVisualRow(t.destinationRow);if(null!==s){var a=this.hot.getCellMeta(s,t.destinationColumn);("init"===r||a.readOnly!==t.readOnly)&&(a.readOnly=t.readOnly,a.className="columnSummaryResult")}t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),i?this.hot.setDataAtCell(o,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([o,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}}},{key:"throwOutOfBoundsWarning",value:function(){cs("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}]),n}();function c6(n){return null==n||isNaN(n)}function TC(n){return(TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var pde;function mde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$Je(r.key),r)}}function $Je(n){var e=function KJe(n,e){if("object"!==TC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==TC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===TC(e)?e:String(e)}function mH(){return mH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=XJe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},mH.apply(this,arguments)}function XJe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=RC(n)););return n}function d6(n,e){return(d6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function JJe(n,e){if(e&&("object"===TC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function QJe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function RC(n){return(RC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var f6="columnSummary",nQe=function(n){!function ZJe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&d6(n,e)}(t,n);var e=function qJe(n){var e=function eQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=RC(n);if(e){var o=RC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JJe(this,i)}}(t);function t(r){var i;return function YJe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).endpoints=null,i}return function GJe(n,e,t){e&&mde(n.prototype,e),t&&mde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[f6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.settings=this.hot.getSettings()[f6],this.endpoints=new UJe(this,this.settings),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeCreateRow",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_row",o,s,null,a)}),this.addHook("beforeCreateCol",function(o,s,a){return i.endpoints.resetSetupBeforeStructureAlteration("insert_col",o,s,null,a)}),this.addHook("beforeRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("beforeRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterCreateRow",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_row",o,s,null,a)}),this.addHook("afterCreateCol",function(o,s,a){return i.endpoints.resetSetupAfterStructureAlteration("insert_col",o,s,null,a)}),this.addHook("afterRemoveRow",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_row"].concat(a))}),this.addHook("afterRemoveCol",function(){for(var o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_col"].concat(a))}),this.addHook("afterRowMove",function(){return i.onAfterRowMove.apply(i,arguments)}),mH(RC(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(i){switch(i.type.toLowerCase()){case"sum":i.result=this.calculateSum(i);break;case"min":case"max":i.result=this.calculateMinMax(i,i.type);break;case"count":i.result=this.countEntries(i);break;case"average":i.result=this.calculateAverage(i);break;case"custom":i.result=i.customFunction.call(this,i)}}},{key:"calculateSum",value:function(i){var o=this,s=0;return no(i.ranges,function(a){s+=o.getPartialSum(a,i.sourceColumn)}),s}},{key:"getPartialSum",value:function(i,o){var s=0,a=i[1]||i[0],u=null,c=0;do{if(null!==(u=c6(u=this.getCellValue(a,o))?null:u)){var f=("".concat(u).split(".")[1]||[]).length||1;f>c&&(c=f)}s+=u||0,a-=1}while(a>=i[0]);return Math.round(s*Math.pow(10,c))/Math.pow(10,c)}},{key:"calculateMinMax",value:function(i,o){var s=this,a=null;return no(i.ranges,function(u){var c=s.getPartialMinMax(u,i.sourceColumn,o);if(null===a&&null!==c&&(a=c),null!==c)switch(o){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}}),null===a?"Not enough data":a}},{key:"getPartialMinMax",value:function(i,o,s){var c,a=null,u=i[1]||i[0];do{if(c=c6(c=this.getCellValue(u,o))?null:c,null===a)a=c;else if(null!==c)switch(s){case"min":a=Math.min(a,c);break;case"max":a=Math.max(a,c)}u-=1}while(u>=i[0]);return a}},{key:"countEmpty",value:function(i,o){var s,a=0,u=i[1]||i[0];do{null===(s=c6(s=this.getCellValue(u,o))?null:s)&&(a+=1),u-=1}while(u>=i[0]);return a}},{key:"countEntries",value:function(i){var o=this,s=0;return no(i.ranges,function(u){var c=void 0===u[1]?1:u[1]-u[0]+1,f=o.countEmpty(u,i.sourceColumn);s+=c,s-=f}),s}},{key:"calculateAverage",value:function(i){return this.calculateSum(i)/this.countEntries(i)}},{key:"getCellValue",value:function(i,o){var s=this.hot.toVisualRow(i),a=this.hot.toVisualColumn(o),u=this.hot.getSourceDataAtCell(i,o),c="";if(null!==s&&null!==a&&(c=this.hot.getCellMeta(s,a).className||""),c.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof u&&(u=u.replace(/,/,".")),u=parseFloat(u)),isNaN(u)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(ns(pde||(pde=function WJe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["ColumnSummary plugin: cell at (",", ",") is not in a \n          numeric format. Cannot do the calculation."],["ColumnSummary plugin: cell at (",", ",") is not in a\\x20\n          numeric format. Cannot do the calculation."])),i,o));return u}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(i,o){i&&"ColumnSummary.reset"!==o&&"ColumnSummary.set"!==o&&"loadData"!==o&&this.endpoints.refreshChangedEndpoints(i)}},{key:"onAfterRowMove",value:function(i,o){this.endpoints.resetSetupBeforeStructureAlteration("move_row",i[0],i.length,i,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",o,i.length,i,this.pluginName)}}],[{key:"PLUGIN_KEY",get:function(){return f6}},{key:"PLUGIN_PRIORITY",get:function(){return 220}}]),t}(rs);function iO(n){return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oQe(r.key),r)}}function oQe(n){var e=function sQe(n,e){if("object"!==iO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==iO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===iO(e)?e:String(e)}const lQe=function(){function n(e,t){(function rQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e,this.isRtl=t,this.container=null,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return function iQe(n,e,t){e&&gde(n.prototype,e),t&&gde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPosition",value:function(t,r){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(r,"px")}},{key:"setSize",value:function(t,r){if(t&&r){var i=this.getInputElement();i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px")}}},{key:"getSize",value:function(){return{width:vs(this.getInputElement()),height:Qs(this.getInputElement())}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t||"";this.getInputElement().value=r}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),Dn(this.container,n.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),Dn(t,n.CLASS_EDITOR),Dn(r,n.CLASS_INPUT),t.appendChild(r),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(n.CLASS_INPUT))}},{key:"destroy",value:function(){var t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}],[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),n}();var ro="---------";function gH(n){return Ai(n,"htSeparator")}function yH(n){return Ai(n,"htDisabled")}function vH(n){return Ai(n,"htSelectionDisabled")}function Dw(n){var e=n.getSelected();return!e||e[0]<0?null:e}function Aw(n,e){var t={};return ut(n,function(r){r.forAll(function(i,o){i>=0&&o>=0&&(t[i]||(t[i]=[]),t[i][o]=e(i,o))})}),t}function Dv(n,e,t,r,i){ut(n,function(o){o.forAll(function(s,a){s>=0&&a>=0&&function pQe(n,e,t,r,i,o){var s=i(n,e),a=r;s.className&&(a="vertical"===t?function fQe(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r):function hQe(n,e){if(-1!==n.indexOf(e))return n;var t=n.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(t," ").concat(e)}(s.className,r)),o(n,e,"className",a)}(s,a,e,t,r,i)})})}function bp(n,e){var t=!1;return Array.isArray(n)&&ut(n,function(r){return r.forAll(function(i,o){if(i>=0&&o>=0&&e(i,o))return t=!0,!1}),t}),t}function eg(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}function yde(n,e){for(var t=n.slice(0);0<t.length&&t[0].name===e;)t.shift();return t}function gQe(n,e){var t=n.slice(0);return t.reverse(),(t=yde(t,e)).reverse(),t}function yQe(n){var e=[];return ut(n,function(t,r){r>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}function oO(n){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wQe(r.key),r)}}function wQe(n){var e=function SQe(n,e){if("object"!==oO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==oO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===oO(e)?e:String(e)}var _de=function(){function n(e){(function _Qe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}return function bQe(n,e,t){e&&vde(n.prototype,e),t&&vde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===t.wasLastActionShow&&t.runLocalHooks("hide")},250)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=hre(function(i){t.wasLastActionShow&&t.runLocalHooks("show",i.from.row,i.from.col)},r)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),n}();Ss(_de,Pc);const CQe=_de;function DC(n){return(DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function h6(n,e,t){return(e=wde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wde(r.key),r)}}function wde(n){var e=function RQe(n,e){if("object"!==DC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==DC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===DC(e)?e:String(e)}function Ow(){return Ow="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=DQe(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ow.apply(this,arguments)}function DQe(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=tg(n)););return n}function p6(n,e){return(p6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kQe(n,e){if(e&&("object"===DC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sde(n)}function Sde(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tg(n){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var m6="comments",_H=new WeakMap,wp="comment",AC="value",bH="readOnly",IQe=function(n){!function AQe(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p6(n,e)}(t,n);var e=function OQe(n){var e=function PQe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=tg(n);if(e){var o=tg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kQe(this,i)}}(t);function t(r){var i;return function EQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).editor=null,i.displaySwitch=null,i.eventManager=null,i.range={},i.preventEditorAutoSwitch=!1,_H.set(Sde(i),{tempEditorDimensions:{},cellBelowCursor:null}),i}return function TQe(n,e,t){e&&bde(n.prototype,e),t&&bde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[m6]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.editor||(this.editor=new lQe(this.hot.rootDocument,this.hot.isRtl())),this.eventManager||(this.eventManager=new ea(this)),this.displaySwitch||(this.displaySwitch=new CQe(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(o){return i.addToContextMenu(o)}),this.addHook("afterRenderer",function(o,s,a,u,c,f){return i.onAfterRenderer(o,f)}),this.addHook("afterScrollHorizontally",function(){return i.hide()}),this.addHook("afterScrollVertically",function(){return i.hide()}),this.addHook("afterBeginEditing",function(){return i.hide()}),this.displaySwitch.addLocalHook("hide",function(){return i.hide()}),this.displaySwitch.addLocalHook("show",function(o,s){return i.showAtCell(o,s)}),this.registerListeners(),Ow(tg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ow(tg(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){Ow(tg(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var i=this,o=this.hot.rootDocument;this.eventManager.addEventListener(o,"mouseover",function(s){return i.onMouseOver(s)}),this.eventManager.addEventListener(o,"mousedown",function(s){return i.onMouseDown(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return i.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(s){return i.onEditorMouseDown(s)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(s){return i.onEditorMouseUp(s)})}},{key:"setRange",value:function(i){this.range=i}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(i){var o=Zb(i.target,"TD","TBODY");return!!(o&&Ai(o,"htCommentCell")&&Zb(o,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(i){return this.editor.getInputElement()===i.target}},{key:"setComment",value:function(i){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var o=this.editor.getValue(),s="";null!=i?s=i:null!=o&&(s=o),this.updateCommentMeta(this.range.from.row,this.range.from.col,h6({},AC,s)),this.hot.render()}},{key:"setCommentAtCell",value:function(i,o,s){this.setRange({from:this.hot._createCellCoords(i,o)}),this.setComment(s)}},{key:"removeComment",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,wp),i&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(i,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(i,o)}),this.removeComment(s)}},{key:"getComment",value:function(){return this.getCommentMeta(this.range.from.row,this.range.from.col,AC)}},{key:"getCommentAtCell",value:function(i,o){return this.getCommentMeta(i,o,AC)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var i=this.range.from,o=i.row,s=i.col;if(o<0||o>this.hot.countSourceRows()-1||s<0||s>this.hot.countSourceCols()-1)return!1;var a=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.editor.setValue(a[wp]?a[wp][AC]:""),this.editor.show(),this.refreshEditor(!0),!0}},{key:"showAtCell",value:function(i,o){return this.setRange({from:this.hot._createCellCoords(i,o)}),this.show()}},{key:"hide",value:function(){this.editor.hide()}},{key:"refreshEditor",value:function(){var i,o,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s||this.range.from&&this.editor.isVisible()){var a=this.hot,u=a.rowIndexMapper,c=a.columnIndexMapper,f=this.range.from,p=f.row,g=f.col,v=u.getRenderableFromVisualIndex(p),w=c.getRenderableFromVisualIndex(g),M=null===v;this.editor.setPosition(0,0),null===v&&(v=u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(p,-1))),null===w&&(w=c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,-1)));var C=null===v,L=null===w;v=null!==(i=v)&&void 0!==i?i:0,w=null!==(o=w)&&void 0!==o?o:0;var H=this.hot,V=H.rootWindow,z=H.view._wt,X=z.wtTable,re=z.getCell({row:v,col:w},!0),me=this.getCommentMeta(p,g,"style");me?this.editor.setSize(me.width,me.height):this.editor.resetSize();var ne=L?0:X.getStretchedColumnWidth(w),pe=M&&!C?Qs(re):0,Se=re.getBoundingClientRect(),Ie=Se.left,ot=Se.top,at=Se.width,ze=Se.height,vt=this.editor.getSize(),be=vt.width,Oe=vt.height,Ye=this.hot.rootWindow,Y=Ye.innerWidth,Q=Ye.innerHeight,he=this.hot.rootDocument.documentElement,ge=Ie+V.scrollX+ne,Me=ot+V.scrollY+pe;this.hot.isRtl()&&(ge-=be+ne),this.hot.isLtr()&&Ie+at+be>Y?ge=Ie+V.scrollX-be-1:this.hot.isRtl()&&ge<-(he.scrollWidth-he.clientWidth)&&(ge=Ie+V.scrollX+ne+1),ot+Oe>Q&&(Me-=Oe-ze+1),this.editor.setPosition(ge,Me),this.editor.setReadOnlyState(this.getCommentMeta(p,g,bH))}}},{key:"checkSelectionCommentsConsistency",value:function(){var i=this.hot.getSelectedRangeLast();if(!i)return!1;var o=!1,s=i.getTopStartCorner();return this.getCommentMeta(s.row,s.col,AC)&&(o=!0),o}},{key:"updateCommentMeta",value:function(i,o,s){var u,a=this.hot.getCellMeta(i,o)[wp];a?d2(u=Yu(a),s):u=s,this.hot.setCellMeta(i,o,wp,u)}},{key:"getCommentMeta",value:function(i,o,s){var a=this.hot.getCellMeta(i,o);if(a[wp])return a[wp][s]}},{key:"onMouseDown",value:function(i){if(this.hot.view&&this.hot.view._wt&&!this.preventEditorAutoSwitch&&!this.targetIsCommentTextArea(i)){var o=Zb(i.target,"TD","TBODY"),s=null;o&&(s=this.hot.getCoords(o)),(!o||this.range.from&&s&&(this.range.from.row!==s.row||this.range.from.col!==s.col))&&this.hide()}}},{key:"onMouseOver",value:function(i){var o=_H.get(this),s=this.hot.rootDocument;if(!(this.preventEditorAutoSwitch||this.editor.isFocused()||Ai(i.target,"wtBorder")||o.cellBelowCursor===i.target)&&this.editor)if(o.cellBelowCursor=s.elementFromPoint(i.clientX,i.clientY),this.targetIsCellWithComment(i)){var a=this.hot._createCellRange(this.hot.getCoords(i.target));this.displaySwitch.show(a)}else qb(i.target,s)&&!this.targetIsCommentTextArea(i)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.preventEditorAutoSwitch=!1}},{key:"onAfterRenderer",value:function(i,o){o[wp]&&o[wp][AC]&&Dn(i,o.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(i){_H.get(this).tempEditorDimensions={width:vs(i.target),height:Qs(i.target)}}},{key:"onEditorMouseUp",value:function(i){var o=_H.get(this),s=vs(i.target),a=Qs(i.target);(s!==o.tempEditorDimensions.width+1||a!==o.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,h6({},"style",{width:s,height:a}))}},{key:"onContextMenuAddComment",value:function(){var i=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,this.displaySwitch.cancelHiding(),this.setRange({from:i.highlight}),this.show(),this.hot.deselectCell(),this.editor.focus()}},{key:"onContextMenuRemoveComment",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){s>=0&&a>=0&&i.removeCommentAtCell(s,a,!1)}),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,o.forAll(function(s,a){if(s>=0&&a>=0){var u=!!i.getCommentMeta(s,a,bH);i.updateCommentMeta(s,a,h6({},bH,!u))}})}},{key:"addToContextMenu",value:function(i){var o=this,s=function(){return o.hot.rowIndexMapper.getRenderableIndexesLength()>0&&o.hot.columnIndexMapper.getRenderableIndexesLength()>0};i.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return o.checkSelectionCommentsConsistency()?o.hot.getTranslatedPhrase(qY):o.hot.getTranslatedPhrase(ZY)},callback:function(){return o.onContextMenuAddComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(JY)},callback:function(){return o.onContextMenuRemoveComment()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())}},{key:"commentsReadOnly",name:function(){var u=this,c=this.getTranslatedPhrase(QY);return bp(this.getSelectedRangeLast(),function(p,g){var v=u.getCellMeta(p,g)[wp];if(v&&(v=v[bH]),v)return!0})&&(c=eg(c)),c},callback:function(){return o.onContextMenuMakeReadOnly()},disabled:function(){return!s()||!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()&&o.checkSelectionCommentsConsistency())}})}},{key:"getDisplayDelaySetting",value:function(){var i=this.hot.getSettings()[m6];if(to(i))return i.displayDelay}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),Ow(tg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return m6}},{key:"PLUGIN_PRIORITY",get:function(){return 60}}]),t}(rs);function sO(n){return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,HQe(r.key),r)}}function HQe(n){var e=function BQe(n,e){if("object"!==sO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==sO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===sO(e)?e:String(e)}function zQe(n,e){var t;return ut(e,function(r){var i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===n)return t=r,!1}),t}const Cde=function(){function n(e){(function NQe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.commands={},this.commonCallback=null}return function FQe(n,e,t){e&&xde(n.prototype,e),t&&xde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerCommand",value:function(t,r){this.commands[t]=r}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=t.split(":"),u=a[0],c=2===a.length?a[1]:null,f=this.commands[u];if(!f)throw new Error("Menu command '".concat(u,"' not exists."));if(c&&f.submenu&&(f=zQe(c,f.submenu.items)),!0!==f.disabled&&("function"!=typeof f.disabled||!0!==f.disabled.call(this.hot))&&!ya(f,"submenu")){var p=[];"function"==typeof f.callback&&p.push(f.callback),"function"==typeof this.commonCallback&&p.push(this.commonCallback),o.unshift(a.join(":")),ut(p,function(g){return g.apply(r.hot,o)})}}}]),n}();var mf="alignment",wH="clear_column",aO="col_left",lO="col_right",uO="make_read_only",SH="redo";function Ede(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var cO="remove_col";function Tde(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Ku,MH="remove_row",xH="row_above",CH="row_below",dO="no_items",EH="undo";function fO(n){return(fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sd(n,e,t){return e=function det(n){var e=function fet(n,e){if("object"!==fO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===fO(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Rde=[xH,CH,aO,lO,wH,MH,cO,EH,SH,uO,mf,ro,dO],Dde=(Sd(Ku={},ro,function uQe(){return{name:ro}}),Sd(Ku,dO,function uet(){return{key:dO,name:function(){return this.getTranslatedPhrase(AY)},disabled:!0,isCommand:!1}}),Sd(Ku,xH,function set(){return{key:xH,name:function(){return this.getTranslatedPhrase(OY)},callback:function(){var e=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",e.row,1,"ContextMenu.rowAbove")},disabled:function(){return!Dw(this)||(this.selection.isSelectedByCorner()?0===this.countRows():this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),Sd(Ku,CH,function aet(){return{key:CH,name:function(){return this.getTranslatedPhrase(kY)},callback:function(){var e=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",e.row,1,"ContextMenu.rowBelow")},disabled:function(){return!Dw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}}),Sd(Ku,aO,function WQe(){return{key:aO,name:function(){return this.getTranslatedPhrase(PY)},callback:function(){var e=this.getSelectedRangeLast().getTopLeftCorner(),t=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(t,e.col,1,"ContextMenu.columnLeft")},disabled:function(){return!this.isColumnModificationAllowed()||!Dw(this)||(this.selection.isSelectedByCorner()?0===this.countCols():this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),Sd(Ku,lO,function YQe(){return{key:lO,name:function(){return this.getTranslatedPhrase(LY)},callback:function(){var e=this.getSelectedRangeLast().getTopRightCorner(),t=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(t,e.col,1,"ContextMenu.columnRight")},disabled:function(){return!this.isColumnModificationAllowed()||!Dw(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}}),Sd(Ku,wH,function UQe(){return{key:wH,name:function(){return this.getTranslatedPhrase(VY)},callback:function(e,t){var r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled:function(){return!Dw(this)||!this.selection.isSelectedByColumnHeader()}}}),Sd(Ku,MH,function oet(){return{key:MH,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function eet(n,e){return function iet(n){if(Array.isArray(n))return n}(n)||function ret(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function net(n,e){if(n){if("string"==typeof n)return Tde(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tde(n,e)}}(n,e)||function tet(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],3);r[0]-r[2]!=0&&(t=1)}return this.getTranslatedPhrase(IY,t)},callback:function(){this.alter("remove_row",function aYe(n){var e=Wx(n);if(0===e||1===e)return[];var t=TA(e),r=new Set;return ut(n,function(s){var u=zse(t(s),3),f=u[2],p=Math.max(u[0],0);ut(Array.from(new Array(f-p+1),function(v,w){return p+w}),function(v){r.has(v)||r.add(v)})}),Za(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){if(!Dw(this))return!0;var t=this.countRows();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByColumnHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveRow}}}),Sd(Ku,cO,function QQe(){return{key:cO,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=function KQe(n,e){return function JQe(n){if(Array.isArray(n))return n}(n)||function qQe(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function ZQe(n,e){if(n){if("string"==typeof n)return Ede(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ede(n,e)}}(n,e)||function XQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e[0],4);r[1]-r[3]!=0&&(t=1)}return this.getTranslatedPhrase(NY,t)},callback:function(){this.alter("remove_col",function sYe(n){var e=Wx(n);if(0===e||1===e)return[];var t=TA(e),r=new Set;return ut(n,function(s){var u=zse(t(s),4),f=u[3],p=Math.max(u[1],0);ut(Array.from(new Array(f-p+1),function(v,w){return p+w}),function(v){r.has(v)||r.add(v)})}),Za(Array.from(r).sort(function(s,a){return s-a}),function(s,a,u,c){return 0!==u&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s},[])}(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;if(!Dw(this))return!0;var t=this.countCols();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByRowHeader()||0===t},hidden:function(){return!this.getSettings().allowRemoveColumn}}}),Sd(Ku,EH,function cet(){return{key:EH,name:function(){return this.getTranslatedPhrase(FY)},callback:function(){this.undo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}),Sd(Ku,SH,function $Qe(){return{key:SH,name:function(){return this.getTranslatedPhrase(HY)},callback:function(){this.redo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}),Sd(Ku,uO,function GQe(){return{key:uO,name:function(){var e=this,t=this.getTranslatedPhrase(BY);return bp(this.getSelectedRange(),function(i,o){return e.getCellMeta(i,o).readOnly})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=bp(t,function(i,o){return e.getCellMeta(i,o).readOnly});ut(t,function(i){i.forAll(function(o,s){o>=0&&s>=0&&e.setCellMeta(o,s,"readOnly",!r)})}),this.render()},disabled:function(){return!(!this.selection.isSelectedByCorner()&&0!==this.countRows()&&0!==this.countCols()&&this.getSelectedRange()&&0!==this.getSelectedRange().length)}}}),Sd(Ku,mf,function jQe(){return{key:mf,name:function(){return this.getTranslatedPhrase(eG)},disabled:function(){return 0===this.countRows()||0===this.countCols()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(mf,":left"),name:function(){var e=this,t=this.getTranslatedPhrase(tG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htLeft"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(mf,":center"),name:function(){var e=this,t=this.getTranslatedPhrase(nG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htCenter"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(mf,":right"),name:function(){var e=this,t=this.getTranslatedPhrase(rG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htRight"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htRight";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(mf,":justify"),name:function(){var e=this,t=this.getTranslatedPhrase(iG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htJustify"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{name:ro},{key:"".concat(mf,":top"),name:function(){var e=this,t=this.getTranslatedPhrase(oG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htTop"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htTop";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(mf,":middle"),name:function(){var e=this,t=this.getTranslatedPhrase(sG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htMiddle"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1},{key:"".concat(mf,":bottom"),name:function(){var e=this,t=this.getTranslatedPhrase(aG);return bp(this.getSelectedRange(),function(i,o){var s=e.getCellMeta(i,o).className;if(s&&-1!==s.indexOf("htBottom"))return!0})&&(t=eg(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=Aw(t,function(s,a){return e.getCellMeta(s,a).className}),i="vertical",o="htBottom";this.runHooks("beforeCellAlignment",r,t,i,o),Dv(t,i,o,function(s,a){return e.getCellMeta(s,a)},function(s,a,u,c){return e.setCellMeta(s,a,u,c)}),this.render()},disabled:!1}]}}}),Ku);function Ade(){var n={};return no(Dde,function(e,t){n[t]=e()}),n}function hO(n){return(hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function het(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ode(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,met(r.key),r)}}function met(n){var e=function get(n,e){if("object"!==hO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==hO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===hO(e)?e:String(e)}function vet(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=n;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),to(i)?no(i,function(o,s){var a=t["string"==typeof o?o:s];a||(a=o),to(o)?qa(a,o):"string"==typeof a&&(a={name:a}),void 0===a.key&&(a.key=s),r.push(a)}):ut(i,function(o,s){var a=t[o];!a&&Rde.indexOf(o)>=0||(a||(a={name:o,key:"".concat(s)}),to(o)&&qa(a,o),void 0===a.key&&(a.key=s),r.push(a))}),r}const kde=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;het(this,n),this.hot=e,this.predefinedItems=Ade(),this.defaultOrderPattern=t}return function pet(n,e,t){e&&Ode(n.prototype,e),t&&Ode(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setPredefinedItems",value:function(t){var r=this,i={};this.defaultOrderPattern.length=0,no(t,function(o,s){var a="";o.name===ro?(i[ro]=o,a=ro):isNaN(parseInt(s,10))?(o.key=void 0===o.key?s:o.key,i[s]=o,a=o.key):(i[o.key]=o,a=o.key),r.defaultOrderPattern.push(a)}),this.predefinedItems=i}},{key:"getItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return vet(t,this.defaultOrderPattern,this.predefinedItems)}}]),n}();function pO(n){return(pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wet(r.key),r)}}function wet(n){var e=function Met(n,e){if("object"!==pO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==pO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===pO(e)?e:String(e)}const Cet=function(){function n(e,t){!function _et(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o,s,a,u,c,f,r=dD(t),i=ox(t);this.rootWindow=t,this.type=this.getSourceType(e),"literal"===this.type?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,f=e.width||0,s=o,u=a,o+=r,a+=i):"event"===this.type&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,f=e.target.clientWidth,s=o-r,u=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=u,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=f}return function bet(n,e,t){e&&Pde(n.prototype,e),t&&Pde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getSourceType",value:function(t){var r="literal";return t instanceof Event&&(r="event"),r}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}},{key:"fitsOnRight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),n}();function mO(n){return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Lde(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ide(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Lde(Object(t),!0).forEach(function(r){Eet(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lde(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Eet(n,e,t){return(e=Fde(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fde(r.key),r)}}function Fde(n){var e=function Det(n,e){if("object"!==mO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==mO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===mO(e)?e:String(e)}var Vde=function(){function n(e,t){(function Tet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:215,container:this.hot.rootDocument.documentElement},this.eventManager=new ea(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return function Ret(n,e,t){e&&Nde(n.prototype,e),t&&Nde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"registerEvents",value:function(){for(var t=this,r=this.hot.rootWindow;r;)this.eventManager.addEventListener(r.document,"mousedown",function(i){return t.onDocumentMouseDown(i)}),this.eventManager.addEventListener(r.document,"contextmenu",function(i){return t.onDocumentContextMenu(i)}),r=f2(r)}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=r}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var r=hre(function(v){return t.openSubMenu(v)},300),i=this.options.minWidth||215,o=!1,s=uf(this.menuItems,function(v){return v.key===dO&&(o=!0),function mQe(n,e){return!n.hidden||!("function"==typeof n.hidden&&n.hidden.call(e))}(v,t.hot)});if(s.length<1&&!o)s.push(Ade()[dO]);else if(0===s.length)return;s=function vQe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro,t=n.slice(0);return yQe(t=gQe(t=yde(t,e),e))}(s,ro);var a=!1,u={data:s,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(w){return Cr(w)&&w<i?i:w},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(w,M,C,L,H,V){return t.menuItemRenderer(w,M,C,L,H,V)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",afterOnCellMouseOver:function(w,M){t.isAllSubMenusClosed()?r(M.row):t.openSubMenu(M.row)},rowHeights:function(w){return s[w].name===ro?1:23},afterOnCellContextMenu:function(w){w.preventDefault(),Yne()&&a&&t.hasSelectedItem()&&t.close(!0)},beforeOnCellMouseUp:function(w){t.hasSelectedItem()&&(a=!t.isCommandPassive(t.getSelectedItem()),t.executeCommand(w))},afterOnCellMouseUp:function(w){(!Yne()||!tw(w))&&a&&t.hasSelectedItem()&&(up()||Wne()?setTimeout(function(){return t.close(!0)},325):t.close(!0))},afterUnlisten:function(){!t.hasSelectedItem()&&t.isOpened()&&t.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new g5(this.container,u),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen();var c=this.hotMenu.getShortcutManager(),f=c.addContext("menu"),g=Ide(Ide({},{group:"menu"}),{},{runOnlyIf:function(w){return!1===b2(w.target)||!1===t.container.contains(w.target)}});c.setActiveContextName("menu"),f.addShortcuts([{keys:[["Escape"]],callback:function(){t.keyEvent=!0,t.close(),t.keyEvent=!1}},{keys:[["ArrowDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectNextCell(w[0],w[1]):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["ArrowUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.selectPrevCell(w[0],w[1]):t.selectLastCell(),t.keyEvent=!1}},{keys:[["ArrowRight"]],callback:function(){var w=t.hotMenu.getSelectedLast();if(t.keyEvent=!0,w){var M=t.openSubMenu(w[0]);M&&M.selectFirstCell()}t.keyEvent=!1}},{keys:[["ArrowLeft"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w&&t.isSubMenu()&&(t.close(),t.parentMenu&&t.parentMenu.hotMenu.listen()),t.keyEvent=!1}},{keys:[["Enter"]],callback:function(w){var M=t.hotMenu.getSelectedLast();t.keyEvent=!0,t.hotMenu.getSourceDataAtRow(M[0]).submenu||(t.executeCommand(w),t.close(!0)),t.keyEvent=!1}},{keys:[["PageUp"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(-t.hotMenu.countVisibleRows(),0):t.selectFirstCell(),t.keyEvent=!1}},{keys:[["PageDown"]],callback:function(){var w=t.hotMenu.getSelectedLast();t.keyEvent=!0,w?t.hotMenu.selection.transformStart(t.hotMenu.countVisibleRows(),0):t.selectLastCell(),t.keyEvent=!1}}],g),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.isOpened()||(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!function dQe(n){return Ai(n,"htSubmenu")}(r))return!1;var i=this.hotMenu.getSourceDataAtRow(t),o=new n(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=o,o}},{key:"closeSubMenu",value:function(t){var r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];i&&(i.destroy(),delete this.hotSubMenus[r.key])}},{key:"closeAllSubMenus",value:function(){var t=this;ut(this.hotMenu.getData(),function(r,i){return t.closeSubMenu(i)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){var t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hasSelectedItem()){var r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),!this.isCommandPassive(r)){var i=this.hot.getSelectedRange(),o=i?function cQe(n){return eo(n,function(e){return{start:e.getTopStartCorner(),end:e.getBottomEndCorner()}})}(i):[];this.runLocalHooks("executeCommand",r.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,o,t)}}}},{key:"isCommandPassive",value:function(t){var r=t.isCommand,i=t.name,o=t.disabled,s=t.submenu,a=!0===o||"function"==typeof o&&!0===o.call(this.hot);return!1===r||i===ro||!0===a||s}},{key:"setPosition",value:function(t){var r=new Cet(t,this.container.ownerDocument.defaultView);this.options.keepInViewport?(r.fitsBelow(this.container)?this.setPositionBelowCursor(r):r.fitsAbove(this.container)?this.setPositionAboveCursor(r):this.setPositionBelowCursor(r),this.hot.isLtr()?this.setHorizontalPositionForLtr(r):this.setHorizontalPositionForRtl(r)):(this.setPositionBelowCursor(r),this.setPositionOnRightOfCursor(r))}},{key:"setHorizontalPositionForRtl",value:function(t){t.fitsOnLeft(this.container)?this.setPositionOnLeftOfCursor(t):this.setPositionOnRightOfCursor(t)}},{key:"setHorizontalPositionForLtr",value:function(t){t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)}},{key:"setPositionAboveCursor",value:function(t){var r=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(r=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(r,"px")}},{key:"setPositionBelowCursor",value:function(t){var r=this.offset.below+t.top+1;this.isSubMenu()&&(r=t.top-1),this.container.style.top="".concat(r,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var r=t.left;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r+=t.cellWidth+i.right-(t.left+t.cellWidth)}else r+=this.offset.right;this.container.style.left="".concat(r,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var r=this.offset.left+t.left-this.container.offsetWidth;if(this.isSubMenu()){var i=this.parentMenu.container.getBoundingClientRect();r-=t.left-i.left}this.container.style.left="".concat(r,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);gH(t)||yH(t)||vH(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,r=this.hotMenu.getCell(t,0);gH(r)||yH(r)||vH(r)?this.selectPrevCell(t,0):(this.hotMenu.selectCell(t,0,void 0,void 0,!1),this.hotMenu.scrollViewportTo(t,0,!0,!1))}},{key:"selectNextCell",value:function(t,r){var i=t+1,o=i<this.hotMenu.countRows()?this.hotMenu.getCell(i,r):null;!o||(gH(o)||yH(o)||vH(o)?this.selectNextCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"selectPrevCell",value:function(t,r){var i=t-1,o=i>=0?this.hotMenu.getCell(i,r):null;!o||(gH(o)||yH(o)||vH(o)?this.selectPrevCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"menuItemRenderer",value:function(t,r,i,o,s,a){var L,u=this,c=t.getSourceDataAtRow(i),f=this.hot.rootDocument.createElement("div"),w=function(L){return L.disableSelection},M=a;"function"==typeof M&&(M=M.call(this.hot)),cp(r),Dn(f,"htItemWrapper"),r.appendChild(f),L=c,new RegExp(ro,"i").test(L.name)?Dn(r,"htSeparator"):"function"==typeof c.renderer?(Dn(r,"htCustomMenuRenderer"),r.appendChild(c.renderer(t,f,i,o,s,M))):ix(f,M),function(L){return!0===L.disabled||"function"==typeof L.disabled&&!0===L.disabled.call(u.hot)}(c)?(Dn(r,"htDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):w(c)?(Dn(r,"htSelectionDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):function(L){return ya(L,"submenu")}(c)?(Dn(r,"htSubmenu"),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)})):(Bi(r,["htSubmenu","htDisabled"]),w(c)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var o,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.options.container.ownerDocument,i=t;return i&&(Es(i)&&(i=null===(i=i.call(this.hot))||Ms(i)?"":i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i="".concat(this.options.className,"Sub_").concat(i),o=r.querySelector(".".concat(this.options.className,".").concat(i))),o||(Dn(o=r.createElement("div"),"htMenu ".concat(this.options.className)),i&&Dn(o,i),this.options.container.appendChild(o)),o}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view._wt.wtTable,r=this.hotMenu.getSettings().data,i=t.hider.style,o=t.holder.style,s=parseInt(i.width,10),a=Za(r,function(u,c){return u+(c.name===ro?1:26)},0);o.width="".concat(s+3,"px"),o.height="".concat(a+3,"px"),i.height=o.height}},{key:"onAfterSelection",value:function(t,r,i,o,s){!1===this.keyEvent&&(s.value=!0)}},{key:"onDocumentMouseDown",value:function(t){!this.isOpened()||(this.options.standalone&&this.hotMenu&&!qb(t.target,this.hotMenu.rootElement)||(this.isAllSubMenusClosed()||this.isSubMenu())&&!qb(t.target,".htMenu"))&&this.close(!0)}},{key:"onDocumentContextMenu",value:function(t){!this.isOpened()||Ai(t.target,"htCore")&&qb(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}]),n}();Ss(Vde,Pc);const g6=Vde;function OC(n){return(OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function zde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Pet(r.key),r)}}function Pet(n){var e=function Let(n,e){if("object"!==OC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==OC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===OC(e)?e:String(e)}function kw(){return kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Iet(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},kw.apply(this,arguments)}function Iet(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ng(n)););return n}function y6(n,e){return(y6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Het(n,e){if(e&&("object"===OC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jde(n)}function jde(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ng(n){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var TH="contextMenu";Tr.getSingleton().register("afterContextMenuDefaultOptions"),Tr.getSingleton().register("beforeContextMenuShow"),Tr.getSingleton().register("afterContextMenuShow"),Tr.getSingleton().register("afterContextMenuHide"),Tr.getSingleton().register("afterContextMenuExecute");var Ude=function(n){!function Net(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y6(n,e)}(t,n);var e=function Fet(n){var e=function Bet(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ng(n);if(e){var o=ng(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Het(this,i)}}(t);function t(r){var i;return function Oet(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(jde(i)),i.commandExecutor=new Cde(i.hot),i.itemsFactory=null,i.menu=null,i}return function ket(n,e,t){e&&zde(n.prototype,e),t&&zde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[TH]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[TH];"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),this.menu=new g6(this.hot,{className:"htContextMenu",keepInViewport:!0,container:o.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(s=i.executeCommand).call.apply(s,[i].concat(u))}),this.addHook("afterOnCellContextMenu",function(s){return i.onAfterOnCellContextMenu(s)}),kw(ng(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),kw(ng(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),kw(ng(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(i){if(this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened())){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect(),f=u.left;o=u.top-dD(i.view),s=f-ox(i.view)}else o=-1*dD(this.menu.hotMenu.rootWindow),s=-1*ox(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(i.pageY,10)+o,left:parseInt(i.pageX,10)+s})}}},{key:"close",value:function(){!this.menu||(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(i){var o;null===this.itemsFactory&&this.prepareMenuItems();for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"prepareMenuItems",value:function(){var i=this;this.itemsFactory=new kde(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[TH],s={items:this.itemsFactory.getItems(o)};this.hot.runHooks("afterContextMenuDefaultOptions",s),this.itemsFactory.setPredefinedItems(s.items);var a=this.itemsFactory.getItems(o);this.hot.runHooks("beforeContextMenuSetItems",a),this.menu.setMenuItems(a),ut(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})}},{key:"onAfterOnCellContextMenu",value:function(i){var o=this.hot.getSettings(),s=o.rowHeaders,a=o.colHeaders,c=i.target;this.close(),!Ai(c,"handsontableInput")&&(i.preventDefault(),i.stopPropagation(),(s||a||function u(f){return"TD"===f.nodeName||"TD"===f.parentNode.nodeName}(c)||Ai(c,"current")&&Ai(c,"wtBorder"))&&this.open(i))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),kw(ng(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return TH}},{key:"PLUGIN_PRIORITY",get:function(){return 70}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[xH,CH,ro,aO,lO,ro,MH,cO,ro,EH,SH,ro,uO,ro,mf]}}]),t}(rs);function gO(n){return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Wde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ket(r.key),r)}}function Ket(n){var e=function Xet(n,e){if("object"!==gO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==gO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===gO(e)?e:String(e)}Ude.SEPARATOR={name:ro};var Zet=function(){function n(){(function Get(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.data={}}return function $et(n,e,t){e&&Wde(n.prototype,e),t&&Wde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t,r){this.data[t]=r}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),n}();function yO(n){return(yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Yde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Jet(r.key),r)}}function qet(n,e,t){return e&&Yde(n.prototype,e),t&&Yde(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jet(n){var e=function Qet(n,e){if("object"!==yO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==yO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===yO(e)?e:String(e)}var ttt=qet(function n(){(function ett(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.clipboardData=new Zet});function vO(n){return(vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Gde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,itt(r.key),r)}}function itt(n){var e=function ott(n,e){if("object"!==vO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==vO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===vO(e)?e:String(e)}var v6=function(){function n(e){(function ntt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.rootDocument=e.defaultView?e:e.ownerDocument,this.mainElement=null,this.eventManager=new ea(this),this.listenersCount=new WeakSet,this.container=e}return function rtt(n,e,t){e&&Gde(n.prototype,e),t&&Gde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"useSecondaryElement",value:function(){var t=function ltt(n){var e=DH.get(n);if(e)return e.parentElement||n.appendChild(e),e;var r=(n.defaultView?n:n.ownerDocument).createElement("textarea");return DH.set(n,r),r.setAttribute("data-hot-input",""),r.className="HandsontableCopyPaste",r.tabIndex=-1,r.autocomplete="off",r.wrap="hard",r.value=" ",n.appendChild(r),r}(this.container);this.listenersCount.has(t)||(this.listenersCount.add(t),$de(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),$de(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",up()||function kIe(n){qW(n.ownerDocument.activeElement)||n.select()}(this.mainElement)}}]),n}();Ss(v6,Pc);var RH=new WeakMap,_6=function(e,t){return function(r){return t.runLocalHooks(e,r)}};function $de(n,e,t){n.addEventListener(e,"copy",_6("copy",t)),n.addEventListener(e,"cut",_6("cut",t)),n.addEventListener(e,"paste",_6("paste",t))}var DH=new WeakMap;function Kde(n){if(n instanceof v6){var e=RH.get(n.container);if((e=isNaN(e)?0:e)>0&&(e-=1),function att(n){n.eventManager.clear()}(n),e<=0){e=0;var t=DH.get(n.container);t&&t.parentNode&&(t.parentNode.removeChild(t),DH.delete(n.container)),n.mainElement=null}RH.set(n.container,e)}}function _O(n){return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xde(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dtt(r.key),r)}}function dtt(n){var e=function ftt(n,e){if("object"!==_O(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==_O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===_O(e)?e:String(e)}function Zde(n,e){qde(n,e),e.add(n)}function kC(n,e,t){qde(n,e),e.set(n,t)}function qde(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AH(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function Xu(n,e){return function htt(n,e){return e.get?e.get.call(n):e.value}(n,Jde(n,e,"get"))}function PC(n,e,t){return function ptt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Jde(n,e,"set"),t),t}function Jde(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Av=new WeakMap,b6=new WeakMap,bO=new WeakMap,w6=new WeakMap,S6=new WeakMap,wO=new WeakMap,OH=new WeakSet,Qde=new WeakSet,mtt=function(){function n(e){var t=e.countRows,r=e.countColumns,i=e.rowsLimit,o=e.columnsLimit,s=e.countColumnHeaders;(function utt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),Zde(this,Qde),Zde(this,OH),kC(this,Av,{writable:!0,value:void 0}),kC(this,b6,{writable:!0,value:void 0}),kC(this,bO,{writable:!0,value:void 0}),kC(this,w6,{writable:!0,value:void 0}),kC(this,S6,{writable:!0,value:void 0}),kC(this,wO,{writable:!0,value:void 0}),PC(this,b6,t),PC(this,bO,r),PC(this,w6,i),PC(this,S6,o),PC(this,wO,s)}return function ctt(n,e,t){e&&Xde(n.prototype,e),t&&Xde(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setSelectedRange",value:function(t){PC(this,Av,t)}},{key:"getCellsRange",value:function(){if(0===Xu(this,b6).call(this)||0===Xu(this,bO).call(this))return null;var t=Xu(this,Av).getTopStartCorner(),r=t.row,i=t.col,o=Xu(this,Av).getBottomEndCorner(),s=o.row,a=o.col,u=AH(this,Qde,gtt).call(this,r,s),c=AH(this,OH,M6).call(this,i,a);return{isRangeTrimmed:s!==u||a!==c,startRow:r,startCol:i,endRow:u,endCol:c}}},{key:"getMostBottomColumnHeadersRange",value:function(){if(0===Xu(this,bO).call(this)||0===Xu(this,wO).call(this))return null;var r=Xu(this,Av).getTopStartCorner().col,o=Xu(this,Av).getBottomEndCorner().col,s=AH(this,OH,M6).call(this,r,o);return{isRangeTrimmed:o!==s,startRow:-1,startCol:r,endRow:-1,endCol:s}}},{key:"getAllColumnHeadersRange",value:function(){if(0===Xu(this,bO).call(this)||0===Xu(this,wO).call(this))return null;var r=Xu(this,Av).getTopStartCorner().col,o=Xu(this,Av).getBottomEndCorner().col,s=AH(this,OH,M6).call(this,r,o);return{isRangeTrimmed:o!==s,startRow:-Xu(this,wO).call(this),startCol:r,endRow:-1,endCol:s}}}]),n}();function M6(n,e){return Math.min(e,Math.max(n+Xu(this,S6).call(this)-1,n))}function gtt(n,e){return Math.min(e,Math.max(n+Xu(this,w6).call(this)-1,n))}function efe(n){var e=[],t=[];return ut(n,function(r){jr(Math.min(r.startRow,r.endRow),Math.max(r.startRow,r.endRow),function(u){-1===e.indexOf(u)&&e.push(u)}),jr(Math.min(r.startCol,r.endCol),Math.max(r.startCol,r.endCol),function(u){-1===t.indexOf(u)&&t.push(u)})}),{rows:e,columns:t}}function tfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pw(n){return(Pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Stt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ife(r.key),r)}}function Lw(){return Lw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=xtt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Lw.apply(this,arguments)}function xtt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rg(n)););return n}function x6(n,e){return(x6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ttt(n,e){if(e&&("object"===Pw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zu(n)}function Zu(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rg(n){return(rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Dtt(n,e){rfe(n,e),e.add(n)}function Iw(n,e,t){rfe(n,e),e.set(n,t)}function rfe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LC(n,e,t){return(e=ife(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ife(n){var e=function Att(n,e){if("object"!==Pw(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Pw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Pw(e)?e:String(e)}function Md(n,e){return function ktt(n,e){return e.get?e.get.call(n):e.value}(n,ofe(n,e,"get"))}function ig(n,e,t){return function Ptt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,ofe(n,e,"set"),t),t}function ofe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}Tr.getSingleton().register("afterCopyLimit"),Tr.getSingleton().register("modifyCopyableRange"),Tr.getSingleton().register("beforeCut"),Tr.getSingleton().register("afterCut"),Tr.getSingleton().register("beforePaste"),Tr.getSingleton().register("afterPaste"),Tr.getSingleton().register("beforeCopy"),Tr.getSingleton().register("afterCopy");var kH="copyPaste",Itt=["fragmentSelection"],sfe=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),C6=new WeakMap,E6=new WeakMap,T6=new WeakMap,IC=new WeakMap,PH=new WeakMap,LH=new WeakMap,NC=new WeakMap,afe=new WeakSet,Ntt=function(n){!function Ctt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&x6(n,e)}(t,n);var e=function Ett(n){var e=function Rtt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rg(n);if(e){var o=rg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ttt(this,i)}}(t);function t(){var r;Stt(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Dtt(Zu(r=e.call.apply(e,[this].concat(o))),afe),LC(Zu(r),"columnsLimit",1/0),LC(Zu(r),"rowsLimit",1/0),LC(Zu(r),"pasteMode","overwrite"),LC(Zu(r),"uiContainer",r.hot.rootDocument.body),Iw(Zu(r),C6,{writable:!0,value:!1}),Iw(Zu(r),E6,{writable:!0,value:!1}),Iw(Zu(r),T6,{writable:!0,value:!1}),Iw(Zu(r),IC,{writable:!0,value:"cells-only"}),Iw(Zu(r),PH,{writable:!0,value:!1}),Iw(Zu(r),LH,{writable:!0,value:!1}),Iw(Zu(r),NC,{writable:!0,value:new mtt({countRows:function(){return r.hot.countRows()},countColumns:function(){return r.hot.countCols()},rowsLimit:function(){return r.rowsLimit},columnsLimit:function(){return r.columnsLimit},countColumnHeaders:function(){return r.hot.view.getColumnHeadersCount()}})}),LC(Zu(r),"copyableRanges",[]),LC(Zu(r),"focusableElement",void 0),r}return function Mtt(n,e,t){e&&nfe(n.prototype,e),t&&nfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[kH]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var a,u,s=this.hot.getSettings()[kH];"object"===Pw(s)&&(this.pasteMode=null!==(a=s.pasteMode)&&void 0!==a?a:this.pasteMode,this.rowsLimit=isNaN(s.rowsLimit)?this.rowsLimit:s.rowsLimit,this.columnsLimit=isNaN(s.columnsLimit)?this.columnsLimit:s.columnsLimit,ig(this,C6,!!s.copyColumnHeaders),ig(this,E6,!!s.copyColumnGroupHeaders),ig(this,T6,!!s.copyColumnHeadersOnly),this.uiContainer=null!==(u=s.uiContainer)&&void 0!==u?u:this.uiContainer),this.addHook("afterContextMenuDefaultOptions",function(c){return i.onAfterContextMenuDefaultOptions(c)}),this.addHook("afterOnCellMouseUp",function(){return i.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return i.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()}),this.focusableElement=function stt(n){var e=new v6(n),t=RH.get(n);return t=isNaN(t)?0:t,RH.set(n,t+1),e}(this.uiContainer),this.focusableElement.addLocalHook("copy",function(c){return i.onCopy(c)}).addLocalHook("cut",function(c){return i.onCut(c)}).addLocalHook("paste",function(c){return i.onPaste(c)}),Lw(rg(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),Lw(rg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&Kde(this.focusableElement),Lw(rg(t.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cells-only";ig(this,IC,i),ig(this,PH,!0),this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"copyCellsOnly",value:function(){this.copy("cells-only")}},{key:"copyColumnHeadersOnly",value:function(){this.copy("column-headers-only")}},{key:"copyWithAllColumnHeaders",value:function(){this.copy("with-column-group-headers")}},{key:"copyWithColumnHeaders",value:function(){this.copy("with-column-headers")}},{key:"cut",value:function(){ig(this,LH,!0),this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(i){return HA(this.getRangedData(i))}},{key:"getRangedData",value:function(i){var o=this,s=[],a=efe(i),c=a.columns;return ut(a.rows,function(f){var p=[];ut(c,function(g){p.push(f<0?o.hot.getColHeader(g,f):o.hot.getCopyableData(f,g))}),s.push(p)}),s}},{key:"paste",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(i||o){var s=new ttt;i&&s.clipboardData.setData("text/plain",i),o&&s.clipboardData.setData("text/html",o),this.getOrCreateFocusableElement(),this.onPaste(s)}}},{key:"setCopyableText",value:function(){var i=this.hot.getSelectedRangeLast();if(i){Md(this,NC).setSelectedRange(i);var o=new Map([["headers",null],["cells",null]]);"column-headers-only"===Md(this,IC)?o.set("headers",Md(this,NC).getMostBottomColumnHeadersRange()):("with-column-headers"===Md(this,IC)?o.set("headers",Md(this,NC).getMostBottomColumnHeadersRange()):"with-column-group-headers"===Md(this,IC)&&o.set("headers",Md(this,NC).getAllColumnHeadersRange()),o.set("cells",Md(this,NC).getCellsRange())),this.copyableRanges=Array.from(o.values()).filter(function(p){return null!==p}).map(function(p){return{startRow:p.startRow,startCol:p.startCol,endRow:p.endRow,endCol:p.endCol}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);var s=o.get("cells");null!==s&&s.isRangeTrimmed&&this.hot.runHooks("afterCopyLimit",s.endRow-s.startRow+1,s.endCol-s.startCol+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var i,o=null===(i=this.hot.getActiveEditor())||void 0===i?void 0:i.TEXTAREA;o?this.focusableElement.setFocusableElement(o):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var i;return null===(i=this.hot.getActiveEditor())||void 0===i?void 0:i.isOpened()}},{key:"populateValues",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(i.length){for(var s=i.length,a=i[0].length,u=[],c=o.getTopStartCorner(),f=c.row,p=c.col,g=o.getBottomEndCorner(),v=g.row,w=g.col,M=f,C=p,L=f,H=p;u.length<s||M<=v;){var V=this.hot.getCellMeta(M,p),z=V.skipRowOnPaste,X=V.visualRow;if(M=X+1,!0!==z){L=X,C=p;for(var re=[],me=u.length%s;re.length<a||C<=w;){var ne=this.hot.getCellMeta(f,C),pe=ne.skipColumnOnPaste,Se=ne.visualCol;if(C=Se+1,!0!==pe){H=Se;var Ie=re.length%a;re.push(i[me][Ie])}}u.push(re)}}return this.hot.populateFromArray(f,p,u,void 0,void 0,"CopyPaste.paste",this.pasteMode),[f,p,L,H]}}},{key:"onCopy",value:function(i){if((this.hot.isListening()||Md(this,PH))&&!this.isEditorOpened()){this.setCopyableText(),ig(this,PH,!1);var o=this.getRangedData(this.copyableRanges),s=function Ott(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}(this,afe,Ftt).call(this,this.copyableRanges);if(this.hot.runHooks("beforeCopy",o,this.copyableRanges,s)){var u=HA(o);if(i&&i.clipboardData){var c=Are(o);i.clipboardData.setData("text/plain",u),i.clipboardData.setData("text/html",[sfe,c].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.runHooks("afterCopy",o,this.copyableRanges,s)}ig(this,IC,"cells-only"),i.preventDefault()}}},{key:"onCut",value:function(i){if((this.hot.isListening()||Md(this,LH))&&!this.isEditorOpened()){this.setCopyableText(),ig(this,LH,!1);var o=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",o,this.copyableRanges)){var a=HA(o);if(i&&i.clipboardData){var u=Are(o);i.clipboardData.setData("text/plain",a),i.clipboardData.setData("text/html",[sfe,u].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",a);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",o,this.copyableRanges)}i.preventDefault()}}},{key:"onPaste",value:function(i){if(this.hot.isListening()&&!this.isEditorOpened()){var o;if(i&&i.preventDefault&&i.preventDefault(),i&&void 0!==i.clipboardData){var s=jW(i.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(s&&/(<table)|(<TABLE)/g.test(s)){var a=function ENe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,t={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);var o=n;if("string"==typeof o){var s=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,function(ge){var Me=ge.match(/<td\b[^>]*?>/g)[0],Xe=ge.substring(Me.length,ge.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return"".concat(Me).concat(Xe).concat("</td>")});i.insertAdjacentHTML("afterbegin","".concat(s)),o=i.querySelector("table")}if(o&&CNe(o)){var a=i.querySelector('meta[name$="enerator"]'),u=null!==o.querySelector("tbody th"),c=o.querySelector("tr"),f=c?Array.from(c.cells).reduce(function(ge,Me){return ge+Me.colSpan},0)-(u?1:0):0,p=o.tFoot&&Array.from(o.tFoot.rows)||[],g=[],v=!1,w=0,M=0;if(o.tHead){var C=Array.from(o.tHead.rows).filter(function(ge){var Me=null!==ge.querySelector("td");return Me&&g.push(ge),!Me});v=(w=C.length)>0,w>1?t.nestedHeaders=Array.from(C).reduce(function(ge,Me){var Xe=Array.from(Me.cells).reduce(function(Je,tt,Rt){if(u&&0===Rt)return Je;var Wt=tt.colSpan,Nt=tt.innerHTML;return Je.push(Wt>1?{label:Nt,colspan:Wt}:Nt),Je},[]);return ge.push(Xe),ge},[]):v&&(t.colHeaders=Array.from(C[0].children).reduce(function(ge,Me,Xe){return u&&0===Xe||ge.push(Me.innerHTML),ge},[]))}g.length&&(t.fixedRowsTop=g.length),p.length&&(t.fixedRowsBottom=p.length);var L=[].concat(g,c4(Array.from(o.tBodies).reduce(function(ge,Me){return ge.push.apply(ge,c4(Array.from(Me.rows))),ge},[])),c4(p));M=L.length;for(var H=new Array(M),V=0;V<M;V++)H[V]=new Array(f);for(var z=[],X=[],re=0;re<M;re++)for(var ne=Array.from(L[re].cells),pe=ne.length,Se=0;Se<pe;Se++){var Ie=ne[Se],ot=Ie.nodeName,at=Ie.innerHTML,ze=Ie.rowSpan,vt=Ie.colSpan,be=H[re].findIndex(function(ge){return void 0===ge});if("TD"===ot){if(ze>1||vt>1){for(var Oe=re;Oe<re+ze;Oe++)if(Oe<M)for(var Ye=be;Ye<be+vt;Ye++)H[Oe][Ye]=null;var Y=Ie.getAttribute("style");Y&&Y.includes("mso-ignore:colspan")||z.push({col:be,row:re,rowspan:ze,colspan:vt})}var he="";he=a&&/excel/gi.test(a.content)?at.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):at.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),H[re][be]=he.replace(xNe,function(ge){return Rre[ge]})}else X.push(at)}return z.length&&(t.mergeCells=z),X.length&&(t.rowHeaders=X),H.length&&(t.data=H),t}}(s,this.hot.rootDocument);o=a.data}else o=i.clipboardData.getData("text/plain")}else"undefined"==typeof ClipboardEvent&&void 0!==this.hot.rootWindow.clipboardData&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if("string"==typeof o&&(o=function yGe(n){var e=[[""]];if(0===n.length)return e;for(var i,t=0,r=0;n.length>0&&i!==n.length;)if(i=n.length,n.match(pae))n=n.replace(pae,""),e[r][t+=1]="";else if(n.match(hae))n=n.replace(hae,""),t=0,e[r+=1]=[""];else{var o="";if(n.startsWith('"')){for(var s=0,a=!0;a;){var u=n.slice(0,1);'"'===u&&(s+=1),o+=u,(0===(n=n.slice(1)).length||n.match(/^[\t\r\n]/)&&s%2==0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,function(f){return new Array(Math.floor(f.length/2)).fill('"').join("")})}else{var c=n.match(gGe);n=n.slice((o=c?c[0]:"").length)}e[r][t]=o}return e}(o)),(!o||0!==o.length)&&!1!==this.hot.runHooks("beforePaste",o,this.copyableRanges)){var c=function ytt(n,e){return function wtt(n){if(Array.isArray(n))return n}(n)||function btt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function _tt(n,e){if(n){if("string"==typeof n)return tfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tfe(n,e)}}(n,e)||function vtt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.populateValues(o),4),g=c[2],v=c[3];this.hot.selectCell(c[0],c[1],Math.min(this.hot.countRows()-1,g),Math.min(this.hot.countCols()-1,v)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:"---------"},function zet(n){return{key:"copy",name:function(){return this.getTranslatedPhrase(zY)},callback:function(){n.copyCellsOnly()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this)),Md(this,C6)&&i.items.push(function Wet(n){return{key:"copy_with_column_headers",name:function(){var t=this.getSelectedRangeLast(),r=t?Math.min(t.getWidth()-1,1):0;return this.getTranslatedPhrase(jY,r)},callback:function(){n.copyWithColumnHeaders()},disabled:function(){if(!this.hasColHeaders())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this)),Md(this,E6)&&i.items.push(function Uet(n){return{key:"copy_with_column_group_headers",name:function(){var t=this.getSelectedRangeLast(),r=t?Math.min(t.getWidth()-1,1):0;return this.getTranslatedPhrase(UY,r)},callback:function(){n.copyWithAllColumnHeaders()},disabled:function(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this)),Md(this,T6)&&i.items.push(function jet(n){return{key:"copy_column_headers_only",name:function(){var t=this.getSelectedRangeLast(),r=t?Math.min(t.getWidth()-1,1):0;return this.getTranslatedPhrase(WY,r)},callback:function(){n.copyColumnHeadersOnly()},disabled:function(){if(!this.hasColHeaders())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this)),i.items.push(function Yet(n){return{key:"cut",name:function(){return this.getTranslatedPhrase(YY)},callback:function(){n.cut()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){this.isEditorOpened()||(this.getOrCreateFocusableElement(),(!this.hot.getSettings().fragmentSelection||this.focusableElement.getFocusableElement()===this.hot.rootDocument.activeElement||!function RIe(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.document,t="";return n.getSelection?t=n.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(t=e.selection.createRange().text),t}())&&(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var i=this.hot.rootDocument.activeElement,o=this.hot.getActiveEditor();!o||i!==this.focusableElement.getFocusableElement()&&i!==o.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(Kde(this.focusableElement),this.focusableElement=null),Lw(rg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return kH}},{key:"SETTING_KEYS",get:function(){return[kH].concat(Itt)}},{key:"PLUGIN_PRIORITY",get:function(){return 80}}]),t}(rs);function Ftt(n){for(var t=efe(n).rows,r=0,i=0;i<t.length&&!(t[i]>=0);i++)r+=1;return{columnHeadersCount:r}}function lfe(n,e){return"border_row".concat(n,"col").concat(e)}function R6(n){var e,t;return(Cr(n.start)||Cr(n.left))&&(n.start=null!==(e=n.start)&&void 0!==e?e:n.left),(Cr(n.end)||Cr(n.right))&&(n.end=null!==(t=n.end)&&void 0!==t?t:n.right),delete n.left,delete n.right,n}function MO(n){return Cr(n.start)&&(n.left=n.start),Cr(n.end)&&(n.right=n.end),n}function D6(n,e){return{id:lfe(n,e),border:{width:1,color:"#000",cornerVisible:!1},row:n,col:e,top:{hide:!0},bottom:{hide:!0},start:{hide:!0},end:{hide:!0}}}function sg(n,e){var t=!1;return ut(n.getSelectedRange(),function(r){r.forAll(function(i,o){if(!(i<0||o<0)){var s=n.getCellMeta(i,o).borders;if(s){if(!e)return t=!0,!1;if(!ya(s[e],"hide")||!1===s[e].hide)return t=!0,!1}}})}),t}function IH(n){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(n)}var jtt=new Map([["left","start"],["right","end"]]);function Wtt(n){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(uG);return sg(this,"top")&&(t=IH(t)),t},callback:function(t,r){var i=sg(this,"top");n.prepareBorder(r,"top",i)}}}function Ytt(n){var e=n.hot.isRtl()?"start":"end";return{key:"borders:right",name:function(){var r=this.getTranslatedPhrase(cG);return sg(this,e)&&(r=IH(r)),r},callback:function(r,i){var o=sg(this,e);n.prepareBorder(i,e,o)}}}function Gtt(n){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(dG);return sg(this,"bottom")&&(t=IH(t)),t},callback:function(t,r){var i=sg(this,"bottom");n.prepareBorder(r,"bottom",i)}}}function $tt(n){var e=n.hot.isRtl()?"end":"start";return{key:"borders:left",name:function(){var r=this.getTranslatedPhrase(fG);return sg(this,e)&&(r=IH(r)),r},callback:function(r,i){var o=sg(this,e);n.prepareBorder(i,e,o)}}}function Ktt(n){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(hG)},callback:function(t,r){n.prepareBorder(r,"noBorders")},disabled:function(){return!sg(this)}}}function FC(n){return(FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ufe(n,e){return function Jtt(n){if(Array.isArray(n))return n}(n)||function qtt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Ztt(n,e){if(n){if("string"==typeof n)return cfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cfe(n,e)}}(n,e)||function Xtt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qtt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hfe(r.key),r)}}function Nw(){return Nw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=tnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Nw.apply(this,arguments)}function tnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ag(n)););return n}function A6(n,e){return(A6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function int(n,e){if(e&&("object"===FC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ffe(n)}function ffe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ag(n){return(ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function snt(n,e,t){return(e=hfe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hfe(n){var e=function ant(n,e){if("object"!==FC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==FC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===FC(e)?e:String(e)}var NH="customBorders",unt=function(n){!function nnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A6(n,e)}(t,n);var e=function rnt(n){var e=function ont(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ag(n);if(e){var o=ag(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return int(this,i)}}(t);function t(){var r;Qtt(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return snt(ffe(r=e.call.apply(e,[this].concat(o))),"savedBorders",[]),r}return function ent(n,e,t){e&&dfe(n.prototype,e),t&&dfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[NH]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.onAfterContextMenuDefaultOptions(o)}),this.addHook("init",function(){return i.onAfterInit()}),Nw(ag(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),Nw(ag(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),Nw(ag(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(i,o){var s=this,a=["top","bottom","start","end"],u=null;o&&(this.checkSettingsCohesion([o]),a=Object.keys(o),u=R6(o));var f=TA(Wx(i));ut(i,function(p){for(var v=ufe(f(p),4),M=v[1],C=v[2],L=v[3],H=function(X){for(var re=function(pe){ut(a,function(Se){s.prepareBorderFromCustomAdded(X,pe,u,function Utt(n){var e;return null!==(e=jtt.get(n))&&void 0!==e?e:n}(Se))})},me=M;me<=L;me+=1)re(me)},V=v[0];V<=C;V+=1)H(V)}),this.hot.view.render()}},{key:"getBorders",value:function(i){var o=this;if(!Array.isArray(i))return this.savedBorders;var a=TA(Wx(i)),u=[];return ut(i,function(c){for(var p=ufe(a(c),4),v=p[1],w=p[2],M=p[3],C=function(V){for(var z=function(me){ut(o.savedBorders,function(ne){ne.row===V&&ne.col===me&&u.push(MO(ne))})},X=v;X<=M;X+=1)z(X)},L=p[0];L<=w;L+=1)C(L)}),u}},{key:"clearBorders",value:function(i){var o=this;i?this.setBorders(i):(ut(this.savedBorders,function(s){o.clearBordersFromSelectionSettings(s.id),o.clearNullCellRange(),o.hot.removeCellMeta(s.row,s.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(i,o){this.checkSavedBorders(i)||this.savedBorders.push(i);var a=this.hot._createCellRange(this.hot._createCellCoords(i.row,i.col));this.checkCustomSelections(i,a,o)||this.hot.selection.highlight.addCustomSelection({border:i,visualCellRange:a})}},{key:"prepareBorderFromCustomAdded",value:function(i,o,s,a){var u=this.hot.countRows(),c=this.hot.countCols();if(!(i>=u||o>=c)){var f=D6(i,o);s&&(f=function Btt(n,e){return ya(e,"border")&&e.border&&(n.border=e.border),ya(e,"top")&&Cr(e.top)&&(e.top?(to(e.top)||(e.top={width:1,color:"#000"}),n.top=e.top):(e.top={hide:!0},n.top=e.top)),ya(e,"bottom")&&Cr(e.bottom)&&(e.bottom?(to(e.bottom)||(e.bottom={width:1,color:"#000"}),n.bottom=e.bottom):(e.bottom={hide:!0},n.bottom=e.bottom)),ya(e,"start")&&Cr(e.start)&&(e.start?(to(e.start)||(e.start={width:1,color:"#000"}),n.start=e.start):(e.start={hide:!0},n.start=e.start)),ya(e,"end")&&Cr(e.end)&&(e.end?(to(e.end)||(e.end={width:1,color:"#000"}),n.end=e.end):(e.end={hide:!0},n.end=e.end)),n}(f,s),ut(this.hot.selection.highlight.customSelections,function(p){if(f.id===p.settings.id)return Object.assign(p.settings,s),f.id=p.settings.id,f.top=p.settings.top,f.bottom=p.settings.bottom,f.start=p.settings.start,f.end=p.settings.end,!1})),this.hot.setCellMeta(i,o,"borders",MO(f)),this.insertBorderIntoSettings(f,a)}}},{key:"prepareBorderFromCustomAddedRange",value:function(i,o){var s=this,a=Math.min(i.to.row,this.hot.countRows()-1),u=Math.min(i.to.col,this.hot.countCols()-1);jr(i.from.row,a,function(c){jr(i.from.col,u,function(f){var p=D6(c,f),g=0;c===i.from.row&&ya(o,"top")&&(g+=1,p.top=o.top),c===i.to.row&&ya(o,"bottom")&&(g+=1,p.bottom=o.bottom),f===i.from.col&&ya(o,"start")&&(g+=1,p.start=o.start),f===i.to.col&&ya(o,"end")&&(g+=1,p.end=o.end),g>0&&(s.hot.setCellMeta(c,f,"borders",MO(p)),s.insertBorderIntoSettings(p))})})}},{key:"removeAllBorders",value:function(i,o){var s=lfe(i,o);this.spliceBorder(s),this.clearBordersFromSelectionSettings(s),this.clearNullCellRange(),this.hot.removeCellMeta(i,o,"borders")}},{key:"setBorder",value:function(i,o,s,a){var u=this.hot.getCellMeta(i,o).borders;u=u&&void 0!==u.border?R6(u):D6(i,o),a?(u[s]={hide:!0},4===this.countHide(u)?this.removeAllBorders(i,o):(this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",MO(u)))):(u[s]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(u,s,a)||this.insertBorderIntoSettings(u),this.hot.setCellMeta(i,o,"borders",MO(u)))}},{key:"prepareBorder",value:function(i,o,s){var a=this;ut(i,function(u){var c=u.start,f=u.end;if(c.row===f.row&&c.col===f.col)"noBorders"===o?a.removeAllBorders(c.row,c.col):a.setBorder(c.row,c.col,o,s);else switch(o){case"noBorders":jr(c.col,f.col,function(p){jr(c.row,f.row,function(g){a.removeAllBorders(g,p)})});break;case"top":jr(c.col,f.col,function(p){a.setBorder(c.row,p,o,s)});break;case"bottom":jr(c.col,f.col,function(p){a.setBorder(f.row,p,o,s)});break;case"start":jr(c.row,f.row,function(p){a.setBorder(p,c.col,o,s)});break;case"end":jr(c.row,f.row,function(p){a.setBorder(p,f.col,o,s)})}})}},{key:"createCustomBorders",value:function(i){var o=this;ut(i,function(s){var a=R6(s);s.range?o.prepareBorderFromCustomAddedRange(s.range,a):o.prepareBorderFromCustomAdded(s.row,s.col,a)})}},{key:"countHide",value:function(i){return Za([i.top,i.bottom,i.start,i.end],function(f,p){var g=f;return p&&p.hide&&(g+=1),g},0)}},{key:"clearBordersFromSelectionSettings",value:function(i){var o=eo(this.hot.selection.highlight.customSelections,function(s){return s.settings.id}).indexOf(i);o>-1&&this.hot.selection.highlight.customSelections[o].clear()}},{key:"clearNullCellRange",value:function(){var i=this;ut(this.hot.selection.highlight.customSelections,function(o,s){if(null===o.cellRange)return i.hot.selection.highlight.customSelections[s].destroy(),i.hot.selection.highlight.customSelections.splice(s,1),!1})}},{key:"hideBorders",value:function(){var i=this;ut(this.savedBorders,function(o){i.clearBordersFromSelectionSettings(o.id),i.clearNullCellRange()})}},{key:"spliceBorder",value:function(i){var o=eo(this.savedBorders,function(s){return s.id}).indexOf(i);o>-1&&this.savedBorders.splice(o,1)}},{key:"checkSavedBorders",value:function(i){var o=this,s=!1;return 4===this.countHide(i)?(this.spliceBorder(i.id),s=!0):ut(this.savedBorders,function(u,c){if(i.id===u.id)return o.savedBorders[c]=i,s=!0,!1}),s}},{key:"checkCustomSelectionsFromContextMenu",value:function(i,o,s){var a=!1;return ut(this.hot.selection.highlight.customSelections,function(u){if(i.id===u.settings.id)return no(u.instanceBorders,function(c){c.toggleHiddenClass(o,s)}),a=!0,!1}),a}},{key:"checkCustomSelections",value:function(i,o,s){var a=this.countHide(i),u=!1;return 4===a?(this.removeAllBorders(i.row,i.col),u=!0):ut(this.hot.selection.highlight.customSelections,function(c){if(i.id===c.settings.id)return c.visualCellRange=o,c.commit(),s&&no(c.instanceBorders,function(f){f.changeBorderStyle(s,i)}),u=!0,!1}),u}},{key:"changeBorderSettings",value:function(){var i=this.hot.getSettings()[NH];if(Array.isArray(i)){var o=Yu(i);this.checkSettingsCohesion(o),o.length||(this.savedBorders=o),this.createCustomBorders(o)}else void 0!==i&&this.createCustomBorders(this.savedBorders)}},{key:"checkSettingsCohesion",value:function(i){var o=function Vtt(n){return n.some(function(e){return Cr(e.left)||Cr(e.right)})}(i),s=function ztt(n){return n.some(function(e){return Cr(e.start)||Cr(e.end)})}(i);if(o&&s)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&o)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}},{key:"onAfterContextMenuDefaultOptions",value:function(i){!this.hot.getSettings()[NH]||i.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(lG)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[Wtt(this),Ytt(this),Gtt(this),$tt(this),Ktt(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){Nw(ag(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return NH}},{key:"PLUGIN_PRIORITY",get:function(){return 90}}]),t}(rs);function HC(n){return(HC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,fnt(r.key),r)}}function fnt(n){var e=function hnt(n,e){if("object"!==HC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==HC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===HC(e)?e:String(e)}function Fw(){return Fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=pnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fw.apply(this,arguments)}function pnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=lg(n)););return n}function O6(n,e){return(O6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ynt(n,e){if(e&&("object"===HC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mfe(n)}function mfe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lg(n){return(lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var gfe="dragToScroll",bnt=function(n){!function mnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O6(n,e)}(t,n);var e=function gnt(n){var e=function vnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=lg(n);if(e){var o=lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ynt(this,i)}}(t);function t(r){var i;return function cnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(mfe(i)),i.boundaries=null,i.callback=null,i.listening=!1,i}return function dnt(n,e,t){e&&pfe(n.prototype,e),t&&pfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[gfe]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(o){return i.setupListening(o)}),this.addHook("afterOnCellCornerMouseDown",function(o){return i.setupListening(o)}),this.registerEvents(),Fw(lg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Fw(lg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),Fw(lg(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(i){this.boundaries=i}},{key:"setCallback",value:function(i){this.callback=i}},{key:"check",value:function(i,o){var s=0,a=0;o<this.boundaries.top?a=o-this.boundaries.top:o>this.boundaries.bottom&&(a=o-this.boundaries.bottom),i<this.boundaries.left?s=i-this.boundaries.left:i>this.boundaries.right&&(s=i-this.boundaries.right),this.callback(s,a)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var i=this,s=this.hot.rootWindow;s;)this.eventManager.addEventListener(s.document,"contextmenu",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mouseup",function(){return i.unlisten()}),this.eventManager.addEventListener(s.document,"mousemove",function(a){return i.onMouseMove(a)}),s=f2(s)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(i){if(!tw(i)){var o=this.hot.view._wt.wtTable.holder;o!==this.hot.rootWindow&&(this.setBoundaries(o.getBoundingClientRect()),this.setCallback(function(s,a){s<0?o.scrollLeft-=50:s>0&&(o.scrollLeft+=50),a<0?o.scrollTop-=20:a>0&&(o.scrollTop+=20)}),this.listen())}}},{key:"onMouseMove",value:function(i){!this.isListening()||this.check(i.clientX,i.clientY)}},{key:"destroy",value:function(){Fw(lg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return gfe}},{key:"PLUGIN_PRIORITY",get:function(){return 100}}]),t}(rs);function BC(n){return(BC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Mnt(r.key),r)}}function Mnt(n){var e=function xnt(n,e){if("object"!==BC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==BC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===BC(e)?e:String(e)}function Hw(){return Hw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Cnt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hw.apply(this,arguments)}function Cnt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ug(n)););return n}function k6(n,e){return(k6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Rnt(n,e){if(e&&("object"===BC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vfe(n)}function vfe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ug(n){return(ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("afterDropdownMenuDefaultOptions"),Tr.getSingleton().register("beforeDropdownMenuShow"),Tr.getSingleton().register("afterDropdownMenuShow"),Tr.getSingleton().register("afterDropdownMenuHide"),Tr.getSingleton().register("afterDropdownMenuExecute");var P6="dropdownMenu",L6="changeType",_fe=function(n){!function Ent(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k6(n,e)}(t,n);var e=function Tnt(n){var e=function Dnt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ug(n);if(e){var o=ug(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rnt(this,i)}}(t);function t(r){var i;return function wnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(vfe(i)),i.commandExecutor=new Cde(i.hot),i.itemsFactory=null,i.menu=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function Snt(n,e,t){e&&yfe(n.prototype,e),t&&yfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[P6]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.itemsFactory=new kde(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[P6],s={items:this.itemsFactory.getItems(o)};this.registerEvents(),"function"==typeof o.callback&&this.commandExecutor.setCommonCallback(o.callback),Hw(ug(t.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){i.hot.runHooks("afterDropdownMenuDefaultOptions",s),i.itemsFactory.setPredefinedItems(s.items);var a=i.itemsFactory.getItems(o);i.menu&&i.menu.destroy(),i.menu=new g6(i.hot,{className:"htDropdownMenu",keepInViewport:!0,container:o.uiContainer||i.hot.rootDocument.body}),i.hot.runHooks("beforeDropdownMenuSetItems",a),i.menu.setMenuItems(a),i.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),i.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),i.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),i.menu.addLocalHook("executeCommand",function(){for(var u,c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return(u=i.executeCommand).call.apply(u,[i].concat(f))}),ut(a,function(u){return i.commandExecutor.registerCommand(u.key,u)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Hw(ug(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),Hw(ug(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"open",value:function(i){!this.menu||(this.menu.open(),i.width&&this.menu.setOffset("left",i.width),this.menu.setPosition(i))}},{key:"close",value:function(){!this.menu||this.menu.close()}},{key:"executeCommand",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=this.commandExecutor).execute.apply(o,[i].concat(a))}},{key:"setListening",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(i?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(i){if(i.stopPropagation(),Ai(i.target,L6)&&!this.menu.isOpened()){var o=0,s=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var u=this.hot.rootWindow.frameElement.getBoundingClientRect();o=u.top,s=u.left}var p=i.target.getBoundingClientRect();this.open({left:p.left+s,top:p.top+i.target.offsetHeight+3+o,width:p.width,height:p.height})}}},{key:"onAfterGetColHeader",value:function(i,o){var s=o.parentNode;if(s){var a=s.parentNode.childNodes,u=Array.prototype.indexOf.call(a,s);if(!(i<0||u!==a.length-1)){var c=o.querySelector(".".concat(L6));if(!this.enabled||!c){if(!this.enabled)return void(c&&c.parentNode.removeChild(c));var f=this.hot.rootDocument.createElement("button");f.className=L6,f.type="button",f.onclick=function(){return!1},o.firstChild.insertBefore(f,o.firstChild.firstChild)}}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),Hw(ug(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return P6}},{key:"PLUGIN_PRIORITY",get:function(){return 230}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[aO,lO,ro,cO,ro,wH,ro,uO,ro,mf]}}]),t}(rs);function xO(n){return(xO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function wfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Hnt(r.key),r)}}function Hnt(n){var e=function Bnt(n,e){if("object"!==xO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==xO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===xO(e)?e:String(e)}_fe.SEPARATOR={name:ro};const znt=function(){function n(e){(function Nnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.options={}}return function Fnt(n,e,t){e&&wfe(n.prototype,e),t&&wfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,r=this._getDataRange(),o=r.startCol,a=r.endCol,u=this.options,c=[];return jr(r.startRow,r.endRow,function(f){var p=[];!u.exportHiddenRows&&t._isHiddenRow(f)||(jr(o,a,function(g){!u.exportHiddenColumns&&t._isHiddenColumn(g)||p.push(t.hot.getDataAtCell(f,g))}),c.push(p))}),c}},{key:"getRowHeaders",value:function(){var t=this,r=[];if(this.options.rowHeaders){var i=this._getDataRange(),o=i.startRow,s=i.endRow,a=this.hot.getRowHeader();jr(o,s,function(u){!t.options.exportHiddenRows&&t._isHiddenRow(u)||r.push(a[u])})}return r}},{key:"getColumnHeaders",value:function(){var t=this,r=[];if(this.options.columnHeaders){var i=this._getDataRange(),o=i.startCol,s=i.endCol,a=this.hot.getColHeader();jr(o,s,function(u){!t.options.exportHiddenColumns&&t._isHiddenColumn(u)||r.push(a[u])})}return r}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,r=this.hot.countRows()-1,i=function Ont(n,e){return function Int(n){if(Array.isArray(n))return n}(n)||function Lnt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Pnt(n,e){if(n){if("string"==typeof n)return bfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bfe(n,e)}}(n,e)||function knt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options.range,4),o=i[0],s=void 0===o?0:o,a=i[1],u=void 0===a?0:a,c=i[2],f=void 0===c?r:c,p=i[3],g=void 0===p?t:p;return{startRow:s=Math.max(s,0),startCol:u=Math.max(u,0),endRow:f=Math.min(f,r),endCol:g=Math.min(g,t)}}},{key:"_isHiddenRow",value:function(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}},{key:"_isHiddenColumn",value:function(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}]),n}();function CO(n){return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Wnt(r.key),r)}}function Wnt(n){var e=function Ynt(n,e){if("object"!==CO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==CO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===CO(e)?e:String(e)}const $nt=function(){function n(e,t){(function jnt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.dataProvider=e,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}return function Unt(n,e,t){e&&Sfe(n.prototype,e),t&&Sfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"_mergeOptions",value:function(t){var r=Ac(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=qa(Ac(n.DEFAULT_OPTIONS),r),(r=qa(r,t)).filename=Xne(r.filename,{YYYY:i.getFullYear(),MM:"".concat(i.getMonth()+1).padStart(2,"0"),DD:"".concat(i.getDate()).padStart(2,"0")}),r}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),n}();function VC(n){return(VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Knt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Znt(r.key),r)}}function Znt(n){var e=function qnt(n,e){if("object"!==VC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==VC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===VC(e)?e:String(e)}function I6(n,e){return(I6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ert(n,e){if(e&&("object"===VC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function trt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function FH(n){return(FH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var rrt=String.fromCharCode(13),irt=String.fromCharCode(34),ort=String.fromCharCode(10);function EO(n){return(EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var N6=function lrt(n,e,t){return e=function urt(n){var e=function crt(n,e){if("object"!==EO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==EO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===EO(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}({},"csv",function(n){!function Jnt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&I6(n,e)}(t,n);var e=function Qnt(n){var e=function nrt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=FH(n);if(e){var o=FH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ert(this,i)}}(t);function t(){return Knt(this,t),e.apply(this,arguments)}return function Xnt(n,e,t){e&&Mfe(n.prototype,e),t&&Mfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"export",value:function(){var i=this,o=this.options,s=this.dataProvider.getData(),a=this.dataProvider.getColumnHeaders(),u=a.length>0,c=this.dataProvider.getRowHeaders(),f=c.length>0,p=o.bom?String.fromCharCode(65279):"";return u&&(a=eo(a,function(g){return i._escapeCell(g,!0)}),f&&(p+=o.columnDelimiter),p+=a.join(o.columnDelimiter),p+=o.rowDelimiter),ut(s,function(g,v){v>0&&(p+=o.rowDelimiter),f&&(p+=i._escapeCell(c[v])+o.columnDelimiter),p+=g.map(function(w){return i._escapeCell(w)}).join(o.columnDelimiter)}),p}},{key:"_escapeCell",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Pa(i);return""!==s&&(o||s.indexOf(rrt)>=0||s.indexOf(irt)>=0||s.indexOf(ort)>=0||s.indexOf(this.options.columnDelimiter)>=0)&&(s=s.replace(new RegExp('"',"g"),'""'),s='"'.concat(s,'"')),s}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}]),t}($nt));function frt(n,e,t){return"function"==typeof N6[n]?new N6[n](e,t):null}function zC(n){return(zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mrt(r.key),r)}}function mrt(n){var e=function grt(n,e){if("object"!==zC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==zC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===zC(e)?e:String(e)}function F6(n,e){return(F6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function _rt(n,e){if(e&&("object"===zC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function brt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function HH(n){return(HH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var xrt=function(n){!function yrt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&F6(n,e)}(t,n);var e=function vrt(n){var e=function wrt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=HH(n);if(e){var o=HH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _rt(this,i)}}(t);function t(){return hrt(this,t),e.apply(this,arguments)}return function prt(n,e,t){e&&xfe(n.prototype,e),t&&xfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(i,o).export()}},{key:"exportAsBlob",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(i,o))}},{key:"downloadFile",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.hot,a=s.rootDocument,u=s.rootWindow,c=this._createTypeFormatter(i,o),f=this._createBlob(c),p=u.URL||u.webkitURL,g=a.createElement("a"),v="".concat(c.options.filename,".").concat(c.options.fileExtension);if(void 0!==g.download){var w=p.createObjectURL(f);g.style.display="none",g.setAttribute("href",w),g.setAttribute("download",v),a.body.appendChild(g),g.dispatchEvent(new MouseEvent("click")),a.body.removeChild(g),setTimeout(function(){p.revokeObjectURL(w)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(f,v)}},{key:"_createTypeFormatter",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!N6[i])throw new Error('Export format type "'.concat(i,'" is not supported.'));return frt(i,new znt(this.hot),o)}},{key:"_createBlob",value:function(i){var o=null;return"undefined"!=typeof Blob&&(o=new Blob([i.export()],{type:"".concat(i.options.mimeType,";charset=").concat(i.options.encoding)})),o}}],[{key:"PLUGIN_KEY",get:function(){return"exportFile"}},{key:"PLUGIN_PRIORITY",get:function(){return 240}}]),t}(rs);function TO(n){return(TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Cfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Trt(r.key),r)}}function Trt(n){var e=function Rrt(n,e){if("object"!==TO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==TO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===TO(e)?e:String(e)}var Efe=function(){function n(e,t){var r=t.id,i=t.stateless,o=void 0===i||i;(function Crt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new sF)}return function Ert(n,e,t){e&&Cfe(n.prototype,e),t&&Cfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"reset",value:function(){ut(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return null===this.hot||this.hidden}},{key:"restoreState",value:function(t){this.state&&this.setState(this.state.getValueAtIndex(t))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(t){this.state&&this.state.setValueAtIndex(t,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),ut(this.elements,function(t){return t.destroy()}),this.state=null,this.elements=null,this.hot=null}}]),n}();Ss(Efe,Pc);const BH=Efe;var RO={};function Ov(n,e){if(!RO[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));var t=RO[n],r=t.condition,i=t.descriptor,o=e;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(s){return r.apply(s.meta.instance,[].concat([s],[o]))}}function Bw(n){if(!RO[n])throw Error('Filter condition "'.concat(n,'" does not exist.'));return RO[n].descriptor}function La(n,e,t){t.key=n,RO[n]={condition:e,descriptor:t}}var Fl="none";La(Fl,function Drt(){return!0},{name:pF,inputsCount:0,showOperators:!1});var DO="empty";La(DO,function Art(n){return yl(n.value)},{name:bG,inputsCount:0,showOperators:!0});var VH="not_empty";function Tfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(VH,function Ort(n,e){return!Ov(DO,e)(n)},{name:wG,inputsCount:0,showOperators:!0});var AO="eq";La(AO,function Frt(n,e){var r=function krt(n,e){return function Nrt(n){if(Array.isArray(n))return n}(n)||function Irt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Lrt(n,e){if(n){if("string"==typeof n)return Tfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tfe(n,e)}}(n,e)||function Prt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Pa(n.value).toLocaleLowerCase(n.meta.locale)===Pa(r)},{name:SG,inputsCount:1,showOperators:!0});var zH="neq";function Rfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Afe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Lfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Nfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(zH,function Hrt(n,e){return!Ov(AO,e)(n)},{name:MG,inputsCount:1,showOperators:!0}),La("gt",function Wrt(n,e){var i=function Brt(n,e){return function Urt(n){if(Array.isArray(n))return n}(n)||function jrt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function zrt(n,e){if(n){if("string"==typeof n)return Rfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rfe(n,e)}}(n,e)||function Vrt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>i},{name:RG,inputsCount:1,showOperators:!0}),La("gte",function Zrt(n,e){var i=function Yrt(n,e){return function Xrt(n){if(Array.isArray(n))return n}(n)||function Krt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function $rt(n,e){if(n){if("string"==typeof n)return Afe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Afe(n,e)}}(n,e)||function Grt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value>=i},{name:DG,inputsCount:1,showOperators:!0}),La("lt",function nit(n,e){var i=function qrt(n,e){return function tit(n){if(Array.isArray(n))return n}(n)||function eit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Qrt(n,e){if(n){if("string"==typeof n)return kfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kfe(n,e)}}(n,e)||function Jrt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<i},{name:AG,inputsCount:1,showOperators:!0}),La("lte",function lit(n,e){var i=function rit(n,e){return function ait(n){if(Array.isArray(n))return n}(n)||function sit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function oit(n,e){if(n){if("string"==typeof n)return Lfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lfe(n,e)}}(n,e)||function iit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return"numeric"===n.meta.type&&(i=parseFloat(i,10)),n.value<=i},{name:OG,inputsCount:1,showOperators:!0});var H6="date_after";function Ffe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(H6,function pit(n,e){var r=function uit(n,e){return function hit(n){if(Array.isArray(n))return n}(n)||function fit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function dit(n,e){if(n){if("string"==typeof n)return Nfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nfe(n,e)}}(n,e)||function cit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=Zo(n.value,n.meta.dateFormat),o=Zo(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)>=0},{name:LG,inputsCount:1,showOperators:!0});var B6="date_before";function Hfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(B6,function bit(n,e){var r=function mit(n,e){return function _it(n){if(Array.isArray(n))return n}(n)||function vit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function yit(n,e){if(n){if("string"==typeof n)return Ffe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ffe(n,e)}}(n,e)||function git(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],i=Zo(n.value,n.meta.dateFormat),o=Zo(r,n.meta.dateFormat);return!(!i.isValid()||!o.isValid())&&i.diff(o)<=0},{name:IG,inputsCount:1,showOperators:!0});var jH="between";La(jH,function Eit(n,e){var t=function wit(n,e){return function Cit(n){if(Array.isArray(n))return n}(n)||function xit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Mit(n,e){if(n){if("string"==typeof n)return Hfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hfe(n,e)}}(n,e)||function Sit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=t[0],s=t[1];if("numeric"===n.meta.type){var a=parseFloat(o,10),u=parseFloat(s,10);o=Math.min(a,u),s=Math.max(a,u)}else if("date"===n.meta.type){var c=Ov(B6,[s]),f=Ov(H6,[o]);return c(n)&&f(n)}return n.value>=o&&n.value<=s},{name:kG,inputsCount:2,showOperators:!0});var Bfe="not_between";function Vfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(Bfe,function Tit(n,e){return!Ov(jH,e)(n)},{name:PG,inputsCount:2,showOperators:!0});var zfe="begins_with";function jfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wfe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}La(zfe,function Pit(n,e){var r=function Rit(n,e){return function kit(n){if(Array.isArray(n))return n}(n)||function Oit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Ait(n,e){if(n){if("string"==typeof n)return Vfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vfe(n,e)}}(n,e)||function Dit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Pa(n.value).toLocaleLowerCase(n.meta.locale).startsWith(Pa(r))},{name:xG,inputsCount:1,showOperators:!0}),b(8971),La("ends_with",function Bit(n,e){var r=function Lit(n,e){return function Hit(n){if(Array.isArray(n))return n}(n)||function Fit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Nit(n,e){if(n){if("string"==typeof n)return jfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jfe(n,e)}}(n,e)||function Iit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Pa(n.value).toLocaleLowerCase(n.meta.locale).endsWith(Pa(r))},{name:CG,inputsCount:1,showOperators:!0});var V6="contains";La(V6,function Yit(n,e){var r=function Vit(n,e){return function Wit(n){if(Array.isArray(n))return n}(n)||function Uit(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function jit(n,e){if(n){if("string"==typeof n)return Wfe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wfe(n,e)}}(n,e)||function zit(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return Pa(n.value).toLocaleLowerCase(n.meta.locale).indexOf(Pa(r))>=0},{name:EG,inputsCount:1,showOperators:!0});var Yfe="not_contains";La(Yfe,function Git(n,e){return!Ov(V6,e)(n)},{name:TG,inputsCount:1,showOperators:!0});var Gfe="date_tomorrow";La(Gfe,function $it(n){var e=Zo(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(Zo().subtract(-1,"days").startOf("day"),"d")},{name:FG,inputsCount:0});var $fe="date_today";La($fe,function Kit(n){var e=Zo(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(Zo().startOf("day"),"d")},{name:NG,inputsCount:0});var kO,Kfe="date_yesterday";function OO(n){return(OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function z6(n,e,t){return e=function Zit(n){var e=function qit(n,e){if("object"!==OO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==OO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===OO(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}La(Kfe,function Xit(n){var e=Zo(n.value,n.meta.dateFormat);return!!e.isValid()&&e.isSame(Zo().subtract(1,"days").startOf("day"),"d")},{name:HG,inputsCount:0});var Zfe=(z6(kO={},"numeric",[Fl,ro,DO,VH,ro,AO,zH,ro,"gt","gte","lt","lte",jH,Bfe]),z6(kO,"text",[Fl,ro,DO,VH,ro,AO,zH,ro,zfe,"ends_with",ro,V6,Yfe]),z6(kO,"date",[Fl,ro,DO,VH,ro,AO,zH,ro,B6,H6,jH,ro,Gfe,$fe,Kfe]),kO);function PO(n){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rot(r.key),r)}}function rot(n){var e=function iot(n,e){if("object"!==PO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==PO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===PO(e)?e:String(e)}var j6="built",U6="building",Jfe=["click","input","keydown","keypress","keyup","focus","blur","change"],Qfe=function(){function n(e,t){(function tot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this.eventManager=new ea(this),this.options=qa(n.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}return function not(n,e,t){e&&qfe(n.prototype,e),t&&qfe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===U6?this._element:this.buildState===j6?(this.update(),this._element):(this.buildState=U6,this.build(),this.buildState=j6,this._element)}},{key:"isBuilt",value:function(){return this.buildState===j6}},{key:"translateIfPossible",value:function(t){return"string"==typeof t&&t.startsWith(Gu)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,r=function(s,a){t.eventManager.addEventListener(s,a,function(u){return t.runLocalHooks(a,u,t)})};if(this.buildState||(this.buildState=U6),this.options.className&&Dn(this._element,this.options.className),this.options.children.length)ut(this.options.children,function(o){return t._element.appendChild(o.element)});else if(this.options.wrapIt){var i=this.hot.rootDocument.createElement(this.options.tagName);no(this.options,function(o,s){void 0!==i[s]&&"className"!==s&&"tagName"!==s&&"children"!==s&&(i[s]=t.translateIfPossible(o))}),this._element.appendChild(i),ut(Jfe,function(o){return r(i,o)})}else ut(Jfe,function(o){return r(t._element,o)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],[{key:"DEFAULTS",get:function(){return Ac({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),n}();Ss(Qfe,Pc);const kv=Qfe;function jC(n){return(jC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ehe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aot(r.key),r)}}function aot(n){var e=function lot(n,e){if("object"!==jC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==jC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===jC(e)?e:String(e)}function UH(){return UH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=uot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},UH.apply(this,arguments)}function uot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=UC(n)););return n}function W6(n,e){return(W6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function fot(n,e){if(e&&("object"===jC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return the(n)}function the(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UC(n){return(UC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var WH=new WeakMap;const WC=function(n){!function cot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&W6(n,e)}(t,n);var e=function dot(n){var e=function hot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=UC(n);if(e){var o=UC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fot(this,i)}}(t);function t(r,i){var o;return function oot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,qa(t.DEFAULTS,i)),WH.set(the(o),{}),o.registerHooks(),o}return function sot(n,e,t){e&&ehe(n.prototype,e),t&&ehe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()}),this.addLocalHook("keyup",function(o){return i.onKeyup(o)})}},{key:"build",value:function(){UH(UC(t.prototype),"build",this).call(this);var i=WH.get(this),o=this.hot.rootDocument.createElement("div");i.input=this._element.firstChild,Dn(this._element,"htUIInput"),Dn(o,"htUIInputIcon"),this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=WH.get(this).input;i.type=this.options.type,i.placeholder=this.translateIfPossible(this.options.placeholder),i.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&WH.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(i){this.options.value=i.target.value}}],[{key:"DEFAULTS",get:function(){return Ac({placeholder:"",type:"text",tagName:"input"})}}]),t}(kv);function YC(n){return(YC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function nhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yot(r.key),r)}}function yot(n){var e=function vot(n,e){if("object"!==YC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==YC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===YC(e)?e:String(e)}function GC(){return GC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_ot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},GC.apply(this,arguments)}function _ot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Pv(n)););return n}function Y6(n,e){return(Y6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Sot(n,e){if(e&&("object"===YC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rhe(n)}function rhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Pv(n){return(Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var YH=new WeakMap;const ihe=function(n){!function bot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y6(n,e)}(t,n);var e=function wot(n){var e=function Mot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Pv(n);if(e){var o=Pv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Sot(this,i)}}(t);function t(r,i){var o;return function mot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,qa(t.DEFAULTS,i)),YH.set(rhe(o),{}),o.menu=null,o.items=[],o.registerHooks(),o}return function got(n,e,t){e&&nhe(n.prototype,e),t&&nhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()})}},{key:"setItems",value:function(i){this.items=this.translateNames(i),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(i){var o=this;return ut(i,function(s){s.name=o.translateIfPossible(s.name)}),i}},{key:"build",value:function(){var i=this;GC(Pv(t.prototype),"build",this).call(this),this.menu=new g6(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var o=new kv(this.hot,{className:"htUISelectCaption"}),s=new kv(this.hot,{className:"htUISelectDropdown"}),a=YH.get(this);a.caption=o,a.captionElement=o.element,a.dropdown=s,ut([o,s],function(u){return i._element.appendChild(u.element)}),this.menu.addLocalHook("select",function(u){return i.onMenuSelect(u)}),this.menu.addLocalHook("afterClose",function(){return i.onMenuClosed()}),this.update()}},{key:"update",value:function(){var i;this.isBuilt()&&(i=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(pF),YH.get(this).captionElement.textContent=i,GC(Pv(t.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var i=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:this.hot.isLtr()?i.left-5:i.left-31,top:i.top-1,width:i.width,height:i.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(i){i.name!==ro&&(this.options.value=i,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var i=YH.get(this),o=i.caption,s=i.dropdown;o&&o.destroy(),s&&s.destroy(),GC(Pv(t.prototype),"destroy",this).call(this)}}],[{key:"DEFAULTS",get:function(){return Ac({className:"htUISelect",wrapIt:!1})}}]),t}(kv);function $C(n){return($C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ohe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Tot(r.key),r)}}function Tot(n){var e=function Rot(n,e){if("object"!==$C(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==$C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===$C(e)?e:String(e)}function GH(){return GH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Dot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},GH.apply(this,arguments)}function Dot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=KC(n)););return n}function G6(n,e){return(G6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function kot(n,e){if(e&&("object"===$C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Pot(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function KC(n){return(KC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const $6=function(n){!function Aot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&G6(n,e)}(t,n);var e=function Oot(n){var e=function Lot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=KC(n);if(e){var o=KC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kot(this,i)}}(t);function t(r,i){var o;return function Cot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.addSeparator=i.addSeparator,o.elements.push(new ihe(o.hot,{menuContainer:i.menuContainer})),o.elements.push(new WC(o.hot,{placeholder:$G})),o.elements.push(new WC(o.hot,{placeholder:KG})),o.registerHooks(),o}return function Eot(n,e,t){e&&ohe(n.prototype,e),t&&ohe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getSelectElement().addLocalHook("select",function(o){return i.onConditionSelect(o)}),this.getSelectElement().addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),ut(this.getInputElements(),function(o){o.addLocalHook("keydown",function(s){return i.onInputKeyDown(s)})})}},{key:"setState",value:function(i){var o=this;if(this.reset(),i){var s=Ac(i.command);s.name.startsWith(ta)&&(s.name=this.hot.getTranslatedPhrase(s.name)),this.getSelectElement().setValue(s),ut(i.args,function(a,u){if(u>s.inputsCount-1)return!1;var c=o.getInputElement(u);c.setValue(a),c[s.inputsCount>u?"show":"hide"](),u||setTimeout(function(){return c.focus()},10)})}}},{key:"getState",value:function(){var i=this.getSelectElement().getValue()||Bw(Fl),o=[];return ut(this.getInputElements(),function(s,a){i.inputsCount>a&&o.push(s.getValue())}),{command:i,args:o}}},{key:"updateState",value:function(i,o){var s=Bw(i?i.name:Fl);this.state.setValueAtIndex(o,{command:s,args:i?i.args:[]}),i||ut(this.getInputElements(),function(a){return a.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof ihe})[0]}},{key:"getInputElement",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[i]}},{key:"getInputElements",value:function(){return this.elements.filter(function(i){return i instanceof WC})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,f,p){Dn(a.parentNode,"htFiltersMenuCondition"),i.addSeparator&&Dn(a.parentNode,"border");var g=i.hot.rootDocument.createElement("div");return Dn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||ut(i.elements,function(v){return a.appendChild(v.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn(),o=[Bw(Fl)];if(null!==i){var s=i.visualIndex;o=function eot(n){var e=[],t=n;return Zfe[t]||(t="text"),ut(Zfe[t],function(r){var i;i=r===ro?{name:ro}:Ac(Bw(r)),e.push(i)}),e}(this.hot.getDataType(0,s,this.hot.countRows(),s))}ut(this.getInputElements(),function(a){return a.hide()}),this.getSelectElement().setItems(o),GH(KC(t.prototype),"reset",this).call(this),this.getSelectElement().setValue(o[0])}},{key:"onConditionSelect",value:function(i){ut(this.getInputElements(),function(o,s){o[i.inputsCount>s?"show":"hide"](),0===s&&setTimeout(function(){return o.focus()},10)}),this.runLocalHooks("change",i)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(i){gD(i.keyCode,"ENTER")?(this.runLocalHooks("accept"),dp(i)):gD(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),dp(i))}}]),t}(BH);var LO={};function Not(n){if(!LO[n])throw Error('Operation with id "'.concat(n,'" does not exist.'));var e=LO[n].func;return function(t,r){return e(t,r)}}function Fot(n){return LO[n].name}function K6(n,e,t){LO[n]={name:e,func:t}}var Lv="conjunction";K6(Lv,zG,function Bot(n,e){return n.every(function(t){return t.func(e)})});var $H="disjunction";K6($H,mF,function zot(n,e){return n.some(function(t){return t.func(e)})});var X6="disjunctionWithExtraCondition";function XC(n){return(XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function she(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Got(r.key),r)}}function Got(n){var e=function $ot(n,e){if("object"!==XC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==XC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===XC(e)?e:String(e)}function KH(){return KH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Kot(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},KH.apply(this,arguments)}function Kot(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ZC(n)););return n}function Z6(n,e){return(Z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function qot(n,e){if(e&&("object"===XC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ahe(n)}function ahe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZC(n){return(ZC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}K6(X6,mF,function Uot(n,e){if(n.length<3)throw Error("Operation doesn't work on less then three conditions.");return n.slice(0,n.length-1).some(function(t){return t.func(e)})&&n[n.length-1].func(e)});var XH=new WeakMap;const lhe=function(n){!function Xot(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Z6(n,e)}(t,n);var e=function Zot(n){var e=function Jot(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZC(n);if(e){var o=ZC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qot(this,i)}}(t);function t(r,i){var o;return function Wot(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,qa(t.DEFAULTS,i)),XH.set(ahe(o),{}),o}return function Yot(n,e,t){e&&she(n.prototype,e),t&&she(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){KH(ZC(t.prototype),"build",this).call(this);var i=XH.get(this);i.input=this._element.firstChild;var o=this.hot.rootDocument.createElement("label");o.textContent=this.translateIfPossible(this.options.label.textContent),o.htmlFor=this.translateIfPossible(this.options.label.htmlFor),i.label=o,this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var i=XH.get(this);i.input.checked=this.options.checked,i.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=i,this.update()}},{key:"focus",value:function(){this.isBuilt()&&XH.get(this).input.focus()}}],[{key:"DEFAULTS",get:function(){return Ac({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),t}(kv);function qC(n){return(qC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var uhe;function che(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rst(r.key),r)}}function rst(n){var e=function ist(n,e){if("object"!==qC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==qC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===qC(e)?e:String(e)}function q6(n,e){return(q6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ast(n,e){if(e&&("object"===qC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function lst(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ZH(n){return(ZH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const dst=function(n){!function ost(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&q6(n,e)}(t,n);var e=function sst(n){var e=function ust(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=ZH(n);if(e){var o=ZH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ast(this,i)}}(t);function t(r,i){var o;return function tst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.buildOperatorsElement(),o}return function nst(n,e,t){e&&che(n.prototype,e),t&&che(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Dn(a.parentNode,"htFiltersMenuOperators"),a.parentNode.hasAttribute("ghost-table")||ut(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"buildOperatorsElement",value:function(){var i=this,o=[Lv,$H];ut(o,function(s){var a=new lhe(i.hot,{name:"operator",label:{htmlFor:s,textContent:Fot(s)},value:s,checked:s===o[0],id:s});a.addLocalHook("change",function(u){return i.onRadioInputChange(u)}),i.elements.push(a)})}},{key:"setChecked",value:function(i){if(this.elements.length<i)throw Error(ns(uhe||(uhe=function est(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Radio button with index "," doesn't exist."])),i));ut(this.elements,function(o,s){o.setChecked(s===i)})}},{key:"getActiveOperationId",value:function(){var i=this.elements.find(function(o){return o instanceof lhe&&o.isChecked()});return i?i.getValue():Lv}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(i){this.reset(),i&&this.getActiveOperationId()!==i&&ut(this.elements,function(o){o.setChecked(o.getValue()===i)})}},{key:"updateState",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lv,o=arguments.length>1?arguments[1]:void 0,s=i;s===X6&&(s=$H),this.state.setValueAtIndex(o,s)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(i){this.setState(i.target.value)}}]),t}(BH);function hst(n,e){var t=n;return""===t&&(t="(".concat(e,")")),t}!function nIe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tx||(tx="object"===("undefined"==typeof Intl?"undefined":IW(Intl))?new Intl.Collator(n,e).compare:"function"==typeof String.prototype.localeCompare?function(r,i){return"".concat(r).localeCompare(i)}:function(r,i){return r===i?0:r>i?-1:1})}();var J6=new Set([1]).has(1),pst=J6&&"function"==typeof Array.from;function IO(n){var e=n;return J6&&(e=new Set(e)),function(t){return J6?e.has(t):!!~e.indexOf(t)}}function fhe(n){return null==n?"":n}function Q6(n){var e=n;return(e=pst?Array.from(new Set(e)):Hne(e)).sort(function(t,r){return"number"==typeof t&&"number"==typeof r?t-r:t===r?0:t>r?1:-1})}function hhe(n,e,t,r){var s,i=[],o=n===e;return o||(s=IO(e)),ut(n,function(a){var u=!1;(o||s(a))&&(u=!0);var c={checked:u,value:a,visualValue:hst(a,t)};r&&r(c),i.push(c)}),i}function JC(n){return(JC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function phe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yst(r.key),r)}}function yst(n){var e=function vst(n,e){if("object"!==JC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==JC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===JC(e)?e:String(e)}function qH(){return qH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=_st(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},qH.apply(this,arguments)}function _st(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=QC(n)););return n}function e9(n,e){return(e9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Sst(n,e){if(e&&("object"===JC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mhe(n)}function mhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QC(n){return(QC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}b(6541);var t9=new WeakMap;const ghe=function(n){!function bst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e9(n,e)}(t,n);var e=function wst(n){var e=function Mst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=QC(n);if(e){var o=QC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Sst(this,i)}}(t);function t(r,i){var o;return function mst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,qa(t.DEFAULTS,i)),t9.set(mhe(o),{}),o}return function gst(n,e,t){e&&phe(n.prototype,e),t&&phe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){qH(QC(t.prototype),"build",this).call(this),t9.get(this).link=this._element.firstChild}},{key:"update",value:function(){!this.isBuilt()||(t9.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}],[{key:"DEFAULTS",get:function(){return Ac({href:"#",tagName:"a"})}}]),t}(kv);function eE(n){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yhe(n){return function Rst(n){if(Array.isArray(n))return n9(n)}(n)||function Tst(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Est(n,e){if(n){if("string"==typeof n)return n9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n9(n,e)}}(n)||function Cst(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n9(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ost(r.key),r)}}function Ost(n){var e=function kst(n,e){if("object"!==eE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==eE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===eE(e)?e:String(e)}function tE(){return tE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Pst(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tE.apply(this,arguments)}function Pst(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Iv(n)););return n}function r9(n,e){return(r9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Nst(n,e){if(e&&("object"===eE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _he(n)}function _he(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Iv(n){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Hst=new WeakMap;const bhe=function(n){!function Lst(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&r9(n,e)}(t,n);var e=function Ist(n){var e=function Fst(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Iv(n);if(e){var o=Iv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nst(this,i)}}(t);function t(r,i){var o;return function Dst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,qa(t.DEFAULTS,i)),Hst.set(_he(o),{}),o.searchInput=new WC(o.hot,{placeholder:GG,className:"htUIMultipleSelectSearch"}),o.selectAllUI=new ghe(o.hot,{textContent:jG,className:"htUISelectAll"}),o.clearAllUI=new ghe(o.hot,{textContent:UG,className:"htUIClearAll"}),o.items=[],o.itemsBox=null,o.registerHooks(),o}return function Ast(n,e,t){e&&vhe(n.prototype,e),t&&vhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.searchInput.addLocalHook("keydown",function(o){return i.onInputKeyDown(o)}),this.searchInput.addLocalHook("input",function(o){return i.onInput(o)}),this.selectAllUI.addLocalHook("click",function(o){return i.onSelectAllClick(o)}),this.clearAllUI.addLocalHook("click",function(o){return i.onClearAllClick(o)})}},{key:"setItems",value:function(i){this.items=i,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(i){this.locale=i}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return yhe(this.items)}},{key:"getValue",value:function(){return function jst(n){var e=[];return ut(n,function(t){t.checked&&e.push(t.value)}),e}(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var i=this;tE(Iv(t.prototype),"build",this).call(this);var o=this.hot.rootDocument,s=o.createElement("div"),a=new kv(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(a.element),this._element.appendChild(s);var u=function(f){i._element&&(i.itemsBox&&i.itemsBox.destroy(),Dn(f,"htUIMultipleSelectHot"),i.itemsBox=new i.hot.constructor(f,{data:i.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(w,M,C,L,H,V){w.title=V.instance.getDataAtRowProp(M,V.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return i.itemsBox.container.scrollWidth-Il(o)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:i.hot.isRtl()?"rtl":"ltr"}),i.itemsBox.init(),i.itemsBox.getShortcutManager().getContext("grid").addShortcut({keys:[["Escape"]],callback:function(w){i.runLocalHooks("keydown",w,i)},group:"multipleSelect.itemBox"}))};u(s),setTimeout(function(){return u(s)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){!this.isBuilt()||(this.itemsBox.loadData(function zst(n,e){var t=IO(e);return eo(n,function(r){return r.checked=t(r.value),r})}(this.items,this.options.value)),tE(Iv(t.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,tE(Iv(t.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(i){var a,o=this,s=i.target.value.toLocaleLowerCase(this.getLocale());a=""===s?yhe(this.items):uf(this.items,function(u){return"".concat(u.value).toLocaleLowerCase(o.getLocale()).indexOf(s)>=0}),this.itemsBox.loadData(a)}},{key:"onInputKeyDown",value:function(i){this.runLocalHooks("keydown",i,this),pre(gD,i.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(dp(i),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onSelectAllClick",value:function(i){var o=[];i.preventDefault(),ut(this.itemsBox.getSourceData(),function(s,a){s.checked=!0,o.push(Poe(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}},{key:"onClearAllClick",value:function(i){var o=[];i.preventDefault(),ut(this.itemsBox.getSourceData(),function(s,a){s.checked=!1,o.push(Poe(s,a)[0])}),this.itemsBox.setSourceDataAtCell(o)}}],[{key:"DEFAULTS",get:function(){return Ac({className:"htUIMultipleSelect",value:[]})}}]),t}(kv);function whe(n,e){return function Gst(n){if(Array.isArray(n))return n}(n)||function Yst(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Wst(n,e){if(n){if("string"==typeof n)return She(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return She(n,e)}}(n,e)||function Ust(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function She(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Vw="by_value";function nE(n){return(nE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Mhe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tat(r.key),r)}}function tat(n){var e=function nat(n,e){if("object"!==nE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==nE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===nE(e)?e:String(e)}function JH(){return JH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=rat(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},JH.apply(this,arguments)}function rat(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=rE(n)););return n}function i9(n,e){return(i9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sat(n,e){if(e&&("object"===nE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function aat(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function rE(n){return(rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}La(Vw,function $st(n,e){return(0,whe(e,1)[0])(n.value)},{name:"By value",inputsCount:0,inputValuesDecorator:function(e){return[IO(whe(e,1)[0])]},showOperators:!1});const cat=function(n){!function iat(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&i9(n,e)}(t,n);var e=function oat(n){var e=function lat(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=rE(n);if(e){var o=rE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sat(this,i)}}(t);function t(r,i){var o;return function Qst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!1})).name=i.name,o.elements.push(new bhe(o.hot)),o.registerHooks(),o}return function eat(n,e,t){e&&xhe(n.prototype,e),t&&xhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;this.getMultipleSelectElement().addLocalHook("keydown",function(o){return i.onInputKeyDown(o)})}},{key:"setState",value:function(i){if(this.reset(),i&&i.command.key===Vw){var o=this.getMultipleSelectElement();o.setItems(i.itemsSnapshot),o.setValue(i.args[0]),o.setLocale(i.locale)}}},{key:"getState",value:function(){var i=this.getMultipleSelectElement(),o=i.getItems();return{command:{key:i.isSelectedAllValues()||!o.length?Fl:Vw},args:[i.getValue()],itemsSnapshot:o}}},{key:"updateState",value:function(i){var o=this,s=function(u,c,f,p,g){var M=function Kst(n,e){return function Jst(n){if(Array.isArray(n))return n}(n)||function qst(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Zst(n,e){if(n){if("string"==typeof n)return Mhe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mhe(n,e)}}(n,e)||function Xst(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(uf(c,function(re){return re.name===Vw}),1)[0],C={},L=o.hot.getTranslatedPhrase(gF);if(M){var H=Q6(eo(p(u,g),function(re){return re.value}));f&&(M.args[0]=f);var V=[],z=hhe(H,M.args[0],L,function(re){re.checked&&V.push(re.value)});C.locale=o.hot.getCellMeta(0,i.editedConditionStack.column).locale,C.args=[V],C.command=Bw(Vw),C.itemsSnapshot=z}else C.args=[],C.command=Bw(Fl);o.state.setValueAtIndex(u,C)};s(i.editedConditionStack.column,i.editedConditionStack.conditions,i.conditionArgsChange,i.filteredRowsFactory),i.dependentConditionStacks.length&&s(i.dependentConditionStacks[0].column,i.dependentConditionStacks[0].conditions,i.conditionArgsChange,i.filteredRowsFactory,i.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof bhe})[0]}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a,u,c,f,p){Dn(a.parentNode,"htFiltersMenuValue");var g=i.hot.rootDocument.createElement("div");return Dn(g,"htFiltersMenuLabel"),g.textContent=p,a.appendChild(g),a.parentNode.hasAttribute("ghost-table")||ut(i.elements,function(v){return a.appendChild(v.element)}),a}}}},{key:"reset",value:function(){var i=this.hot.getTranslatedPhrase(gF),o=Q6(this._getColumnVisibleValues()),s=hhe(o,o,i);this.getMultipleSelectElement().setItems(s),JH(rE(t.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(o);var a=this.hot.getPlugin("filters").getSelectedColumn();null!==a&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}},{key:"onInputKeyDown",value:function(i){gD(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),dp(i))}},{key:"_getColumnVisibleValues",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn();return null===i?[]:eo(this.hot.getDataAtCol(i.visualIndex),function(o){return fhe(o)})}}]),t}(BH);function iE(n){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Che(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hat(r.key),r)}}function hat(n){var e=function pat(n,e){if("object"!==iE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==iE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===iE(e)?e:String(e)}function o9(n,e){return(o9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function yat(n,e){if(e&&("object"===iE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function vat(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function QH(n){return(QH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const wat=function(n){!function mat(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&o9(n,e)}(t,n);var e=function gat(n){var e=function _at(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=QH(n);if(e){var o=QH(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yat(this,i)}}(t);function t(r,i){var o;return function dat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,{id:i.id,stateless:!0})).name=i.name,o.elements.push(new WC(o.hot,{type:"button",value:WG,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),o.elements.push(new WC(o.hot,{type:"button",value:YG,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),o.registerHooks(),o}return function fat(n,e,t){e&&Che(n.prototype,e),t&&Che(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"registerHooks",value:function(){var i=this;ut(this.elements,function(o){o.addLocalHook("click",function(s,a){return i.onButtonClick(s,a)})})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(s,a){return Dn(a.parentNode,"htFiltersMenuActionBar"),a.parentNode.hasAttribute("ghost-table")||ut(i.elements,function(u){return a.appendChild(u.element)}),a}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(i,o){o.options.identifier===t.BUTTON_OK?this.accept():this.cancel()}}],[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),t}(BH);function NO(n){return(NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Ehe,The;function Rhe(n,e){return function Cat(n){if(Array.isArray(n))return n}(n)||function xat(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Mat(n,e){if(n){if("string"==typeof n)return Dhe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dhe(n,e)}}(n,e)||function Sat(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dhe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ahe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Eat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ohe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Rat(r.key),r)}}function Rat(n){var e=function Dat(n,e){if("object"!==NO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==NO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===NO(e)?e:String(e)}var khe="ConditionCollection.filteringStates",Phe=function(){function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Eat(this,n),this.hot=e,this.isMapRegistrable=t,this.filteringStates=new sF,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(khe,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}return function Tat(n,e,t){e&&Ohe(n.prototype,e),t&&Ohe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"isEmpty",value:function(){return 0===this.getFilteredColumns().length}},{key:"isMatch",value:function(t,r){var i,o=this.filteringStates.getValueAtIndex(r),s=null!==(i=null==o?void 0:o.conditions)&&void 0!==i?i:[];return this.isMatchInConditions(s,t,null==o?void 0:o.operation)}},{key:"isMatchInConditions",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lv;return!t.length||Not(i)(t,r)}},{key:"addCondition",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lv,o=arguments.length>3?arguments[3]:void 0,s=this.hot.getCellMeta(0,t).locale,a=eo(r.args,function(p){return"string"==typeof p?p.toLocaleLowerCase(s):p}),u=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);var c=this.getOperation(t);if(c){if(c!==i)throw Error(ns(Ehe||(Ehe=Ahe(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),t,c))}else if(Ms(LO[i]))throw new Error(ns(The||(The=Ahe(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),i));var f=this.getConditions(t);0===f.length?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:u,args:a,func:Ov(u,a)}]},o):f.push({name:u,args:a,func:Ov(u,a)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var r,i;return null!==(r=null===(i=this.filteringStates.getValueAtIndex(t))||void 0===i?void 0:i.conditions)&&void 0!==r?r:[]}},{key:"getOperation",value:function(t){var r;return null===(r=this.filteringStates.getValueAtIndex(t))||void 0===r?void 0:r.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map(function(t){return Rhe(t,1)[0]})}},{key:"getColumnStackPosition",value:function(t){return this.getFilteredColumns().indexOf(t)}},{key:"exportAllConditions",value:function(){return Za(this.filteringStates.getEntries(),function(t,r){var i=Rhe(r,2),s=i[1];return t.push({column:i[0],operation:s.operation,conditions:eo(s.conditions,function(c){return{name:c.name,args:c.args}})}),t},[])}},{key:"importAllConditions",value:function(t){var r=this;this.clean(),ut(t,function(i){ut(i.conditions,function(o){return r.addCondition(i.column,o)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(t,r){var i=this.getConditions(t);return r?i.some(function(o){return o.name===r}):i.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(khe),this.filteringStates=null,this.clearLocalHooks()}}]),n}();Ss(Phe,Pc);const Lhe=Phe;function FO(n){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Aat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ihe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kat(r.key),r)}}function kat(n){var e=function Pat(n,e){if("object"!==FO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==FO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===FO(e)?e:String(e)}const Nhe=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};Aat(this,n),this.conditionCollection=e,this.columnDataFactory=t}return function Oat(n,e,t){e&&Ihe(n.prototype,e),t&&Ihe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"filter",value:function(){var t=this,r=[];return ut(this.conditionCollection.getFilteredColumns(),function(i,o){var s=t.columnDataFactory(i);o&&(s=t._getIntersectData(s,r)),r=t.filterByColumn(i,s)}),r}},{key:"filterByColumn",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return ut(i,function(s){void 0!==s&&r.conditionCollection.isMatch(s,t)&&o.push(s)}),o}},{key:"_getIntersectData",value:function(t,r){var i=[];return ut(r,function(o){var s=o.meta.visualRow;void 0!==t[s]&&(i[s]=t[s])}),i}}]),n}();function HO(n){return(HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Iat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fat(r.key),r)}}function Fat(n){var e=function Hat(n,e){if("object"!==HO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==HO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===HO(e)?e:String(e)}var Hhe=function(){function n(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};Iat(this,n),this.hot=e,this.conditionCollection=t,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(o){return r._onConditionBeforeModify(o)}),this.conditionCollection.addLocalHook("afterRemove",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("afterAdd",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("beforeClean",function(){return r._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return r._onConditionAfterClean()})}return function Nat(n,e,t){e&&Fhe(n.prototype,e),t&&Fhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,ut(this.changes,function(r){t.updateStatesAtColumn(r)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}},{key:"updateStatesAtColumn",value:function(t,r){var i=this;if(this.grouping)-1===this.changes.indexOf(t)&&this.changes.push(t);else{var o=this.conditionCollection.exportAllConditions(),s=this.conditionCollection.getColumnStackPosition(t);-1===s&&(s=this.latestEditedColumnPosition);var a=o.slice(0,s),u=o.slice(s);u.length&&u[0].column===t&&u.shift();var c=function VIe(n){var e=n.length;return function t(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=r.concat(s);return u.length>=e?n.apply(this,u):t(u)}}([])}(function(p,g){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],w=new Lhe(i.hot,!1),M=[].concat(p,v);w.importAllConditions(M);var C=i.columnDataFactory(g),H=IO(eo(w.isEmpty()?C:new Nhe(w,function(V){return i.columnDataFactory(V)}).filter(),function(V){return V.meta.visualRow}));return w.destroy(),uf(C,function(V){return H(V.meta.visualRow)})})(a),f=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:f},dependentConditionStacks:u,filteredRowsFactory:c,conditionArgsChange:r})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var t=this;ut(this.latestOrderStack,function(r){t.updateStatesAtColumn(r)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),no(this,function(r,i){t[i]=null})}}]),n}();Ss(Hhe,Pc);const Bat=Hhe;function oE(n){return(oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Bhe;function Vhe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Kat(r.key),r)}}function Kat(n){var e=function Xat(n,e){if("object"!==oE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==oE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===oE(e)?e:String(e)}function sE(){return sE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Zat(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sE.apply(this,arguments)}function Zat(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Nv(n)););return n}function s9(n,e){return(s9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Qat(n,e){if(e&&("object"===oE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jhe(n)}function jhe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Nv(n){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var nlt=function(n){!function qat(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&s9(n,e)}(t,n);var e=function Jat(n){var e=function elt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Nv(n);if(e){var o=Nv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Qat(this,i)}}(t);function t(r){var i;return function Gat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).eventManager=new ea(jhe(i)),i.dropdownMenuPlugin=null,i.conditionCollection=null,i.conditionUpdateObserver=null,i.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),i.filtersRowsMap=null,i.hot.addHook("afterGetColHeader",function(o,s){return i.onAfterGetColHeader(o,s)}),i}return function $at(n,e,t){e&&zhe(n.prototype,e),t&&zhe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new iA),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var o=this.hot.getSettings().dropdownMenu,s=o&&o.uiContainer||this.hot.rootDocument.body,a=function(v){return v.addLocalHook("accept",function(){return i.onActionBarSubmit("accept")}),v.addLocalHook("cancel",function(){return i.onActionBarSubmit("cancel")}),v.addLocalHook("change",function(w){return i.onComponentChange(v,w)}),v};if(!this.components.get("filter_by_condition")){var f=new $6(this.hot,{id:"filter_by_condition",name:function(){return"".concat(i.hot.getTranslatedPhrase(BG),":")},addSeparator:!1,menuContainer:s});f.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition",a(f))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new dst(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var p=new $6(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:s});p.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition2",a(p))}this.components.get("filter_by_value")||this.components.set("filter_by_value",a(new cat(this.hot,{id:"filter_by_value",name:function(){return"".concat(i.hot.getTranslatedPhrase(VG),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",a(new wat(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new Lhe(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new Bat(this.hot,this.conditionCollection,function(g){return i.getDataMapAtColumn(g)}),this.conditionUpdateObserver.addLocalHook("update",function(g){return i.updateComponents(g)})),this.components.forEach(function(g){return g.show()}),this.addHook("beforeDropdownMenuSetItems",function(g){return i.onBeforeDropdownMenuSetItems(g)}),this.addHook("afterDropdownMenuDefaultOptions",function(g){return i.onAfterDropdownMenuDefaultOptions(g)}),this.addHook("afterDropdownMenuShow",function(){return i.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return i.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(g){return i.onAfterChange(g)}),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),sE(Nv(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var o,i=this;this.enabled&&(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(s,a){s.destroy(),i.components.set(a,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)),sE(Nv(t.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(i,o,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lv,u=this.hot.toPhysicalColumn(i);this.conditionCollection.addCondition(u,{command:{key:o},args:s},a)}},{key:"removeConditions",value:function(i){var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}},{key:"clearConditions",value:function(i){if(void 0===i)this.conditionCollection.clean();else{var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}}},{key:"filter",value:function(){var i=this,o=this._createDataFilter(),s=!this.conditionCollection.isEmpty(),a=[],u=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",u))if(s){var f=[];this.hot.batchExecution(function(){i.filtersRowsMap.clear();var p=IO(a=eo(o.filter(),function(g){return g.meta.visualRow}));jr(i.hot.countSourceRows()-1,function(g){p(g)||f.push(g)}),ut(f,function(g){i.filtersRowsMap.setValueAtIndex(g,!0)})},!0),a.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",u),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){var i,o=null===(i=this.hot.getSelectedRangeLast())||void 0===i?void 0:i.highlight;return o?{visualIndex:o.col,physicalIndex:this.hot.toPhysicalColumn(o.col)}:null}},{key:"clearColumnSelection",value:function(){var i=this.getSelectedColumn();null!==i&&this.hot.selectCell(0,i.visualIndex)}},{key:"getDataMapAtColumn",value:function(i){var o=this,s=this.hot.toVisualColumn(i),a=[];return ut(this.hot.getSourceDataAtCol(s),function(u,c){var f,p=o.hot.getCellMeta(c,s),g=p.row,v=p.col,w=p.visualCol,M=p.visualRow,C=p.type,L=p.instance,H=p.dateFormat,V=p.locale,z=null!==(f=o.hot.getDataAtCell(o.hot.toVisualRow(c),s))&&void 0!==f?f:u;a.push({meta:{row:g,col:v,visualCol:w,visualRow:M,type:C,instance:L,dateFormat:H,locale:V},value:fhe(z)})}),a}},{key:"onAfterChange",value:function(i){var o=this;i&&ut(i,function(s){var a=function zat(n,e){return function Yat(n){if(Array.isArray(n))return n}(n)||function Wat(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Uat(n,e){if(n){if("string"==typeof n)return Vhe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vhe(n,e)}}(n,e)||function jat(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2),c=o.hot.propToCol(a[1]);o.conditionCollection.hasConditions(c)&&o.updateValueComponentCondition(c)})}},{key:"updateValueComponentCondition",value:function(i){var s=Q6(this.hot.getDataAtCol(i));this.conditionUpdateObserver.updateStatesAtColumn(i,s)}},{key:"restoreComponents",value:function(i){var o,s=null===(o=this.getSelectedColumn())||void 0===o?void 0:o.physicalIndex;i.forEach(function(a){a.isHidden()||a.restoreState(s)}),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var i=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){i.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})})}},{key:"onAfterDropdownMenuDefaultOptions",value:function(i){i.items.push({name:ro}),this.components.forEach(function(o){i.items.push(o.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(i,o,s,a){var u=i;return u===$H&&o.command.key!==Fl&&s.command.key!==Fl&&a.command.key!==Fl?u=X6:a.command.key!==Fl&&(o.command.key===Fl||s.command.key===Fl)&&(u=Lv),u}},{key:"onActionBarSubmit",value:function(i){var o;if("accept"===i){var a,s=this.getSelectedColumn();if(null===s)return void(null===(a=this.dropdownMenuPlugin)||void 0===a||a.close());var u=s.physicalIndex,c=this.components.get("filter_by_condition").getState(),f=this.components.get("filter_by_condition2").getState(),p=this.components.get("filter_by_value").getState(),g=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),c,f,p);this.conditionUpdateObserver.groupChanges();var v=this.conditionCollection.getColumnStackPosition(u);-1===v&&(v=void 0),this.conditionCollection.removeConditions(u),c.command.key!==Fl&&(this.conditionCollection.addCondition(u,c,g,v),f.command.key!==Fl&&this.conditionCollection.addCondition(u,f,g,v)),p.command.key!==Fl&&this.conditionCollection.addCondition(u,p,g,v),this.conditionUpdateObserver.flush(),this.components.forEach(function(w){return w.saveState(u)}),this.filtersRowsMap.clear(),this.filter()}null===(o=this.dropdownMenuPlugin)||void 0===o||o.close()}},{key:"onComponentChange",value:function(i,o){this.updateDependentComponentsVisibility(),i.constructor===$6&&!o.inputsCount&&this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var s=this.components.get("filter_by_condition").getState().command,a=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];s.showOperators?this.showComponents.apply(this,a):this.hideComponents.apply(this,a)}},{key:"onAfterGetColHeader",value:function(i,o){var s=this.hot.toPhysicalColumn(i);this.enabled&&this.conditionCollection.hasConditions(s)?Dn(o,"htFiltersActive"):Bi(o,"htFiltersActive")}},{key:"_createDataFilter",value:function(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new Nhe(o,function(s){return i.getDataMapAtColumn(s)})}},{key:"updateComponents",value:function(i){var o;if(null!==(o=this.dropdownMenuPlugin)&&void 0!==o&&o.enabled){var s=i.editedConditionStack,a=s.conditions,u=s.column,c=a.filter(function(g){return g.name===Vw}),f=a.filter(function(g){return g.name!==Vw});if(c.length>=2||f.length>=3)cs(ns(Bhe||(Bhe=function Vat(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The filter conditions have been applied properly, but couldn\u2019t be displayed visually. \n        The overall amount of conditions exceed the capability of the dropdown menu. \n        For more details see the documentation."],["The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\\x20\n        The overall amount of conditions exceed the capability of the dropdown menu.\\x20\n        For more details see the documentation."]))));else{var p=this.conditionCollection.getOperation(u);this.components.get("filter_by_condition").updateState(f[0],u),this.components.get("filter_by_condition2").updateState(f[1],u),this.components.get("filter_operators").updateState(p,u),this.components.get("filter_by_value").updateState(i)}}}},{key:"getIndexesOfComponents",value:function(){var i=[];if(!this.dropdownMenuPlugin)return i;for(var o=this.dropdownMenuPlugin.menu,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return ut(a,function(c){ut(o.menuItems,function(f,p){f.key===c.getMenuItemDescriptor().key&&i.push(p)})}),i}},{key:"changeComponentsVisibility",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.dropdownMenuPlugin){for(var o=this.dropdownMenuPlugin.menu,s=o.hotMenu,a=s.getPlugin("hiddenRows"),u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];var p=this.getIndexesOfComponents.apply(this,c);i?a.showRows(p):a.hideRows(p),s.render()}}},{key:"hideComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!1].concat(o))}},{key:"showComponents",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.changeComponentsVisibility.apply(this,[!0].concat(o))}},{key:"destroy",value:function(){var i=this;this.enabled&&(this.components.forEach(function(o,s){null!==o&&(o.destroy(),i.components.set(s,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),sE(Nv(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return"filters"}},{key:"PLUGIN_PRIORITY",get:function(){return 250}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}]),t}(rs);function BO(n){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Whe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VO(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Whe(Object(t),!0).forEach(function(r){rlt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Whe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rlt(n,e,t){return e=function ilt(n){var e=function olt(n,e){if("object"!==BO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==BO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===BO(e)?e:String(e)}(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Khe,Yhe="internal-use-in-handsontable",a9={licenseKey:Yhe,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function Ghe(n){var e,t;return{maxColumns:n.maxColumns,maxRows:n.maxRows,language:null===(e=n[Su])||void 0===e||null===(t=e.language)||void 0===t?void 0:t.langCode}}function $he(n){return Object.keys(n).reduce(function(e,t){return"hyperformula"!==t&&(e[t]=n[t]),e},{})}function l9(n){return(l9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function e3(){var n="engine_relationship",e=cf(Su);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function u9(){var n="shared_engine_usage",e=cf(Su);return e.hasItem(n)||e.register(n,new Map),e.getItem(n)}function Xhe(n){var e,t=e3(),r=0===t.size?[]:Array.from(null!==(e=t.get(n))&&void 0!==e?e:[]);return new Map(r.map(function(i){return[i.getPlugin("formulas").sheetId,i]}))}function Zhe(n,e){if(n){var t=e3(),r=t.get(n),i=u9(),o=i.get(n);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),0===r.length&&t.delete(n)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),0===o.length&&(i.delete(n),n.destroy()))}}function mlt(n,e){return(Ms(e)||!n.doesSheetExist(e))&&(e=n.addSheet(e)),e}var qhe="DD/MM/YYYY";function Jhe(n){return"string"==typeof n&&"'"===n.charAt(0)&&"="===n.charAt(1)}function c9(n,e){return"string"==typeof n&&"date"===e}function Qhe(n,e){return Zo(n,e,!0).isValid()}function epe(n,e){return Zo(n,e,!0).format(qhe)}function vlt(n,e){return Zo(n,qhe,!0).format(e)}function tpe(n,e){var r=new Date(Date.UTC(0,0,n+-1));return Zo(r).format(e)}function zO(n){return(zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function npe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wlt(r.key),r)}}function wlt(n){var e=function Slt(n,e){if("object"!==zO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==zO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===zO(e)?e:String(e)}function zw(n,e,t){(function Mlt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Hs(n,e){return function xlt(n,e){return e.get?e.get.call(n):e.value}(n,rpe(n,e,"get"))}function Fv(n,e,t){return function Clt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,rpe(n,e,"set"),t),t}function rpe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var jO=new WeakMap,Hv=new WeakMap,xd=new WeakMap,t3=new WeakMap,d9=new WeakMap,f9=new WeakMap,n3=new WeakMap;const ipe=function(){function n(e,t,r){(function _lt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),zw(this,jO,{writable:!0,value:void 0}),zw(this,Hv,{writable:!0,value:void 0}),zw(this,xd,{writable:!0,value:void 0}),zw(this,t3,{writable:!0,value:[]}),zw(this,d9,{writable:!0,value:[]}),zw(this,f9,{writable:!0,value:void 0}),zw(this,n3,{writable:!0,value:[]}),Fv(this,jO,e),Fv(this,Hv,t),Fv(this,xd,r)}return function blt(n,e,t){e&&npe(n.prototype,e),t&&npe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setRemovedHfIndexes",value:function(t){var r=this;return Fv(this,n3,t.map(function(i){var o=Hs(r,Hv).getVisualFromPhysicalIndex(i);return r.getHfIndexFromVisualIndex(o)})),Hs(this,n3)}},{key:"getRemovedHfIndexes",value:function(){return Hs(this,n3)}},{key:"getHfIndexFromVisualIndex",value:function(t){var r=Hs(this,Hv).getIndexesSequence(),i=Hs(this,Hv).getNotTrimmedIndexes();return r.indexOf(i[t])}},{key:"syncMoves",value:function(t){var r=this,o="move".concat(fh(Hs(this,jO)),"s");Hs(this,xd).getEngine().batch(function(){t.forEach(function(s){s.from!==s.to&&s.from+1!==s.to&&Hs(r,xd).getEngine()[o](Hs(r,xd).getSheetId(),s.from,1,s.to)})})}},{key:"storeMovesInformation",value:function(t,r,i){var o=this;!1!==i&&(Fv(this,d9,t.map(function(s){return o.getHfIndexFromVisualIndex(s)})),Fv(this,f9,this.getHfIndexFromVisualIndex(r)))}},{key:"getMoveLine",value:function(t,r){var s,i=Hs(this,Hv).getNumberOfIndexes(),o=Array.from(Array(i).keys()).filter(function(a){return!1===t.includes(a)});return 0===r?null!==(s=o[r])&&void 0!==s?s:0:o[r-1]+1}},{key:"getInitiallyCalculatedMoves",value:function(t,r){var i=this.getMoveLine(t,r),o=[];return t.forEach(function(s){var a={from:s,to:i};o.forEach(function(u){u.from>a.from&&u.to<=a.from&&u.from>u.to&&(a.from+=1)}),a.from>=i&&(i+=1),o.push(a)}),o}},{key:"adjustedCalculatedMoves",value:function(t){return t.forEach(function(r,i){t.slice(i+1).forEach(function(s){s.from>r.from&&s.from<s.to&&(s.from-=1)})}),t}},{key:"calculateAndSyncMoves",value:function(t,r){var i=this;if(!Hs(this,xd).isPerformingUndoRedo()&&!1!==t&&!1!==r){var o=this.adjustedCalculatedMoves(this.getInitiallyCalculatedMoves(Hs(this,d9),Hs(this,f9)));null===Hs(this,xd).getSheetId()?Hs(this,xd).getPostponeAction(function(){return i.syncMoves(o)}):this.syncMoves(o)}}},{key:"getIndexesChangeSyncMethod",value:function(){var t=this,r="set".concat(fh(Hs(this,jO)),"Order");return function(i){if(!Hs(t,xd).isPerformingUndoRedo()){var o=Hs(t,Hv).getIndexesSequence();if("update"===i){var u,s=Hs(t,t3).map(function(p){return o.indexOf(p)}),a=Hs(t,xd).getEngine().getSheetDimensions(Hs(t,xd).getSheetId());u="row"===Hs(t,jO)?a.height:a.width;for(var f=s.length;f<u;f+=1)s.push(f);Hs(t,xd).getEngine()[r](Hs(t,xd).getSheetId(),s)}Fv(t,t3,o)}}}},{key:"init",value:function(){Fv(this,t3,Hs(this,Hv).getIndexesSequence())}}]),n}();function UO(n){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ope(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Dlt(r.key),r)}}function Dlt(n){var e=function Alt(n,e){if("object"!==UO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==UO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===UO(e)?e:String(e)}function jw(n,e,t){(function Olt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function cg(n,e){return function klt(n,e){return e.get?e.get.call(n):e.value}(n,spe(n,e,"get"))}function Uw(n,e,t){return function Plt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,spe(n,e,"set"),t),t}function spe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var r3=new WeakMap,o3=new WeakMap,h9=new WeakMap,p9=new WeakMap,m9=new WeakMap,g9=new WeakMap,y9=new WeakMap;const Ilt=function(){function n(e,t,r){(function Tlt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),jw(this,r3,{writable:!0,value:void 0}),jw(this,o3,{writable:!0,value:void 0}),jw(this,h9,{writable:!0,value:void 0}),jw(this,p9,{writable:!0,value:!1}),jw(this,m9,{writable:!0,value:!1}),jw(this,g9,{writable:!0,value:null}),jw(this,y9,{writable:!0,value:null}),Uw(this,r3,new ipe("row",e,this)),Uw(this,o3,new ipe("column",t,this)),Uw(this,h9,r)}return function Rlt(n,e,t){e&&ope(n.prototype,e),t&&ope(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getForAxis",value:function(t){return cg(this,"row"===t?r3:o3)}},{key:"setPerformUndo",value:function(t){Uw(this,p9,t)}},{key:"setPerformRedo",value:function(t){Uw(this,m9,t)}},{key:"isPerformingUndoRedo",value:function(){return cg(this,p9)||cg(this,m9)}},{key:"getSheetId",value:function(){return cg(this,y9)}},{key:"getEngine",value:function(){return cg(this,g9)}},{key:"getPostponeAction",value:function(){return cg(this,h9)}},{key:"setupSyncEndpoint",value:function(t,r){Uw(this,g9,t),Uw(this,y9,r),cg(this,r3).init(),cg(this,o3).init()}}]),n}();function Bv(n){return(Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function aE(n,e){return function jlt(n){if(Array.isArray(n))return n}(n)||function zlt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||ape(n,e)||function Vlt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ape(n,e){if(n){if("string"==typeof n)return v9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v9(n,e)}}function v9(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ult(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,upe(r.key),r)}}function Ww(){return Ww="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Ylt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ww.apply(this,arguments)}function Ylt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=dg(n)););return n}function _9(n,e){return(_9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Klt(n,e){if(e&&("object"===Bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sp(n)}function Sp(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dg(n){return(dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function lE(n,e,t){return(e=upe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function upe(n){var e=function Zlt(n,e){if("object"!==Bv(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Bv(e)?e:String(e)}function b9(n,e,t){(function qlt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Vv(n,e,t){return function Jlt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,cpe(n,e,"set"),t),t}function uE(n,e){return function Qlt(n,e){return e.get?e.get.call(n):e.value}(n,cpe(n,e,"get"))}function cpe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Su="formulas",eut=["maxRows","maxColumns","language"];Tr.getSingleton().register("afterNamedExpressionAdded"),Tr.getSingleton().register("afterNamedExpressionRemoved"),Tr.getSingleton().register("afterSheetAdded"),Tr.getSingleton().register("afterSheetRemoved"),Tr.getSingleton().register("afterSheetRenamed"),Tr.getSingleton().register("afterFormulasValuesUpdate");var cE=function(e){return"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e},fg=new WeakMap,w9=new WeakMap,WO=new WeakMap,nut=function(n){!function Glt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_9(n,e)}(t,n);var e=function $lt(n){var e=function Xlt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=dg(n);if(e){var o=dg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Klt(this,i)}}(t);function t(){var r;Ult(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return b9(Sp(r=e.call.apply(e,[this].concat(o))),fg,{writable:!0,value:!1}),b9(Sp(r),w9,{writable:!0,value:!1}),b9(Sp(r),WO,{writable:!0,value:[["valuesUpdated",function(){var a;return(a=r).onEngineValuesUpdated.apply(a,arguments)}],["namedExpressionAdded",function(){var a;return(a=r).onEngineNamedExpressionsAdded.apply(a,arguments)}],["namedExpressionRemoved",function(){var a;return(a=r).onEngineNamedExpressionsRemoved.apply(a,arguments)}],["sheetAdded",function(){var a;return(a=r).onEngineSheetAdded.apply(a,arguments)}],["sheetRenamed",function(){var a;return(a=r).onEngineSheetRenamed.apply(a,arguments)}],["sheetRemoved",function(){var a;return(a=r).onEngineSheetRemoved.apply(a,arguments)}]]}),lE(Sp(r),"staticRegister",cf("formulas")),lE(Sp(r),"engine",null),lE(Sp(r),"sheetName",null),lE(Sp(r),"indexSyncer",null),lE(Sp(r),"rowAxisSyncer",null),lE(Sp(r),"columnAxisSyncer",null),r}return function Wlt(n,e,t){e&&lpe(n.prototype,e),t&&lpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"sheetId",get:function(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Su]}},{key:"enablePlugin",value:function(){var i,o=this;if(!this.enabled){if(this.engine=null!==(i=function clt(n){var i,e=n.getSettings(),t=e[Su],r=null==t?void 0:t.engine;if(!0===t||Ms(r))return null;if("function"==typeof r.hyperformula||"function"==typeof r)return function dlt(n,e,t){var r=e[Su],i=function slt(n){var e,t=n[Su],r=$he(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=Ghe(n);return VO(VO(VO({},a9),r),i)}(e),o=e3(),s=u9();(function flt(n,e){e&&e.forEach(function(t){var r=t.name,i=t.plugin,o=t.translations;try{n.registerFunction(r,i,o)}catch(s){cs(s.message)}})})(n,r.functions),function hlt(n,e){if(e){var t=e.langCode;try{n.registerLanguage(t,e)}catch(r){cs(r.message)}}}(n,r.language);var a=n.buildEmpty(i);return o.set(a,[t]),s.set(a,[t.guid]),function plt(n,e){e&&(n.suspendEvaluation(),e.forEach(function(t){var r=t.name,i=t.expression,o=t.scope,s=t.options;try{n.addNamedExpression(r,i,o,s)}catch(a){cs(a.message)}}),n.resumeEvaluation())}(a,r.namedExpressions),a.on("sheetAdded",function(){a.rebuildAndRecalculate()}),a.on("sheetRemoved",function(){a.rebuildAndRecalculate()}),a}(null!==(i=r.hyperformula)&&void 0!==i?i:r,e,n);if("object"===l9(r)&&Ms(r.hyperformula)){var o=e3(),s=u9().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(n),s&&s.push(n.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:Yhe}),(r.getConfig().leapYear1900!==a9.leapYear1900||!1===HW(r.getConfig().nullDate,a9.nullDate))&&cs(ns(Khe||(Khe=function ult(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["If you use HyperFormula with Handsontable, keep the default `leapYear1900` and `nullDate` \n      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates."],["If you use HyperFormula with Handsontable, keep the default \\`leapYear1900\\` and \\`nullDate\\` \n      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates."])))),r}return null}(this.hot))&&void 0!==i?i:this.engine,!this.engine)return void cs("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){var s=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==s&&(this.sheetName=s)}this.addHook("beforeLoadData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterLoadData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("beforeUpdateData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterUpdateData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("modifyData",function(){return o.onModifyData.apply(o,arguments)}),this.addHook("modifySourceData",function(){return o.onModifySourceData.apply(o,arguments)}),this.addHook("beforeValidate",function(){return o.onBeforeValidate.apply(o,arguments)}),this.addHook("afterSetSourceDataAtCell",function(){return o.onAfterSetSourceDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtCell",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("beforeCreateRow",function(){return o.onBeforeCreateRow.apply(o,arguments)}),this.addHook("beforeCreateCol",function(){return o.onBeforeCreateCol.apply(o,arguments)}),this.addHook("afterCreateRow",function(){return o.onAfterCreateRow.apply(o,arguments)}),this.addHook("afterCreateCol",function(){return o.onAfterCreateCol.apply(o,arguments)}),this.addHook("beforeRemoveRow",function(){return o.onBeforeRemoveRow.apply(o,arguments)}),this.addHook("beforeRemoveCol",function(){return o.onBeforeRemoveCol.apply(o,arguments)}),this.addHook("afterRemoveRow",function(){return o.onAfterRemoveRow.apply(o,arguments)}),this.addHook("afterRemoveCol",function(){return o.onAfterRemoveCol.apply(o,arguments)}),this.indexSyncer=new Ilt(this.hot.rowIndexMapper,this.hot.columnIndexMapper,function(a){o.hot.addHookOnce("init",function(){a()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",function(a,u,c,f){o.rowAxisSyncer.storeMovesInformation(a,u,f)}),this.hot.addHook("beforeColumnMove",function(a,u,c,f){o.columnAxisSyncer.storeMovesInformation(a,u,f)}),this.hot.addHook("afterRowMove",function(a,u,c,f,p){o.rowAxisSyncer.calculateAndSyncMoves(f,p)}),this.hot.addHook("afterColumnMove",function(a,u,c,f,p){o.columnAxisSyncer.calculateAndSyncMoves(f,p)}),this.hot.addHook("beforeColumnFreeze",function(a,u){o.columnAxisSyncer.storeMovesInformation([a],o.hot.getSettings().fixedColumnsStart,u)}),this.hot.addHook("afterColumnFreeze",function(a,u){o.columnAxisSyncer.calculateAndSyncMoves(u,u)}),this.hot.addHook("beforeColumnUnfreeze",function(a,u){o.columnAxisSyncer.storeMovesInformation([a],o.hot.getSettings().fixedColumnsStart-1,u)}),this.hot.addHook("afterColumnUnfreeze",function(a,u){o.columnAxisSyncer.calculateAndSyncMoves(u,u)}),this.addHook("afterCellMetaReset",function(){return o.onAfterCellMetaReset.apply(o,arguments)}),this.addHook("beforeUndo",function(){o.indexSyncer.setPerformUndo(!0),o.engine.undo()}),this.addHook("beforeRedo",function(){o.indexSyncer.setPerformRedo(!0),o.engine.redo()}),this.addHook("afterUndo",function(){o.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",function(){o.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){return o.onAfterDetachChild.apply(o,arguments)}),this.addHook("beforeAutofill",function(){return o.onBeforeAutofill.apply(o,arguments)}),uE(this,WO).forEach(function(a){var u=aE(a,2);return o.engine.on(u[0],u[1])}),Ww(dg(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this;uE(this,WO).forEach(function(o){var s=aE(o,2);return i.engine.off(s[0],s[1])}),Zhe(this.engine,this.hot),this.engine=null,Ww(dg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(i){var o=function alt(n){var e,t=n[Su],r=$he(null!=t&&null!==(e=t.engine)&&void 0!==e&&e.hyperformula?t.engine:{}),i=Ghe(n);return VO(VO({},r),i)}(this.hot.getSettings());(function llt(n,e){return Object.keys(e).some(function(t){return void 0!==e[t]&&e[t]!==n[t]})})(this.engine.getConfig(),o)&&this.engine.updateConfig(o);var s=this.hot.getSettings()[Su];if(Cr(s)&&Cr(s.sheetName)&&s.sheetName!==this.sheetName&&this.switchSheet(s.sheetName),!i.data&&null===this.sheetName){var a=this.hot.getSettings()[Su].sheetName;a&&this.engine.doesSheetExist(a)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!=a?a:void 0,this.hot.getSourceDataArray())}Ww(dg(t.prototype),"updatePlugin",this).call(this,i)}},{key:"destroy",value:function(){var i=this;uE(this,WO).forEach(function(o){var s,a=aE(o,2);return null===(s=i.engine)||void 0===s?void 0:s.off(a[0],a[1])}),Vv(this,WO,null),Zhe(this.engine,this.hot),this.engine=null,Ww(dg(t.prototype),"destroy",this).call(this)}},{key:"addSheet",value:function(i,o){if(Cr(o)&&!function Ize(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return Array.isArray(e)}))}(o))return cs("The provided data should be an array of arrays."),!1;if(null!=i&&this.engine.doesSheetExist(i))return cs("Sheet with the provided name already exists."),!1;try{var s=this.engine.addSheet(null!=i?i:void 0);return o&&this.engine.setSheetContent(this.engine.getSheetId(s),o),s}catch(a){return cs(a.message),!1}}},{key:"switchSheet",value:function(i){if(this.engine.doesSheetExist(i)){this.sheetName=i;var o=this.engine.getSheetSerialized(this.sheetId);o.length>0&&this.hot.loadData(o,"".concat(fh(Su),".switchSheet"))}else t4("The sheet named `".concat(i,"` does not exist, switch aborted."))}},{key:"getCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,a=this.hot.toPhysicalRow(i),u=this.hot.toPhysicalColumn(o);return null!==a&&null!==u?this.engine.getCellType({sheet:s,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o)}):"EMPTY"}},{key:"isFormulaCellType",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:s,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o)})}},{key:"renderDependentSheets",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Set;i.forEach(function(u){var c,f=null==u||null===(c=u.address)||void 0===c?void 0:c.sheet;void 0!==f&&(a.has(f)||a.add(f))}),Xhe(this.engine).forEach(function(u,c){var f;(s||c!==o.sheetId)&&a.has(c)&&(u.render(),null===(f=u.view)||void 0===f||f.adjustElementsSize())})}},{key:"validateDependentCells",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(f){var p,g=null!==(p=null==f?void 0:f.address)&&void 0!==p?p:{},v=g.row,w=g.col,M=g.sheet;return Cr(M)?"".concat(M,":").concat(v,"x").concat(w):""},u=new Set(s.map(function(c){return a(c)}));i.forEach(function(c){var f,p,g=null!==(f=c.address)&&void 0!==f?f:{},v=g.row,w=g.col;if(!(!1===Cr(v)||!1===Cr(w)||v>=o.hot.countRows()||w>=o.hot.countCols())){var M=null==c||null===(p=c.address)||void 0===p?void 0:p.sheet,C=a(c);if(void 0!==M&&!u.has(C)){var L=Xhe(o.engine).get(M);if(!L)return;L.validateCell(L.getDataAtCell(v,w),L.getCellMeta(v,w),function(){})}}})}},{key:"syncChangeWithEngine",value:function(i,o,s){var a={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};if(this.engine.isItPossibleToSetCellContents(a)){var u=this.hot.getCellMeta(i,o);return c9(s,u.type)&&(Qhe(s,u.dateFormat)?s=epe(s,u.dateFormat):!1===function ylt(n){return"string"==typeof n&&n.startsWith("=")}(s)&&(s="'".concat(s))),this.engine.setCellContents(a,s)}cs("Not possible to set cell data at ".concat(JSON.stringify(a)))}},{key:"onBeforeValidate",value:function(i,o,s){var a=this.hot.propToCol(s);if(this.isFormulaCellType(o,a)){var u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(a),sheet:this.sheetId},c=this.hot.getCellMeta(o,a),f=this.engine.getCellValue(u);return"date"===c.type&&kc(f)&&(f=tpe(f,c.dateFormat)),"object"===Bv(f)&&null!==f?f.value:f}return i}},{key:"onBeforeAutofill",value:function(i,o,s){var a=o.getTopStartCorner(),u=a.row,c=a.col,f=o.getBottomEndCorner(),p=f.row,g=f.col,v=s.getTopStartCorner(),w=v.row,M=v.col,C=s.getBottomEndCorner(),L=C.row,H=C.col,V={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(p),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(g),sheet:this.sheetId}},z={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(w),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(M),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(L),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(H),sheet:this.sheetId}};if(!1===this.engine.isItPossibleToSetCellContents(z))return!1;for(var X=this.engine.getFillRangeData(V,z),re=V.start,pe=V.end,ot=pe.row-re.row+1,at=pe.col-re.col+1,ze=0;ze<X.length;ze+=1)for(var vt=0;vt<X[ze].length;vt+=1){var be=X[ze][vt],Oe=ze%ot,Ye=vt%at,Y=this.hot.getCellMeta(Oe,Ye);c9(be,Y.type)&&(be.startsWith("'")?X[ze][vt]=be.slice(1):!1===this.isFormulaCellType(Oe,Ye,this.sheetId)&&(X[ze][vt]=vlt(be,Y.dateFormat)))}return X}},{key:"onBeforeLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s.includes(fh(Su))||Vv(this,w9,Ms(this.hot.getSettings().data))}},{key:"onAfterCellMetaReset",value:function(){var i=this,o=this.hot.getSourceDataArray(),s=!1;o.forEach(function(a,u){a.forEach(function(c,f){var p=i.hot.getCellMeta(u,f),g=p.dateFormat;c9(c,p.type)&&(s=!0,Qhe(c,g)?o[u][f]=epe(c,g):!1===i.isFormulaCellType(u,f)&&(o[u][f]="'".concat(c)))})}),!0===s&&(Vv(this,fg,!0),this.engine.setSheetContent(this.sheetId,o),Vv(this,fg,!1))}},{key:"onAfterLoadData",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!s.includes(fh(Su)))if(this.sheetName=mlt(this.engine,this.hot.getSettings()[Su].sheetName),uE(this,w9))this.switchSheet(this.sheetName);else{var a=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,a)){Vv(this,fg,!0);var u=this.engine.setSheetContent(this.sheetId,a);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(u),Vv(this,fg,!1)}}}},{key:"onModifyData",value:function(i,o,s,a){if("get"===a&&!uE(this,fg)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i);if(null!==u&&null!==o){if(!this.isFormulaCellType(u,o)&&"ARRAY"!==this.getCellType(u,o))return void(Jhe(s.value)&&(s.value=function glt(n){return Jhe(n)?n.substr(1):n}(s.value)));var p={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId},g=this.engine.getCellValue(p),v=this.hot.getCellMeta(u,o);"date"===v.type&&kc(g)&&(g=tpe(g,v.dateFormat));var w="object"===Bv(g)&&null!==g?g.value:g;s.value=w}}}},{key:"onModifySourceData",value:function(i,o,s,a){if("get"===a&&!uE(this,fg)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var u=this.hot.toVisualRow(i),c=this.hot.propToCol(o);if(null!==u&&null!==c){if(!this.isFormulaCellType(u,c)&&"ARRAY"!==this.getCellType(u,c))return;var g=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0!==g.width||0!==g.height){var v={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};s.value=this.engine.getCellSerialized(v)}}}}},{key:"onAfterSetDataAtCell",value:function(i,o){var s=this;if(!cE(o)){var a=[],u=[],c=this.engine.batch(function(){i.forEach(function(f){var p=aE(f,4),g=p[0],w=p[3],M=s.hot.propToCol(p[1]),C=s.hot.toPhysicalRow(g),L=s.hot.toPhysicalColumn(M),H={row:s.rowAxisSyncer.getHfIndexFromVisualIndex(g),col:s.columnAxisSyncer.getHfIndexFromVisualIndex(M),sheet:s.sheetId};null!==C&&null!==L?s.syncChangeWithEngine(g,M,w):a.push([g,M,w]),u.push({address:H})})});a.length&&this.hot.addHookOnce("afterChange",function(){var f=s.engine.batch(function(){a.forEach(function(p){var g=aE(p,3);s.syncChangeWithEngine(g[0],g[1],g[2])})});s.renderDependentSheets(f,!0)}),this.renderDependentSheets(c),this.validateDependentCells(c,u)}}},{key:"onAfterSetSourceDataAtCell",value:function(i,o){var s=this;if(!cE(o)){var a=[],u=[];i.forEach(function(c){var f=aE(c,4),p=f[0],v=f[3],w=s.hot.propToCol(f[1]);if(kc(w)){var M={row:s.rowAxisSyncer.getHfIndexFromVisualIndex(p),col:s.columnAxisSyncer.getHfIndexFromVisualIndex(w),sheet:s.sheetId};if(!s.engine.isItPossibleToSetCellContents(M))return void cs("Not possible to set source cell data at ".concat(JSON.stringify(M)));u.push({address:M}),a.push.apply(a,function Nlt(n){return function Blt(n){if(Array.isArray(n))return v9(n)}(n)||function Hlt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||ape(n)||function Flt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.engine.setCellContents(M,v)))}}),this.renderDependentSheets(a),this.validateDependentCells(a,u)}}},{key:"onBeforeCreateRow",value:function(i,o){var s=this.rowAxisSyncer.getHfIndexFromVisualIndex(i);if(i>=this.hot.countRows()&&(s=i),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[s,o]))return!1}},{key:"onBeforeCreateCol",value:function(i,o){var s=this.columnAxisSyncer.getHfIndexFromVisualIndex(i);if(i>=this.hot.countCols()&&(s=i),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[s,o]))return!1}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this;return!1!==this.rowAxisSyncer.setRemovedHfIndexes(s).every(function(f){return a.engine.isItPossibleToRemoveRows(a.sheetId,[f,1])})&&void 0}},{key:"onBeforeRemoveCol",value:function(i,o,s){var a=this;return!1!==this.columnAxisSyncer.setRemovedHfIndexes(s).every(function(f){return a.engine.isItPossibleToRemoveColumns(a.sheetId,[f,1])})&&void 0}},{key:"onAfterCreateRow",value:function(i,o,s){if(!cE(s)){var a=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterCreateCol",value:function(i,o,s){if(!cE(s)){var a=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(i),o]);this.renderDependentSheets(a)}}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(!cE(a)){var c=this.rowAxisSyncer.getRemovedHfIndexes().sort().reverse(),f=this.engine.batch(function(){c.forEach(function(p){u.engine.removeRows(u.sheetId,[p,1])})});this.renderDependentSheets(f)}}},{key:"onAfterRemoveCol",value:function(i,o,s,a){var u=this;if(!cE(a)){var c=this.columnAxisSyncer.getRemovedHfIndexes().sort().reverse(),f=this.engine.batch(function(){c.forEach(function(p){u.engine.removeColumns(u.sheetId,[p,1])})});this.renderDependentSheets(f)}}},{key:"onAfterDetachChild",value:function(i,o,s){var a,u=this;Vv(this,fg,!0);var c=this.hot.getSourceDataArray(s,0,s+((null===(a=o.__children)||void 0===a?void 0:a.length)||0),this.hot.countSourceCols());Vv(this,fg,!1),c.forEach(function(f,p){f.forEach(function(g,v){u.engine.setCellContents({col:v,row:s+p,sheet:u.sheetId},[[g]])})})}},{key:"onEngineValuesUpdated",value:function(i){this.hot.runHooks("afterFormulasValuesUpdate",i)}},{key:"onEngineNamedExpressionsAdded",value:function(i,o){this.hot.runHooks("afterNamedExpressionAdded",i,o)}},{key:"onEngineNamedExpressionsRemoved",value:function(i,o){this.hot.runHooks("afterNamedExpressionRemoved",i,o)}},{key:"onEngineSheetAdded",value:function(i){this.hot.runHooks("afterSheetAdded",i)}},{key:"onEngineSheetRenamed",value:function(i,o){this.hot.runHooks("afterSheetRenamed",i,o)}},{key:"onEngineSheetRemoved",value:function(i,o){this.hot.runHooks("afterSheetRemoved",i,o)}}],[{key:"PLUGIN_KEY",get:function(){return Su}},{key:"PLUGIN_PRIORITY",get:function(){return 260}},{key:"SETTING_KEYS",get:function(){return[Su].concat(eut)}}]),t}(rs);function dpe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function s3(n){return function fut(n){if(Array.isArray(n))return S9(n)}(n)||function dut(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function cut(n,e){if(n){if("string"==typeof n)return S9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S9(n,e)}}(n)||function uut(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S9(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function dE(n){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function put(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,gut(r.key),r)}}function gut(n){var e=function yut(n,e){if("object"!==dE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===dE(e)?e:String(e)}function Yw(){return Yw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=vut(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Yw.apply(this,arguments)}function vut(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=hg(n)););return n}function M9(n,e){return(M9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function wut(n,e){if(e&&("object"===dE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x9(n)}function x9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hg(n){return(hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function hpe(n,e,t){(function Mut(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Cd(n,e){return function xut(n,e){return e.get?e.get.call(n):e.value}(n,ppe(n,e,"get"))}function YO(n,e,t){return function Cut(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,ppe(n,e,"set"),t),t}function ppe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}Tr.getSingleton().register("beforeHideColumns"),Tr.getSingleton().register("afterHideColumns"),Tr.getSingleton().register("beforeUnhideColumns"),Tr.getSingleton().register("afterUnhideColumns");var C9="hiddenColumns",Mp=new WeakMap,xp=new WeakMap,Tut=function(n){!function _ut(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&M9(n,e)}(t,n);var e=function but(n){var e=function Sut(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=hg(n);if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wut(this,i)}}(t);function t(){var r;put(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return hpe(x9(r=e.call.apply(e,[this].concat(o))),Mp,{writable:!0,value:{}}),hpe(x9(r),xp,{writable:!0,value:null}),r}return function mut(n,e,t){e&&fpe(n.prototype,e),t&&fpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[C9]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[C9];to(o)&&(YO(this,Mp,o),Ms(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),YO(this,xp,new oF),Cd(this,xp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,Cd(this,xp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyColWidth",function(s,a){return i.onModifyColWidth(s,a)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),Yw(hg(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Yw(hg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),YO(this,Mp,{}),Yw(hg(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s,c=Cd(this,xp).getValues().slice(),f=i.length>0;a&&f&&(ut(i.map(function(v){return o.hot.toPhysicalColumn(v)}),function(v){c[v]=!1}),u=Za(c,function(v,w,M){return w&&v.push(o.hot.toVisualColumn(M)),v},[])),!1!==this.hot.runHooks("beforeUnhideColumns",s,u,a&&f)&&(a&&f&&Cd(this,xp).setValues(c),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",s,u,a&&f,a&&u.length<s.length))}},{key:"showColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showColumns(o)}},{key:"hideColumns",value:function(i){var o=this,s=this.getHiddenColumns(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideColumns",s,u,a)&&(a&&this.hot.batchExecution(function(){ut(i,function(f){Cd(o,xp).setValueAtIndex(o.hot.toPhysicalColumn(f),!0)})},!0),this.hot.runHooks("afterHideColumns",s,u,a,a&&u.length>s.length))}},{key:"hideColumn",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideColumns(o)}},{key:"getHiddenColumns",value:function(){var i=this;return eo(Cd(this,xp).getHiddenIndexes(),function(o){return i.hot.toVisualColumn(o)})}},{key:"isHidden",value:function(i){return Cd(this,xp).getValueAtIndex(this.hot.toPhysicalColumn(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countCols();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){ut(this.hot.getCellsMeta(),function(i){i&&(i.skipColumnOnPaste=!1)})}},{key:"onModifyColWidth",value:function(i,o){return this.isHidden(o)?0:Cd(this,Mp).indicators&&(this.isHidden(o+1)||this.isHidden(o-1))&&"number"==typeof i&&this.hot.hasColHeaders()?i+15:void 0}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===Cd(this,Mp).copyPasteEnabled&&this.isHidden(o)&&(s.skipColumnOnPaste=!0),this.isHidden(o-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenColumn")&&(s.className+=" afterHiddenColumn");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenColumn");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(Cd(this,Mp).copyPasteEnabled)return i;var s=[],a=function(c,f,p,g){s.push({startRow:c,endRow:f,startCol:p,endCol:g})};return ut(i,function(u){var c=!0,f=0;jr(u.startCol,u.endCol,function(p){o.isHidden(p)?(c||a(u.startRow,u.endRow,f,p-1),c=!0):(c&&(f=p),p===u.endCol&&a(u.startRow,u.endRow,f,p),c=!1)})}),s}},{key:"onAfterGetColHeader",value:function(i,o){if(Cd(this,Mp).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenColumn"),i<this.hot.countCols()-1&&this.isHidden(i+1)&&s.push("beforeHiddenColumn"),Dn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:ro},function lut(n){return{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function rut(n,e){return function aut(n){if(Array.isArray(n))return n}(n)||function sut(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function out(n,e){if(n){if("string"==typeof n)return dpe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dpe(n,e)}}(n,e)||function iut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4);i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(gG,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.col,i.col),0),s=Math.max(r.col,i.col),a=[],u=o;u<=s;u+=1)a.push(u);n.hideColumns(a);var f=this.columnIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(f)&&f>=0?this.selectColumns(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}(this),function hut(n){var e=[];return{key:"hidden_columns_show",name:function(){return this.getTranslatedPhrase(yG,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countCols()-1,n.showColumns(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countCols()||this.selectColumns(o,s)}},disabled:!1,hidden:function(){var r=this,i=eo(n.getHiddenColumns(),function(H){return r.toPhysicalColumn(H)});if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().col,a=o.getBottomEndCorner().col,u=this.columnIndexMapper,c=u.getRenderableFromVisualIndex(s),f=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>f-c+1){var M=p.slice(s,a+1);g.push.apply(g,s3(M.filter(function(H){return i.includes(H)})))}}else if(0===c&&c<s)g.push.apply(g,s3(p.slice(0,s)));else if(null===c)g.push.apply(g,s3(p.slice(0,this.countCols())));else{var C=this.countCols()-1;f===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,s3(p.slice(a+1)))}return ut(g,function(H){e.push(r.toVisualColumn(H))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(Cd(this,Mp).columns)&&this.hideColumns(Cd(this,Mp).columns)}},{key:"destroy",value:function(){YO(this,Mp,null),YO(this,xp,null),Yw(hg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return C9}},{key:"PLUGIN_PRIORITY",get:function(){return 310}}]),t}(rs);function mpe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a3(n){return function Fut(n){if(Array.isArray(n))return E9(n)}(n)||function Nut(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Iut(n,e){if(n){if("string"==typeof n)return E9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E9(n,e)}}(n)||function Lut(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E9(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fE(n){return(fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function But(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,zut(r.key),r)}}function zut(n){var e=function jut(n,e){if("object"!==fE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==fE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===fE(e)?e:String(e)}function Gw(){return Gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Uut(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Gw.apply(this,arguments)}function Uut(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=pg(n)););return n}function T9(n,e){return(T9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Gut(n,e){if(e&&("object"===fE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R9(n)}function R9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pg(n){return(pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function ype(n,e,t){(function Kut(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function gf(n,e){return function Xut(n,e){return e.get?e.get.call(n):e.value}(n,vpe(n,e,"get"))}function GO(n,e,t){return function Zut(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,vpe(n,e,"set"),t),t}function vpe(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}Tr.getSingleton().register("beforeHideRows"),Tr.getSingleton().register("afterHideRows"),Tr.getSingleton().register("beforeUnhideRows"),Tr.getSingleton().register("afterUnhideRows");var D9="hiddenRows",mg=new WeakMap,Cp=new WeakMap,Jut=function(n){!function Wut(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T9(n,e)}(t,n);var e=function Yut(n){var e=function $ut(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=pg(n);if(e){var o=pg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gut(this,i)}}(t);function t(){var r;But(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ype(R9(r=e.call.apply(e,[this].concat(o))),mg,{writable:!0,value:{}}),ype(R9(r),Cp,{writable:!0,value:null}),r}return function Vut(n,e,t){e&&gpe(n.prototype,e),t&&gpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[D9]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[D9];to(o)&&(GO(this,mg,o),Ms(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),GO(this,Cp,new oF),gf(this,Cp).addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,gf(this,Cp)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(s,a,u){return i.onAfterGetCellMeta(s,a,u)}),this.addHook("modifyRowHeight",function(s,a){return i.onModifyRowHeight(s,a)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(s){return i.onModifyCopyableRange(s)}),Gw(pg(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Gw(pg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),GO(this,mg,{}),Gw(pg(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s,c=gf(this,Cp).getValues().slice(),f=i.length>0;a&&f&&(ut(i.map(function(v){return o.hot.toPhysicalRow(v)}),function(v){c[v]=!1}),u=Za(c,function(v,w,M){return w&&v.push(o.hot.toVisualRow(M)),v},[])),!1!==this.hot.runHooks("beforeUnhideRows",s,u,a&&f)&&(a&&f&&gf(this,Cp).setValues(c),this.hot.runHooks("afterUnhideRows",s,u,a&&f,a&&u.length<s.length))}},{key:"showRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.showRows(o)}},{key:"hideRows",value:function(i){var o=this,s=this.getHiddenRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeHideRows",s,u,a)&&(a&&this.hot.batchExecution(function(){ut(i,function(f){gf(o,Cp).setValueAtIndex(o.hot.toPhysicalRow(f),!0)})},!0),this.hot.runHooks("afterHideRows",s,u,a,a&&u.length>s.length))}},{key:"hideRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.hideRows(o)}},{key:"getHiddenRows",value:function(){var i=this;return eo(gf(this,Cp).getHiddenIndexes(),function(o){return i.hot.toVisualRow(o)})}},{key:"isHidden",value:function(i){return gf(this,Cp).getValueAtIndex(this.hot.toPhysicalRow(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countRows();return!!(Array.isArray(i)&&i.length>0)&&i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"resetCellsMeta",value:function(){ut(this.hot.getCellsMeta(),function(i){i&&(i.skipRowOnPaste=!1)})}},{key:"onModifyRowHeight",value:function(i,o){return this.isHidden(o)?0:i}},{key:"onAfterGetCellMeta",value:function(i,o,s){if(!1===gf(this,mg).copyPasteEnabled&&this.isHidden(i)&&(s.skipRowOnPaste=!0),this.isHidden(i-1))s.className=s.className||"",-1===s.className.indexOf("afterHiddenRow")&&(s.className+=" afterHiddenRow");else if(s.className){var a=s.className.split(" ");if(a.length>0){var u=a.indexOf("afterHiddenRow");u>-1&&a.splice(u,1),s.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(gf(this,mg).copyPasteEnabled)return i;var s=[],a=function(c,f,p,g){s.push({startRow:c,endRow:f,startCol:p,endCol:g})};return ut(i,function(u){var c=!0,f=0;jr(u.startRow,u.endRow,function(p){o.isHidden(p)?(c||a(f,p-1,u.startCol,u.endCol),c=!0):(c&&(f=p),p===u.endRow&&a(f,p,u.startCol,u.endCol),c=!1)})}),s}},{key:"onAfterGetRowHeader",value:function(i,o){if(gf(this,mg).indicators&&!(i<0)){var s=[];i>=1&&this.isHidden(i-1)&&s.push("afterHiddenRow"),i<this.hot.countRows()-1&&this.isHidden(i+1)&&s.push("beforeHiddenRow"),Dn(o,s)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:ro},function Put(n){return{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=function Rut(n,e){return function kut(n){if(Array.isArray(n))return n}(n)||function Out(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Aut(n,e){if(n){if("string"==typeof n)return mpe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mpe(n,e)}}(n,e)||function Dut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3);i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(vG,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.row,i.row),0),s=Math.max(r.row,i.row),a=[],u=o;u<=s;u+=1)a.push(u);n.hideRows(a);var f=this.rowIndexMapper.getNearestNotHiddenIndex(a[a.length-1],1,!0);Number.isInteger(f)&&f>=0?this.selectRows(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}(this),function Hut(n){var e=[];return{key:"hidden_rows_show",name:function(){return this.getTranslatedPhrase(_G,e.length>1?1:0)},callback:function(){var r,i;if(0!==e.length){var o=e[0],s=e[e.length-1];o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))&&void 0!==r?r:0,s=null!==(i=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))&&void 0!==i?i:this.countRows()-1,n.showRows(e),this.render(),this.view.adjustElementsSize(!0),s-o+1===this.countRows()||this.selectRows(o,s)}},disabled:!1,hidden:function(){var r=this,i=eo(n.getHiddenRows(),function(H){return r.toPhysicalRow(H)});if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||i.length<1)return!0;e.length=0;var o=this.getSelectedRangeLast(),s=o.getTopStartCorner().row,a=o.getBottomEndCorner().row,u=this.rowIndexMapper,c=u.getRenderableFromVisualIndex(s),f=u.getRenderableFromVisualIndex(a),p=u.getNotTrimmedIndexes(),g=[];if(s!==a){if(a-s+1>f-c+1){var M=p.slice(s,a+1);g.push.apply(g,a3(M.filter(function(H){return i.includes(H)})))}}else if(0===c&&c<s)g.push.apply(g,a3(p.slice(0,s)));else if(null===c)g.push.apply(g,a3(p.slice(0,this.countRows())));else{var C=this.countRows()-1;f===u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(C,-1))&&C>a&&g.push.apply(g,a3(p.slice(a+1)))}return ut(g,function(H){e.push(r.toVisualRow(H))}),0===e.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(gf(this,mg).rows)&&this.hideRows(gf(this,mg).rows)}},{key:"destroy",value:function(){GO(this,mg,null),GO(this,Cp,null),Gw(pg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return D9}},{key:"PLUGIN_PRIORITY",get:function(){return 320}}]),t}(rs);function _pe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bpe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function hE(n){return(hE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hct(r.key),r)}}function hct(n){var e=function pct(n,e){if("object"!==hE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==hE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===hE(e)?e:String(e)}function pE(){return pE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=mct(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pE.apply(this,arguments)}function mct(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=zv(n)););return n}function A9(n,e){return(A9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vct(n,e){if(e&&("object"===hE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Spe(n)}function Spe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zv(n){return(zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("beforeColumnFreeze"),Tr.getSingleton().register("afterColumnFreeze"),Tr.getSingleton().register("beforeColumnUnfreeze"),Tr.getSingleton().register("afterColumnUnfreeze");var Mpe="manualColumnFreeze",$O=new WeakMap,wct=function(n){!function gct(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A9(n,e)}(t,n);var e=function yct(n){var e=function _ct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=zv(n);if(e){var o=zv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vct(this,i)}}(t);function t(r){var i;return function dct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),$O.set(Spe(i),{afterFirstUse:!1}),i}return function fct(n,e,t){e&&wpe(n.prototype,e),t&&wpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Mpe]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.addContextMenuEntry(o)}),this.addHook("beforeColumnMove",function(o,s){return i.onBeforeColumnMove(o,s)}),pE(zv(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){$O.get(this).afterFirstUse=!1,pE(zv(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),pE(zv(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(i){var o=$O.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart<this.hot.countCols()&&i>s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnFreeze",i,a)&&(a&&(this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart),s._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",i,a))}},{key:"unfreezeColumn",value:function(i){var o=$O.get(this),s=this.hot.getSettings(),a=s.fixedColumnsStart>0&&i<=s.fixedColumnsStart-1;o.afterFirstUse||(o.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnUnfreeze",i,a)&&(a&&(s._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(i,s.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",i,a))}},{key:"addContextMenuEntry",value:function(i){i.items.push({name:"---------"},function ict(n){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(GY)},callback:function(t,r){var i=function Qut(n,e){return function rct(n){if(Array.isArray(n))return n}(n)||function nct(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function tct(n,e){if(n){if("string"==typeof n)return _pe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _pe(n,e)}}(n,e)||function ect(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.freezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}(this),function cct(n){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase($Y)},callback:function(t,r){var i=function oct(n,e){return function uct(n){if(Array.isArray(n))return n}(n)||function lct(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function act(n,e){if(n){if("string"==typeof n)return bpe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bpe(n,e)}}(n,e)||function sct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1);n.unfreezeColumn(i[0].start.col),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}(this))}},{key:"onBeforeColumnMove",value:function(i,o){if($O.get(this).afterFirstUse){var a=this.hot.getSettings().fixedColumnsStart;if(o<a||i.some(function(u){return u<a}))return!1}}}],[{key:"PLUGIN_KEY",get:function(){return Mpe}},{key:"PLUGIN_PRIORITY",get:function(){return 110}}]),t}(rs);function KO(n){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function xpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,xct(r.key),r)}}function xct(n){var e=function Cct(n,e){if("object"!==KO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==KO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===KO(e)?e:String(e)}var mE="px";const Tpe=function(){function n(e){(function Sct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0,this.inlineProperty=e.isRtl()?"right":"left"}return function Mct(n,e,t){e&&xpe(n.prototype,e),t&&xpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){kc(t)&&(this._element.style.top=t+mE),kc(r)&&(this._element.style[this.inlineProperty]=r+mE)}},{key:"getPosition",value:function(){var t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}},{key:"setSize",value:function(t,r){kc(t)&&(this._element.style.width=t+mE),kc(r)&&(this._element.style.height=r+mE)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){kc(t)&&(this._element.style.marginTop=t+mE),kc(r)&&(this._element.style["margin".concat(fh(this.inlineProperty))]=r+mE)}},{key:"getOffset",value:function(){var t=this._element.style,r="margin".concat(fh(this.inlineProperty));return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}}]),n}();function gE(n){return(gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Tct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Dct(r.key),r)}}function Dct(n){var e=function Act(n,e){if("object"!==gE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==gE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===gE(e)?e:String(e)}function l3(){return l3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Oct(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},l3.apply(this,arguments)}function Oct(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=yE(n)););return n}function k9(n,e){return(k9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Lct(n,e){if(e&&("object"===gE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ict(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function yE(n){return(yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Bct=function(n){!function kct(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k9(n,e)}(t,n);var e=function Pct(n){var e=function Nct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yE(n);if(e){var o=yE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Lct(this,i)}}(t);function t(){return Tct(this,t),e.apply(this,arguments)}return function Rct(n,e,t){e&&Rpe(n.prototype,e),t&&Rpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){l3(yE(t.prototype),"build",this).call(this),Dn(this._element,"ht__manualColumnMove--backlight")}}]),t}(Tpe);function vE(n){return(vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Vct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jct(r.key),r)}}function jct(n){var e=function Uct(n,e){if("object"!==vE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==vE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===vE(e)?e:String(e)}function u3(){return u3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Wct(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},u3.apply(this,arguments)}function Wct(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=_E(n)););return n}function P9(n,e){return(P9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $ct(n,e){if(e&&("object"===vE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Kct(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function _E(n){return(_E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Jct=function(n){!function Yct(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&P9(n,e)}(t,n);var e=function Gct(n){var e=function Xct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=_E(n);if(e){var o=_E(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $ct(this,i)}}(t);function t(){return Vct(this,t),e.apply(this,arguments)}return function zct(n,e,t){e&&Dpe(n.prototype,e),t&&Dpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){u3(_E(t.prototype),"build",this).call(this),Dn(this._element,"ht__manualColumnMove--guideline")}}]),t}(Tpe);function bE(n){return(bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ape(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tdt(r.key),r)}}function tdt(n){var e=function ndt(n,e){if("object"!==bE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==bE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===bE(e)?e:String(e)}function $w(){return $w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=rdt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},$w.apply(this,arguments)}function rdt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=gg(n)););return n}function L9(n,e){return(L9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function sdt(n,e){if(e&&("object"===bE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return I9(n)}function I9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gg(n){return(gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("beforeColumnMove"),Tr.getSingleton().register("afterColumnMove");var N9="manualColumnMove",jv=new WeakMap,Ope="ht__manualColumnMove",c3="show-ui",F9="on-moving--columns",H9="after-selection--columns",udt=function(n){!function idt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&L9(n,e)}(t,n);var e=function odt(n){var e=function adt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=gg(n);if(e){var o=gg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sdt(this,i)}}(t);function t(r){var i;return function Qct(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),jv.set(I9(i),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),i.eventManager=new ea(I9(i)),i.backlight=new Bct(r),i.guideline=new Jct(r),i}return function edt(n,e,t){e&&Ape(n.prototype,e),t&&Ape(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[N9]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollVertically",function(){return i.onAfterScrollVertically()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Dn(this.hot.rootElement,Ope),$w(gg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),$w(gg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Bi(this.hot.rootElement,Ope),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),$w(gg(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(i,o){return this.moveColumns([i],o)}},{key:"moveColumns",value:function(i,o){var s=jv.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeColumnMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.columnIndexMapper.moveIndexes(i,o);var f=u&&this.isColumnOrderChanged(i,o);return this.hot.runHooks("afterColumnMove",i,o,a,u,f),f}}},{key:"dragColumn",value:function(i,o){return this.dragColumns([i],o)}},{key:"dragColumns",value:function(i,o){var s=this.countFinalIndex(i,o);return jv.get(this).cachedDropIndex=o,this.moveColumns(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),f=i.some(function(p){return p>=s});return!(a||u||c||f)}},{key:"isColumnOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Za(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getColumnsWidth",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=0,u=i;u<=o;u+=1){var c=s.getRenderableFromVisualIndex(u);u<0?a+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==c&&(a+=this.hot.view._wt.wtTable.getStretchedColumnWidth(c)||0)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[N9];if(Array.isArray(i))this.moveColumns(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveColumns(o,0)}}},{key:"isFixedColumnsStart",value:function(i){return i<this.hot.getSettings().fixedColumnsStart}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",i),i.value?i.value:[]}},{key:"prepareColumnsToMoving",value:function(i,o){var s=[];return jr(i,o,function(a){s.push(a)}),s}},{key:"refreshPositions",value:function(){var i=jv.get(this),o=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(i.hoveredColumn)&&o>0&&this.hot.scrollViewportTo(void 0,this.hot.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1));var s=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtOverlays.scrollableElement,u="number"==typeof a.scrollX?a.scrollX:a.scrollLeft,c=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,i.hoveredColumn-1),f=s.hider.offsetWidth,p=s.TBODY.offsetLeft,g=this.backlight.getOffset().start,v=this.backlight.getSize().width,w=0,M=0;if(this.hot.isRtl()){var C=this.hot.rootWindow,L=vs(this.hot.rootElement);M=C.innerWidth-i.target.eventPageX-(C.innerWidth-i.rootElementOffset-L)-(void 0===a.scrollX?u:0)}else M=i.target.eventPageX-(i.rootElementOffset-(void 0===a.scrollX?u:0));i.hasRowHeaders&&(w=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(i.hoveredColumn)&&(c+=u),c+=w,i.hoveredColumn<0?i.target.col=i.fixedColumnsStart>0?0:o>0?o-1:o:i.target.TD.offsetWidth/2+c<=M?(i.target.col=(i.hoveredColumn>=i.countCols?i.countCols-1:i.hoveredColumn)+1,c+=i.target.TD.offsetWidth):i.target.col=i.hoveredColumn;var z=M,X=c;M+v+g>=f?z=f-v-g:M+g<p+w&&(z=p+w+Math.abs(g)),c>=f-1?X=f-1:0===X?X=1:void 0!==a.scrollX&&i.hoveredColumn<i.fixedColumnsStart&&(X-=i.rootElementOffset<=a.scrollX?i.rootElementOffset:0),this.backlight.setPosition(null,z),this.guideline.setPosition(null,X)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt.wtTable,c=this.hot.selection.isSelectedByColumnHeader(),f=this.hot.getSelectedRangeLast(),p=jv.get(this),g=Ai(i.target,"sortAction");if(!f||!c||p.pressed||0!==i.button||g)return p.pressed=!1,p.columnsToMove.length=0,void Bi(this.hot.rootElement,[F9,c3]);var v=this.guideline.isBuilt()&&!this.guideline.isAppended(),w=this.backlight.isBuilt()&&!this.backlight.isAppended();v&&w&&(this.guideline.appendTo(u.hider),this.backlight.appendTo(u.hider));var M=f.from,C=f.to,L=Math.min(M.col,C.col),H=Math.max(M.col,C.col);if(o.row<0&&o.col>=L&&o.col<=H){a.column=!0,p.pressed=!0,p.target.eventPageX=i.pageX,p.target.eventOffsetX=i.offsetX,p.hoveredColumn=o.col,p.target.TD=s,p.target.col=o.col,p.columnsToMove=this.prepareColumnsToMoving(L,H),p.hasRowHeaders=!!this.hot.getSettings().rowHeaders,p.countCols=this.hot.countCols(),p.fixedColumnsStart=this.hot.getSettings().fixedColumnsStart,p.rootElementOffset=Ja(this.hot.rootElement).left;var V=p.hasRowHeaders?-1:0,z=u.holder.scrollTop+u.getColumnHeaderHeight(0)+1,X=o.col<p.fixedColumnsStart,re=Math.abs(this.hot.view._wt.wtOverlays.inlineStartOverlay.getScrollPosition()),me=Math.abs(i.offsetX-(this.hot.isRtl()?i.target.offsetWidth:0)),ne=this.getColumnsWidth(L,o.col-1)+me,pe=this.getColumnsWidth(V,L-1)+(X?re:0)+ne;this.backlight.setPosition(z,pe),this.backlight.setSize(this.getColumnsWidth(L,H),u.hider.offsetHeight-z),this.backlight.setOffset(null,-ne),Dn(this.hot.rootElement,F9)}else Bi(this.hot.rootElement,H9),p.pressed=!1,p.columnsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=jv.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(s)})}o.target.eventPageX=i.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=jv.get(this);!u||!c.pressed||(c.columnsToMove.indexOf(o.col)>-1?Bi(this.hot.rootElement,c3):Dn(this.hot.rootElement,c3),a.row=!0,a.column=!0,a.cell=!0,c.hoveredColumn=o.col,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=jv.get(this),o=i.target.col,s=i.columnsToMove.length;if(i.hoveredColumn=void 0,i.pressed=!1,i.backlightWidth=0,Bi(this.hot.rootElement,[F9,c3,H9]),this.hot.selection.isSelectedByColumnHeader()&&Dn(this.hot.rootElement,H9),!(s<1||void 0===o)){var u=this.hot.toPhysicalColumn(i.columnsToMove[0]),c=this.dragColumns(i.columnsToMove,o);if(i.columnsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var f=this.hot.toVisualColumn(u);this.hot.selectColumns(f,f+s-1)}}}},{key:"onAfterScrollVertically",value:function(){var i=this.hot.view._wt.wtTable,a=i.getColumnHeaderHeight(0)+1+i.holder.scrollTop;this.backlight.setPosition(a),this.backlight.setSize(null,i.hider.offsetHeight-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),$w(gg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return N9}},{key:"PLUGIN_PRIORITY",get:function(){return 120}}]),t}(rs);function wE(n){return(wE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,fdt(r.key),r)}}function fdt(n){var e=function hdt(n,e){if("object"!==wE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==wE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===wE(e)?e:String(e)}function Kw(){return Kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=pdt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Kw.apply(this,arguments)}function pdt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=yg(n)););return n}function B9(n,e){return(B9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function ydt(n,e){if(e&&("object"===wE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V9(n)}function V9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yg(n){return(yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var d3="manualColumnResize",Ppe="manualColumnWidths",z9=new WeakMap,bdt=function(n){!function mdt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&B9(n,e)}(t,n);var e=function gdt(n){var e=function vdt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=yg(n);if(e){var o=yg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ydt(this,i)}}(t);function t(r){var i;!function cdt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentCol=null,i.selectedCols=[],i.currentWidth=null,i.newSize=null,i.startY=null,i.startWidth=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ea(V9(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.columnWidthsMap=void 0,z9.set(V9(i),{config:void 0}),Dn(i.handle,"manualColumnResizer"),Dn(i.guide,"manualColumnResizerGuide"),i}return function ddt(n,e,t){e&&kpe(n.prototype,e),t&&kpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[d3]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnWidthsMap=new yv,this.columnWidthsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",function(o,s){return i.onModifyColWidth(o,s)}),this.addHook("beforeStretchingColumnWidth",function(o,s){return i.onBeforeStretchingColumnWidth(o,s)}),this.addHook("beforeColumnResize",function(o,s,a){return i.onBeforeColumnResize(o,s,a)}),this.bindEvents(),Kw(yg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Kw(yg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){z9.get(this).config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),Kw(yg(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",Ppe,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Ppe,i),i.value}},{key:"setManualSize",value:function(i,o){var s=Math.max(o,20),a=this.hot.toPhysicalColumn(i);return this.columnWidthsMap.setValueAtIndex(a,s),s}},{key:"clearManualSize",value:function(i){var o=this.hot.toPhysicalColumn(i);this.columnWidthsMap.setValueAtIndex(o,null)}},{key:"onMapInit",value:function(){var i=this,o=z9.get(this),s=this.hot.getSettings()[d3],a=this.loadManualColumnWidths();void 0!==a?this.hot.batchExecution(function(){a.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0):Array.isArray(s)?(this.hot.batchExecution(function(){s.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0),o.config=s):!0===s&&Array.isArray(o.config)&&this.hot.batchExecution(function(){o.config.forEach(function(u,c){i.columnWidthsMap.setValueAtIndex(c,u)})},!0)}},{key:"setupHandlePosition",value:function(i){var o=this;if(i.parentNode){this.currentTH=i;var s=this.hot.view._wt,a=s.wtTable.getCoords(this.currentTH),u=a.col;if(!(u<0)){var g,c=Qs(this.currentTH),f=this.currentTH.getBoundingClientRect();u<s.getSetting("fixedColumnsStart")&&(g=s.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),g||(g=s.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,a.row,a.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(u),this.selectedCols=[];var v=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();this.hot.selection.isSelected()&&v&&ut(this.hot.getSelectedRange(),function(M){jr(M.getTopStartCorner().col,M.getBottomEndCorner().col,function(H){o.selectedCols.includes(H)||o.selectedCols.push(H)})}),this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=g.start-6,this.startWidth=parseInt(f.width,10),this.handle.style.top="".concat(g.top,"px"),this.handle.style[this.inlineDir]="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(c,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style[this.inlineDir]="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(Qs(this.handle),10),o=parseInt(this.handle.style.top,10)+i,s=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Dn(this.handle,"active"),Dn(this.guide,"active"),this.guide.style.top="".concat(o,"px"),this.refreshGuidePosition(),this.guide.style.height="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style[this.inlineDir]=this.handle.style[this.inlineDir]}},{key:"hideHandleAndGuide",value:function(){Bi(this.handle,"active"),Bi(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(i){return!!Zb(i,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"onMouseOver",value:function(i){if(!nre(i.target)&&this.checkIfColumnHeader(i.target)){var o=this.getClosestTHParent(i.target);if(!o)return;var s=o.getAttribute("colspan");o&&(null===s||"1"===s)&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){var p=i.hot.runHooks("beforeColumnResize",i.newSize,c,!0);void 0!==p&&(i.newSize=p),"all"===i.hot.getSettings().stretchH?i.clearManualSize(c):i.setManualSize(c,i.newSize),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!0),f&&o()};this.dblclick>=2&&(this.selectedCols.length>1?(ut(this.selectedCols,function(u){s(u)}),o()):ut(this.selectedCols,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ai(i.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=i.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(i){var o=this;if(this.pressed){var s=(i.pageX-this.startX)*this.hot.getDirectionFactor();this.currentWidth=this.startWidth+s,ut(this.selectedCols,function(a){o.newSize=o.setManualSize(a,o.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition()}}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){i.hot.runHooks("beforeColumnResize",i.newSize,c,!1),f&&o(),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth&&(this.selectedCols.length>1?(ut(this.selectedCols,function(u){s(u)}),o()):ut(this.selectedCols,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootWindow,a=o.rootElement;this.eventManager.addEventListener(a,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(a,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(s,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(s,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyColWidth",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalColumn(o),u=this.columnWidthsMap.getValueAtIndex(a);this.hot.getSettings()[d3]&&u&&(s=u)}return s}},{key:"onBeforeStretchingColumnWidth",value:function(i,o){var s=this.columnWidthsMap.getValueAtIndex(o);return null===s&&(s=i),s}},{key:"onBeforeColumnResize",value:function(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){Kw(yg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return d3}},{key:"PLUGIN_PRIORITY",get:function(){return 130}}]),t}(rs);function XO(n){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Lpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Mdt(r.key),r)}}function Mdt(n){var e=function xdt(n,e){if("object"!==XO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==XO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===XO(e)?e:String(e)}var SE="px";const Fpe=function(){function n(e){(function wdt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=e,this._element=null,this.state=0}return function Sdt(n,e,t){e&&Lpe(n.prototype,e),t&&Lpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,r){void 0!==t&&(this._element.style.top=t+SE),void 0!==r&&(this._element.style.left=r+SE)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){t&&(this._element.style.width=t+SE),r&&(this._element.style.height=r+SE)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){t&&(this._element.style.marginTop=t+SE),r&&(this._element.style.marginLeft=r+SE)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),n}();function ME(n){return(ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Edt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Hpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Rdt(r.key),r)}}function Rdt(n){var e=function Ddt(n,e){if("object"!==ME(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ME(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ME(e)?e:String(e)}function f3(){return f3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Adt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},f3.apply(this,arguments)}function Adt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xE(n)););return n}function U9(n,e){return(U9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Pdt(n,e){if(e&&("object"===ME(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ldt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function xE(n){return(xE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const Hdt=function(n){!function Odt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&U9(n,e)}(t,n);var e=function kdt(n){var e=function Idt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xE(n);if(e){var o=xE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pdt(this,i)}}(t);function t(){return Edt(this,t),e.apply(this,arguments)}return function Tdt(n,e,t){e&&Hpe(n.prototype,e),t&&Hpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){f3(xE(t.prototype),"build",this).call(this),Dn(this._element,"ht__manualRowMove--backlight")}}]),t}(Fpe);function CE(n){return(CE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Bdt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,zdt(r.key),r)}}function zdt(n){var e=function jdt(n,e){if("object"!==CE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==CE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===CE(e)?e:String(e)}function h3(){return h3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Udt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h3.apply(this,arguments)}function Udt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=EE(n)););return n}function W9(n,e){return(W9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Gdt(n,e){if(e&&("object"===CE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function $dt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function EE(n){return(EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const qdt=function(n){!function Wdt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&W9(n,e)}(t,n);var e=function Ydt(n){var e=function Kdt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=EE(n);if(e){var o=EE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gdt(this,i)}}(t);function t(){return Bdt(this,t),e.apply(this,arguments)}return function Vdt(n,e,t){e&&Bpe(n.prototype,e),t&&Bpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"build",value:function(){h3(EE(t.prototype),"build",this).call(this),Dn(this._element,"ht__manualRowMove--guideline")}}]),t}(Fpe);function TE(n){return(TE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Vpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eft(r.key),r)}}function eft(n){var e=function tft(n,e){if("object"!==TE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==TE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===TE(e)?e:String(e)}function Xw(){return Xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=nft(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xw.apply(this,arguments)}function nft(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=vg(n)););return n}function Y9(n,e){return(Y9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function oft(n,e){if(e&&("object"===TE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return G9(n)}function G9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vg(n){return(vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("beforeRowMove"),Tr.getSingleton().register("afterRowMove");var $9="manualRowMove",Uv=new WeakMap,zpe="ht__manualRowMove",p3="show-ui",K9="on-moving--rows",X9="after-selection--rows",lft=function(n){!function rft(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y9(n,e)}(t,n);var e=function ift(n){var e=function sft(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=vg(n);if(e){var o=vg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oft(this,i)}}(t);function t(r){var i;return function Jdt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),Uv.set(G9(i),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),i.eventManager=new ea(G9(i)),i.backlight=new Hdt(r),i.guideline=new qdt(r),i}return function Qdt(n,e,t){e&&Vpe(n.prototype,e),t&&Vpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[$9]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollHorizontally",function(){return i.onAfterScrollHorizontally()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.buildPluginUI(),this.registerEvents(),Dn(this.hot.rootElement,zpe),Xw(vg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Xw(vg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Bi(this.hot.rootElement,zpe),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Xw(vg(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(i,o){return this.moveRows([i],o)}},{key:"moveRows",value:function(i,o){var s=Uv.get(this),a=s.cachedDropIndex,u=this.isMovePossible(i,o),c=this.hot.runHooks("beforeRowMove",i,o,a,u);if(s.cachedDropIndex=void 0,!1!==c){u&&this.hot.rowIndexMapper.moveIndexes(i,o);var f=u&&this.isRowOrderChanged(i,o);return this.hot.runHooks("afterRowMove",i,o,a,u,f),f}}},{key:"dragRow",value:function(i,o){return this.dragRows([i],o)}},{key:"dragRows",value:function(i,o){var s=this.countFinalIndex(i,o);return Uv.get(this).cachedDropIndex=o,this.moveRows(i,s)}},{key:"isMovePossible",value:function(i,o){var s=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),a=i.length+o>s,u=o<0,c=i.some(function(p){return p<0}),f=i.some(function(p){return p>=s});return!(a||u||c||f)}},{key:"isRowOrderChanged",value:function(i,o){return i.some(function(s,a){return s-a!==o})}},{key:"countFinalIndex",value:function(i,o){var s=Za(i,function(a,u){return u<o&&(a+=1),a},0);return o-s}},{key:"getRowsHeight",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=0,u=i;u<=o;u++){var c=s.getRenderableFromVisualIndex(u);null!==c&&(a+=this.hot.view._wt.wtTable.getRowHeight(c)||23)}return a}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[$9];if(Array.isArray(i))this.moveRows(i,0);else if(void 0!==i){var o=this.persistentStateLoad();o.length&&this.moveRows(o,0)}}},{key:"isFixedRowTop",value:function(i){return i<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(i){return i>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualRowMove",i),i.value?i.value:[]}},{key:"prepareRowsToMoving",value:function(){var i=this.hot.getSelectedRangeLast(),o=[];if(!i)return o;var s=i.from,a=i.to;return jr(Math.min(s.row,a.row),Math.max(s.row,a.row),function(f){o.push(f)}),o}},{key:"refreshPositions",value:function(){var i=Uv.get(this),o=i.target.coords,s=this.hot.view.getFirstFullyVisibleRow(),a=this.hot.view.getLastFullyVisibleRow(),u=this.hot.countRows();this.isFixedRowTop(o.row)&&s>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(s-1,-1)),this.isFixedRowBottom(o.row)&&a<u&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(a+1,1),void 0,!0);var c=this.hot.view._wt.wtTable,f=i.target.TD,p=this.hot.rootElement,g=Ja(p),v=sx(p),L=i.target.eventPageY-(g.top-(this.hot.rootWindow===v?v.scrollY:v.scrollTop))+c.holder.scrollTop,H=c.hider.offsetHeight,V=c.TBODY.offsetTop,z=this.backlight.getOffset().top,X=this.backlight.getSize().height,re=f.offsetHeight/2,me=f.offsetHeight,ne=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,o.row-1),pe=L>=ne+re;this.isFixedRowTop(o.row)&&(ne+=c.holder.scrollTop),o.row<0?i.target.row=s>0?s-1:s:pe?(i.target.row=o.row+1,ne+=0===o.row?me-1:me):i.target.row=o.row;var Se=L,Ie=ne;L+X+z>=H?Se=H-X-z:L+z<V&&(Se=V+Math.abs(z)),ne>=H-1&&(Ie=H-1),this.backlight.setPosition(Se),this.guideline.setPosition(Ie)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(s){return i.onMouseMove(s)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){var u=this.hot.view._wt,c=u.wtTable,f=u.wtViewport,p=this.hot.selection.isSelectedByRowHeader(),g=this.hot.getSelectedRangeLast(),v=Uv.get(this);if(!g||!p||v.pressed||0!==i.button)return v.pressed=!1,v.rowsToMove.length=0,void Bi(this.hot.rootElement,[K9,p3]);var w=this.guideline.isBuilt()&&!this.guideline.isAppended(),M=this.backlight.isBuilt()&&!this.backlight.isAppended();w&&M&&(this.guideline.appendTo(c.hider),this.backlight.appendTo(c.hider));var C=g.from,L=g.to,H=Math.min(C.row,L.row),V=Math.max(C.row,L.row);if(o.col<0&&o.row>=H&&o.row<=V){a.row=!0,v.pressed=!0,v.target.eventPageY=i.pageY,v.target.coords=o,v.target.TD=s,v.rowsToMove=this.prepareRowsToMoving();var z=c.holder.scrollLeft+f.getRowHeaderWidth();this.backlight.setPosition(null,z),this.backlight.setSize(c.hider.offsetWidth-z,this.getRowsHeight(H,V)),this.backlight.setOffset(-1*(this.getRowsHeight(H,o.row-1)+i.offsetY),null),Dn(this.hot.rootElement,K9),this.refreshPositions()}else Bi(this.hot.rootElement,X9),v.pressed=!1,v.rowsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Uv.get(this);if(o.pressed){if(i.target===this.backlight.element){var s=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,s)})}o.target.eventPageY=i.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u=this.hot.getSelectedRangeLast(),c=Uv.get(this);!u||!c.pressed||(c.rowsToMove.indexOf(o.row)>-1?Bi(this.hot.rootElement,p3):Dn(this.hot.rootElement,p3),a.row=!0,a.column=!0,a.cell=!0,c.target.coords=o,c.target.TD=s)}},{key:"onMouseUp",value:function(){var i=Uv.get(this),o=i.target.row,s=i.rowsToMove.length;if(i.pressed=!1,i.backlightHeight=0,Bi(this.hot.rootElement,[K9,p3,X9]),this.hot.selection.isSelectedByRowHeader()&&Dn(this.hot.rootElement,X9),!(s<1||void 0===o)){var u=this.hot.toPhysicalRow(i.rowsToMove[0]),c=this.dragRows(i.rowsToMove,o);if(i.rowsToMove.length=0,!0===c){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var f=this.hot.toVisualRow(u);this.hot.selectRows(f,f+s-1)}}}},{key:"onAfterScrollHorizontally",value:function(){var i=this.hot.view._wt.wtTable,a=this.hot.view._wt.wtViewport.getRowHeaderWidth()+i.holder.scrollLeft;this.backlight.setPosition(null,a),this.backlight.setSize(i.hider.offsetWidth-a)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Xw(vg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return $9}},{key:"PLUGIN_PRIORITY",get:function(){return 140}}]),t}(rs);function RE(n){return(RE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function jpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dft(r.key),r)}}function dft(n){var e=function fft(n,e){if("object"!==RE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==RE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===RE(e)?e:String(e)}function Zw(){return Zw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=hft(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Zw.apply(this,arguments)}function hft(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=_g(n)););return n}function Z9(n,e){return(Z9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function gft(n,e){if(e&&("object"===RE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return q9(n)}function q9(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _g(n){return(_g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Wpe,Ype,Gpe,$pe,m3="manualRowResize",Upe="manualRowHeights",J9=new WeakMap,_ft=function(n){!function pft(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Z9(n,e)}(t,n);var e=function mft(n){var e=function yft(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=_g(n);if(e){var o=_g(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gft(this,i)}}(t);function t(r){var i;!function uft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,r)).hot.rootDocument;return i.currentTH=null,i.currentRow=null,i.selectedRows=[],i.currentHeight=null,i.newSize=null,i.startY=null,i.startHeight=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new ea(q9(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.rowHeightsMap=void 0,J9.set(q9(i),{config:void 0}),Dn(i.handle,"manualRowResizer"),Dn(i.guide,"manualRowResizerGuide"),i}return function cft(n,e,t){e&&jpe(n.prototype,e),t&&jpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings()[m3]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.rowHeightsMap=new yv,this.rowHeightsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",function(o,s){return i.onModifyRowHeight(o,s)}),this.bindEvents(),Zw(_g(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Zw(_g(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){J9.get(this).config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),Zw(_g(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",Upe,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",Upe,i),i.value}},{key:"setManualSize",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=Math.max(o,goe.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(s,a),a}},{key:"setupHandlePosition",value:function(i){var o=this;this.currentTH=i;var s=this.hot.view,a=s._wt,u=a.wtTable.getCoords(this.currentTH),c=u.row;if(!(c<0)){var w,f=vs(this.currentTH),p=this.currentTH.getBoundingClientRect(),g=c<a.getSetting("fixedRowsTop"),v=c>=s.countNotHiddenRowIndexes(0,1)-a.getSetting("fixedRowsBottom");g?w=a.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col):v&&(w=a.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),w||(w=a.wtOverlays.inlineStartOverlay.getRelativeCellPosition(this.currentTH,u.row,u.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.selectedRows=[];var M=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();this.hot.selection.isSelected()&&M&&ut(this.hot.getSelectedRange(),function(L){jr(L.getTopStartCorner().row,L.getBottomStartCorner().row,function(z){o.selectedRows.includes(z)||o.selectedRows.push(z)})}),this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=w.top-6,this.startHeight=parseInt(p.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style[this.inlineDir]="".concat(w.start,"px"),this.handle.style.width="".concat(f,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(vs(this.handle),10),o=parseInt(this.handle.style[this.inlineDir],10)+i,s=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Dn(this.handle,"active"),Dn(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style[this.inlineDir]="".concat(o,"px"),this.guide.style.width="".concat(s-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Bi(this.handle,"active"),Bi(this.guide,"active")}},{key:"checkIfRowHeader",value:function(i){var o,s;return Zb(i,["TH"],this.hot.rootElement)&&"TBODY"===(null===(o=i.parentNode)||void 0===o||null===(s=o.parentNode)||void 0===s?void 0:s.tagName)}},{key:"getClosestTHParent",value:function(i){return"TABLE"!==i.tagName?"TH"===i.tagName?i:this.getClosestTHParent(i.parentNode):null}},{key:"getActualRowHeight",value:function(i){var o=this.hot.view._wt.wtTable.getRowHeight(i);return void 0!==o&&this.newSize<o?o:this.newSize}},{key:"onMouseOver",value:function(i){if(!nre(i.target)&&this.checkIfRowHeader(i.target)){var o=this.getClosestTHParent(i.target);o&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){var p=i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!0);void 0!==p&&(i.newSize=p),i.setManualSize(c,i.newSize),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!0),f&&o()};this.dblclick>=2&&(this.selectedRows.length>1?(ut(this.selectedRows,function(u){s(u)}),o()):ut(this.selectedRows,function(u){s(u,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;Ai(i.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=i.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentHeight=this.startHeight+(i.pageY-this.startY),ut(this.selectedRows,function(s){o.newSize=o.setManualSize(s,o.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},s=function(c,f){i.hot.runHooks("beforeRowResize",i.getActualRowHeight(c),c,!1),f&&o(),i.saveManualRowHeights(),i.hot.runHooks("afterRowResize",i.getActualRowHeight(c),c,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight&&(this.selectedRows.length>1?(ut(this.selectedRows,function(u){s(u)}),o()):ut(this.selectedRows,function(u){s(u,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var i=this,o=this.hot,s=o.rootElement,a=o.rootWindow;this.eventManager.addEventListener(s,"mouseover",function(u){return i.onMouseOver(u)}),this.eventManager.addEventListener(s,"mousedown",function(u){return i.onMouseDown(u)}),this.eventManager.addEventListener(a,"mousemove",function(u){return i.onMouseMove(u)}),this.eventManager.addEventListener(a,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyRowHeight",value:function(i,o){var s=i;if(this.enabled){var a=this.hot.toPhysicalRow(o),u=this.rowHeightsMap.getValueAtIndex(a);this.hot.getSettings()[m3]&&u&&(s=u)}return s}},{key:"onMapInit",value:function(){var i=this,o=J9.get(this),s=this.hot.getSettings()[m3],a=this.loadManualRowHeights();this.hot.batchExecution(function(){void 0!==a?a.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}):Array.isArray(s)?(s.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)}),o.config=s):!0===s&&Array.isArray(o.config)&&o.config.forEach(function(u,c){i.rowHeightsMap.setValueAtIndex(c,u)})},!0)}},{key:"destroy",value:function(){Zw(_g(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return m3}},{key:"PLUGIN_PRIORITY",get:function(){return 30}}]),t}(rs);function ZO(n){return(ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function g3(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Kpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Sft(r.key),r)}}function Sft(n){var e=function Mft(n,e){if("object"!==ZO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ZO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ZO(e)?e:String(e)}const Ep=function(){function n(e,t,r,i,o,s){(function bft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.row=e,this.col=t,this.rowspan=r,this.colspan=i,this.removed=!1,this.cellCoordsFactory=o,this.cellRangeFactory=s}return function wft(n,e,t){e&&Kpe(n.prototype,e),t&&Kpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"normalize",value:function(t){var r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}},{key:"includes",value:function(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,r){var i=t[0]||t[1],o=r+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",a=t[0]?"col":"row",u=Math.min(r,o),c=Math.max(r,o),f=this[a],p=this[a]+this[s]-1;if(f>=r&&(this[a]+=i),i>0)r<=p&&r>f&&(this[s]+=i);else if(i<0){if(u<=f&&c>=p)return this.removed=!0,!1;if(f>=u&&f<=c){var g=c-f+1,v=Math.abs(i)-g;this[a]-=v+i,this[s]-=g}else f<=u&&p>=c?this[s]+=i:f<=u&&p>=u&&p<c&&(this[s]-=p-u+1)}return!0}},{key:"isFarther",value:function(t,r){return!t||("down"===r?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===r?t.row>this.row:"right"===r?t.col+t.colspan-1<this.col+this.colspan-1:"left"===r?t.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return ns(Wpe||(Wpe=g3(["The merged cell declared with {row: ",", col: ",", \n      rowspan: ",", colspan: ","} contains negative values, which is \n      not supported. It will not be added to the collection."],["The merged cell declared with {row: ",", col: ",",\\x20\n      rowspan: ",", colspan: ","} contains negative values, which is\\x20\n      not supported. It will not be added to the collection."])),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return ns(Ype||(Ype=g3(["The merged cell declared at [",", ","] is positioned \n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned\\x20\n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."])),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return ns(Gpe||(Gpe=g3(["The merged cell declared at [",", ",'] has both "rowspan" \n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan"\\x20\n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'])),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return ns($pe||($pe=g3(["The merged cell declared at [",", ",'] has "rowspan" \n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan"\\x20\n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'])),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return 1===t.colspan&&1===t.rowspan}},{key:"containsZeroSpan",value:function(t){return 0===t.colspan||0===t.rowspan}},{key:"isOutOfBounds",value:function(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}}]),n}();function Q9(n,e,t,r){e?e.row===t&&e.col===r?(n.setAttribute("rowspan",e.rowspan.toString()),n.setAttribute("colspan",e.colspan.toString())):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="none"):(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="")}function qO(n){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Xpe;function Zpe(n){return function Dft(n){if(Array.isArray(n))return e7(n)}(n)||function Rft(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Tft(n,e){if(n){if("string"==typeof n)return e7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e7(n,e)}}(n)||function Eft(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kft(r.key),r)}}function kft(n){var e=function Pft(n,e){if("object"!==qO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==qO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===qO(e)?e:String(e)}const Ift=function(){function n(e){(function Aft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCells=[],this.hot=e.hot}return function Oft(n,e,t){e&&qpe(n.prototype,e),t&&qpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"get",value:function(t,r){var o=!1;return ut(this.mergedCells,function(s){return!(s.row<=t&&s.row+s.rowspan-1>=t&&s.col<=r&&s.col+s.colspan-1>=r&&(o=s,1))}),o}},{key:"getByRange",value:function(t){var i=!1;return ut(this.mergedCells,function(o){return!(o.row<=t.from.row&&o.row+o.rowspan-1>=t.to.row&&o.col<=t.from.col&&o.col+o.colspan-1>=t.to.col)||(i=o)}),i}},{key:"getWithinRange",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.mergedCells,s=[],a=t;if(!a.includesRange){var u=this.hot._createCellCoords(a.from.row,a.from.col),c=this.hot._createCellCoords(a.to.row,a.to.col);a=this.hot._createCellRange(u,u,c)}return ut(o,function(f){var p=r.hot._createCellCoords(f.row,f.col),g=r.hot._createCellCoords(f.row+f.rowspan-1,f.col+f.colspan-1),v=r.hot._createCellRange(p,p,g);i?a.overlaps(v)&&s.push(f):a.includesRange(v)&&s.push(f)}),!!s.length&&s}},{key:"add",value:function(t){var r=this.mergedCells,i=t.row,o=t.col,u=new Ep(i,o,t.rowspan,t.colspan,this.hot._createCellCoords,this.hot._createCellRange),c=this.get(i,o),f=this.isOverlapping(u);return c||f?(cs(n.IS_OVERLAPPING_WARNING(u)),!1):(this.hot&&u.normalize(this.hot),r.push(u),u)}},{key:"remove",value:function(t,r){var i=this.mergedCells,o=this.get(t,r),s=o?this.mergedCells.indexOf(o):-1;return!(!o||-1===s)&&(i.splice(s,1),o)}},{key:"clear",value:function(){var t=this,i=[],o=[];ut(this.mergedCells,function(s){var a=t.hot.getCell(s.row,s.col);a&&i.push([a,t.get(s.row,s.col),s.row,s.col])}),this.mergedCells.length=0,ut(i,function(s,a){jr(0,s.rowspan-1,function(u){jr(0,s.colspan-1,function(c){if(0!==c||0!==u){var f=t.hot.getCell(s.row+u,s.col+c);f&&o.push([f,null,null,null])}})}),i[a][1]=null}),ut(i,function(s){Q9.apply(void 0,Zpe(s))}),ut(o,function(s){Q9.apply(void 0,Zpe(s))})}},{key:"isOverlapping",value:function(t){var r=this,i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),o=!1;return ut(this.mergedCells,function(s){return!r.hot._createCellRange(r.hot._createCellCoords(0,0),r.hot._createCellCoords(s.row,s.col),r.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1)).overlaps(i)||(o=!0,!1)}),o}},{key:"isFirstRenderableMergedCell",value:function(t,r){var i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}},{key:"getFirstRenderableCoords",value:function(t,r){var i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);var o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(o,s)}},{key:"shiftCollections",value:function(t,r,i){var o=this,s=[0,0];switch(t){case"right":s[0]+=i;break;case"left":s[0]-=i;break;case"down":s[1]+=i;break;case"up":s[1]-=i}ut(this.mergedCells,function(a){a.shift(s,r)}),p4(this.mergedCells.length-1,0,function(a){var u=o.mergedCells[a];u&&u.removed&&o.mergedCells.splice(o.mergedCells.indexOf(u),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return ns(Xpe||(Xpe=function Cft(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The merged cell declared at [",", ","], overlaps \n      with the other declared merged cell. The overlapping merged cell was not added to the table, please \n      fix your setup."],["The merged cell declared at [",", ","], overlaps\\x20\n      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20\n      fix your setup."])),t.row,t.col)}}]),n}();function JO(n){return(JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function qw(n,e){return function Bft(n){if(Array.isArray(n))return n}(n)||function Hft(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Fft(n,e){if(n){if("string"==typeof n)return Jpe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jpe(n,e)}}(n,e)||function Nft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jpe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jft(r.key),r)}}function jft(n){var e=function Uft(n,e){if("object"!==JO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==JO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===JO(e)?e:String(e)}const Yft=function(){function n(e){(function Vft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return function zft(n,e,t){e&&Qpe(n.prototype,e),t&&Qpe(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}},{key:"getDirection",value:function(t,r){return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?"down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?"up":r[1]===t[1]&&r[2]===t[2]?"right":"left"}},{key:"snapDragArea",value:function(t,r,i,o){var s=r.slice(0),a=this.getAutofillSize(t,r,i),u=qw(t,4),c=u[0],f=u[1],p=u[2],g=u[3],w=["up","down"].indexOf(i)>-1?p-c+1:g-f+1,C=a-Math.floor(a/w)*w,L=this.getFarthestCollection(t,r,i,o);if(L)if("down"===i){var H=L.row+L.rowspan-c-C;s[2]+H>=this.plugin.hot.countRows()?s[2]-=C:s[2]+=C?H:0}else if("right"===i){var z=L.col+L.colspan-f-C;s[3]+z>=this.plugin.hot.countCols()?s[3]-=C:s[3]+=C?z:0}else if("up"===i){var re=p-C-L.row+1;s[0]+re<0?s[0]+=C:s[0]-=C?re:0}else if("left"===i){var ne=g-C-L.col+1;s[1]+ne<0?s[1]+=C:s[1]-=C?ne:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:o,fillSize:a,dragArea:s,cycleLength:w}),s}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),qa(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,r,i){var o=qw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],f=qw(r,4),p=f[0],g=f[1],v=f[2],w=f[3];switch(i){case"up":return s-p;case"down":return v-u;case"left":return a-g;case"right":return w-c;default:return null}}},{key:"getDragArea",value:function(t,r,i){var o=qw(t,4),s=o[0],a=o[1],u=o[2],c=o[3],f=qw(r,4),p=f[0],g=f[1],v=f[2],w=f[3];switch(i){case"up":return[p,g,s-1,c];case"down":return[u+1,a,v,c];case"left":return[p,g,u,a-1];case"right":return[s,c+1,v,w];default:return null}}},{key:"getFarthestCollection",value:function(t,r,i,o){var s=qw(t,4),a=s[0],u=s[1],c=s[2],f=s[3],p=["up","down"].indexOf(i)>-1,g=p?c:f,v=p?a:u,w=this.getAutofillSize(t,r,i),M=p?c-a+1:f-u+1,L=w-Math.floor(w/M)*M,H=null,V=null,z=null;switch(i){case"up":H="includesVertically",z=g-L+1;break;case"left":H="includesHorizontally",z=g-L+1;break;case"down":H="includesVertically",z=v+L-1;break;case"right":H="includesHorizontally",z=v+L-1}return ut(o,function(X){X[H](z)&&X.isFarther(V,i)&&(V=X)}),V}},{key:"recreateAfterDataPopulation",value:function(t){if(this.currentFillData){var r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,s=function(g,v){switch(o){case"up":return g.row-v>=r.from.row;case"down":return g.row+g.rowspan-1+v<=r.to.row;case"left":return g.col-v>=r.from.column;case"right":return g.col+g.colspan-1+v<=r.to.column;default:return null}},a=0,u=null,c=1;do{for(var f=0;f<i.length;f+=1){if(s(u=i[f],a=c*this.currentFillData.cycleLength))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:u.row-a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:u.row+a,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col-a,colspan:u.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col+a,colspan:u.colspan})}f===i.length-1&&(c+=1)}}while(s(u,a));this.currentFillData=null,this.plugin.hot.render(),i.length>0&&this.plugin.ifChromeForceRepaint()}}},{key:"getRangeFromChanges",value:function(t){var r=this,i={min:null,max:null},o={min:null,max:null};return ut(t,function(s){var a=s[0],u=r.plugin.hot.propToCol(s[1]);(null===i.min||a<i.min)&&(i.min=a),(null===i.max||a>i.max)&&(i.max=a),(null===o.min||u<o.min)&&(o.min=u),(null===o.max||u>o.max)&&(o.max=u)}),{from:{row:i.min,column:o.min},to:{row:i.max,column:o.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,r,i){var s=qw(this.getDragArea(t,r,i),4),c=s[2],f=s[3],p=this.plugin.hot._createCellCoords(s[0],s[1]),g=this.plugin.hot._createCellCoords(c,f),v=this.plugin.hot._createCellRange(p,p,g);return!!this.mergedCellsCollection.getWithinRange(v,!0)}}]),n}();function QO(n){return(QO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function eme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Kft(r.key),r)}}function Kft(n){var e=function Xft(n,e){if("object"!==QO(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==QO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===QO(e)?e:String(e)}const qft=function(){function n(e){(function Gft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return function $ft(n,e,t){e&&eme(n.prototype,e),t&&eme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"snapDelta",value:function(t,r,i){var o=r.to,a=o.col+t.col;t.row?this.jumpOverMergedCell(t,i,o.row+t.row):t.col&&this.jumpOverMergedCell(t,i,a)}},{key:"jumpOverMergedCell",value:function(t,r,i){var o=t.row||t.col,s=null,a=null,u=null;t.row?(s=r.includesVertically(i),a=r.row,u=r.getLastRow()):t.col&&(s=r.includesHorizontally(i),a=r.col,u=r.getLastColumn()),0!==o&&(o>0?s&&i!==a&&(o+=u-i+1):s&&i!==u&&(o-=i-a+1),t.row?t.row=o:t.col&&(t.col=o))}},{key:"getUpdatedSelectionRange",value:function(t,r){return this.hot._createCellRange(t.highlight,t.from,this.hot._createCellCoords(t.to.row+r.row,t.to.col+r.col))}},{key:"getSelectedMergedCellClassName",value:function(t,r,i,o){var s=Math.min(i[0],i[2]),a=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),c=Math.max(i[1],i[3]);if(void 0!==o&&this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r)){var p=this.plugin.mergedCellsCollection.get(t,r);if(p){var g=p.getLastRow(),v=p.getLastColumn();if(s<=p.row&&a<=p.col&&u>=g&&c>=v)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(o);if(this.plugin.selectionCalculations.isMergeCellFullySelected(p,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}}},{key:"isMergeCellFullySelected",value:function(t,r){var i=[];if(!r||!t)return!1;for(var o=0;o<t.rowspan;o+=1)for(var s=0;s<t.colspan;s+=1)i.push(this.hot._createCellCoords(t.row+o,t.col+s));for(var a=0;a<i.length;a+=1){for(var u=[],c=0;c<r.length;c+=1)u[c]=r[c].includes(i[a]);if(!u.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],r=0;r<=7;r+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(r));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}]),n}();function DE(n){return(DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function tme(n,e){if(n){if("string"==typeof n)return t7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return t7(n,e)}}function t7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uht(r.key),r)}}function uht(n){var e=function cht(n,e){if("object"!==DE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==DE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===DE(e)?e:String(e)}function AE(){return AE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=dht(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},AE.apply(this,arguments)}function dht(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Wv(n)););return n}function n7(n,e){return(n7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function pht(n,e){if(e&&("object"===DE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rme(n)}function rme(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Wv(n){return(Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("beforeMergeCells"),Tr.getSingleton().register("afterMergeCells"),Tr.getSingleton().register("beforeUnmergeCells"),Tr.getSingleton().register("afterUnmergeCells");var lme,ek="mergeCells",ime=new WeakMap,ome=ek,yht=function(n){!function fht(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&n7(n,e)}(t,n);var e=function hht(n){var e=function mht(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Wv(n);if(e){var o=Wv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pht(this,i)}}(t);function t(r){var i;return function aht(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=e.call(this,r),ime.set(rme(i),{lastDesiredCoords:null}),i.mergedCellsCollection=null,i.autofillCalculations=null,i.selectionCalculations=null,i}return function lht(n,e,t){e&&nme(n.prototype,e),t&&nme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[ek]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mergedCellsCollection=new Ift(this),this.autofillCalculations=new Yft(this),this.selectionCalculations=new qft(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("modifyTransformStart",function(){return i.onModifyTransformStart.apply(i,arguments)}),this.addHook("afterModifyTransformStart",function(){return i.onAfterModifyTransformStart.apply(i,arguments)}),this.addHook("modifyTransformEnd",function(){return i.onModifyTransformEnd.apply(i,arguments)}),this.addHook("modifyGetCellCoords",function(){return i.onModifyGetCellCoords.apply(i,arguments)}),this.addHook("beforeSetRangeStart",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeStartOnly",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeEnd",function(){return i.onBeforeSetRangeEnd.apply(i,arguments)}),this.addHook("afterIsMultipleSelection",function(){return i.onAfterIsMultipleSelection.apply(i,arguments)}),this.addHook("afterRenderer",function(){return i.onAfterRenderer.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.addMergeActionsToContextMenu.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(){return i.onAfterGetCellMeta.apply(i,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return i.onAfterViewportRowCalculatorOverride.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),this.addHook("modifyAutofillRange",function(){return i.onModifyAutofillRange.apply(i,arguments)}),this.addHook("afterCreateCol",function(){return i.onAfterCreateCol.apply(i,arguments)}),this.addHook("afterRemoveCol",function(){return i.onAfterRemoveCol.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeDrawBorders",function(){return i.onBeforeDrawAreaBorders.apply(i,arguments)}),this.addHook("afterDrawSelection",function(){return i.onAfterDrawSelection.apply(i,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return i.onBeforeRemoveCellClassNames.apply(i,arguments)}),this.addHook("beforeUndoStackChange",function(o,s){if("MergeCells"===s)return!1}),this.registerShortcuts(),AE(Wv(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),AE(Wv(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var i=this.hot.getSettings()[ek];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(i),AE(Wv(t.prototype),"updatePlugin",this).call(this)}},{key:"ifChromeForceRepaint",value:function(){var i=this;if(jne()){var o=[],s=[];this.mergedCellsCollection.mergedCells.forEach(function(a){for(var u=a.row,c=a.rowspan,f=u+1;f<u+c;f++)s.push(f)}),(s=function rht(n){return function sht(n){if(Array.isArray(n))return t7(n)}(n)||function oht(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||tme(n)||function iht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(s))).forEach(function(a){var u=i.hot.rowIndexMapper.getRenderableFromVisualIndex(a);i.hot.view._wt.wtOverlays.getOverlays(!0).map(function(c){return"master"===(null==c?void 0:c.name)?c:c.clone.wtTable}).forEach(function(c){var f=c.getRow(u);f&&(f.style.background=fD(f,"backgroundColor").replace(")",", 0.99)"),o.push(f))})}),this.hot._registerTimeout(function(){o.forEach(function(a){a.style.background=fD(a,"backgroundColor").replace(", 0.99)",")")})},1)}}},{key:"validateSetting",value:function(i){var o=!0;return!!i&&(Ep.containsNegativeValues(i)?(cs(Ep.NEGATIVE_VALUES_WARNING(i)),o=!1):Ep.isOutOfBounds(i,this.hot.countRows(),this.hot.countCols())?(cs(Ep.IS_OUT_OF_BOUNDS_WARNING(i)),o=!1):Ep.isSingleCell(i)?(cs(Ep.IS_SINGLE_CELL(i)),o=!1):Ep.containsZeroSpan(i)&&(cs(Ep.ZERO_SPAN_WARNING(i)),o=!1),o)}},{key:"generateFromSettings",value:function(i){var o=this;if(Array.isArray(i)){var s=[];if(ut(i,function(a){if(o.validateSetting(a)){var u=o.hot._createCellCoords(a.row,a.col),c=o.hot._createCellCoords(a.row+a.rowspan-1,a.col+a.colspan-1),f=o.hot._createCellRange(u,u,c);o.mergeRange(f,!0,!0),jr(a.row,a.row+a.rowspan-1,function(p){jr(a.col,a.col+a.colspan-1,function(g){p===a.row&&g===a.col||s.push([p,g,null])})})}}),0===s.length)return;this.hot.setDataAtCell(s)}}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!o||this.validateSetting(i)}},{key:"toggleMergeOnSelection",value:function(){var i=this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.toggleMerge(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){i.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var o=i.from,s=i.to;this.unmergeRange(i,!0),this.mergeRange(i),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"unmergeSelection",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(i){var o=i.from,s=i.to;this.unmergeRange(i,!0),this.hot.selectCell(o.row,o.col,s.row,s.col,!1)}}},{key:"mergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=i.getTopStartCorner(),c=i.getBottomEndCorner(),f={row:u.row,col:u.col,rowspan:c.row-u.row+1,colspan:c.col-u.col+1},p=[],g=null;if(!this.canMergeRange(f,s))return!1;this.hot.runHooks("beforeMergeCells",i,s),jr(0,f.rowspan-1,function(w){jr(0,f.colspan-1,function(M){var C=null;p[w]||(p[w]=[]),0===w&&0===M?C=o.hot.getSourceDataAtCell(o.hot.toPhysicalRow(f.row),o.hot.toPhysicalColumn(f.col)):o.hot.setCellMeta(f.row+w,f.col+M,"hidden",!0),p[w][M]=C})}),this.hot.setCellMeta(f.row,f.col,"spanned",!0);var v=this.mergedCellsCollection.add(f);return!v||(a?g=[f.row,f.col,p]:this.hot.populateFromArray(f.row,f.col,p,void 0,void 0,this.pluginName),s||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",i,f,s),g)}},{key:"unmergeRange",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.mergedCellsCollection.getWithinRange(i);!a||(this.hot.runHooks("beforeUnmergeCells",i,s),ut(a,function(u){o.mergedCellsCollection.remove(u.row,u.col),jr(0,u.rowspan-1,function(c){jr(0,u.colspan-1,function(f){o.hot.removeCellMeta(u.row+c,u.col+f,"hidden")})}),o.hot.removeCellMeta(u.row,u.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",i,s),this.hot.render())}},{key:"toggleMerge",value:function(i){var o=this.mergedCellsCollection.get(i.from.row,i.from.col);o.row===i.from.row&&o.col===i.from.col&&o.row+o.rowspan-1===i.to.row&&o.col+o.colspan-1===i.to.col?this.unmergeRange(i):this.mergeSelection(i)}},{key:"merge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.mergeRange(this.hot._createCellRange(u,u,c))}},{key:"unmerge",value:function(i,o,s,a){var u=this.hot._createCellCoords(i,o),c=this.hot._createCellCoords(s,a);this.unmergeRange(this.hot._createCellRange(u,u,c))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings()[ek]),this.hot.render()}},{key:"registerShortcuts",value:function(){var i=this;this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:function(){i.toggleMerge(i.hot.getSelectedRangeLast()),i.hot.render()},runOnlyIf:function(u){return!u.altKey},group:ome})}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(ome)}},{key:"onAfterIsMultipleSelection",value:function(i){if(i)for(var o=this.mergedCellsCollection.mergedCells,s=this.hot.getSelectedRangeLast(),a=0;a<o.length;a+=1)if(s.from.row===o[a].row&&s.from.col===o[a].col&&s.to.row===o[a].row+o[a].rowspan-1&&s.to.col===o[a].col+o[a].colspan-1)return!1;return i}},{key:"onModifyTransformStart",value:function(i){var u,o=ime.get(this),s=this.hot.getSelectedRangeLast(),a={row:i.row,col:i.col},c=this.hot._createCellCoords(s.highlight.row,s.highlight.col),f=this.mergedCellsCollection.get(c.row,c.col);if(o.lastDesiredCoords||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),f){var p=this.hot._createCellCoords(f.row,f.col),g=this.hot._createCellCoords(f.row+f.rowspan-1,f.col+f.colspan-1);this.hot._createCellRange(p,p,g).includes(o.lastDesiredCoords)||(o.lastDesiredCoords=this.hot._createCellCoords(null,null)),a.row=o.lastDesiredCoords.row?o.lastDesiredCoords.row-c.row:a.row,a.col=o.lastDesiredCoords.col?o.lastDesiredCoords.col-c.col:a.col,i.row>0?a.row=f.row+f.rowspan-1-c.row+i.row:i.row<0&&(a.row=c.row-f.row+i.row),i.col>0?a.col=f.col+f.colspan-1-c.col+i.col:i.col<0&&(a.col=c.col-f.col+i.col)}u=this.hot._createCellCoords(s.highlight.row+a.row,s.highlight.col+a.col);var w=this.mergedCellsCollection.get(u.row,u.col);if(w){var M=this.mergedCellsCollection.getFirstRenderableCoords(w.row,w.col);o.lastDesiredCoords=u,a={row:M.row-c.row,col:M.col-c.col}}0!==a.row&&(i.row=a.row),0!==a.col&&(i.col=a.col)}},{key:"onModifyTransformEnd",value:function(i){var o=this,s=this.hot.getSelectedRangeLast(),a=Ac(i),u=this.selectionCalculations.getUpdatedSelectionRange(s,i),c=Ac(a),f=this.mergedCellsCollection.getWithinRange(u,!0);do{c=Ac(a),this.selectionCalculations.getUpdatedSelectionRange(s,a),ut(f,function(p){o.selectionCalculations.snapDelta(a,s,p)})}while(a.row!==c.row||a.col!==c.col);i.row=a.row,i.col=a.col}},{key:"onModifyGetCellCoords",value:function(i,o){if(!(i<0||o<0)){var s=this.mergedCellsCollection.get(i,o);if(s){var a=s.row,u=s.col;return[a,u,a+s.rowspan-1,u+s.colspan-1]}}}},{key:"addMergeActionsToContextMenu",value:function(i){i.items.push({name:"---------"},function Jft(n){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=n.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(XY)}return this.getTranslatedPhrase(KY)},callback:function(){n.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();return!t||Ep.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}}(this))}},{key:"onAfterRenderer",value:function(i,o,s){var a=this.mergedCellsCollection.get(o,s),u=to(a)?Ac(a):void 0;if(to(u)){var c=this.hot,f=c.rowIndexMapper,p=c.columnIndexMapper,L=function Qft(n,e){return function nht(n){if(Array.isArray(n))return n}(n)||function tht(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||tme(n,e)||function eht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.translateMergedCellToRenderable(u.row,u.rowspan,u.col,u.colspan),2),V=L[1],re=L[0]-f.getRenderableFromVisualIndex(o)+1,me=V-p.getRenderableFromVisualIndex(s)+1;u.row=f.getNearestNotHiddenIndex(u.row,1),u.col=p.getNearestNotHiddenIndex(u.col,1),u.rowspan=Math.min(u.rowspan,re),u.colspan=Math.min(u.colspan,me)}Q9(i,u,o,s)}},{key:"onBeforeSetRangeStart",value:function(i){if(this.mergedCellsCollection.isFirstRenderableMergedCell(i.row,i.col)){var o=this.mergedCellsCollection.get(i.row,i.col),s=[o.row,o.col];i.row=s[0],i.col=s[1]}}},{key:"onBeforeSetRangeEnd",value:function(i){var o=this.hot.getSelectedRangeLast();o.highlight=this.hot._createCellCoords(o.highlight.row,o.highlight.col),o.to=i;var s=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{s=!1;for(var a=0;a<this.mergedCellsCollection.mergedCells.length;a+=1){var c=this.mergedCellsCollection.mergedCells[a].getRange();o.expandByRange(c)&&(i.row=o.to.row,i.col=o.to.col,s=!0)}}while(s)}},{key:"onAfterGetCellMeta",value:function(i,o,s){var a=this.mergedCellsCollection.get(i,o);a&&(a.row!==i||a.col!==o?s.copyable=!1:(s.rowspan=a.rowspan,s.colspan=a.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(i){var o=this.hot.countCols();this.modifyViewportRowStart(i,o),this.modifyViewportRowEnd(i,o)}},{key:"modifyViewportRowStart",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.startRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(to(c)){var f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row,1));if(f<i.startRow)return i.startRow=f,void this.modifyViewportRowStart(i,o)}}}},{key:"modifyViewportRowEnd",value:function(i,o){for(var s=this.hot.rowIndexMapper,a=s.getVisualFromRenderableIndex(i.endRow),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(a,u);if(to(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.row+c.rowspan-1,-1));if(p>i.endRow)return i.endRow=p,void this.modifyViewportRowEnd(i,o)}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){var o=this.hot.countRows();this.modifyViewportColumnStart(i,o),this.modifyViewportColumnEnd(i,o)}},{key:"modifyViewportColumnStart",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.startColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(to(c)){var f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col,1));if(f<i.startColumn)return i.startColumn=f,void this.modifyViewportColumnStart(i,o)}}}},{key:"modifyViewportColumnEnd",value:function(i,o){for(var s=this.hot.columnIndexMapper,a=s.getVisualFromRenderableIndex(i.endColumn),u=0;u<o;u+=1){var c=this.mergedCellsCollection.get(u,a);if(to(c)){var p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(c.col+c.colspan-1,-1));if(p>i.endColumn)return i.endColumn=p,void this.modifyViewportColumnEnd(i,o)}}}},{key:"translateMergedCellToRenderable",value:function(i,o,s,a){var p,g,u=this.hot,c=u.rowIndexMapper,f=u.columnIndexMapper;return p=0===o?c.getNearestNotHiddenIndex(i,1):c.getNearestNotHiddenIndex(i+o-1,-1),g=0===a?f.getNearestNotHiddenIndex(s,1):f.getNearestNotHiddenIndex(s+a-1,-1),[i>=0?c.getRenderableFromVisualIndex(p):i,s>=0?f.getRenderableFromVisualIndex(g):s]}},{key:"onModifyAutofillRange",value:function(i,o){this.autofillCalculations.correctSelectionAreaSize(o);var s=this.autofillCalculations.getDirection(o,i),a=i;if(this.autofillCalculations.dragAreaOverlapsCollections(o,a,s))return o;var u=this.mergedCellsCollection.getWithinRange({from:{row:o[0],col:o[1]},to:{row:o[2],col:o[3]}});return u&&(a=this.autofillCalculations.snapDragArea(o,a,s,u)),a}},{key:"onAfterCreateCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("right",i,o)}},{key:"onAfterRemoveCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("left",i,o)}},{key:"onAfterCreateRow",value:function(i,o,s){"auto"!==s&&this.mergedCellsCollection.shiftCollections("down",i,o)}},{key:"onAfterRemoveRow",value:function(i,o){this.mergedCellsCollection.shiftCollections("up",i,o)}},{key:"onAfterChange",value:function(i,o){"Autofill.fill"===o&&this.autofillCalculations.recreateAfterDataPopulation(i)}},{key:"onBeforeDrawAreaBorders",value:function(i,o){if(o&&"area"===o){var s=this.hot.getSelectedRangeLast();ut(this.mergedCellsCollection.getWithinRange(s),function(u){s.getBottomEndCorner().row===u.getLastRow()&&s.getBottomEndCorner().col===u.getLastColumn()&&(i[2]=u.row,i[3]=u.col)})}}},{key:"onAfterModifyTransformStart",value:function(i,o,s){if(this.enabled){var a=this.mergedCellsCollection.get(i.row,i.col);if(a){var u=o>0,c=o<0,f=s<0,p=s>0,g=a.row+a.rowspan-1==this.hot.countRows()-1,v=0===a.row,w=a.col+a.colspan-1==this.hot.countCols()-1;(u&&g||c&&v||p&&w||f&&0===a.col)&&(i.row=a.row,i.col=a.col)}}}},{key:"onAfterDrawSelection",value:function(i,o,s,a){if(s)return this.selectionCalculations.getSelectedMergedCellClassName(i,o,s,a)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],[{key:"PLUGIN_KEY",get:function(){return ek}},{key:"PLUGIN_PRIORITY",get:function(){return 150}}]),t}(rs);function sme(n){return function wht(n){if(Array.isArray(n))return n}(n)||function bht(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function _ht(n,e){if(n){if("string"==typeof n)return ame(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ame(n,e)}}(n)||function vht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ame(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ume(){cs(ns(lme||(lme=function Mht(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}function xht(n,e,t){var r=[];return!1===t||n.isColumnSorted(e)&&n.getNumberOfSortedColumns()>1&&r.push("".concat("sort","-").concat(n.getIndexOfColumnInSortQueue(e)+1)),r}function Cht(n){var e=n.className.split(" "),t=new RegExp("^".concat("sort","-[0-9]{1,2}$"));return e.filter(function(r){return t.test(r)})}function OE(n){return(OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function dme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Rht(r.key),r)}}function Rht(n){var e=function Dht(n,e){if("object"!==OE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==OE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===OE(e)?e:String(e)}function Ed(){return Ed="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Aht(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ed.apply(this,arguments)}function Aht(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=qu(n)););return n}function r7(n,e){return(r7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Pht(n,e){if(e&&("object"===OE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Lht(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function qu(n){return(qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var i7="multiColumnSorting",fme="columnSorting";nde(i7,function Sht(n,e){return function(t,r){var o=sme(t).slice(1),a=sme(r).slice(1);return function u(c){var f=n[c],p=e[c],g=o[c],v=a[c],w=p.multiColumnSorting,C=(w.compareFunctionFactory?w.compareFunctionFactory:rde(p.type))(f,p,w)(g,v);if(0===C){var L=c+1;if(void 0!==e[L])return u(L)}return C}(0)}});var Hht=function(n){!function Oht(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&r7(n,e)}(t,n);var e=function kht(n){var e=function Iht(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=qu(n);if(e){var o=qu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pht(this,i)}}(t);function t(r){var i;return function Eht(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).pluginKey=i7,i}return function Tht(n,e,t){e&&dme(n.prototype,e),t&&dme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return Ed(qu(t.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[fme]&&ume(),Ed(qu(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Ed(qu(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){Ed(qu(t.prototype),"sort",this).call(this,i)}},{key:"clearSort",value:function(){Ed(qu(t.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return Ed(qu(t.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(i){return Ed(qu(t.prototype),"getSortConfig",this).call(this,i)}},{key:"setSortConfig",value:function(i){Ed(qu(t.prototype),"setSortConfig",this).call(this,i)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(i)?i:[i]}},{key:"updateHeaderClasses",value:function(i){for(var o,s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];(o=Ed(qu(t.prototype),"updateHeaderClasses",this)).call.apply(o,[this,i].concat(a)),Bi(i,Cht(i)),!1!==this.enabled&&Dn(i,xht.apply(void 0,a))}},{key:"onUpdateSettings",value:function(i){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[fme]&&ume(),Ed(qu(t.prototype),"onUpdateSettings",this).call(this,i)}},{key:"onAfterOnCellMouseDown",value:function(i,o){!1!==o6(o.row,o.col,i)&&this.wasClickableHeaderClicked(i,o.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(o.col),this.sort(this.getNextSortConfig(o.col,"append"))):this.sort(this.getColumnNextConfig(o.col)))}}],[{key:"PLUGIN_KEY",get:function(){return i7}},{key:"PLUGIN_PRIORITY",get:function(){return 170}}]),t}(fde);function kE(n){return(kE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function hme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,zht(r.key),r)}}function zht(n){var e=function jht(n,e){if("object"!==kE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==kE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===kE(e)?e:String(e)}function y3(){return y3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Uht(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},y3.apply(this,arguments)}function Uht(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=PE(n)););return n}function o7(n,e){return(o7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Ght(n,e){if(e&&("object"===kE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function $ht(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function PE(n){return(PE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var qht=function(n){!function Wht(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&o7(n,e)}(t,n);var e=function Yht(n){var e=function Kht(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=PE(n);if(e){var o=PE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ght(this,i)}}(t);function t(r){var i;return function Bht(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dragged=[],i.eventManager=null,i.lastSetCell=null,i}return function Vht(n,e,t){e&&hme(n.prototype,e),t&&hme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return up()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new ea(this)),this.registerListeners(),y3(PE(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var i=this,o=this,s=this.hot.rootElement;function a(u){if(1===o.dragged.length)return o.dragged.splice(0,o.dragged.length),!0;var c=o.dragged.indexOf(u);if(-1===c)return!1;0===c?o.dragged=o.dragged.slice(0,1):1===c&&(o.dragged=o.dragged.slice(-1))}this.eventManager.addEventListener(s,"touchstart",function(u){var c;return Ai(u.target,"topSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("top"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):Ai(u.target,"bottomSelectionHandle-HitArea")?(c=o.hot.getSelectedRangeLast(),o.dragged.push("bottom"),o.touchStartRange={width:c.getWidth(),height:c.getHeight(),direction:c.getDirection()},u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchend",function(u){return Ai(u.target,"topSelectionHandle-HitArea")?(a.call(o,"top"),o.touchStartRange=void 0,u.preventDefault(),!1):Ai(u.target,"bottomSelectionHandle-HitArea")?(a.call(o,"bottom"),o.touchStartRange=void 0,u.preventDefault(),!1):void 0}),this.eventManager.addEventListener(s,"touchmove",function(u){var f,p,g,v,w,M;if(0!==o.dragged.length){var C=i.hot.rootDocument.elementFromPoint(u.touches[0].clientX,u.touches[0].clientY);!C||C===o.lastSetCell||(("TD"===C.nodeName||"TH"===C.nodeName)&&(-1===(f=o.hot.getCoords(C)).col&&(f.col=0),g=(p=o.hot.getSelectedRangeLast()).getWidth(),v=p.getHeight(),w=p.getDirection(),1===g&&1===v&&o.hot.selection.setRangeEnd(f),null!==(M=o.getCurrentRangeCoords(p,f,o.touchStartRange.direction,w,o.dragged[0])).start&&o.hot.selection.setRangeStart(M.start),o.hot.selection.setRangeEnd(M.end),o.lastSetCell=C),u.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(i,o,s,a,u){var c=i.getTopStartCorner(),f=i.getBottomEndCorner(),p=i.getBottomStartCorner(),g=i.getTopEndCorner(),v={start:null,end:null};switch(s){case"NE-SW":switch(a){case"NE-SW":case"NW-SE":v="top"===u?{start:this.hot._createCellCoords(o.row,i.highlight.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,c.col)};break;case"SE-NW":"bottom"===u&&(v={start:this.hot._createCellCoords(f.row,o.col),end:this.hot._createCellCoords(o.row,c.col)})}break;case"NW-SE":switch(a){case"NE-SW":"top"===u?v={start:o,end:p}:v.end=o;break;case"NW-SE":"top"===u?v={start:o,end:f}:v.end=o;break;case"SE-NW":"top"===u?v={start:o,end:c}:v.end=o;break;case"SW-NE":"top"===u?v={start:o,end:g}:v.end=o}break;case"SW-NE":switch(a){case"NW-SE":v="bottom"===u?{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(p.row,o.col)}:{start:this.hot._createCellCoords(c.row,o.col),end:this.hot._createCellCoords(o.row,f.col)};break;case"SW-NE":v="top"===u?{start:this.hot._createCellCoords(i.highlight.row,o.col),end:this.hot._createCellCoords(o.row,f.col)}:{start:this.hot._createCellCoords(o.row,c.col),end:this.hot._createCellCoords(c.row,o.col)};break;case"SE-NW":"bottom"===u?v={start:this.hot._createCellCoords(o.row,g.col),end:this.hot._createCellCoords(c.row,o.col)}:"top"===u&&(v={start:p,end:o})}break;case"SE-NW":switch(a){case"NW-SE":case"NE-SW":case"SW-NE":"top"===u&&(v.end=o);break;case"SE-NW":"top"===u?v.end=o:v={start:o,end:c}}}return v}},{key:"isDragged",value:function(){return this.dragged.length>0}}],[{key:"PLUGIN_KEY",get:function(){return"multipleSelectionHandles"}},{key:"PLUGIN_PRIORITY",get:function(){return 160}}]),t}(rs);function s7(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.label,t=void 0===e?"":e,r=n.colspan,i=void 0===r?1:r,o=n.origColspan,s=void 0===o?1:o,a=n.collapsible,u=void 0!==a&&a,c=n.crossHiddenColumns,f=void 0===c?[]:c,p=n.isCollapsed,g=void 0!==p&&p,v=n.isHidden,w=void 0!==v&&v,M=n.isRoot,C=void 0!==M&&M,L=n.isPlaceholder,H=void 0!==L&&L;return{label:t,colspan:i,origColspan:s,collapsible:u,isCollapsed:g,crossHiddenColumns:f,isHidden:w,isRoot:C,isPlaceholder:H}}function mme(n){return function tpt(n){if(Array.isArray(n))return a7(n)}(n)||function ept(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Qht(n,e){if(n){if("string"==typeof n)return a7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a7(n,e)}}(n)||function Jht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function npt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,t=[];if(0===e)return t;ut(n,function(i){var o=[],s=0;t.push(o),ut(i,function(a){var u=s7();if(to(a)){var f=a.colspan;u.label=Pa(a.label),"number"==typeof f&&f>1&&(u.colspan=f,u.origColspan=f)}else u.label=Pa(a);var p=!1;if((s+=u.origColspan)>=e&&(u.colspan=u.origColspan-(s-e),u.origColspan=u.colspan,p=!0),o.push(u),u.colspan>1)for(var g=0;g<u.colspan-1;g++)o.push({label:"",isPlaceholder:!0});return!p})});var r=Math.max.apply(Math,mme(eo(t,function(i){return i.length})));return ut(t,function(i){if(i.length<r){var o=eo(new Array(r-i.length),function(){return s7()});i.splice.apply(i,[i.length,0].concat(mme(o)))}}),t}function tk(n){return(tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var rpt=["row","col"];function gme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function opt(n,e,t){return(e=vme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,vme(r.key),r)}}function vme(n){var e=function cpt(n,e){if("object"!==tk(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==tk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===tk(e)?e:String(e)}function l7(n,e,t){(function dpt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function vh(n,e){return function fpt(n,e){return e.get?e.get.call(n):e.value}(n,_me(n,e,"get"))}function nk(n,e,t){return function hpt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,_me(n,e,"set"),t),t}function _me(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var bme=["label","collapsible"],bg=new WeakMap,Jw=new WeakMap,u7=new WeakMap,ppt=function(){function n(){(function lpt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),l7(this,bg,{writable:!0,value:[]}),l7(this,Jw,{writable:!0,value:0}),l7(this,u7,{writable:!0,value:1/0})}return function upt(n,e,t){e&&yme(n.prototype,e),t&&yme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setColumnsLimit",value:function(t){nk(this,u7,t)}},{key:"setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];nk(this,bg,npt(t,vh(this,u7))),nk(this,Jw,vh(this,bg).length)}},{key:"getData",value:function(){return vh(this,bg)}},{key:"mergeWith",value:function(t){var r=this;ut(t,function(i){var o=i.row,s=i.col,a=function spt(n,e){if(null==n)return{};var r,i,t=function apt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(i,rpt),u=r.getHeaderSettings(o,s);null!==u&&qa(u,a,bme)})}},{key:"map",value:function(t){ut(vh(this,bg),function(r){ut(r,function(i){var o=t(function ipt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gme(Object(t),!0).forEach(function(r){opt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gme(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},i));to(o)&&qa(i,o,bme)})})}},{key:"getHeaderSettings",value:function(t,r){var i;if(t>=vh(this,Jw)||t<0)return null;var o=vh(this,bg)[t];return r>=o.length?null:null!==(i=o[r])&&void 0!==i?i:null}},{key:"getHeadersSettings",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[];if(t>=vh(this,Jw)||t<0)return o;for(var s=vh(this,bg)[t],a=0,u=r;u<s.length;u++){var c=s[u];if(c.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(a+=c.colspan,o.push(c),c.colspan>1&&(u+=c.colspan-1),a===i)break;if(a>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}},{key:"getLayersCount",value:function(){return vh(this,Jw)}},{key:"getColumnsCount",value:function(){return vh(this,Jw)>0?vh(this,bg)[0].length:0}},{key:"clear",value:function(){nk(this,bg,[]),nk(this,Jw,0)}}]),n}();function rk(n){return(rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sme(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?wme(Object(t),!0).forEach(function(r){v3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wme(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,xme(r.key),r)}}function v3(n,e,t){return(e=xme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xme(n){var e=function ypt(n,e){if("object"!==rk(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==rk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===rk(e)?e:String(e)}function c7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Rme=new Map([["DF-pre-order",function Cme(n,e){for(var t=n.call(e,this),r=0;r<this.childs.length;r++){if(!1===t)return!1;t=Cme.call(this.childs[r],n,e)}return t}],["DF-post-order",function Eme(n,e){for(var t=0;t<this.childs.length;t++)if(!1===Eme.call(this.childs[t],n,e))return!1;return n.call(e,this)}],["BF",function Cpt(n,e){var t=[this];!function r(){if(0!==t.length){var i=t.shift();t.push.apply(t,function vpt(n){return function Spt(n){if(Array.isArray(n))return c7(n)}(n)||function wpt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function bpt(n,e){if(n){if("string"==typeof n)return c7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c7(n,e)}}(n)||function _pt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.childs)),!1!==n.call(e,i)&&r()}}()}]]),Dme=function(){function n(e){(function mpt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),v3(this,"data",{}),v3(this,"parent",null),v3(this,"childs",[]),this.data=e}return function gpt(n,e,t){e&&Mme(n.prototype,e),t&&Mme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"addChild",value:function(t){t.parent=this,this.childs.push(t)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,r=new n(Sme({},t.data)),i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}},{key:"replaceTreeWith",value:function(t){this.data=Sme({},t.data),this.childs=[];for(var r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}},{key:"walkDown",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BF";if(!Rme.has(r))throw new Error('Traversal strategy "'.concat(r,'" does not exist'));Rme.get(r).call(this,t,this)}},{key:"walkUp",value:function(t){var r=this;!function o(s){!1!==t.call(r,s)&&null!==s.parent&&o(s.parent)}(this)}}]),n}();function ik(n){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ame(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ome(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ame(Object(t),!0).forEach(function(r){Tpt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ame(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tpt(n,e,t){return(e=Lme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kme(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Lme(r.key),r)}}function Lme(n){var e=function Ipt(n,e){if("object"!==ik(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ik(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ik(e)?e:String(e)}function d7(n,e,t){(function Npt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function Ju(n,e){return function Fpt(n,e){return e.get?e.get.call(n):e.value}(n,Ime(n,e,"get"))}function Ime(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Fme,Hme,LE=new WeakMap,Qw=new WeakMap,IE=new WeakMap,Vpt=function(){function n(e){(function Ppt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),d7(this,LE,{writable:!0,value:new Map}),d7(this,Qw,{writable:!0,value:new Map}),d7(this,IE,{writable:!0,value:null}),function Hpt(n,e,t){return function Bpt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Ime(n,e,"set"),t),t}(this,IE,e)}return function Lpt(n,e,t){e&&Pme(n.prototype,e),t&&Pme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"getRoots",value:function(){return Array.from(Ju(this,LE).values())}},{key:"getRootByColumn",value:function(t){var r;return Ju(this,Qw).has(t)&&(r=Ju(this,LE).get(Ju(this,Qw).get(t))),r}},{key:"getNode",value:function(t,r){var i=this.getRootByColumn(r);if(i){var a,o=r-Ju(this,Qw).get(r),s=0;return i.walkDown(function(u){var c=u.data,f=c.origColspan;if(t===c.headerLevel){if(o>=s&&o<=s+f-1)return(a=u).data.isRoot=r===a.data.columnIndex,!1;s+=f}}),a}}},{key:"rebuildTreeIndex",value:function(){var t=this,r=0;Ju(this,Qw).clear(),ut(Ju(this,LE),function(i){for(var s=function Rpt(n,e){return function kpt(n){if(Array.isArray(n))return n}(n)||function Opt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function Apt(n,e){if(n){if("string"==typeof n)return kme(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kme(n,e)}}(n,e)||function Dpt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2)[1].data.colspan,a=r;a<r+s;a++)Ju(t,Qw).set(a,r);r+=s})}},{key:"buildTree",value:function(){this.clear();for(var t=Ju(this,IE).getColumnsCount(),r=0;r<t;){var i=Ju(this,IE).getHeaderSettings(0,r),o=new Dme;Ju(this,LE).set(r,o),this.buildLeaves(o,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(t,r,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Ju(this,IE).getHeadersSettings(i,r,s);i+=1,ut(a,function(u){var f,c=Ome(Ome({},u),{},{headerLevel:i-1,columnIndex:r});1===i?(t.data=c,f=t):(f=new Dme(c),t.addChild(f)),i<Ju(o,IE).getLayersCount()&&o.buildLeaves(f,r,i,u.origColspan),r+=u.origColspan})}},{key:"clear",value:function(){Ju(this,LE).clear(),Ju(this,Qw).clear()}}]),n}();function Nme(n,e){n.walkDown(function(t){var r=t.data,i=t.childs;if(!r.isHidden&&(e(r.columnIndex),0===i.length))for(var o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function _3(n,e){var t=n.childs;if(0!==t.length)return t[0].data[e]}function b3(n){return _3(n,"origColspan")===n.data.origColspan}function f7(n){var e=n.data,t=n.childs;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(b3(n))return f7(t[0]);e.isCollapsed=!1;var i=t.slice(1),o=new Set,s=0;if(i.length>0)ut(i,function(p){p.replaceTreeWith(p.data.clonedTree),p.data.clonedTree=null,s+=p.data.colspan,Nme(p,function(v){o.add(v)})});else{var u=e.origColspan,c=e.columnIndex;s=u-e.colspan;for(var f=1;f<u;f++)o.add(c+f)}return n.walkUp(function(p){var g=p.data;g.colspan+=s,g.colspan>=g.origColspan?(g.colspan=g.origColspan,g.isCollapsed=!1):b3(p)&&(g.isCollapsed=_3(p,"isCollapsed"))}),{rollbackModification:function(){return h7(n)},affectedColumns:Array.from(o),colspanCompensation:s}}function h7(n){var e,t=n.data,r=n.childs;if(t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(b3(n))return h7(r[0]);t.isCollapsed=!0;var o=r.slice(1),s=new Set;if(o.length>0)ut(o,function(g){Nme(g,function(v){s.add(v)}),g.data.clonedTree=g.cloneTree(),g.walkDown(function(v){v.data.isHidden=!0})});else for(var a=t.origColspan,u=t.columnIndex,c=1;c<a;c++)s.add(u+c);var p=t.colspan-(null!==(e=_3(n,"colspan"))&&void 0!==e?e:1);return n.walkUp(function(g){var v=g.data;v.colspan-=p,v.colspan<=1?(v.colspan=1,v.isCollapsed=!0):b3(g)&&(v.isCollapsed=_3(g,"isCollapsed"))}),{rollbackModification:function(){return f7(n)},affectedColumns:Array.from(s),colspanCompensation:p}}var Bme=new Map([["collapse",h7],["expand",f7],["hide-column",function jpt(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(ns(Fme||(Fme=function zpt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the hide column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the hide column modification can be applied."]))));if(!n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}}],["show-column",function Wpt(n,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(n.childs.length>0)throw new Error(ns(Hme||(Hme=function Upt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the show column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the show column modification can be applied."]))));if(n.data.crossHiddenColumns.includes(e)){var r=!1;n.walkUp(function(i){if(i.data.collapsible)return r=!0,!1}),!r&&n.walkUp(function(i){var o=i.data;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}}]]),Gpt=["crossHiddenColumns"];function w3(n){var e=[];return ut(n,function(t){t.walkDown(function(r){for(var i=r.data,o=i.origColspan,s=i.columnIndex,u=i.crossHiddenColumns,c=function Zpt(n,e){var t;return Array.isArray(n[e])?t=n[e]:n[e]=t=[],t}(e,i.headerLevel),f=!1,p=s;p<s+o;p++)if(u.includes(p)||f)c.push({label:"",isPlaceholder:!0});else{var v=Xpt(i);v.isRoot=!0,c.push(v),f=!0}})}),e}function Xpt(n){return function $pt(n,e){if(null==n)return{};var r,i,t=function Kpt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(s7(n),Gpt)}function ok(n){return(ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var qpt=["row"];function Vme(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zme(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Vme(Object(t),!0).forEach(function(r){Jpt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vme(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jpt(n,e,t){return(e=Ume(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ume(r.key),r)}}function Ume(n){var e=function rmt(n,e){if("object"!==ok(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ok(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ok(e)?e:String(e)}function p7(n,e,t){(function imt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function sk(n,e,t){return function omt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,Wme(n,e,"set"),t),t}function va(n,e){return function smt(n,e){return e.get?e.get.call(n):e.value}(n,Wme(n,e,"get"))}function Wme(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var Tp=new WeakMap,Td=new WeakMap,e0=new WeakMap,amt=function(){function n(){(function tmt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),p7(this,Tp,{writable:!0,value:new ppt}),p7(this,Td,{writable:!0,value:new Vpt(va(this,Tp))}),p7(this,e0,{writable:!0,value:[[]]})}return function nmt(n,e,t){e&&jme(n.prototype,e),t&&jme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setState",value:function(t){va(this,Tp).setData(t);var r=!1;try{va(this,Td).buildTree()}catch(i){va(this,Td).clear(),va(this,Tp).clear(),r=!0}return sk(this,e0,w3(va(this,Td).getRoots())),r}},{key:"setColumnsLimit",value:function(t){va(this,Tp).setColumnsLimit(t)}},{key:"mergeStateWith",value:function(t){var r=this,i=eo(t,function(o){var s=o.row,a=function Qpt(n,e){if(null==n)return{};var r,i,t=function emt(n,e){if(null==n)return{};var i,o,t={},r=Object.keys(n);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(t[i]=n[i]);return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}(o,qpt);return zme({row:s<0?r.rowCoordsToLevel(s):s},a)});va(this,Tp).mergeWith(i),va(this,Td).buildTree(),sk(this,e0,w3(va(this,Td).getRoots()))}},{key:"mapState",value:function(t){va(this,Tp).map(t),va(this,Td).buildTree(),sk(this,e0,w3(va(this,Td).getRoots()))}},{key:"mapNodes",value:function(t){return Za(va(this,Td).getRoots(),function(r,i){return i.walkDown(function(o){var s=t(o.data);void 0!==s&&r.push(s)}),r},[])}},{key:"triggerNodeModification",value:function(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));var s,o=va(this,Td).getNode(r,i);return o&&(s=function Ypt(n,e,t){if(!Bme.has(n))throw new Error('The node modifier action ("'.concat(n,'") does not exist.'));return Bme.get(n)(e,t)}(t,o,i),sk(this,e0,w3(va(this,Td).getRoots()))),s}},{key:"triggerColumnModification",value:function(t,r){return this.triggerNodeModification(t,-1,r)}},{key:"rowCoordsToLevel",value:function(t){if(t>=0)return null;var r=t+Math.max(this.getLayersCount(),1);return r<0?null:r}},{key:"levelToRowCoords",value:function(t){if(t<0)return null;var r=t-Math.max(this.getLayersCount(),1);return r>=0?null:r}},{key:"getHeaderSettings",value:function(t,r){var i,o;return t<0&&(t=this.rowCoordsToLevel(t)),null===t||t>=this.getLayersCount()?null:null!==(i=null===(o=va(this,e0)[t])||void 0===o?void 0:o[r])&&void 0!==i?i:null}},{key:"getHeaderTreeNodeData",value:function(t,r){if(t<0&&(t=this.rowCoordsToLevel(t)),null===t||t>=this.getLayersCount())return null;var i=va(this,Td).getNode(t,r);return i?zme({},i.data):null}},{key:"findLeftMostColumnIndex",value:function(t,r){var i;if((null!==(i=this.getHeaderSettings(t,r))&&void 0!==i?i:{isRoot:!0}).isRoot)return r;for(var a=r-1;a>=0;){var u;if((null!==(u=this.getHeaderSettings(t,a))&&void 0!==u?u:{isRoot:!0}).isRoot)break;a-=1}return a}},{key:"getLayersCount",value:function(){return va(this,Tp).getLayersCount()}},{key:"getColumnsCount",value:function(){return va(this,Tp).getColumnsCount()}},{key:"clear",value:function(){sk(this,e0,[]),va(this,Tp).clear(),va(this,Td).clear()}}]),n}();function ak(n){return(ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Yme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Gme(r.key),r)}}function lk(n,e,t){return(e=Gme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gme(n){var e=function cmt(n,e){if("object"!==ak(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ak(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ak(e)?e:String(e)}const fmt=function(){function n(e,t){(function lmt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),lk(this,"hot",void 0),lk(this,"nestedHeaderSettingsGetter",void 0),lk(this,"layersCount",0),lk(this,"container",void 0),lk(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=t,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}return function umt(n,e,t){e&&Yme(n.prototype,e),t&&Yme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setLayersCount",value:function(t){return this.layersCount=t,this}},{key:"getWidth",value:function(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}},{key:"buildWidthsMap",value:function(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);var t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(var i=0;i<r;i++){var o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}},{key:"_buildGhostTable",value:function(t){for(var r=this.hot,i=r.rootDocument,o=r.columnIndexMapper,s=i.createDocumentFragment(),a=i.createElement("table"),u=!!this.hot.getSettings().dropdownMenu,c=o.getRenderableIndexesLength(),f=0;f<this.layersCount;f++){for(var p=i.createElement("tr"),g=0;g<c;g++){var v=o.getVisualFromRenderableIndex(g);null===v&&(v=g);var w=i.createElement("th"),M=this.nestedHeaderSettingsGetter(f,v);if(M&&(!M.isPlaceholder||M.isHidden)){var C=M.label;u&&(C+='<button class="changeType"></button>'),ix(w,C),w.colSpan=M.colspan,p.appendChild(w)}}a.appendChild(p)}s.appendChild(a),t.appendChild(s)}},{key:"clear",value:function(){this.widthsMap.clear(),this.container=null}}]),n}();function NE(n){return(NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var $me,Kme;function Xme(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function hmt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Jme(r.key),r)}}function t0(){return t0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=mmt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},t0.apply(this,arguments)}function mmt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=wg(n)););return n}function m7(n,e){return(m7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vmt(n,e){if(e&&("object"===NE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uk(n)}function uk(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wg(n){return(wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function qme(n,e,t){return(e=Jme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jme(n){var e=function bmt(n,e){if("object"!==NE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==NE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===NE(e)?e:String(e)}function Qme(n,e,t){(function wmt(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,e),e.set(n,t)}function S3(n,e,t){return function Smt(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,ege(n,e,"set"),t),t}function ia(n,e){return function Mmt(n,e){return e.get?e.get.call(n):e.value}(n,ege(n,e,"get"))}function ege(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}var tge="nestedHeaders",Ia=new WeakMap,Yv=new WeakMap,Cmt=function(n){!function gmt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&m7(n,e)}(t,n);var e=function ymt(n){var e=function _mt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=wg(n);if(e){var o=wg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vmt(this,i)}}(t);function t(){var r;hmt(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Qme(uk(r=e.call.apply(e,[this].concat(o))),Ia,{writable:!0,value:new amt}),Qme(uk(r),Yv,{writable:!0,value:null}),qme(uk(r),"ghostTable",new fmt(r.hot,function(a,u){return r.getHeaderSettings(a,u)})),qme(uk(r),"detectedOverlappedHeaders",!1),r}return function pmt(n,e,t){e&&Zme(n.prototype,e),t&&Zme(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[tge]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var s=this.hot.getSettings().nestedHeaders;(!Array.isArray(s)||!Array.isArray(s[0]))&&cs(ns($me||($me=Xme(["Your Nested Headers plugin configuration is invalid. The settings has to be \n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"],["Your Nested Headers plugin configuration is invalid. The settings has to be\\x20\n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"])))),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(){return i.onAfterOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterGetColumnHeaderRenderers",function(a){return i.onAfterGetColumnHeaderRenderers(a)}),this.addHook("modifyColWidth",function(){return i.onModifyColWidth.apply(i,arguments)}),this.addHook("modifyColumnHeaderValue",function(){return i.onModifyColumnHeaderValue.apply(i,arguments)}),this.addHook("beforeHighlightingColumnHeader",function(){return i.onBeforeHighlightingColumnHeader.apply(i,arguments)}),this.addHook("beforeCopy",function(){return i.onBeforeCopy.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),t0(wg(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var i=this;if(this.hot.view){var s=this.hot.getSettings().nestedHeaders;ia(this,Ia).setColumnsLimit(this.hot.countCols()),Array.isArray(s)&&(this.detectedOverlappedHeaders=ia(this,Ia).setState(s)),this.detectedOverlappedHeaders&&cs(ns(Kme||(Kme=Xme(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration \n                        is currently not supported."],["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20\n                        is currently not supported."])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(function(a,u){var c=!0===a?"hide-column":"show-column";ia(i,Ia).triggerColumnModification(c,u)}),!ia(this,Yv)&&this.enabled&&S3(this,Yv,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(function(a){a.forEach(function(u){var f=u.index;if("replace"===u.op){var g=!0===u.newValue?"hide-column":"show-column";ia(i,Ia).triggerColumnModification(g,f)}}),i.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),t0(wg(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),ia(this,Ia).clear(),ia(this,Yv).unsubscribe(),S3(this,Yv,null),this.ghostTable.clear(),t0(wg(t.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return ia(this,Ia)}},{key:"getLayersCount",value:function(){return ia(this,Ia).getLayersCount()}},{key:"getHeaderSettings",value:function(i,o){return ia(this,Ia).getHeaderSettings(i,o)}},{key:"clearColspans",value:function(){if(this.hot.view)for(var i=this.hot.view._wt,o=i.getSetting("columnHeaders").length,s=i.wtTable.THEAD,a=i.wtOverlays.topOverlay.clone.wtTable.THEAD,u=i.wtOverlays.topInlineStartCornerOverlay?i.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,c=0;c<o;c++){var f=s.childNodes[c];if(!f)break;for(var p=a.childNodes[c],g=u?u.childNodes[c]:null,v=0,w=f.childNodes.length;v<w;v++)f.childNodes[v].removeAttribute("colspan"),Bi(f.childNodes[v],"hiddenHeader"),p&&p.childNodes[v]&&(p.childNodes[v].removeAttribute("colspan"),Bi(p.childNodes[v],"hiddenHeader")),u&&g&&g.childNodes[v]&&(g.childNodes[v].removeAttribute("colspan"),Bi(g.childNodes[v],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(i){var o=this,s=this.hot.view._wt.getSetting("fixedColumnsStart");return function(a,u){var c,f=o.hot,g=f.view,v=f.columnIndexMapper.getVisualFromRenderableIndex(a);null===v&&(v=a),u.removeAttribute("colspan"),Bi(u,"hiddenHeader");var w=null!==(c=ia(o,Ia).getHeaderSettings(i,v))&&void 0!==c?c:{label:""},M=w.colspan;if(w.isPlaceholder||w.isHidden)Dn(u,"hiddenHeader");else if(M>1){var H,V,z=g._wt.wtOverlays,X=null===(H=z.topInlineStartCornerOverlay)||void 0===H?void 0:H.clone.wtTable.THEAD.contains(u),re=null===(V=z.inlineStartOverlay)||void 0===V?void 0:V.clone.wtTable.THEAD.contains(u),me=X||re?Math.min(M,s-a):M;me>1&&u.setAttribute("colspan",me)}o.hot.view.appendColHeader(v,u,function(){return o.getColumnHeaderValue.apply(o,arguments)},i)}}},{key:"getColumnHeaderValue",value:function(i,o){var s,a=null!==(s=ia(this,Ia).getHeaderSettings(o,i))&&void 0!==s?s:{};return a.isPlaceholder||a.isHidden?"":this.hot.getColHeader(i,o)}},{key:"onBeforeHighlightingColumnHeader",value:function(i,o,s){var a=ia(this,Ia).getHeaderTreeNodeData(o,i);if(!a)return i;var u=s.classNames,c=s.columnCursor,f=s.selectionType,p=s.selectionWidth,g=ia(this,Ia).getHeaderSettings(o,i),v=g.isRoot;if(f===pA){if(!v)return a.columnIndex}else f===vF&&(g.colspan>p-c||!v)&&(u.length=0);return i}},{key:"onBeforeCopy",value:function(i,o,s){if(0!==s.columnHeadersCount)for(var u=0;u<o.length;u++){var c=o[u],f=c.startRow,p=c.startCol,g=c.endRow,v=c.endCol,w=g-f+1;if(f>=0||1==p-v+1)break;for(var C=p;C<=v;C++)for(var L=f;L<=g;L++){var H,V=w+L,z=C-p;0!==z&&!1===(null===(H=ia(this,Ia).getHeaderTreeNodeData(L,C))||void 0===H?void 0:H.isRoot)&&(i[V][z]="")}}}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s,a){this._getHeaderTreeNodeDataByCoords(o)&&(a.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){var s=this._getHeaderTreeNodeDataByCoords(o);if(s){var a=this.hot.selection,u=a.isSelected()?a.getSelectedRange().current():null,c=[],f=s.columnIndex,p=s.origColspan,g=!a.inInSelection(o);i.shiftKey&&u?o.col<u.from.col?c.push(u.getTopEndCorner().col,f,o.row):c.push(o.col>u.from.col?u.getTopStartCorner().col:f,f+p-1,o.row):(n4(i)||tw(i)&&g)&&c.push(f,f+p-1,o.row),a.selectColumns.apply(a,c)}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,s,a){var u;if(this.hot.view.isMouseDown()){var c=this._getHeaderTreeNodeDataByCoords(o);if(c){var f=c.columnIndex,p=c.origColspan,g=this.hot.getSelectedRangeLast(),v=g.getTopStartCorner(),w=g.getBottomEndCorner(),M=g.from;a.column=!0,a.cell=!0;var C=[];o.col<M.col?C.push(w.col,f):C.push(o.col>M.col?v.col:f,f+p-1),(u=this.hot).selectColumns.apply(u,C)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(i){i.length=0;for(var o=0;o<ia(this,Ia).getLayersCount();o++)i.push(this.headerRendererFactory(o))}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){for(var o=ia(this,Ia).getLayersCount(),s=i.startColumn,a=!!o,u=0;u<o;u++){var c=ia(this,Ia).findLeftMostColumnIndex(u,i.startColumn),f=this.hot.columnIndexMapper.getRenderableFromVisualIndex(c);if(c>=0&&(a=!1),kc(f)&&f<i.startColumn){s=f;break}}i.startColumn=a?ia(this,Ia).getHeaderTreeNodeData(0,s).columnIndex:s}},{key:"onModifyColWidth",value:function(i,o){var s=this.ghostTable.getWidth(o);return i>s?i:s}},{key:"onModifyColumnHeaderValue",value:function(i,o,s){var a;return(null!==(a=ia(this,Ia).getHeaderTreeNodeData(s,o))&&void 0!==a?a:{label:""}).label}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){S3(this,Ia,null),null!==ia(this,Yv)&&(ia(this,Yv).unsubscribe(),S3(this,Yv,null)),t0(wg(t.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(i){if(!(i.row>=0||i.col<0))return ia(this,Ia).getHeaderTreeNodeData(i.row,i.col)}}],[{key:"PLUGIN_KEY",get:function(){return tge}},{key:"PLUGIN_PRIORITY",get:function(){return 280}}]),t}(rs);function nge(n){return function Dmt(n){if(Array.isArray(n))return g7(n)}(n)||function Rmt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Tmt(n,e){if(n){if("string"==typeof n)return g7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g7(n,e)}}(n)||function Emt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FE(n){return(FE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kmt(r.key),r)}}function kmt(n){var e=function Pmt(n,e){if("object"!==FE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==FE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===FE(e)?e:String(e)}const Imt=function(){function n(e,t){(function Amt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.data=null,this.plugin=e,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}return function Omt(n,e,t){e&&rge(n.prototype,e),t&&rge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var t;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}},{key:"updateWithData",value:function(t){this.setData(t),this.rewriteCache()}},{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},jr(0,this.data.length-1,function(r){t.cacheNode(t.data[r],0,null)})}},{key:"cacheNode",value:function(t,r,i){var o=this;this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&ut(t.__children,function(s){o.cacheNode(s,r+1,t)})}},{key:"getDataObject",value:function(t){return null==t?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,r,i,o){var s=this,a=!1,u=r;if(isNaN(u)&&u.end)return u;var c=t;return c||(c={__children:this.data},a=!0,u-=1),null!=i&&u===i?{result:c,end:!0}:null!=o&&c===o?{result:u,end:!0}:(u+=1,c.__children&&ut(c.__children,function(f){if(s.parentReference.set(f,a?null:c),u=s.readTreeNodes(f,u,i,o),isNaN(u)&&u.end)return!1}),u)}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return no(this.data[0],function(r,i){t[i]=null}),t}},{key:"getRowIndex",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var r;r=isNaN(t)?t:this.getDataObject(t);var i=this.getRowParent(t);return null==i?this.data.indexOf(r):i.__children.indexOf(r)}},{key:"countAllRows",value:function(){return this.countChildren({__children:this.data})}},{key:"countChildren",value:function(t){var r=this,i=0,o=t;return isNaN(o)||(o=this.getDataObject(o)),o&&o.__children?(ut(o.__children,function(s){i+=1,s.__children&&(i+=r.countChildren(s))}),i):0}},{key:"getRowParent",value:function(t){var r;return r=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(r)}},{key:"getRowObjectParent",value:function(t){return t&&"object"===FE(t)?this.cache.nodeInfo.get(t).parent:null}},{key:"getRowLevel",value:function(t){var r;return(r=isNaN(t)?t:this.getDataObject(t))?this.getRowObjectLevel(r):null}},{key:"getRowObjectLevel",value:function(t){return null==t?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var r=t;return isNaN(r)||(r=this.getDataObject(r)),!(!r.__children||!r.__children.length)}},{key:"isChild",value:function(t){return null!==this.getRowParent(t)}},{key:"getChild",value:function(t,r){var i;return(null===(i=t.__children)||void 0===i?void 0:i[r])||null}},{key:"isRowHighestLevel",value:function(t){return!this.isChild(t)}},{key:"isParent",value:function(t){var r,i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&0!==(null===(r=i.__children)||void 0===r?void 0:r.length)}},{key:"addChild",value:function(t,r){var i=r;this.hot.runHooks("beforeAddChild",t,i);var o=null;t&&(o=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(t)+1,1);var s=t;t||(s=this.mockParent()),s.__children||(s.__children=[]),i||(i=this.mockNode()),s.__children.push(i),this.rewriteCache();var a=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(a,1),this.hot.runHooks("afterCreateRow",a,1),this.hot.runHooks("afterAddChild",t,i)}},{key:"addChildAtIndex",value:function(t,r,i){var s,o=i;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",t,o,r),t){var u=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",u,1),t.__children.splice(r,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(u,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",u,1),s=u}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[r]);o=this.getDataObject(s),this.hot.runHooks("afterAddChild",t,o,r)}},{key:"addSibling",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",i=this.translateTrimmedRow(t),o=this.getRowParent(i),s=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(o,s+1,null);break;case"above":this.addChildAtIndex(o,s,null)}}},{key:"detachFromParent",value:function(t){var r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=null,s=[];Array.isArray(t)?(jr(t[0],t[2],function(L){var H=r.translateTrimmedRow(L);s.push(r.getDataObject(H))}),jr(0,s.length-2,function(L){r.detachFromParent(s[L],!1)}),o=s[s.length-1]):o=t;var a=this.getRowIndex(o),u=this.countChildren(o),c=this.getRowIndexWithinParent(o),f=this.getRowParent(o),p=this.getRowParent(f),g=this.getRowIndex(p),v=null;if(this.hot.runHooks("beforeDetachChild",f,o),null!=c){var w=Array.from(new Array(a+u+1).keys()).splice(-1*(u+1));if(this.hot.runHooks("beforeRemoveRow",a,u+1,w,this.plugin.pluginName),f.__children.splice(c,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",a,u+1,w,this.plugin.pluginName),p){v=g+this.countChildren(p);var M=this.getChild(p,this.countChildren(p)-1),C=this.getRowIndex(M);this.hot.runHooks("beforeCreateRow",C+1,u+1,this.plugin.pluginName),p.__children.push(o)}else v=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",v-2,u+1,this.plugin.pluginName),this.data.push(o)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",v-2,u+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",f,o,this.getRowIndex(o)),i&&this.hot.render()}},{key:"filterData",value:function(t,r,i){var o=this,s=[];ut(i,function(a){s.push(o.getDataObject(a))}),ut(s,function(a){var u=o.getRowIndexWithinParent(a),c=o.getRowParent(a);null===c?o.data.splice(u,1):c.__children.splice(u,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,r,i){var o=this.getDataObject(t-1),s=null,a=t;if(o&&o.__children&&0===o.__children.length?(s=o,a=0):t<this.countAllRows()&&(s=this.getRowParent(t),a=this.getRowIndexWithinParent(t)),s)if(i){var u;(u=s.__children).splice.apply(u,[a,r].concat(nge(i)))}else s.__children.splice(a,r);else if(i){var c;(c=this.data).splice.apply(c,[a,r].concat(nge(i)))}else this.data.splice(a,r);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(t){var r=t,i=null;do{null!==(i=this.getRowParent(i))&&(r=i)}while(null!==i);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(t,r,i,o){var s=r===this.hot.countRows(),a=this.getRowParent(t),u=this.getRowIndexWithinParent(t),c=a.__children.slice(u,u+1),f=t>r,p=this.getRowParent(s?r-1:r);null==p&&(p=this.getRowParent(r-1)),null==p&&(p=this.getDataObject(r-1)),p?p.__children||(p.__children=[]):(p=this.getDataObject(r)).__children=[];var g=s||i||o?p.__children.length:this.getRowIndexWithinParent(r),v=a===p;p.__children.splice(g,0,c[0]),a.__children.splice(u+(f&&v?1:0),1),this.syncRowWithRawSource(a),v||this.syncRowWithRawSource(p)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}},{key:"untranslateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}]),n}();function ck(n){return(ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ige(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fmt(r.key),r)}}function Nmt(n,e,t){return e&&ige(n.prototype,e),t&&ige(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fmt(n){var e=function Hmt(n,e){if("object"!==ck(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ck(e)?e:String(e)}const y7=Nmt(function n(e,t){(function Bmt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.hot=t,this.plugin=e});function HE(n){return(HE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function oge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Umt(r.key),r)}}function Umt(n){var e=function Wmt(n,e){if("object"!==HE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==HE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===HE(e)?e:String(e)}function v7(n,e){return(v7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function $mt(n,e){if(e&&("object"===HE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Kmt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function M3(n){return(M3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const sge=function(n){!function Ymt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&v7(n,e)}(t,n);var e=function Gmt(n){var e=function Xmt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=M3(n);if(e){var o=M3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $mt(this,i)}}(t);function t(r,i){var o;return function zmt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsingUI=o.plugin.collapsingUI,o.rowHeaderWidthCache=null,o}return function jmt(n,e,t){e&&oge(n.prototype,e),t&&oge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendLevelIndicators",value:function(i,o){var s=this.hot.toPhysicalRow(i),a=this.dataManager.getRowLevel(s),u=this.dataManager.getDataObject(s),c=o.getElementsByTagName("DIV")[0],f=c.querySelector("span.rowHeader");if(ut(c.querySelectorAll('[class^="ht_nesting"]'),function(M){M&&c.removeChild(M)}),Dn(o,t.CSS_CLASSES.indicatorContainer),a){var g=this.hot.rootDocument,v=f.cloneNode(!0);c.innerHTML="",jr(0,a-1,function(){var M=g.createElement("SPAN");Dn(M,t.CSS_CLASSES.emptyIndicator),c.appendChild(M)}),c.appendChild(v)}if(this.dataManager.hasChildren(u)){var w=this.hot.rootDocument.createElement("DIV");Dn(o,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(s)?Dn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.expandButton)):Dn(w,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.collapseButton)),c.appendChild(w)}}},{key:"updateRowHeaderWidth",value:function(i){var o=i;o||(o=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*o+25),this.hot.render()}}],[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),t}(y7);function BE(n){return(BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function age(n){return function egt(n){if(Array.isArray(n))return _7(n)}(n)||function Qmt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Jmt(n,e){if(n){if("string"==typeof n)return _7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _7(n,e)}}(n)||function qmt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rgt(r.key),r)}}function rgt(n){var e=function igt(n,e){if("object"!==BE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==BE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===BE(e)?e:String(e)}function b7(n,e){return(b7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function agt(n,e){if(e&&("object"===BE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function lgt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function x3(n){return(x3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}const dgt=function(n){!function ogt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&b7(n,e)}(t,n);var e=function sgt(n){var e=function ugt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=x3(n);if(e){var o=x3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return agt(this,i)}}(t);function t(r,i){var o;return function tgt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(o=e.call(this,r,i)).dataManager=o.plugin.dataManager,o.collapsedRows=[],o.collapsedRowsStash={stash:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.lastCollapsedRows=o.collapsedRows.slice(0),o.expandMultipleChildren(o.lastCollapsedRows,a)},shiftStash:function(a,u){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==u&&(u=1/0),ut(o.lastCollapsedRows,function(f,p){f>=a&&f<u&&(o.lastCollapsedRows[p]=f+c)})},applyStash:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.collapseMultipleChildren(o.lastCollapsedRows,a),o.lastCollapsedRows=void 0},trimStash:function(a,u){jr(a,a+u-1,function(c){var f=o.lastCollapsedRows.indexOf(c);f>-1&&o.lastCollapsedRows.splice(f,1)})}},o}return function ngt(n,e,t){e&&lge(n.prototype,e),t&&lge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"collapseChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,f=null,p=null;return isNaN(i)?f=this.dataManager.getRowIndex(c=i):(c=this.dataManager.getDataObject(i),f=i),this.dataManager.hasChildren(c)&&ut(c.__children,function(g){u.push(o.dataManager.getRowIndex(g))}),p=this.collapseRows(u,!0,!1),a&&this.trimRows(p),s&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(f)&&this.collapsedRows.push(f),p}},{key:"collapseMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];ut(i,function(c){u.push.apply(u,age(o.collapseChildren(c,!1,!1)))}),a&&this.trimRows(u),s&&this.renderAndAdjust()}},{key:"collapseRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([i],o)}},{key:"collapseRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return ut(i,function(c){u.push(c),s&&o.collapseChildRows(c,u)}),a&&this.trimRows(u),u}},{key:"collapseChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);ut(c.__children,function(f){var p=o.dataManager.getRowIndex(f);s.push(p),o.collapseChildRows(p,s)})}u&&this.trimRows(s)}},{key:"expandRow",value:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([i],o)}},{key:"expandRows",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=[];return ut(i,function(c){u.push(c),s&&o.expandChildRows(c,u)}),a&&this.untrimRows(u),u}},{key:"expandChildRows",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(i)){var c=this.dataManager.getDataObject(i);ut(c.__children,function(f){if(!o.isAnyParentCollapsed(f)){var p=o.dataManager.getRowIndex(f);s.push(p),o.expandChildRows(p,s)}})}u&&this.untrimRows(s)}},{key:"expandChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[],c=null,f=null,p=null;return isNaN(i)?(c=i,f=this.dataManager.getRowIndex(i)):(c=this.dataManager.getDataObject(i),f=i),this.collapsedRows.splice(this.collapsedRows.indexOf(f),1),this.dataManager.hasChildren(c)&&ut(c.__children,function(g){var v=o.dataManager.getRowIndex(g);u.push(v)}),p=this.expandRows(u,!0,!1),a&&this.untrimRows(p),s&&this.renderAndAdjust(),p}},{key:"expandMultipleChildren",value:function(i){var o=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=[];ut(i,function(c){u.push.apply(u,age(o.expandChildren(c,!1,!1)))}),a&&this.untrimRows(u),s&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];ut(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.collapseMultipleChildren(s),this.renderAndAdjust()}},{key:"expandAll",value:function(){var i=this,o=this.dataManager.getData(),s=[];ut(o,function(a){i.dataManager.hasChildren(a)&&s.push(a)}),this.expandMultipleChildren(s),this.renderAndAdjust()}},{key:"trimRows",value:function(i){var o=this;this.hot.batchExecution(function(){ut(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"untrimRows",value:function(i){var o=this;this.hot.batchExecution(function(){ut(i,function(s){o.plugin.collapsedRowsMap.setValueAtIndex(s,!1)})},!0)}},{key:"areChildrenCollapsed",value:function(i){var o=this,s=isNaN(i)?i:this.dataManager.getDataObject(i),a=!0;return null===s&&(s={__children:this.dataManager.data}),this.dataManager.hasChildren(s)&&ut(s.__children,function(u){var c=o.dataManager.getRowIndex(u);if(!o.plugin.collapsedRowsMap.getValueAtIndex(c))return a=!1,!1}),a}},{key:"isAnyParentCollapsed",value:function(i){for(var o=i;null!==o;){o=this.dataManager.getRowParent(o);var s=this.dataManager.getRowIndex(o);if(this.collapsedRows.indexOf(s)>-1)return!0}return!1}},{key:"toggleState",value:function(i,o){if(!(o.col>=0)){var s=this.translateTrimmedRow(o.row);Ai(i.target,sge.CSS_CLASSES.button)&&(this.areChildrenCollapsed(s)?this.expandChildren(s):this.collapseChildren(s),dp(i))}}},{key:"translateTrimmedRow",value:function(i){return this.hot.toPhysicalRow(i)}},{key:"untranslateTrimmedRow",value:function(i){return this.hot.toVisualRow(i)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}]),t}(y7);function VE(n){return(VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function uge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pgt(r.key),r)}}function pgt(n){var e=function mgt(n,e){if("object"!==VE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==VE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===VE(e)?e:String(e)}function w7(n,e){return(w7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function vgt(n,e){if(e&&("object"===VE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cge(n)}function cge(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function C3(n){return(C3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var dge=new WeakMap;const wgt=function(n){!function ggt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&w7(n,e)}(t,n);var e=function ygt(n){var e=function _gt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=C3(n);if(e){var o=C3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vgt(this,i)}}(t);function t(r,i){var o;return function fgt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=e.call(this,r,i),dge.set(cge(o),{row_above:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"above")},row_below:function(a,u){o.dataManager.addSibling(u[u.length-1].start.row,"below")}}),o.dataManager=o.plugin.dataManager,o}return function hgt(n,e,t){e&&uge(n.prototype,e),t&&uge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"appendOptions",value:function(i){var o=this,s=[{key:"add_child",name:function(){return this.getTranslatedPhrase(pG)},callback:function(){var u=o.dataManager.translateTrimmedRow(o.hot.getSelectedLast()[0]),c=o.dataManager.getDataObject(u);o.dataManager.addChild(c)},disabled:function(){var u=o.hot.getSelectedLast();return!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(mG)},callback:function(){o.dataManager.detachFromParent(o.hot.getSelectedLast())},disabled:function(){var u=o.hot.getSelectedLast(),c=o.dataManager.translateTrimmedRow(u[0]);return!o.dataManager.getRowParent(c)||!u||u[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{name:"---------"}];return jr(0,i.items.length-1,function(a){if(0===a)return ut(s,function(u,c){i.items.splice(a+c,0,u)}),!1}),this.modifyRowInsertingOptions(i)}},{key:"modifyRowInsertingOptions",value:function(i){var o=dge.get(this);return jr(0,i.items.length-1,function(s){var a=o[i.items[s].key];null!=a&&(i.items[s].callback=a)}),i}}]),t}(y7);function dk(n){return(dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var fge;function hge(n){return function Cgt(n){if(Array.isArray(n))return S7(n)}(n)||function xgt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Mgt(n,e){if(n){if("string"==typeof n)return S7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S7(n,e)}}(n)||function Sgt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Dgt(r.key),r)}}function Dgt(n){var e=function Agt(n,e){if("object"!==dk(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==dk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===dk(e)?e:String(e)}var Ogt=function(){function n(e){(function Tgt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}return function Rgt(n,e,t){e&&pge(n.prototype,e),t&&pge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"onBeforeRowMove",value:function(t,r,i,o){var s=this;if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:o}))return!1;this.movedToCollapsed=!1;var u=i===this.hot.countRows(),c=u?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),f=!0,p=t.map(function(C){if(!f)return!1;var L=s.dataManager.translateTrimmedRow(C);return f=s.shouldAllowMoving(L,c),L}),g=-1===p.indexOf(c);if(!f||!g)return!1;var v=this.getBaseParent(p),w=this.getTargetParent(u,c),M=v===w;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(w),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(p,c,M),this.moveRows(p,c,w),this.dataManager.rewriteCache(),this.moveCellsMeta(p,c),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,o,o&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}},{key:"displayAPICompatibilityWarning",value:function(t){var r=t.rows,i=t.finalIndex,o=t.dropIndex,s=t.movePossible,a=!1;return Ms(o)&&(cs(ns(fge||(fge=function Egt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows \n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."],["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20\n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."])))),this.hot.runHooks("afterRowMove",r,i,o,s,!1),a=!0),a}},{key:"shouldAllowMoving",value:function(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||0===r)}},{key:"getBaseParent",value:function(t){return this.dataManager.getRowParent(t[0])}},{key:"getTargetParent",value:function(t,r){var i=this.dataManager.getRowParent(t?r-1:r);return null==i&&(i=this.dataManager.getRowParent(r-1)),i}},{key:"shiftCollapsibleParentsLocations",value:function(t,r,i){i||(Math.max.apply(Math,hge(t))<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}},{key:"moveRows",value:function(t,r,i){var o=this,s=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(function(){t.forEach(function(a){o.dataManager.moveRow(a,r,o.movedToCollapsed,s)})})}},{key:"moveCellsMeta",value:function(t,r){var o,i=this,s=[],a=Math.max.apply(Math,hge(t))<r;t.forEach(function(u){s.push(i.hot.getCellMetaAtRow(u))}),this.hot.spliceCellsMeta(t[0],t.length),(o=this.hot).spliceCellsMeta.apply(o,[r-(a?s.length:0),0].concat(s))}},{key:"selectCells",value:function(t,r){var u,i=t.length,o=0,s=0,a=null;if(this.movedToCollapsed){var c;c=this.dataManager.translateTrimmedRow(t[i-1]<r?r-i:r);var f=this.dataManager.getRowParent(null===c?this.hot.countSourceRows()-1:c-1),p=this.dataManager.getRowIndex(f);s=o=this.dataManager.untranslateTrimmedRow(p)}else t[i-1]<r?o=(s=r-1)-i+1:s=(o=r)+i-1;a=this.hot.selection,u=this.hot.countCols()-1,a.setRangeStart(this.hot._createCellCoords(o,0)),a.setRangeEnd(this.hot._createCellCoords(s,u),!0)}},{key:"isRowOrderChanged",value:function(t,r){return t.some(function(i,o){return i-o!==r})}}]),n}();function zE(n){return(zE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function M7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Bgt(r.key),r)}}function Bgt(n){var e=function Vgt(n,e){if("object"!==zE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==zE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===zE(e)?e:String(e)}function n0(){return n0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=zgt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},n0.apply(this,arguments)}function zgt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Sg(n)););return n}function x7(n,e){return(x7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Wgt(n,e){if(e&&("object"===zE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gge(n)}function gge(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sg(n){return(Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var C7="nestedRows",Mg=new WeakMap,Kgt=function(n){!function jgt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&x7(n,e)}(t,n);var e=function Ugt(n){var e=function Ygt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Sg(n);if(e){var o=Sg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Wgt(this,i)}}(t);function t(r){var i;return function Fgt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).dataManager=null,i.headersUI=null,i.collapsedRowsMap=null,Mg.set(gge(i),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),i}return function Hgt(n,e,t){e&&mge(n.prototype,e),t&&mge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[C7]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new iA),this.dataManager=new Imt(this,this.hot),this.collapsingUI=new dgt(this,this.hot),this.headersUI=new sge(this,this.hot),this.contextMenuUI=new wgt(this,this.hot),this.rowMoveController=new Ogt(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeViewRender",function(){return i.onBeforeViewRender.apply(i,arguments)}),this.addHook("modifyRowData",function(){return i.onModifyRowData.apply(i,arguments)}),this.addHook("modifySourceLength",function(){return i.onModifySourceLength.apply(i,arguments)}),this.addHook("beforeDataSplice",function(){return i.onBeforeDataSplice.apply(i,arguments)}),this.addHook("filterData",function(){return i.onFilterData.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeRemoveRow",function(){return i.onBeforeRemoveRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("beforeAddChild",function(){return i.onBeforeAddChild.apply(i,arguments)}),this.addHook("afterAddChild",function(){return i.onAfterAddChild.apply(i,arguments)}),this.addHook("beforeDetachChild",function(){return i.onBeforeDetachChild.apply(i,arguments)}),this.addHook("afterDetachChild",function(){return i.onAfterDetachChild.apply(i,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return i.onModifyRowHeaderWidth.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("beforeRowMove",function(){return i.onBeforeRowMove.apply(i,arguments)}),this.addHook("beforeLoadData",function(o){return i.onBeforeLoadData(o)}),this.addHook("beforeUpdateData",function(o){return i.onBeforeLoadData(o)}),n0(Sg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),n0(Sg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var i=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(i),n0(Sg(t.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(i,o,s,a){return this.rowMoveController.onBeforeRowMove(i,o,s,a)}},{key:"disableCoreAPIModifiers",value:function(){Mg.get(this).skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){Mg.get(this).skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(i,o,s){this.collapsingUI.toggleState(i,o,s)}},{key:"onModifyRowData",value:function(i){if(!Mg.get(this).skipCoreAPIModifiers)return this.dataManager.getDataObject(i)}},{key:"onModifySourceLength",value:function(){if(!Mg.get(this).skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(i,o,s){return!(!Mg.get(this).skipCoreAPIModifiers&&!this.dataManager.isRowHighestLevel(i)&&(this.dataManager.spliceData(i,o,s),1))}},{key:"onFilterData",value:function(i,o,s){var a=Mg.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(s[0],o),this.collapsingUI.collapsedRowsStash.shiftStash(s[0],null,-1*o),this.dataManager.filterData(i,o,s),a.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(i){return this.contextMenuUI.appendOptions(i)}},{key:"onAfterGetRowHeader",value:function(i,o){this.headersUI.appendLevelIndicators(i,o)}},{key:"onModifyRowHeaderWidth",value:function(i){return this.headersUI.rowHeaderWidthCache||i}},{key:"onAfterRemoveRow",value:function(i,o,s,a){var u=this;if(a!==this.pluginName){var c=Mg.get(this);setTimeout(function(){c.skipRender=null,u.headersUI.updateRowHeaderWidth(),u.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onBeforeRemoveRow",value:function(i,o,s){var a=this,u=Array.from(s.reduce(function(c,f){if(a.dataManager.isParent(f)){var p=a.dataManager.getDataObject(f).__children;return c.add(f),Array.isArray(p)&&p.forEach(function(g){return c.add(a.dataManager.getRowIndex(g))}),c}return c.add(f)},new Set));s.length=0,s.push.apply(s,u)}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(i,o){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(o)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(i,o,s){this.collapsingUI.collapsedRowsStash.shiftStash(s,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var i=Math.max.apply(Math,function kgt(n){return function Ngt(n){if(Array.isArray(n))return M7(n)}(n)||function Igt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function Lgt(n,e){if(n){if("string"==typeof n)return M7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M7(n,e)}}(n)||function Pgt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.dataManager.cache.levels));i>0&&this.headersUI.updateRowHeaderWidth(i)}},{key:"onBeforeViewRender",value:function(i,o){Mg.get(this).skipRender&&(o.skipRender=!0)}},{key:"destroy",value:function(){n0(Sg(t.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(i){if(!function Nze(n){return!!(Array.isArray(n)&&n.length&&n.every(function(e){return"object"===oY(e)&&!Array.isArray(e)&&null!==e}))}(i))return t4("The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled."),this.hot.getSettings()[C7]=!1,void this.disablePlugin();this.dataManager.setData(i),this.dataManager.rewriteCache()}}],[{key:"PLUGIN_KEY",get:function(){return C7}},{key:"PLUGIN_PRIORITY",get:function(){return 300}}]),t}(rs);function fk(n){return(fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Xgt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qgt(r.key),r)}}function qgt(n){var e=function Jgt(n,e){if("object"!==fk(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==fk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===fk(e)?e:String(e)}const eyt=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Xgt(this,n),this.rootWindow=t,this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}return function Zgt(n,e,t){e&&yge(n.prototype,e),t&&yge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"saveValue",value:function(t,r){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(r)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,r){var i=void 0===t?r:t,o=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(i));return null===o?void 0:JSON.parse(o)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;ut(this.savedKeys,function(r,i){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[i]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),r="string"==typeof t?JSON.parse(t):void 0;this.savedKeys=r||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),n}();function jE(n){return(jE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ryt(r.key),r)}}function ryt(n){var e=function iyt(n,e){if("object"!==jE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==jE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===jE(e)?e:String(e)}function r0(){return r0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=oyt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},r0.apply(this,arguments)}function oyt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=xg(n)););return n}function E7(n,e){return(E7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function lyt(n,e){if(e&&("object"===jE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function uyt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function xg(n){return(xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}Tr.getSingleton().register("persistentStateSave"),Tr.getSingleton().register("persistentStateLoad"),Tr.getSingleton().register("persistentStateReset");var _ge="persistentState",fyt=function(n){!function syt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&E7(n,e)}(t,n);var e=function ayt(n){var e=function cyt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=xg(n);if(e){var o=xg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lyt(this,i)}}(t);function t(r){var i;return function tyt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).storage=void 0,i}return function nyt(n,e,t){e&&vge(n.prototype,e),t&&vge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[_ge]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.storage||(this.storage=new eyt(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(o,s){return i.saveValue(o,s)}),this.addHook("persistentStateLoad",function(o,s){return i.loadValue(o,s)}),this.addHook("persistentStateReset",function(){return i.resetValue()}),r0(xg(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,r0(xg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r0(xg(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(i,o){o.value=this.storage.loadValue(i)}},{key:"saveValue",value:function(i,o){this.storage.saveValue(i,o)}},{key:"resetValue",value:function(i){void 0===i?this.storage.resetAll():this.storage.reset(i)}},{key:"destroy",value:function(){r0(xg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return _ge}},{key:"PLUGIN_PRIORITY",get:function(){return 0}}]),t}(rs);function UE(n){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function T7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,byt(r.key),r)}}function byt(n){var e=function wyt(n,e){if("object"!==UE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==UE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===UE(e)?e:String(e)}function o0(){return o0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Syt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},o0.apply(this,arguments)}function Syt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Cg(n)););return n}function R7(n,e){return(R7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Cyt(n,e){if(e&&("object"===UE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Eyt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Cg(n){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var D7="search",Ayt=function(e,t,r,i,o){e.getCellMeta(t,r).isSearchResult=o},Oyt=function(e,t,r){return!(Ms(e)||null===e||!e.toLocaleLowerCase||0===e.length||Ms(t)||null===t)&&-1!==t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))},kyt=function(n){!function Myt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&R7(n,e)}(t,n);var e=function xyt(n){var e=function Tyt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Cg(n);if(e){var o=Cg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Cyt(this,i)}}(t);function t(r){var i;return function vyt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).callback=Ayt,i.queryMethod=Oyt,i.searchResultClass="htSearchResult",i}return function _yt(n,e,t){e&&bge(n.prototype,e),t&&bge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[D7]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[D7];this.updatePluginSettings(o),this.addHook("beforeRenderer",function(){return i.onBeforeRenderer.apply(i,arguments)}),o0(Cg(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this,o=function(){return i.onBeforeRenderer.apply(i,arguments)};this.hot.addHook("beforeRenderer",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("beforeRenderer",o)}),o0(Cg(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),o0(Cg(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(i){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),u=this.hot.countRows(),c=this.hot.countCols(),f=[],p=this.hot;return jr(0,u-1,function(g){jr(0,c-1,function(v){var w=o.hot.getDataAtCell(g,v),M=o.hot.getCellMeta(g,v),C=M.search.callback||s,H=(M.search.queryMethod||a)(i,w,M);H&&f.push({row:g,col:v,data:w}),C&&C(p,g,v,w,H)})}),f}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(i){this.callback=i}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(i){this.queryMethod=i}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(i){this.searchResultClass=i}},{key:"updatePluginSettings",value:function(i){to(i)&&(i.searchResultClass&&this.setSearchResultClass(i.searchResultClass),i.queryMethod&&this.setQueryMethod(i.queryMethod),i.callback&&this.setCallback(i.callback))}},{key:"onBeforeRenderer",value:function(i,o,s,a,u,c){var g,f=c.className||[],p=[];"string"==typeof f?p=f.split(" "):(g=p).push.apply(g,function hyt(n){return function yyt(n){if(Array.isArray(n))return T7(n)}(n)||function gyt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function myt(n,e){if(n){if("string"==typeof n)return T7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T7(n,e)}}(n)||function pyt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f)),this.isEnabled()&&c.isSearchResult?p.includes(this.searchResultClass)||p.push("".concat(this.searchResultClass)):p.includes(this.searchResultClass)&&p.splice(p.indexOf(this.searchResultClass),1),c.className=p.join(" ")}},{key:"destroy",value:function(){o0(Cg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return D7}},{key:"PLUGIN_PRIORITY",get:function(){return 190}}]),t}(rs);function WE(n){return(WE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Iyt(r.key),r)}}function Iyt(n){var e=function Nyt(n,e){if("object"!==WE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==WE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===WE(e)?e:String(e)}function YE(){return YE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Fyt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},YE.apply(this,arguments)}function Fyt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Gv(n)););return n}function A7(n,e){return(A7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Vyt(n,e){if(e&&("object"===WE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function zyt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Gv(n){return(Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var Yyt=function(n){!function Hyt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&A7(n,e)}(t,n);var e=function Byt(n){var e=function jyt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Gv(n);if(e){var o=Gv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vyt(this,i)}}(t);function t(r){var i;return function Pyt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).scrollbars=[],i.clones=[],i.lockedCollection=!1,i.freezeOverlays=!1,i}return function Lyt(n,e,t){e&&wge(n.prototype,e),t&&wge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return Ine()}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterViewRender",function(){return i.onAfterViewRender()}),this.registerEvents(),YE(Gv(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,YE(Gv(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){YE(Gv(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.addHook("beforeTouchScroll",function(){return i.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return i.onAfterMomentumScroll()})}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var i=this.hot.view._wt.wtOverlays,o=i.topOverlay,s=i.bottomOverlay,a=i.inlineStartOverlay,u=i.topInlineStartCornerOverlay,c=i.bottomInlineStartCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(o),s.clone&&this.scrollbars.push(s),this.scrollbars.push(a),u&&this.scrollbars.push(u),c&&c.clone&&this.scrollbars.push(c),this.clones=[],o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),s.needFullRender&&this.clones.push(s.clone.wtTable.holder.parentNode),a.needFullRender&&this.clones.push(a.clone.wtTable.holder.parentNode),u&&this.clones.push(u.clone.wtTable.holder.parentNode),c&&c.clone&&this.clones.push(c.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,ut(this.clones,function(i){Dn(i,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var i=this;this.freezeOverlays=!1,ut(this.clones,function(o){Bi(o,"hide-tween"),Dn(o,"show-tween")}),this.hot._registerTimeout(function(){ut(i.clones,function(o){Bi(o,"show-tween")})},400),ut(this.scrollbars,function(o){o.refresh(),o.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}}],[{key:"PLUGIN_KEY",get:function(){return"touchScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 200}},{key:"SETTING_KEYS",get:function(){return!0}}]),t}(rs);function GE(n){return(GE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Kyt(r.key),r)}}function Kyt(n){var e=function Xyt(n,e){if("object"!==GE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==GE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===GE(e)?e:String(e)}function s0(){return s0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=Zyt(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},s0.apply(this,arguments)}function Zyt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=Eg(n)););return n}function O7(n,e){return(O7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Qyt(n,e){if(e&&("object"===GE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function evt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Eg(n){return(Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}var E3="trimRows",rvt=function(n){!function qyt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&O7(n,e)}(t,n);var e=function Jyt(n){var e=function tvt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=Eg(n);if(e){var o=Eg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Qyt(this,i)}}(t);function t(r){var i;return function Gyt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this,r)).trimmedRowsMap=null,i}return function $yt(n,e,t){e&&Sge(n.prototype,e),t&&Sge(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[E3]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new iA),this.trimmedRowsMap.addLocalHook("init",function(){return i.onMapInit()}),s0(Eg(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var i=this,o=this.hot.getSettings()[E3];Array.isArray(o)&&this.hot.batchExecution(function(){i.trimmedRowsMap.clear(),ut(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),s0(Eg(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),s0(Eg(t.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(i){var o=this,s=this.getTrimmedRows(),a=this.isValidConfig(i),u=s;a&&(u=Array.from(new Set(s.concat(i)))),!1!==this.hot.runHooks("beforeTrimRow",s,u,a)&&(a&&this.hot.batchExecution(function(){ut(i,function(f){o.trimmedRowsMap.setValueAtIndex(f,!0)})},!0),this.hot.runHooks("afterTrimRow",s,u,a,a&&u.length>s.length))}},{key:"trimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.trimRows(o)}},{key:"untrimRows",value:function(i){var o=this.getTrimmedRows(),s=this.isValidConfig(i),a=o,u=this.trimmedRowsMap.getValues().slice(),c=i.length>0;s&&c&&(ut(i,function(p){u[p]=!1}),a=Za(u,function(p,g,v){return g&&p.push(v),p},[])),!1!==this.hot.runHooks("beforeUntrimRow",o,a,s&&c)&&(s&&c&&this.trimmedRowsMap.setValues(u),this.hot.runHooks("afterUntrimRow",o,a,s&&c,s&&a.length<o.length))}},{key:"untrimRow",value:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];this.untrimRows(o)}},{key:"isTrimmed",value:function(i){return this.trimmedRowsMap.getValueAtIndex(i)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(i){var o=this.hot.countSourceRows();return i.every(function(s){return Number.isInteger(s)&&s>=0&&s<o})}},{key:"onMapInit",value:function(){var i=this,o=this.hot.getSettings()[E3];Array.isArray(o)&&this.hot.batchExecution(function(){ut(o,function(s){i.trimmedRowsMap.setValueAtIndex(s,!0)})},!0)}},{key:"destroy",value:function(){s0(Eg(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return E3}},{key:"PLUGIN_PRIORITY",get:function(){return 330}}]),t}(rs);function $E(n){return($E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Mge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ivt(r.key),r)}}function Cge(n,e,t){return e&&xge(n.prototype,e),t&&xge(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ivt(n){var e=function ovt(n,e){if("object"!==$E(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==$E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===$E(e)?e:String(e)}function Ege(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&k7(n,e)}function k7(n,e){return(k7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r})(n,e)}function Tge(n){var e=function lvt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var i,r=T3(n);if(e){var o=T3(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return svt(this,i)}}function svt(n,e){if(e&&("object"===$E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function avt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function T3(n){return(T3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Rge(n,e){return function mvt(n){if(Array.isArray(n))return n}(n)||function pvt(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||Dge(n,e)||function hvt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dge(n,e){if(n){if("string"==typeof n)return P7(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P7(n,e)}}function P7(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Sr(n){var e=this;this.instance=n,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,n.addHook("afterChange",function(t,r){var i=this,o=t&&t.length;o&&t.find(function(u){var c=Rge(u,4);return c[2]!==c[3]})&&e.done(function(){var c=t.reduce(function(p,g){return p.push(function uvt(n){return function fvt(n){if(Array.isArray(n))return P7(n)}(n)||function dvt(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Dge(n)||function cvt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g)),p},[]);ut(c,function(p){p[1]=n.propToCol(p[1])});var f=o>1?i.getSelected():[[c[0][0],c[0][1]]];return new Sr.ChangeAction(c,f)},r)}),n.addHook("afterCreateRow",function(t,r,i){e.done(function(){return new Sr.CreateRowAction(t,r)},i)}),n.addHook("beforeRemoveRow",function(t,r,i,o){e.done(function(){var u=n.toPhysicalRow(t),c=Yu(e.instance.getSourceData(u,0,u+r-1,e.instance.countSourceCols()-1));return new Sr.RemoveRowAction(u,c,n.getSettings().fixedRowsBottom,n.getSettings().fixedRowsTop,n.rowIndexMapper.getIndexesSequence())},o)}),n.addHook("afterCreateCol",function(t,r,i){e.done(function(){return new Sr.CreateColumnAction(t,r)},i)}),n.addHook("beforeRemoveCol",function(t,r,i,o){e.done(function(){var u=e.instance.getSourceDataArray(),c=(e.instance.countCols()+t)%e.instance.countCols(),f=[],p=[],g=[];jr(u.length-1,function(M){var C=[],L=u[M];jr(c,c+(r-1),function(H){C.push(L[n.toPhysicalColumn(H)])}),f.push(C)}),jr(r-1,function(M){g.push(n.toPhysicalColumn(c+M))}),Array.isArray(n.getSettings().colHeaders)&&jr(r-1,function(M){p.push(n.getSettings().colHeaders[n.toPhysicalColumn(c+M)]||null)});var v=n.columnIndexMapper.getIndexesSequence(),w=n.rowIndexMapper.getIndexesSequence();return new Sr.RemoveColumnAction(c,g,f,p,v,w,n.getSettings().fixedColumnsStart)},o)}),n.addHook("beforeCellAlignment",function(t,r,i,o){e.done(function(){return new Sr.CellAlignmentAction(t,r,i,o)})}),n.addHook("beforeFilter",function(t){e.done(function(){return new Sr.FiltersAction(t)})}),n.addHook("beforeRowMove",function(t,r){!1!==t&&e.done(function(){return new Sr.RowMoveAction(t,r)})}),n.addHook("beforeMergeCells",function(t,r){r||e.done(function(){return new Sr.MergeCellsAction(n,t)})}),n.addHook("afterUnmergeCells",function(t,r){r||e.done(function(){return new Sr.UnmergeCellsAction(n,t)})}),n.addHook("afterInit",function(){e.init()})}function Oge(n,e){if("loadData"===e)return this.undoRedo.clear()}Sr.prototype.done=function(n,e){if(!this.ignoreNewActions&&"UndoRedo.undo"!==e&&"UndoRedo.redo"!==e&&"auto"!==e){var r=this.doneActions.slice();if(!1!==this.instance.runHooks("beforeUndoStackChange",r,e)){var o=n(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())}}},Sr.prototype.undo=function(){if(this.isUndoAvailable()){var n=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",n);var e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice());var t=Yu(e);if(!1===this.instance.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",t)}},Sr.prototype.redo=function(){if(this.isRedoAvailable()){var n=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",n);var e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",n,this.undoneActions.slice());var t=Yu(e);if(!1===this.instance.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",t)}},Sr.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Sr.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Sr.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Sr.prototype.isEnabled=function(){return this.enabled},Sr.prototype.enable=function(){if(!this.isEnabled()){var n=this.instance;this.enabled=!0,function _vt(n){n.undo=function(){return n.undoRedo.undo()},n.redo=function(){return n.undoRedo.redo()},n.isUndoAvailable=function(){return n.undoRedo.isUndoAvailable()},n.isRedoAvailable=function(){return n.undoRedo.isRedoAvailable()},n.clearUndo=function(){return n.undoRedo.clear()}}(n),this.registerShortcuts(),n.addHook("afterChange",Oge)}},Sr.prototype.disable=function(){if(this.isEnabled()){var n=this.instance;this.enabled=!1,function bvt(n){delete n.undo,delete n.redo,delete n.isUndoAvailable,delete n.isRedoAvailable,delete n.clearUndo}(n),this.unregisterShortcuts(),n.removeHook("afterChange",Oge)}},Sr.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},(Sr.Action=function(){}).prototype.undo=function(){},Sr.Action.prototype.redo=function(){},fv(Sr.ChangeAction=function(n,e){this.changes=n,this.selected=e,this.actionType="change"},Sr.Action),Sr.ChangeAction.prototype.undo=function(n,e){for(var t=Yu(this.changes),r=n.countEmptyRows(!0),i=n.countEmptyCols(!0),o=0,s=t.length;o<s;o++)t[o].splice(3,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.undo");for(var a=0,u=t.length;a<u;a++){var c=Rge(t[a],2),f=c[0],p=c[1];n.getSettings().minSpareRows&&f+1+n.getSettings().minSpareRows===n.countRows()&&r===n.getSettings().minSpareRows&&(n.alter("remove_row",parseInt(f+1,10),n.getSettings().minSpareRows),n.undoRedo.doneActions.pop()),n.getSettings().minSpareCols&&p+1+n.getSettings().minSpareCols===n.countCols()&&i===n.getSettings().minSpareCols&&(n.alter("remove_col",parseInt(p+1,10),n.getSettings().minSpareCols),n.undoRedo.doneActions.pop())}n.selectCells(this.selected,!1,!1)},Sr.ChangeAction.prototype.redo=function(n,e){for(var t=Yu(this.changes),r=0,i=t.length;r<i;r++)t[r].splice(2,1);n.addHookOnce("afterChange",e),n.setDataAtCell(t,null,null,"UndoRedo.redo"),this.selected&&n.selectCells(this.selected,!1,!1)},fv(Sr.CreateRowAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_row"},Sr.Action),Sr.CreateRowAction.prototype.undo=function(n,e){var t=n.countRows(),r=n.getSettings().minSpareRows;this.index>=t&&this.index-r<t&&(this.index-=r),n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},Sr.CreateRowAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateRow",e),n.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},fv(Sr.RemoveRowAction=function(n,e,t,r,i){this.index=n,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=t,this.fixedRowsTop=r,this.rowIndexesSequence=i},Sr.Action),Sr.RemoveRowAction.prototype.undo=function(n,e){var t=this,r=n.getSettings(),i=[];r.fixedRowsBottom=this.fixedRowsBottom,r.fixedRowsTop=this.fixedRowsTop,this.data.forEach(function(o,s){Object.keys(o).forEach(function(a){var u=parseInt(a,10);i.push([t.index+s,isNaN(u)?a:u,o[a]])})}),n.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),n.addHookOnce("afterViewRender",e),n.setSourceDataAtCell(i,null,null,"UndoRedo.undo"),n.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)},Sr.RemoveRowAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveRow",e),n.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},fv(Sr.CreateColumnAction=function(n,e){this.index=n,this.amount=e,this.actionType="insert_col"},Sr.Action),Sr.CreateColumnAction.prototype.undo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},Sr.CreateColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterCreateCol",e),n.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},fv(Sr.RemoveColumnAction=function(n,e,t,r,i,o,s){this.index=n,this.indexes=e,this.data=t,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s},Sr.Action),Sr.RemoveColumnAction.prototype.undo=function(n,e){var t=this;n.getSettings().fixedColumnsStart=this.fixedColumnsStart;for(var i=this.indexes.slice(0).sort(),o=function(g,v,w){return w[t.indexes.indexOf(i[v])]},s=this.data.length,a=[],u=0;u<s;u++)a.push(eo(this.data[u],o));var c=eo(this.headers,o),f=[];n.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),ut(n.getSourceDataArray(),function(p,g){ut(i,function(v,w){p[v]=a[g][w],f.push([g,v,p[v]])})}),n.setSourceDataAtCell(f,void 0,void 0,"UndoRedo.undo"),void 0!==this.headers&&ut(c,function(p,g){n.getSettings().colHeaders[i[g]]=p}),n.batchExecution(function(){n.rowIndexMapper.setIndexesSequence(t.rowPositions),n.columnIndexMapper.setIndexesSequence(t.columnPositions)},!0),n.addHookOnce("afterViewRender",e),n.render()},Sr.RemoveColumnAction.prototype.redo=function(n,e){n.addHookOnce("afterRemoveCol",e),n.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},(Sr.CellAlignmentAction=function(n,e,t,r){this.stateBefore=n,this.range=e,this.type=t,this.alignment=r}).prototype.undo=function(n,e){var t=this;ut(this.range,function(r){r.forAll(function(i,o){i>=0&&o>=0&&n.setCellMeta(i,o,"className",t.stateBefore[i][o]||" htLeft")})}),n.addHookOnce("afterViewRender",e),n.render()},Sr.CellAlignmentAction.prototype.redo=function(n,e){Dv(this.range,this.type,this.alignment,function(t,r){return n.getCellMeta(t,r)},function(t,r,i,o){return n.setCellMeta(t,r,i,o)}),n.addHookOnce("afterViewRender",e),n.render()},fv(Sr.FiltersAction=function(n){this.conditionsStack=n,this.actionType="filter"},Sr.Action),Sr.FiltersAction.prototype.undo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),t.filter()},Sr.FiltersAction.prototype.redo=function(n,e){var t=n.getPlugin("filters");n.addHookOnce("afterViewRender",e),t.conditionCollection.importAllConditions(this.conditionsStack),t.filter()},Sr.MergeCellsAction=function(n){Ege(t,n);var e=Tge(t);function t(r,i){var o;Mge(this,t),(o=e.call(this)).cellRange=i;var s=o.cellRange.getTopStartCorner(),a=o.cellRange.getBottomEndCorner();return o.rangeData=r.getData(s.row,s.col,a.row,a.col),o}return Cge(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0);var a=this.cellRange.getTopStartCorner();i.populateFromArray(a.row,a.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange)}}]),t}(Sr.Action),Sr.UnmergeCellsAction=function(n){Ege(t,n);var e=Tge(t);function t(r,i){var o;return Mge(this,t),(o=e.call(this)).cellRange=i,o}return Cge(t,[{key:"undo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(i,o){var s=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),s.unmergeRange(this.cellRange,!0),i.render()}}]),t}(Sr.Action),fv(Sr.RowMoveAction=function(n,e){this.rows=n.slice(),this.finalIndex=e,this.actionType="row_move"},Sr.Action),Sr.RowMoveAction.prototype.undo=function(n,e){var t=this,r=n.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter(function(f){return f>t.finalIndex}),s=i.filter(function(f){return f<=t.finalIndex}),a=o.sort(function(f,p){return p-f}).concat(s.sort(function(f,p){return f-p}));n.addHookOnce("afterViewRender",e);for(var u=0;u<a.length;u+=1){var c=n.toVisualRow(a[u]);r.moveRow(c,a[u])}n.render(),n.deselectCell(),n.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},Sr.RowMoveAction.prototype.redo=function(n,e){var t=n.getPlugin("manualRowMove");n.addHookOnce("afterViewRender",e),t.moveRows(this.rows.slice(),this.finalIndex),n.render(),n.deselectCell(),n.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},Sr.prototype.init=function(){var n=this.instance.getSettings().undo,e=void 0===n||n;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},Sr.prototype.registerShortcuts=function(){var n=this;this.instance.getShortcutManager().getContext("grid").addShortcuts([{keys:[["Control/Meta","z"]],callback:function(){n.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:function(){n.redo()}}],{runOnlyIf:function(s){return!s.altKey},group:"undoRedo"})},Sr.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup("undoRedo")};var hk=Tr.getSingleton();hk.add("afterUpdateSettings",function(){var n;null===(n=this.getPlugin("undoRedo"))||void 0===n||n.init()}),hk.register("beforeUndo"),hk.register("afterUndo"),hk.register("beforeRedo"),hk.register("afterRedo"),Sr.PLUGIN_KEY="undoRedo",Sr.SETTING_KEYS=!0;const wvt=Sr;let Cvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[gb,Ao,xR,xR,Ao]}),n})(),Nvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[gb,Ao,Ao]}),n})(),Fvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[VJ,Ao,Ao]}),n})(),Lge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[gb,Ao,Gj,Ao]}),n})(),Ige=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({}),n})(),jvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({providers:[OEe],imports:[Ige,Lge,Ao,Ige,Lge]}),n})(),r_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[eU]}),n})(),b_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[r_t,Ao,Ao]}),n})(),S_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=ei({imports:[nQ,Ao,bR,Ao]}),n})();!function Mvt(){(function sKe(){yd(Kx),yd(x8),yd(jue),yd($ue),yd(R8),yd(b8),yd(Zue),yd(Jue),yd(K$e),yd(fw),yd(nce)})(),function bKe(){Wm(cC),Wm(zA),Wm(I8),Wm(L8),Wm(F8),Wm(H8),Wm(bv),Wm(B8)}(),function RKe(){xD(cH),xD(V8),xD(z8),xD(j8)}(),function YKe(){mp(AKe),mp(kKe),mp(LKe),mp(NKe),mp(HKe),mp(VKe),mp(jKe),mp(Nae),mp(WKe)}(),function Svt(){Uo(NXe),Uo(aZe),Uo(CZe),Uo(vqe),Uo(Fqe),Uo(fde),Uo(nQe),Uo(IQe),Uo(Ude),Uo(Ntt),Uo(unt),Uo(bnt),Uo(_fe),Uo(xrt),Uo(nlt),Uo(nut),Uo(Tut),Uo(Jut),Uo(wct),Uo(udt),Uo(bdt),Uo(lft),Uo(_ft),Uo(yht),Uo(Hht),Uo(qht),Uo(Cmt),Uo(Kgt),Uo(fyt),Uo(kyt),Uo(Yyt),Uo(rvt),Uo(wvt)}()}();let M_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n,bootstrap:[v6e]}),n.\u0275inj=ei({providers:[vJ],imports:[RZ,N8e,F8e,rxe,iLe,k5e,Cvt,_Le,kLe,iTe,HLe,g6e,Nvt,Fvt,jvt,b_t,JEe,S_t,GLe,y7e,q8e]}),n})();(function ibe(){DX=!1})(),g0e().bootstrapModule(M_t).catch(n=>console.error(n))},4722:function(Z,ae,b){"use strict";var $,O=this&&this.__extends||($=function(te,se){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,fe){oe.__proto__=fe}||function(oe,fe){for(var K in fe)Object.prototype.hasOwnProperty.call(fe,K)&&(oe[K]=fe[K])})(te,se)},function(te,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function oe(){this.constructor=te}$(te,se),te.prototype=null===se?Object.create(se):(oe.prototype=se.prototype,new oe)});Object.defineProperty(ae,"__esModule",{value:!0}),ae.OrbitControls=void 0;var S=b(3643),E={type:"change"},A={type:"start"},I={type:"end"},N=1e-6,W=function($){function te(se,oe,fe){var K=$.call(this)||this;return K.object=se,K.domElement=void 0!==oe?oe:document,K.window=void 0!==fe?fe:window,K.enabled=!0,K.target=new S.Vector3,K.minDistance=0,K.maxDistance=1/0,K.minZoom=0,K.maxZoom=1/0,K.minPolarAngle=0,K.maxPolarAngle=Math.PI,K.minAzimuthAngle=-1/0,K.maxAzimuthAngle=1/0,K.enableDamping=!1,K.dampingFactor=.25,K.enableZoom=!0,K.zoomSpeed=1,K.enableRotate=!0,K.rotateSpeed=1,K.enablePan=!0,K.keyPanSpeed=7,K.autoRotate=!1,K.autoRotateSpeed=2,K.enableKeys=!0,K.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},K.mouseButtons={ORBIT:S.MOUSE.LEFT,ZOOM:S.MOUSE.MIDDLE,PAN:S.MOUSE.RIGHT},K.target0=K.target.clone(),K.position0=K.object.position.clone(),K.zoom0=K.object.zoom,K.updateOffset=new S.Vector3,K.updateQuat=(new S.Quaternion).setFromUnitVectors(se.up,new S.Vector3(0,1,0)),K.updateQuatInverse=K.updateQuat.clone().invert(),K.updateLastPosition=new S.Vector3,K.updateLastQuaternion=new S.Quaternion,K.state=-1,K.scale=1,K.spherical=new S.Spherical,K.sphericalDelta=new S.Spherical,K.panOffset=new S.Vector3,K.zoomChanged=!1,K.rotateStart=new S.Vector2,K.rotateEnd=new S.Vector2,K.rotateDelta=new S.Vector2,K.panStart=new S.Vector2,K.panEnd=new S.Vector2,K.panDelta=new S.Vector2,K.dollyStart=new S.Vector2,K.dollyEnd=new S.Vector2,K.dollyDelta=new S.Vector2,K.panLeftV=new S.Vector3,K.panUpV=new S.Vector3,K.panInternalOffset=new S.Vector3,K.onMouseDown=function(ce){if(!1!==K.enabled){if(ce.preventDefault(),ce.button===K.mouseButtons.ORBIT){if(!1===K.enableRotate)return;K.rotateStart.set(ce.clientX,ce.clientY),K.state=0}else if(ce.button===K.mouseButtons.ZOOM){if(!1===K.enableZoom)return;K.dollyStart.set(ce.clientX,ce.clientY),K.state=1}else if(ce.button===K.mouseButtons.PAN){if(!1===K.enablePan)return;K.panStart.set(ce.clientX,ce.clientY),K.state=2}-1!==K.state&&(document.addEventListener("mousemove",K.onMouseMove,!1),document.addEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(A))}},K.onMouseMove=function(ce){if(!1!==K.enabled)if(ce.preventDefault(),0===K.state){if(!1===K.enableRotate)return;K.rotateEnd.set(ce.clientX,ce.clientY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var we=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/we.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/we.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update()}else if(1===K.state){if(!1===K.enableZoom)return;K.dollyEnd.set(ce.clientX,ce.clientY),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyIn(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyOut(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update()}else if(2===K.state){if(!1===K.enablePan)return;K.panEnd.set(ce.clientX,ce.clientY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update()}},K.onMouseUp=function(ce){!1!==K.enabled&&(document.removeEventListener("mousemove",K.onMouseMove,!1),document.removeEventListener("mouseup",K.onMouseUp,!1),K.dispatchEvent(I),K.state=-1)},K.onMouseWheel=function(ce){!1===K.enabled||!1===K.enableZoom||-1!==K.state&&0!==K.state||(ce.preventDefault(),ce.stopPropagation(),ce.deltaY<0?K.dollyOut(K.getZoomScale()):ce.deltaY>0&&K.dollyIn(K.getZoomScale()),K.update(),K.dispatchEvent(A),K.dispatchEvent(I))},K.onKeyDown=function(ce){if(!1!==K.enabled&&!1!==K.enableKeys&&!1!==K.enablePan)switch(ce.keyCode){case K.keys.UP:K.pan(0,K.keyPanSpeed),K.update();break;case K.keys.BOTTOM:K.pan(0,-K.keyPanSpeed),K.update();break;case K.keys.LEFT:K.pan(K.keyPanSpeed,0),K.update();break;case K.keys.RIGHT:K.pan(-K.keyPanSpeed,0),K.update()}},K.onTouchStart=function(ce){if(!1!==K.enabled){switch(ce.touches.length){case 1:if(!1===K.enableRotate)return;K.rotateStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=3;break;case 2:if(!1===K.enableZoom)return;var we=ce.touches[0].pageX-ce.touches[1].pageX,Fe=ce.touches[0].pageY-ce.touches[1].pageY,Ae=Math.sqrt(we*we+Fe*Fe);K.dollyStart.set(0,Ae),K.state=4;break;case 3:if(!1===K.enablePan)return;K.panStart.set(ce.touches[0].pageX,ce.touches[0].pageY),K.state=5;break;default:K.state=-1}-1!==K.state&&K.dispatchEvent(A)}},K.onTouchMove=function(ce){if(!1!==K.enabled)switch(ce.preventDefault(),ce.stopPropagation(),ce.touches.length){case 1:if(!1===K.enableRotate||3!==K.state)return;K.rotateEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.rotateDelta.subVectors(K.rotateEnd,K.rotateStart);var we=K.domElement===document?K.domElement.body:K.domElement;K.rotateLeft(2*Math.PI*K.rotateDelta.x/we.clientWidth*K.rotateSpeed),K.rotateUp(2*Math.PI*K.rotateDelta.y/we.clientHeight*K.rotateSpeed),K.rotateStart.copy(K.rotateEnd),K.update();break;case 2:if(!1===K.enableZoom||4!==K.state)return;var Fe=ce.touches[0].pageX-ce.touches[1].pageX,Ae=ce.touches[0].pageY-ce.touches[1].pageY,Ve=Math.sqrt(Fe*Fe+Ae*Ae);K.dollyEnd.set(0,Ve),K.dollyDelta.subVectors(K.dollyEnd,K.dollyStart),K.dollyDelta.y>0?K.dollyOut(K.getZoomScale()):K.dollyDelta.y<0&&K.dollyIn(K.getZoomScale()),K.dollyStart.copy(K.dollyEnd),K.update();break;case 3:if(!1===K.enablePan||5!==K.state)return;K.panEnd.set(ce.touches[0].pageX,ce.touches[0].pageY),K.panDelta.subVectors(K.panEnd,K.panStart),K.pan(K.panDelta.x,K.panDelta.y),K.panStart.copy(K.panEnd),K.update();break;default:K.state=-1}},K.onTouchEnd=function(ce){!1!==K.enabled&&(K.dispatchEvent(I),K.state=-1)},K.onContextMenu=function(ce){ce.preventDefault()},K.domElement.addEventListener("contextmenu",K.onContextMenu,!1),K.domElement.addEventListener("mousedown",K.onMouseDown,!1),K.domElement.addEventListener("wheel",K.onMouseWheel,!1),K.domElement.addEventListener("touchstart",K.onTouchStart,!1),K.domElement.addEventListener("touchend",K.onTouchEnd,!1),K.domElement.addEventListener("touchmove",K.onTouchMove,!1),K.window.addEventListener("keydown",K.onKeyDown,!1),K.update(),K}return O(te,$),te.prototype.update=function(){var se=this.object.position;return this.updateOffset.copy(se).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&-1===this.state&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),se.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>N||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>N)&&(this.dispatchEvent(E),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},te.prototype.panLeft=function(se,oe){this.panLeftV.setFromMatrixColumn(oe,0),this.panLeftV.multiplyScalar(-se),this.panOffset.add(this.panLeftV)},te.prototype.panUp=function(se,oe){this.panUpV.setFromMatrixColumn(oe,1),this.panUpV.multiplyScalar(se),this.panOffset.add(this.panUpV)},te.prototype.pan=function(se,oe){var fe=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){this.panInternalOffset.copy(this.object.position).sub(this.target);var ce=this.panInternalOffset.length();ce*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*se*ce/fe.clientHeight,this.object.matrix),this.panUp(2*oe*ce/fe.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(se*(this.object.right-this.object.left)/this.object.zoom/fe.clientWidth,this.object.matrix),this.panUp(oe*(this.object.top-this.object.bottom)/this.object.zoom/fe.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},te.prototype.dollyIn=function(se){this._checkPerspectiveCamera(this.object)?this.scale/=se:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*se)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},te.prototype.dollyOut=function(se){this._checkPerspectiveCamera(this.object)?this.scale*=se:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/se)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},te.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},te.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},te.prototype.rotateLeft=function(se){this.sphericalDelta.theta-=se},te.prototype.rotateUp=function(se){this.sphericalDelta.phi-=se},te.prototype.getPolarAngle=function(){return this.spherical.phi},te.prototype.getAzimuthalAngle=function(){return this.spherical.theta},te.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},te.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(E),this.update(),this.state=-1},te.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)},Object.defineProperty(te.prototype,"center",{get:function(){return console.warn("Three.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"noZoom",{get:function(){return console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(se){console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!se},enumerable:!1,configurable:!0}),te.prototype._checkPerspectiveCamera=function(se){return se.isPerspectiveCamera},te.prototype._checkOrthographicCamera=function(se){return se.isOrthographicCamera},te}(S.EventDispatcher);ae.OrbitControls=W},3643:(Z,ae,b)=>{"use strict";b.r(ae),b.d(ae,{ACESFilmicToneMapping:()=>nt,AddEquation:()=>ct,AddOperation:()=>li,AdditiveAnimationBlendMode:()=>Th,AdditiveBlending:()=>Qe,AlphaFormat:()=>Sh,AlwaysDepth:()=>zn,AlwaysStencilFunc:()=>qE,AmbientLight:()=>gS,AmbientLightProbe:()=>oV,AnimationClip:()=>Y_,AnimationLoader:()=>JB,AnimationMixer:()=>CS,AnimationObjectGroup:()=>rb,AnimationUtils:()=>ys,ArcCurve:()=>r1,ArrayCamera:()=>O0,ArrowHelper:()=>bV,Audio:()=>PP,AudioAnalyser:()=>LP,AudioContext:()=>MS,AudioListener:()=>k$,AudioLoader:()=>iV,AxesHelper:()=>GP,AxisHelper:()=>Qd,BackSide:()=>K,BasicDepthPacking:()=>Pn,BasicShadowMap:()=>$,BinaryTextureLoader:()=>bc,Bone:()=>D_,BooleanKeyframeTrack:()=>My,BoundingBoxHelper:()=>db,Box2:()=>$h,Box3:()=>xl,Box3Helper:()=>yV,BoxBufferGeometry:()=>fc,BoxGeometry:()=>fc,BoxHelper:()=>OS,BufferAttribute:()=>Kr,BufferGeometry:()=>fr,BufferGeometryLoader:()=>m1,ByteType:()=>Bs,Cache:()=>um,Camera:()=>qc,CameraHelper:()=>YP,CanvasRenderer:()=>Fy,CanvasTexture:()=>cl,CatmullRomCurve3:()=>cS,CineonToneMapping:()=>Pe,CircleBufferGeometry:()=>hy,CircleGeometry:()=>hy,ClampToEdgeWrapping:()=>Sn,Clock:()=>xS,Color:()=>xr,ColorKeyframeTrack:()=>oS,CompressedTexture:()=>O_,CompressedTextureLoader:()=>Si,ConeBufferGeometry:()=>G0,ConeGeometry:()=>G0,CubeCamera:()=>jg,CubeReflectionMapping:()=>Ot,CubeRefractionMapping:()=>St,CubeTexture:()=>Nf,CubeTextureLoader:()=>n1,CubeUVReflectionMapping:()=>Ze,CubeUVRefractionMapping:()=>ht,CubicBezierCurve:()=>l1,CubicBezierCurve3:()=>u1,CubicInterpolant:()=>iS,CullFaceBack:()=>I,CullFaceFront:()=>N,CullFaceFrontBack:()=>W,CullFaceNone:()=>A,Curve:()=>Kl,CurvePath:()=>TP,CustomBlending:()=>Ke,CustomToneMapping:()=>Ct,CylinderBufferGeometry:()=>py,CylinderGeometry:()=>py,Cylindrical:()=>x1,DataTexture:()=>Gl,DataTexture2DArray:()=>x0,DataTexture3D:()=>xT,DataTextureLoader:()=>G_,DataUtils:()=>SV,DecrementStencilOp:()=>Cf,DecrementWrapStencilOp:()=>Ha,DefaultLoadingManager:()=>xP,DepthFormat:()=>Bc,DepthStencilFormat:()=>_s,DepthTexture:()=>fy,DirectionalLight:()=>Pu,DirectionalLightHelper:()=>gV,DiscreteInterpolant:()=>Sy,DodecahedronBufferGeometry:()=>$0,DodecahedronGeometry:()=>$0,DoubleSide:()=>ce,DstAlphaFactor:()=>gt,DstColorFactor:()=>Xt,DynamicBufferAttribute:()=>LV,DynamicCopyUsage:()=>Gc,DynamicDrawUsage:()=>Ml,DynamicReadUsage:()=>qv,EdgesGeometry:()=>YT,EdgesHelper:()=>Al,EllipseCurve:()=>Cy,EqualDepth:()=>$n,EqualStencilFunc:()=>Ks,EquirectangularReflectionMapping:()=>pt,EquirectangularRefractionMapping:()=>et,Euler:()=>Rf,EventDispatcher:()=>rc,ExtrudeBufferGeometry:()=>Wf,ExtrudeGeometry:()=>Wf,FaceColors:()=>TV,FileLoader:()=>_c,FlatShading:()=>we,Float16BufferAttribute:()=>Of,Float32Attribute:()=>V1,Float32BufferAttribute:()=>yn,Float64Attribute:()=>HV,Float64BufferAttribute:()=>kh,FloatType:()=>rl,Fog:()=>C_,FogExp2:()=>Qp,Font:()=>OP,FontLoader:()=>rV,FrontSide:()=>fe,Frustum:()=>Ih,GLBufferAttribute:()=>fm,GLSL1:()=>JE,GLSL3:()=>vi,GammaEncoding:()=>Nd,GreaterDepth:()=>vn,GreaterEqualDepth:()=>Ur,GreaterEqualStencilFunc:()=>Wo,GreaterStencilFunc:()=>u0,GridHelper:()=>WP,Group:()=>qp,HalfFloatType:()=>zl,HemisphereLight:()=>c1,HemisphereLightHelper:()=>pV,HemisphereLightProbe:()=>kP,IcosahedronBufferGeometry:()=>F_,IcosahedronGeometry:()=>F_,ImageBitmapLoader:()=>eb,ImageLoader:()=>Fr,ImageUtils:()=>js,ImmediateRenderObject:()=>Ly,IncrementStencilOp:()=>pr,IncrementWrapStencilOp:()=>Lg,InstancedBufferAttribute:()=>p1,InstancedBufferGeometry:()=>dm,InstancedInterleavedBuffer:()=>Py,InstancedMesh:()=>dy,Int16Attribute:()=>F$,Int16BufferAttribute:()=>jd,Int32Attribute:()=>NV,Int32BufferAttribute:()=>au,Int8Attribute:()=>IV,Int8BufferAttribute:()=>uc,IntType:()=>oa,InterleavedBuffer:()=>fu,InterleavedBufferAttribute:()=>em,Interpolant:()=>ku,InterpolateDiscrete:()=>Fa,InterpolateLinear:()=>Eh,InterpolateSmooth:()=>Ld,InvertStencilOp:()=>Yc,JSONLoader:()=>Hy,KeepStencilOp:()=>es,KeyframeTrack:()=>vc,LOD:()=>cP,LatheBufferGeometry:()=>vy,LatheGeometry:()=>vy,Layers:()=>f0,LensFlare:()=>Vy,LessDepth:()=>vr,LessEqualDepth:()=>dr,LessEqualStencilFunc:()=>vk,LessStencilFunc:()=>Fd,Light:()=>ad,LightProbe:()=>Lu,Line:()=>rd,Line3:()=>VP,LineBasicMaterial:()=>gs,LineCurve:()=>Zd,LineCurve3:()=>EP,LineDashedMaterial:()=>am,LineLoop:()=>UT,LinePieces:()=>CV,LineSegments:()=>ul,LineStrip:()=>I$,LinearEncoding:()=>hs,LinearFilter:()=>Er,LinearInterpolant:()=>wy,LinearMipMapLinearFilter:()=>tl,LinearMipMapNearestFilter:()=>Na,LinearMipmapLinearFilter:()=>Oi,LinearMipmapNearestFilter:()=>Jo,LinearToneMapping:()=>zr,Loader:()=>Ls,LoaderUtils:()=>vS,LoadingManager:()=>t1,LogLuvEncoding:()=>kp,LoopOnce:()=>Og,LoopPingPong:()=>kg,LoopRepeat:()=>Ch,LuminanceAlphaFormat:()=>go,LuminanceFormat:()=>Rs,MOUSE:()=>R,Material:()=>$o,MaterialLoader:()=>yS,Math:()=>An,MathUtils:()=>An,Matrix3:()=>zs,Matrix4:()=>Br,MaxEquation:()=>It,Mesh:()=>dn,MeshBasicMaterial:()=>su,MeshDepthMaterial:()=>iy,MeshDistanceMaterial:()=>Zp,MeshFaceMaterial:()=>N$,MeshLambertMaterial:()=>rS,MeshMatcapMaterial:()=>j_,MeshNormalMaterial:()=>z_,MeshPhongMaterial:()=>sm,MeshPhysicalMaterial:()=>od,MeshStandardMaterial:()=>id,MeshToonMaterial:()=>nS,MinEquation:()=>kt,MirroredRepeatWrapping:()=>lr,MixOperation:()=>ii,MultiMaterial:()=>ZP,MultiplyBlending:()=>Ne,MultiplyOperation:()=>ci,NearestFilter:()=>rr,NearestMipMapLinearFilter:()=>Zn,NearestMipMapNearestFilter:()=>Mr,NearestMipmapLinearFilter:()=>Kn,NearestMipmapNearestFilter:()=>_r,NeverDepth:()=>Pt,NeverStencilFunc:()=>l0,NoBlending:()=>Ae,NoColors:()=>EV,NoToneMapping:()=>Qr,NormalAnimationBlendMode:()=>xf,NormalBlending:()=>Ve,NotEqualDepth:()=>Qt,NotEqualStencilFunc:()=>Eu,NumberKeyframeTrack:()=>U_,Object3D:()=>$r,ObjectLoader:()=>A$,ObjectSpaceNormalMap:()=>Ti,OctahedronBufferGeometry:()=>H_,OctahedronGeometry:()=>H_,OneFactor:()=>Bt,OneMinusDstAlphaFactor:()=>Et,OneMinusDstColorFactor:()=>an,OneMinusSrcAlphaFactor:()=>ye,OneMinusSrcColorFactor:()=>sn,OrthographicCamera:()=>Ry,PCFShadowMap:()=>te,PCFSoftShadowMap:()=>se,PMREMGenerator:()=>ub,ParametricBufferGeometry:()=>rm,ParametricGeometry:()=>rm,Particle:()=>DV,ParticleBasicMaterial:()=>OV,ParticleSystem:()=>B1,ParticleSystemMaterial:()=>kV,Path:()=>X_,PerspectiveCamera:()=>ks,Plane:()=>ac,PlaneBufferGeometry:()=>Wp,PlaneGeometry:()=>Wp,PlaneHelper:()=>vV,PointCloud:()=>wr,PointCloudMaterial:()=>AV,PointLight:()=>cm,PointLightHelper:()=>L$,Points:()=>fa,PointsMaterial:()=>tm,PolarGridHelper:()=>mV,PolyhedronBufferGeometry:()=>zf,PolyhedronGeometry:()=>zf,PositionalAudio:()=>v1,PropertyBinding:()=>Dl,PropertyMixer:()=>_1,QuadraticBezierCurve:()=>K_,QuadraticBezierCurve3:()=>Ty,Quaternion:()=>pi,QuaternionKeyframeTrack:()=>xy,QuaternionLinearInterpolant:()=>W_,REVISION:()=>S,RGBADepthPacking:()=>tr,RGBAFormat:()=>Io,RGBAIntegerFormat:()=>yi,RGBA_ASTC_10x10_Format:()=>ko,RGBA_ASTC_10x5_Format:()=>bl,RGBA_ASTC_10x6_Format:()=>wl,RGBA_ASTC_10x8_Format:()=>tu,RGBA_ASTC_12x10_Format:()=>Mf,RGBA_ASTC_12x12_Format:()=>lo,RGBA_ASTC_4x4_Format:()=>Mh,RGBA_ASTC_5x4_Format:()=>jc,RGBA_ASTC_5x5_Format:()=>wf,RGBA_ASTC_6x5_Format:()=>kd,RGBA_ASTC_6x6_Format:()=>Sf,RGBA_ASTC_8x5_Format:()=>Op,RGBA_ASTC_8x6_Format:()=>Dg,RGBA_ASTC_8x8_Format:()=>is,RGBA_BPTC_Format:()=>Cu,RGBA_ETC2_EAC_Format:()=>Od,RGBA_PVRTC_2BPPV1_Format:()=>xu,RGBA_PVRTC_4BPPV1_Format:()=>Ad,RGBA_S3TC_DXT1_Format:()=>yo,RGBA_S3TC_DXT3_Format:()=>Dd,RGBA_S3TC_DXT5_Format:()=>Qo,RGBDEncoding:()=>wt,RGBEEncoding:()=>gn,RGBEFormat:()=>Rd,RGBFormat:()=>Vs,RGBIntegerFormat:()=>Ul,RGBM16Encoding:()=>Pr,RGBM7Encoding:()=>ei,RGB_ETC1_Format:()=>zc,RGB_ETC2_Format:()=>eu,RGB_PVRTC_2BPPV1_Format:()=>Vc,RGB_PVRTC_4BPPV1_Format:()=>tc,RGB_S3TC_DXT1_Format:()=>Mu,RGFormat:()=>fs,RGIntegerFormat:()=>Wi,RawShaderMaterial:()=>Wh,Ray:()=>Bd,Raycaster:()=>w1,RectAreaLight:()=>h1,RedFormat:()=>_l,RedIntegerFormat:()=>jl,ReinhardToneMapping:()=>xe,RepeatWrapping:()=>Lt,ReplaceStencilOp:()=>Rh,ReverseSubtractEquation:()=>dt,RingBufferGeometry:()=>B_,RingGeometry:()=>B_,SRGB8_ALPHA8_ASTC_10x10_Format:()=>bs,SRGB8_ALPHA8_ASTC_10x5_Format:()=>Vi,SRGB8_ALPHA8_ASTC_10x6_Format:()=>Ag,SRGB8_ALPHA8_ASTC_10x8_Format:()=>Zv,SRGB8_ALPHA8_ASTC_12x10_Format:()=>nu,SRGB8_ALPHA8_ASTC_12x12_Format:()=>ba,SRGB8_ALPHA8_ASTC_4x4_Format:()=>xh,SRGB8_ALPHA8_ASTC_5x4_Format:()=>Ii,SRGB8_ALPHA8_ASTC_5x5_Format:()=>kr,SRGB8_ALPHA8_ASTC_6x5_Format:()=>Sl,SRGB8_ALPHA8_ASTC_6x6_Format:()=>Pd,SRGB8_ALPHA8_ASTC_8x5_Format:()=>pn,SRGB8_ALPHA8_ASTC_8x6_Format:()=>Uc,SRGB8_ALPHA8_ASTC_8x8_Format:()=>di,Scene:()=>E_,SceneUtils:()=>By,ShaderChunk:()=>qi,ShaderLib:()=>du,ShaderMaterial:()=>ll,ShadowMaterial:()=>tS,Shape:()=>Yh,ShapeBufferGeometry:()=>_y,ShapeGeometry:()=>_y,ShapePath:()=>wS,ShapeUtils:()=>Uf,ShortType:()=>ds,Skeleton:()=>uy,SkeletonHelper:()=>T1,SkinnedMesh:()=>B0,SmoothShading:()=>Fe,Sphere:()=>Cl,SphereBufferGeometry:()=>by,SphereGeometry:()=>by,Spherical:()=>M1,SphericalHarmonics3:()=>J_,SplineCurve:()=>dS,SpotLight:()=>DP,SpotLightHelper:()=>jP,Sprite:()=>N0,SpriteMaterial:()=>k0,SrcAlphaFactor:()=>Te,SrcAlphaSaturateFactor:()=>kn,SrcColorFactor:()=>Ut,StaticCopyUsage:()=>c0,StaticDrawUsage:()=>Ef,StaticReadUsage:()=>Ig,StereoCamera:()=>sV,StreamCopyUsage:()=>Pp,StreamDrawUsage:()=>Po,StreamReadUsage:()=>Ng,StringKeyframeTrack:()=>lm,SubtractEquation:()=>st,SubtractiveBlending:()=>qe,TOUCH:()=>E,TangentSpaceNormalMap:()=>Ni,TetrahedronBufferGeometry:()=>V_,TetrahedronGeometry:()=>V_,TextBufferGeometry:()=>J0,TextGeometry:()=>J0,Texture:()=>vo,TextureLoader:()=>sS,TorusBufferGeometry:()=>e1,TorusGeometry:()=>e1,TorusKnotBufferGeometry:()=>om,TorusKnotGeometry:()=>om,Triangle:()=>os,TriangleFanDrawMode:()=>io,TriangleStripDrawMode:()=>ol,TrianglesDrawMode:()=>Pg,TubeBufferGeometry:()=>Q0,TubeGeometry:()=>Q0,UVMapping:()=>it,Uint16Attribute:()=>cb,Uint16BufferAttribute:()=>Af,Uint32Attribute:()=>FV,Uint32BufferAttribute:()=>Ud,Uint8Attribute:()=>NS,Uint8BufferAttribute:()=>Ca,Uint8ClampedAttribute:()=>pm,Uint8ClampedBufferAttribute:()=>Oh,Uniform:()=>Yf,UniformsLib:()=>qn,UniformsUtils:()=>a_,UnsignedByteType:()=>nl,UnsignedInt248Type:()=>ir,UnsignedIntType:()=>vl,UnsignedShort4444Type:()=>Ap,UnsignedShort5551Type:()=>Hc,UnsignedShort565Type:()=>bf,UnsignedShortType:()=>ao,VSMShadowMap:()=>oe,Vector2:()=>bn,Vector3:()=>De,Vector4:()=>Ri,VectorKeyframeTrack:()=>$l,Vertex:()=>PV,VertexColors:()=>RV,VideoTexture:()=>WT,WebGL1Renderer:()=>uP,WebGLCubeRenderTarget:()=>da,WebGLMultisampleRenderTarget:()=>Lp,WebGLRenderTarget:()=>ru,WebGLRenderTargetCube:()=>ts,WebGLRenderer:()=>ss,WebGLUtils:()=>A0,WireframeGeometry:()=>eS,WireframeHelper:()=>mm,WrapAroundEnding:()=>il,XHRLoader:()=>FS,ZeroCurvatureEnding:()=>nc,ZeroFactor:()=>At,ZeroSlopeEnding:()=>Id,ZeroStencilOp:()=>ps,sRGBEncoding:()=>Wc});var O=b(1670);const S="126",R={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},E={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A=0,I=1,N=2,W=3,$=0,te=1,se=2,oe=3,fe=0,K=1,ce=2,we=1,Fe=2,Ae=0,Ve=1,Qe=2,qe=3,Ne=4,Ke=5,ct=100,st=101,dt=102,kt=103,It=104,At=200,Bt=201,Ut=202,sn=203,Te=204,ye=205,gt=206,Et=207,Xt=208,an=209,kn=210,Pt=0,zn=1,vr=2,dr=3,$n=4,Ur=5,vn=6,Qt=7,ci=0,ii=1,li=2,Qr=0,zr=1,xe=2,Pe=3,nt=4,Ct=5,it=300,Ot=301,St=302,pt=303,et=304,Ze=306,ht=307,Lt=1e3,Sn=1001,lr=1002,rr=1003,_r=1004,Mr=1004,Kn=1005,Zn=1005,Er=1006,Jo=1007,Na=1007,Oi=1008,tl=1008,nl=1009,Bs=1010,ds=1011,ao=1012,oa=1013,vl=1014,rl=1015,zl=1016,Ap=1017,Hc=1018,bf=1019,ir=1020,Sh=1021,Vs=1022,Io=1023,Rs=1024,go=1025,Rd=Io,Bc=1026,_s=1027,_l=1028,jl=1029,fs=1030,Wi=1031,Ul=1032,yi=1033,Mu=33776,yo=33777,Dd=33778,Qo=33779,tc=35840,Vc=35841,Ad=35842,xu=35843,zc=36196,eu=37492,Od=37496,Mh=37808,jc=37809,wf=37810,kd=37811,Sf=37812,Op=37813,Dg=37814,is=37815,bl=37816,wl=37817,tu=37818,ko=37819,Mf=37820,lo=37821,Cu=36492,xh=37840,Ii=37841,kr=37842,Sl=37843,Pd=37844,pn=37845,Uc=37846,di=37847,Vi=37848,Ag=37849,Zv=37850,bs=37851,nu=37852,ba=37853,Og=2200,Ch=2201,kg=2202,Fa=2300,Eh=2301,Ld=2302,nc=2400,Id=2401,il=2402,xf=2500,Th=2501,Pg=0,ol=1,io=2,hs=3e3,Wc=3001,Nd=3007,gn=3002,kp=3003,ei=3004,Pr=3005,wt=3006,Pn=3200,tr=3201,Ni=0,Ti=1,ps=0,es=7680,Rh=7681,pr=7682,Cf=7683,Lg=34055,Ha=34056,Yc=5386,l0=512,Fd=513,Ks=514,vk=515,u0=516,Eu=517,Wo=518,qE=519,Ef=35044,Ml=35048,Po=35040,Ig=35045,qv=35049,Ng=35041,c0=35046,Gc=35050,Pp=35042,JE="100",vi="300 es";function rc(){}Object.assign(rc.prototype,{addEventListener:function(h,l){void 0===this._listeners&&(this._listeners={});const d=this._listeners;void 0===d[h]&&(d[h]=[]),-1===d[h].indexOf(l)&&d[h].push(l)},hasEventListener:function(h,l){if(void 0===this._listeners)return!1;const d=this._listeners;return void 0!==d[h]&&-1!==d[h].indexOf(l)},removeEventListener:function(h,l){if(void 0===this._listeners)return;const m=this._listeners[h];if(void 0!==m){const y=m.indexOf(l);-1!==y&&m.splice(y,1)}},dispatchEvent:function(h){if(void 0===this._listeners)return;const d=this._listeners[h.type];if(void 0!==d){h.target=this;const m=d.slice(0);for(let y=0,_=m.length;y<_;y++)m[y].call(this,h)}}});const sa=[];for(let h=0;h<256;h++)sa[h]=(h<16?"0":"")+h.toString(16);let ic=1234567;const An={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const h=4294967295*Math.random()|0,l=4294967295*Math.random()|0,d=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return(sa[255&h]+sa[h>>8&255]+sa[h>>16&255]+sa[h>>24&255]+"-"+sa[255&l]+sa[l>>8&255]+"-"+sa[l>>16&15|64]+sa[l>>24&255]+"-"+sa[63&d|128]+sa[d>>8&255]+"-"+sa[d>>16&255]+sa[d>>24&255]+sa[255&m]+sa[m>>8&255]+sa[m>>16&255]+sa[m>>24&255]).toUpperCase()},clamp:function(h,l,d){return Math.max(l,Math.min(d,h))},euclideanModulo:function(h,l){return(h%l+l)%l},mapLinear:function(h,l,d,m,y){return m+(h-l)*(y-m)/(d-l)},lerp:function(h,l,d){return(1-d)*h+d*l},damp:function(h,l,d,m){return An.lerp(h,l,1-Math.exp(-d*m))},pingpong:function(h,l=1){return l-Math.abs(An.euclideanModulo(h,2*l)-l)},smoothstep:function(h,l,d){return h<=l?0:h>=d?1:(h=(h-l)/(d-l))*h*(3-2*h)},smootherstep:function(h,l,d){return h<=l?0:h>=d?1:(h=(h-l)/(d-l))*h*h*(h*(6*h-15)+10)},randInt:function(h,l){return h+Math.floor(Math.random()*(l-h+1))},randFloat:function(h,l){return h+Math.random()*(l-h)},randFloatSpread:function(h){return h*(.5-Math.random())},seededRandom:function(h){return void 0!==h&&(ic=h%2147483647),ic=16807*ic%2147483647,(ic-1)/2147483646},degToRad:function(h){return h*An.DEG2RAD},radToDeg:function(h){return h*An.RAD2DEG},isPowerOfTwo:function(h){return 0==(h&h-1)&&0!==h},ceilPowerOfTwo:function(h){return Math.pow(2,Math.ceil(Math.log(h)/Math.LN2))},floorPowerOfTwo:function(h){return Math.pow(2,Math.floor(Math.log(h)/Math.LN2))},setQuaternionFromProperEuler:function(h,l,d,m,y){const _=Math.cos,x=Math.sin,D=_(d/2),k=x(d/2),P=_((l+m)/2),j=x((l+m)/2),B=_((l-m)/2),U=x((l-m)/2),G=_((m-l)/2),ee=x((m-l)/2);switch(y){case"XYX":h.set(D*j,k*B,k*U,D*P);break;case"YZY":h.set(k*U,D*j,k*B,D*P);break;case"ZXZ":h.set(k*B,k*U,D*j,D*P);break;case"XZX":h.set(D*j,k*ee,k*G,D*P);break;case"YXY":h.set(k*G,D*j,k*ee,D*P);break;case"ZYZ":h.set(k*ee,k*G,D*j,D*P);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+y)}}};class bn{constructor(l=0,d=0){this.x=l,this.y=d}get width(){return this.x}set width(l){this.x=l}get height(){return this.y}set height(l){this.y=l}set(l,d){return this.x=l,this.y=d,this}setScalar(l){return this.x=l,this.y=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y)}copy(l){return this.x=l.x,this.y=l.y,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this)}addScalar(l){return this.x+=l,this.y+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this)}subScalar(l){return this.x-=l,this.y-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this}multiply(l){return this.x*=l.x,this.y*=l.y,this}multiplyScalar(l){return this.x*=l,this.y*=l,this}divide(l){return this.x/=l.x,this.y/=l.y,this}divideScalar(l){return this.multiplyScalar(1/l)}applyMatrix3(l){const d=this.x,m=this.y,y=l.elements;return this.x=y[0]*d+y[3]*m+y[6],this.y=y[1]*d+y[4]*m+y[7],this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(l){return this.x*l.x+this.y*l.y}cross(l){return this.x*l.y-this.y*l.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y;return d*d+m*m}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this}equals(l){return l.x===this.x&&l.y===this.y}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this}rotateAround(l,d){const m=Math.cos(d),y=Math.sin(d),_=this.x-l.x,x=this.y-l.y;return this.x=_*m-x*y+l.x,this.y=_*y+x*m+l.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}bn.prototype.isVector2=!0;class zs{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,y,_,x,D,k,P){const j=this.elements;return j[0]=l,j[1]=y,j[2]=D,j[3]=d,j[4]=_,j[5]=k,j[6]=m,j[7]=x,j[8]=P,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],this}extractBasis(l,d,m){return l.setFromMatrix3Column(this,0),d.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this}setFromMatrix4(l){const d=l.elements;return this.set(d[0],d[4],d[8],d[1],d[5],d[9],d[2],d[6],d[10]),this}multiply(l){return this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,y=d.elements,_=this.elements,x=m[0],D=m[3],k=m[6],P=m[1],j=m[4],B=m[7],U=m[2],G=m[5],ee=m[8],ue=y[0],de=y[3],ie=y[6],q=y[1],ke=y[4],_e=y[7],We=y[2],Ee=y[5],Re=y[8];return _[0]=x*ue+D*q+k*We,_[3]=x*de+D*ke+k*Ee,_[6]=x*ie+D*_e+k*Re,_[1]=P*ue+j*q+B*We,_[4]=P*de+j*ke+B*Ee,_[7]=P*ie+j*_e+B*Re,_[2]=U*ue+G*q+ee*We,_[5]=U*de+G*ke+ee*Ee,_[8]=U*ie+G*_e+ee*Re,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[3]*=l,d[6]*=l,d[1]*=l,d[4]*=l,d[7]*=l,d[2]*=l,d[5]*=l,d[8]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[1],y=l[2],_=l[3],x=l[4],D=l[5],k=l[6],P=l[7],j=l[8];return d*x*j-d*D*P-m*_*j+m*D*k+y*_*P-y*x*k}invert(){const l=this.elements,d=l[0],m=l[1],y=l[2],_=l[3],x=l[4],D=l[5],k=l[6],P=l[7],j=l[8],B=j*x-D*P,U=D*k-j*_,G=P*_-x*k,ee=d*B+m*U+y*G;if(0===ee)return this.set(0,0,0,0,0,0,0,0,0);const ue=1/ee;return l[0]=B*ue,l[1]=(y*P-j*m)*ue,l[2]=(D*m-y*x)*ue,l[3]=U*ue,l[4]=(j*d-y*k)*ue,l[5]=(y*_-D*d)*ue,l[6]=G*ue,l[7]=(m*k-P*d)*ue,l[8]=(x*d-m*_)*ue,this}transpose(){let l;const d=this.elements;return l=d[1],d[1]=d[3],d[3]=l,l=d[2],d[2]=d[6],d[6]=l,l=d[5],d[5]=d[7],d[7]=l,this}getNormalMatrix(l){return this.setFromMatrix4(l).invert().transpose()}transposeIntoArray(l){const d=this.elements;return l[0]=d[0],l[1]=d[3],l[2]=d[6],l[3]=d[1],l[4]=d[4],l[5]=d[7],l[6]=d[2],l[7]=d[5],l[8]=d[8],this}setUvTransform(l,d,m,y,_,x,D){const k=Math.cos(_),P=Math.sin(_);return this.set(m*k,m*P,-m*(k*x+P*D)+x+l,-y*P,y*k,-y*(-P*x+k*D)+D+d,0,0,1),this}scale(l,d){const m=this.elements;return m[0]*=l,m[3]*=l,m[6]*=l,m[1]*=d,m[4]*=d,m[7]*=d,this}rotate(l){const d=Math.cos(l),m=Math.sin(l),y=this.elements,_=y[0],x=y[3],D=y[6],k=y[1],P=y[4],j=y[7];return y[0]=d*_+m*k,y[3]=d*x+m*P,y[6]=d*D+m*j,y[1]=-m*_+d*k,y[4]=-m*x+d*P,y[7]=-m*D+d*j,this}translate(l,d){const m=this.elements;return m[0]+=l*m[2],m[3]+=l*m[5],m[6]+=l*m[8],m[1]+=d*m[2],m[4]+=d*m[5],m[7]+=d*m[8],this}equals(l){const d=this.elements,m=l.elements;for(let y=0;y<9;y++)if(d[y]!==m[y])return!1;return!0}fromArray(l,d=0){for(let m=0;m<9;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l}clone(){return(new this.constructor).fromArray(this.elements)}}let Mn;zs.prototype.isMatrix3=!0;const js={getDataURL:function(h){if(/^data:/i.test(h.src)||"undefined"==typeof HTMLCanvasElement)return h.src;let l;if(h instanceof HTMLCanvasElement)l=h;else{void 0===Mn&&(Mn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Mn.width=h.width,Mn.height=h.height;const d=Mn.getContext("2d");h instanceof ImageData?d.putImageData(h,0,0):d.drawImage(h,0,0,h.width,h.height),l=Mn}return l.width>2048||l.height>2048?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png")}};let Vo=0;class vo extends rc{constructor(l=vo.DEFAULT_IMAGE,d=vo.DEFAULT_MAPPING,m=Sn,y=Sn,_=Er,x=Oi,D=Io,k=nl,P=1,j=hs){super(),Object.defineProperty(this,"id",{value:Vo++}),this.uuid=An.generateUUID(),this.name="",this.image=l,this.mipmaps=[],this.mapping=d,this.wrapS=m,this.wrapT=y,this.magFilter=_,this.minFilter=x,this.anisotropy=P,this.format=D,this.internalFormat=null,this.type=k,this.offset=new bn(0,0),this.repeat=new bn(1,1),this.center=new bn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=j,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(l){return this.name=l.name,this.image=l.image,this.mipmaps=l.mipmaps.slice(0),this.mapping=l.mapping,this.wrapS=l.wrapS,this.wrapT=l.wrapT,this.magFilter=l.magFilter,this.minFilter=l.minFilter,this.anisotropy=l.anisotropy,this.format=l.format,this.internalFormat=l.internalFormat,this.type=l.type,this.offset.copy(l.offset),this.repeat.copy(l.repeat),this.center.copy(l.center),this.rotation=l.rotation,this.matrixAutoUpdate=l.matrixAutoUpdate,this.matrix.copy(l.matrix),this.generateMipmaps=l.generateMipmaps,this.premultiplyAlpha=l.premultiplyAlpha,this.flipY=l.flipY,this.unpackAlignment=l.unpackAlignment,this.encoding=l.encoding,this}toJSON(l){const d=void 0===l||"string"==typeof l;if(!d&&void 0!==l.textures[this.uuid])return l.textures[this.uuid];const m={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const y=this.image;if(void 0===y.uuid&&(y.uuid=An.generateUUID()),!d&&void 0===l.images[y.uuid]){let _;if(Array.isArray(y)){_=[];for(let x=0,D=y.length;x<D;x++)_.push(wa(y[x].isDataTexture?y[x].image:y[x]))}else _=wa(y);l.images[y.uuid]={uuid:y.uuid,url:_}}m.image=y.uuid}return d||(l.textures[this.uuid]=m),m}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(l){if(this.mapping!==it)return l;if(l.applyMatrix3(this.matrix),l.x<0||l.x>1)switch(this.wrapS){case Lt:l.x=l.x-Math.floor(l.x);break;case Sn:l.x=l.x<0?0:1;break;case lr:l.x=1===Math.abs(Math.floor(l.x)%2)?Math.ceil(l.x)-l.x:l.x-Math.floor(l.x)}if(l.y<0||l.y>1)switch(this.wrapT){case Lt:l.y=l.y-Math.floor(l.y);break;case Sn:l.y=l.y<0?0:1;break;case lr:l.y=1===Math.abs(Math.floor(l.y)%2)?Math.ceil(l.y)-l.y:l.y-Math.floor(l.y)}return this.flipY&&(l.y=1-l.y),l}set needsUpdate(l){!0===l&&this.version++}}function wa(h){return"undefined"!=typeof HTMLImageElement&&h instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&h instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&h instanceof ImageBitmap?js.getDataURL(h):h.data?{data:Array.prototype.slice.call(h.data),width:h.width,height:h.height,type:h.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}vo.DEFAULT_IMAGE=void 0,vo.DEFAULT_MAPPING=it,vo.prototype.isTexture=!0;class Ri{constructor(l=0,d=0,m=0,y=1){this.x=l,this.y=d,this.z=m,this.w=y}get width(){return this.z}set width(l){this.z=l}get height(){return this.w}set height(l){this.w=l}set(l,d,m,y){return this.x=l,this.y=d,this.z=m,this.w=y,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this.w=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setW(l){return this.w=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;case 3:this.w=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this.w=void 0!==l.w?l.w:1,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this.w+=l.w,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this.w+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this.w=l.w+d.w,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this.w+=l.w*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this.w-=l.w,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this.w-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this.w=l.w-d.w,this}multiply(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z,this.w*=l.w,this}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this}applyMatrix4(l){const d=this.x,m=this.y,y=this.z,_=this.w,x=l.elements;return this.x=x[0]*d+x[4]*m+x[8]*y+x[12]*_,this.y=x[1]*d+x[5]*m+x[9]*y+x[13]*_,this.z=x[2]*d+x[6]*m+x[10]*y+x[14]*_,this.w=x[3]*d+x[7]*m+x[11]*y+x[15]*_,this}divideScalar(l){return this.multiplyScalar(1/l)}setAxisAngleFromQuaternion(l){this.w=2*Math.acos(l.w);const d=Math.sqrt(1-l.w*l.w);return d<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=l.x/d,this.y=l.y/d,this.z=l.z/d),this}setAxisAngleFromRotationMatrix(l){let d,m,y,_;const k=l.elements,P=k[0],j=k[4],B=k[8],U=k[1],G=k[5],ee=k[9],ue=k[2],de=k[6],ie=k[10];if(Math.abs(j-U)<.01&&Math.abs(B-ue)<.01&&Math.abs(ee-de)<.01){if(Math.abs(j+U)<.1&&Math.abs(B+ue)<.1&&Math.abs(ee+de)<.1&&Math.abs(P+G+ie-3)<.1)return this.set(1,0,0,0),this;d=Math.PI;const ke=(P+1)/2,_e=(G+1)/2,We=(ie+1)/2,Ee=(j+U)/4,Re=(B+ue)/4,$e=(ee+de)/4;return ke>_e&&ke>We?ke<.01?(m=0,y=.707106781,_=.707106781):(m=Math.sqrt(ke),y=Ee/m,_=Re/m):_e>We?_e<.01?(m=.707106781,y=0,_=.707106781):(y=Math.sqrt(_e),m=Ee/y,_=$e/y):We<.01?(m=.707106781,y=.707106781,_=0):(_=Math.sqrt(We),m=Re/_,y=$e/_),this.set(m,y,_,d),this}let q=Math.sqrt((de-ee)*(de-ee)+(B-ue)*(B-ue)+(U-j)*(U-j));return Math.abs(q)<.001&&(q=1),this.x=(de-ee)/q,this.y=(B-ue)/q,this.z=(U-j)/q,this.w=Math.acos((P+G+ie-1)/2),this}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this.w=Math.min(this.w,l.w),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this.w=Math.max(this.w,l.w),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this.w=Math.max(l.w,Math.min(d.w,this.w)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this.w=Math.max(l,Math.min(d,this.w)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this.w+=(l.w-this.w)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this.w=l.w+(d.w-l.w)*m,this}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z&&l.w===this.w}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this.w=l[d+3],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l[d+3]=this.w,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this.w=l.getW(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Ri.prototype.isVector4=!0;class ru extends rc{constructor(l,d,m){super(),this.width=l,this.height=d,this.depth=1,this.scissor=new Ri(0,0,l,d),this.scissorTest=!1,this.viewport=new Ri(0,0,l,d),this.texture=new vo(void 0,(m=m||{}).mapping,m.wrapS,m.wrapT,m.magFilter,m.minFilter,m.format,m.type,m.anisotropy,m.encoding),this.texture.image={},this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==m.generateMipmaps&&m.generateMipmaps,this.texture.minFilter=void 0!==m.minFilter?m.minFilter:Er,this.depthBuffer=void 0===m.depthBuffer||m.depthBuffer,this.stencilBuffer=void 0!==m.stencilBuffer&&m.stencilBuffer,this.depthTexture=void 0!==m.depthTexture?m.depthTexture:null}setTexture(l){l.image={width:this.width,height:this.height,depth:this.depth},this.texture=l}setSize(l,d,m=1){(this.width!==l||this.height!==d||this.depth!==m)&&(this.width=l,this.height=d,this.depth=m,this.texture.image.width=l,this.texture.image.height=d,this.texture.image.depth=m,this.dispose()),this.viewport.set(0,0,l,d),this.scissor.set(0,0,l,d)}clone(){return(new this.constructor).copy(this)}copy(l){return this.width=l.width,this.height=l.height,this.depth=l.depth,this.viewport.copy(l.viewport),this.texture=l.texture.clone(),this.depthBuffer=l.depthBuffer,this.stencilBuffer=l.stencilBuffer,this.depthTexture=l.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}ru.prototype.isWebGLRenderTarget=!0;class Lp extends ru{constructor(l,d,m){super(l,d,m),this.samples=4}copy(l){return super.copy.call(this,l),this.samples=l.samples,this}}Lp.prototype.isWebGLMultisampleRenderTarget=!0;class pi{constructor(l=0,d=0,m=0,y=1){this._x=l,this._y=d,this._z=m,this._w=y}static slerp(l,d,m,y){return m.copy(l).slerp(d,y)}static slerpFlat(l,d,m,y,_,x,D){let k=m[y+0],P=m[y+1],j=m[y+2],B=m[y+3];const U=_[x+0],G=_[x+1],ee=_[x+2],ue=_[x+3];if(0===D)return l[d+0]=k,l[d+1]=P,l[d+2]=j,void(l[d+3]=B);if(1===D)return l[d+0]=U,l[d+1]=G,l[d+2]=ee,void(l[d+3]=ue);if(B!==ue||k!==U||P!==G||j!==ee){let de=1-D;const ie=k*U+P*G+j*ee+B*ue,q=ie>=0?1:-1,ke=1-ie*ie;if(ke>Number.EPSILON){const We=Math.sqrt(ke),Ee=Math.atan2(We,ie*q);de=Math.sin(de*Ee)/We,D=Math.sin(D*Ee)/We}const _e=D*q;if(k=k*de+U*_e,P=P*de+G*_e,j=j*de+ee*_e,B=B*de+ue*_e,de===1-D){const We=1/Math.sqrt(k*k+P*P+j*j+B*B);k*=We,P*=We,j*=We,B*=We}}l[d]=k,l[d+1]=P,l[d+2]=j,l[d+3]=B}static multiplyQuaternionsFlat(l,d,m,y,_,x){const D=m[y],k=m[y+1],P=m[y+2],j=m[y+3],B=_[x],U=_[x+1],G=_[x+2],ee=_[x+3];return l[d]=D*ee+j*B+k*G-P*U,l[d+1]=k*ee+j*U+P*B-D*G,l[d+2]=P*ee+j*G+D*U-k*B,l[d+3]=j*ee-D*B-k*U-P*G,l}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get w(){return this._w}set w(l){this._w=l,this._onChangeCallback()}set(l,d,m,y){return this._x=l,this._y=d,this._z=m,this._w=y,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(l){return this._x=l.x,this._y=l.y,this._z=l.z,this._w=l.w,this._onChangeCallback(),this}setFromEuler(l,d){if(!l||!l.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const m=l._x,y=l._y,_=l._z,x=l._order,D=Math.cos,k=Math.sin,P=D(m/2),j=D(y/2),B=D(_/2),U=k(m/2),G=k(y/2),ee=k(_/2);switch(x){case"XYZ":this._x=U*j*B+P*G*ee,this._y=P*G*B-U*j*ee,this._z=P*j*ee+U*G*B,this._w=P*j*B-U*G*ee;break;case"YXZ":this._x=U*j*B+P*G*ee,this._y=P*G*B-U*j*ee,this._z=P*j*ee-U*G*B,this._w=P*j*B+U*G*ee;break;case"ZXY":this._x=U*j*B-P*G*ee,this._y=P*G*B+U*j*ee,this._z=P*j*ee+U*G*B,this._w=P*j*B-U*G*ee;break;case"ZYX":this._x=U*j*B-P*G*ee,this._y=P*G*B+U*j*ee,this._z=P*j*ee-U*G*B,this._w=P*j*B+U*G*ee;break;case"YZX":this._x=U*j*B+P*G*ee,this._y=P*G*B+U*j*ee,this._z=P*j*ee-U*G*B,this._w=P*j*B-U*G*ee;break;case"XZY":this._x=U*j*B-P*G*ee,this._y=P*G*B-U*j*ee,this._z=P*j*ee+U*G*B,this._w=P*j*B+U*G*ee;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+x)}return!1!==d&&this._onChangeCallback(),this}setFromAxisAngle(l,d){const m=d/2,y=Math.sin(m);return this._x=l.x*y,this._y=l.y*y,this._z=l.z*y,this._w=Math.cos(m),this._onChangeCallback(),this}setFromRotationMatrix(l){const d=l.elements,m=d[0],y=d[4],_=d[8],x=d[1],D=d[5],k=d[9],P=d[2],j=d[6],B=d[10],U=m+D+B;if(U>0){const G=.5/Math.sqrt(U+1);this._w=.25/G,this._x=(j-k)*G,this._y=(_-P)*G,this._z=(x-y)*G}else if(m>D&&m>B){const G=2*Math.sqrt(1+m-D-B);this._w=(j-k)/G,this._x=.25*G,this._y=(y+x)/G,this._z=(_+P)/G}else if(D>B){const G=2*Math.sqrt(1+D-m-B);this._w=(_-P)/G,this._x=(y+x)/G,this._y=.25*G,this._z=(k+j)/G}else{const G=2*Math.sqrt(1+B-m-D);this._w=(x-y)/G,this._x=(_+P)/G,this._y=(k+j)/G,this._z=.25*G}return this._onChangeCallback(),this}setFromUnitVectors(l,d){let y=l.dot(d)+1;return y<1e-6?(y=0,Math.abs(l.x)>Math.abs(l.z)?(this._x=-l.y,this._y=l.x,this._z=0,this._w=y):(this._x=0,this._y=-l.z,this._z=l.y,this._w=y)):(this._x=l.y*d.z-l.z*d.y,this._y=l.z*d.x-l.x*d.z,this._z=l.x*d.y-l.y*d.x,this._w=y),this.normalize()}angleTo(l){return 2*Math.acos(Math.abs(An.clamp(this.dot(l),-1,1)))}rotateTowards(l,d){const m=this.angleTo(l);if(0===m)return this;const y=Math.min(1,d/m);return this.slerp(l,y),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(l){return this._x*l._x+this._y*l._y+this._z*l._z+this._w*l._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let l=this.length();return 0===l?(this._x=0,this._y=0,this._z=0,this._w=1):(l=1/l,this._x=this._x*l,this._y=this._y*l,this._z=this._z*l,this._w=this._w*l),this._onChangeCallback(),this}multiply(l,d){return void 0!==d?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(l,d)):this.multiplyQuaternions(this,l)}premultiply(l){return this.multiplyQuaternions(l,this)}multiplyQuaternions(l,d){const m=l._x,y=l._y,_=l._z,x=l._w,D=d._x,k=d._y,P=d._z,j=d._w;return this._x=m*j+x*D+y*P-_*k,this._y=y*j+x*k+_*D-m*P,this._z=_*j+x*P+m*k-y*D,this._w=x*j-m*D-y*k-_*P,this._onChangeCallback(),this}slerp(l,d){if(0===d)return this;if(1===d)return this.copy(l);const m=this._x,y=this._y,_=this._z,x=this._w;let D=x*l._w+m*l._x+y*l._y+_*l._z;if(D<0?(this._w=-l._w,this._x=-l._x,this._y=-l._y,this._z=-l._z,D=-D):this.copy(l),D>=1)return this._w=x,this._x=m,this._y=y,this._z=_,this;const k=1-D*D;if(k<=Number.EPSILON){const G=1-d;return this._w=G*x+d*this._w,this._x=G*m+d*this._x,this._y=G*y+d*this._y,this._z=G*_+d*this._z,this.normalize(),this._onChangeCallback(),this}const P=Math.sqrt(k),j=Math.atan2(P,D),B=Math.sin((1-d)*j)/P,U=Math.sin(d*j)/P;return this._w=x*B+this._w*U,this._x=m*B+this._x*U,this._y=y*B+this._y*U,this._z=_*B+this._z*U,this._onChangeCallback(),this}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._w===this._w}fromArray(l,d=0){return this._x=l[d],this._y=l[d+1],this._z=l[d+2],this._w=l[d+3],this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._w,l}fromBufferAttribute(l,d){return this._x=l.getX(d),this._y=l.getY(d),this._z=l.getZ(d),this._w=l.getW(d),this}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}pi.prototype.isQuaternion=!0;class De{constructor(l=0,d=0,m=0){this.x=l,this.y=d,this.z=m}set(l,d,m){return void 0===m&&(m=this.z),this.x=l,this.y=d,this.z=m,this}setScalar(l){return this.x=l,this.y=l,this.z=l,this}setX(l){return this.x=l,this}setY(l){return this.y=l,this}setZ(l){return this.z=l,this}setComponent(l,d){switch(l){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;default:throw new Error("index is out of range: "+l)}return this}getComponent(l){switch(l){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+l)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(l){return this.x=l.x,this.y=l.y,this.z=l.z,this}add(l,d){return void 0!==d?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(l,d)):(this.x+=l.x,this.y+=l.y,this.z+=l.z,this)}addScalar(l){return this.x+=l,this.y+=l,this.z+=l,this}addVectors(l,d){return this.x=l.x+d.x,this.y=l.y+d.y,this.z=l.z+d.z,this}addScaledVector(l,d){return this.x+=l.x*d,this.y+=l.y*d,this.z+=l.z*d,this}sub(l,d){return void 0!==d?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(l,d)):(this.x-=l.x,this.y-=l.y,this.z-=l.z,this)}subScalar(l){return this.x-=l,this.y-=l,this.z-=l,this}subVectors(l,d){return this.x=l.x-d.x,this.y=l.y-d.y,this.z=l.z-d.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(l,d)):(this.x*=l.x,this.y*=l.y,this.z*=l.z,this)}multiplyScalar(l){return this.x*=l,this.y*=l,this.z*=l,this}multiplyVectors(l,d){return this.x=l.x*d.x,this.y=l.y*d.y,this.z=l.z*d.z,this}applyEuler(l){return l&&l.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(aa.setFromEuler(l))}applyAxisAngle(l,d){return this.applyQuaternion(aa.setFromAxisAngle(l,d))}applyMatrix3(l){const d=this.x,m=this.y,y=this.z,_=l.elements;return this.x=_[0]*d+_[3]*m+_[6]*y,this.y=_[1]*d+_[4]*m+_[7]*y,this.z=_[2]*d+_[5]*m+_[8]*y,this}applyNormalMatrix(l){return this.applyMatrix3(l).normalize()}applyMatrix4(l){const d=this.x,m=this.y,y=this.z,_=l.elements,x=1/(_[3]*d+_[7]*m+_[11]*y+_[15]);return this.x=(_[0]*d+_[4]*m+_[8]*y+_[12])*x,this.y=(_[1]*d+_[5]*m+_[9]*y+_[13])*x,this.z=(_[2]*d+_[6]*m+_[10]*y+_[14])*x,this}applyQuaternion(l){const d=this.x,m=this.y,y=this.z,_=l.x,x=l.y,D=l.z,k=l.w,P=k*d+x*y-D*m,j=k*m+D*d-_*y,B=k*y+_*m-x*d,U=-_*d-x*m-D*y;return this.x=P*k+U*-_+j*-D-B*-x,this.y=j*k+U*-x+B*-_-P*-D,this.z=B*k+U*-D+P*-x-j*-_,this}project(l){return this.applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix)}unproject(l){return this.applyMatrix4(l.projectionMatrixInverse).applyMatrix4(l.matrixWorld)}transformDirection(l){const d=this.x,m=this.y,y=this.z,_=l.elements;return this.x=_[0]*d+_[4]*m+_[8]*y,this.y=_[1]*d+_[5]*m+_[9]*y,this.z=_[2]*d+_[6]*m+_[10]*y,this.normalize()}divide(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z,this}divideScalar(l){return this.multiplyScalar(1/l)}min(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this}max(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this}clamp(l,d){return this.x=Math.max(l.x,Math.min(d.x,this.x)),this.y=Math.max(l.y,Math.min(d.y,this.y)),this.z=Math.max(l.z,Math.min(d.z,this.z)),this}clampScalar(l,d){return this.x=Math.max(l,Math.min(d,this.x)),this.y=Math.max(l,Math.min(d,this.y)),this.z=Math.max(l,Math.min(d,this.z)),this}clampLength(l,d){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(l,Math.min(d,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(l){return this.x*l.x+this.y*l.y+this.z*l.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(l){return this.normalize().multiplyScalar(l)}lerp(l,d){return this.x+=(l.x-this.x)*d,this.y+=(l.y-this.y)*d,this.z+=(l.z-this.z)*d,this}lerpVectors(l,d,m){return this.x=l.x+(d.x-l.x)*m,this.y=l.y+(d.y-l.y)*m,this.z=l.z+(d.z-l.z)*m,this}cross(l,d){return void 0!==d?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(l,d)):this.crossVectors(this,l)}crossVectors(l,d){const m=l.x,y=l.y,_=l.z,x=d.x,D=d.y,k=d.z;return this.x=y*k-_*D,this.y=_*x-m*k,this.z=m*D-y*x,this}projectOnVector(l){const d=l.lengthSq();if(0===d)return this.set(0,0,0);const m=l.dot(this)/d;return this.copy(l).multiplyScalar(m)}projectOnPlane(l){return $c.copy(this).projectOnVector(l),this.sub($c)}reflect(l){return this.sub($c.copy(l).multiplyScalar(2*this.dot(l)))}angleTo(l){const d=Math.sqrt(this.lengthSq()*l.lengthSq());if(0===d)return Math.PI/2;const m=this.dot(l)/d;return Math.acos(An.clamp(m,-1,1))}distanceTo(l){return Math.sqrt(this.distanceToSquared(l))}distanceToSquared(l){const d=this.x-l.x,m=this.y-l.y,y=this.z-l.z;return d*d+m*m+y*y}manhattanDistanceTo(l){return Math.abs(this.x-l.x)+Math.abs(this.y-l.y)+Math.abs(this.z-l.z)}setFromSpherical(l){return this.setFromSphericalCoords(l.radius,l.phi,l.theta)}setFromSphericalCoords(l,d,m){const y=Math.sin(d)*l;return this.x=y*Math.sin(m),this.y=Math.cos(d)*l,this.z=y*Math.cos(m),this}setFromCylindrical(l){return this.setFromCylindricalCoords(l.radius,l.theta,l.y)}setFromCylindricalCoords(l,d,m){return this.x=l*Math.sin(d),this.y=m,this.z=l*Math.cos(d),this}setFromMatrixPosition(l){const d=l.elements;return this.x=d[12],this.y=d[13],this.z=d[14],this}setFromMatrixScale(l){const d=this.setFromMatrixColumn(l,0).length(),m=this.setFromMatrixColumn(l,1).length(),y=this.setFromMatrixColumn(l,2).length();return this.x=d,this.y=m,this.z=y,this}setFromMatrixColumn(l,d){return this.fromArray(l.elements,4*d)}setFromMatrix3Column(l,d){return this.fromArray(l.elements,3*d)}equals(l){return l.x===this.x&&l.y===this.y&&l.z===this.z}fromArray(l,d=0){return this.x=l[d],this.y=l[d+1],this.z=l[d+2],this}toArray(l=[],d=0){return l[d]=this.x,l[d+1]=this.y,l[d+2]=this.z,l}fromBufferAttribute(l,d,m){return void 0!==m&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=l.getX(d),this.y=l.getY(d),this.z=l.getZ(d),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}De.prototype.isVector3=!0;const $c=new De,aa=new pi;class xl{constructor(l=new De(1/0,1/0,1/0),d=new De(-1/0,-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromArray(l){let d=1/0,m=1/0,y=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,P=l.length;k<P;k+=3){const j=l[k],B=l[k+1],U=l[k+2];j<d&&(d=j),B<m&&(m=B),U<y&&(y=U),j>_&&(_=j),B>x&&(x=B),U>D&&(D=U)}return this.min.set(d,m,y),this.max.set(_,x,D),this}setFromBufferAttribute(l){let d=1/0,m=1/0,y=1/0,_=-1/0,x=-1/0,D=-1/0;for(let k=0,P=l.count;k<P;k++){const j=l.getX(k),B=l.getY(k),U=l.getZ(k);j<d&&(d=j),B<m&&(m=B),U<y&&(y=U),j>_&&(_=j),B>x&&(x=B),U>D&&(D=U)}return this.min.set(d,m,y),this.max.set(_,x,D),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=Jn.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}setFromObject(l){return this.makeEmpty(),this.expandByObject(l)}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(l){return void 0===l&&(console.warn("THREE.Box3: .getCenter() target is now required"),l=new De),this.isEmpty()?l.set(0,0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box3: .getSize() target is now required"),l=new De),this.isEmpty()?l.set(0,0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}expandByObject(l){l.updateWorldMatrix(!1,!1);const d=l.geometry;void 0!==d&&(null===d.boundingBox&&d.computeBoundingBox(),ui.copy(d.boundingBox),ui.applyMatrix4(l.matrixWorld),this.union(ui));const m=l.children;for(let y=0,_=m.length;y<_;y++)this.expandByObject(m[y]);return this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y||l.z<this.min.z||l.z>this.max.z)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y&&this.min.z<=l.min.z&&l.max.z<=this.max.z}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box3: .getParameter() target is now required"),d=new De),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y),(l.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y||l.max.z<this.min.z||l.min.z>this.max.z)}intersectsSphere(l){return this.clampPoint(l.center,Jn),Jn.distanceToSquared(l.center)<=l.radius*l.radius}intersectsPlane(l){let d,m;return l.normal.x>0?(d=l.normal.x*this.min.x,m=l.normal.x*this.max.x):(d=l.normal.x*this.max.x,m=l.normal.x*this.min.x),l.normal.y>0?(d+=l.normal.y*this.min.y,m+=l.normal.y*this.max.y):(d+=l.normal.y*this.max.y,m+=l.normal.y*this.min.y),l.normal.z>0?(d+=l.normal.z*this.min.z,m+=l.normal.z*this.max.z):(d+=l.normal.z*this.max.z,m+=l.normal.z*this.min.z),d<=-l.constant&&m>=-l.constant}intersectsTriangle(l){if(this.isEmpty())return!1;this.getCenter(Kc),oc.subVectors(this.max,Kc),zo.subVectors(l.a,Kc),la.subVectors(l.b,Kc),iu.subVectors(l.c,Kc),Yo.subVectors(la,zo),Sa.subVectors(iu,la),No.subVectors(zo,iu);let d=[0,-Yo.z,Yo.y,0,-Sa.z,Sa.y,0,-No.z,No.y,Yo.z,0,-Yo.x,Sa.z,0,-Sa.x,No.z,0,-No.x,-Yo.y,Yo.x,0,-Sa.y,Sa.x,0,-No.y,No.x,0];return!(!sc(d,zo,la,iu,oc)||(d=[1,0,0,0,1,0,0,0,1],!sc(d,zo,la,iu,oc)))&&(Di.crossVectors(Yo,Sa),d=[Di.x,Di.y,Di.z],sc(d,zo,la,iu,oc))}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box3: .clampPoint() target is now required"),d=new De),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return Jn.copy(l).clamp(this.min,this.max).sub(l).length()}getBoundingSphere(l){return void 0===l&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(l.center),l.radius=.5*this.getSize(Jn).length(),l}intersect(l){return this.min.max(l.min),this.max.min(l.max),this.isEmpty()&&this.makeEmpty(),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}applyMatrix4(l){return this.isEmpty()||(Us[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(l),Us[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(l),Us[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(l),Us[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(l),Us[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(l),Us[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(l),Us[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(l),Us[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(l),this.setFromPoints(Us)),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}xl.prototype.isBox3=!0;const Us=[new De,new De,new De,new De,new De,new De,new De,new De],Jn=new De,ui=new xl,zo=new De,la=new De,iu=new De,Yo=new De,Sa=new De,No=new De,Kc=new De,oc=new De,Di=new De,ou=new De;function sc(h,l,d,m,y){for(let _=0,x=h.length-3;_<=x;_+=3){ou.fromArray(h,_);const D=y.x*Math.abs(ou.x)+y.y*Math.abs(ou.y)+y.z*Math.abs(ou.z),k=l.dot(ou),P=d.dot(ou),j=m.dot(ou);if(Math.max(-Math.max(k,P,j),Math.min(k,P,j))>D)return!1}return!0}const Ip=new xl;class Cl{constructor(l=new De,d=-1){this.center=l,this.radius=d}set(l,d){return this.center.copy(l),this.radius=d,this}setFromPoints(l,d){const m=this.center;void 0!==d?m.copy(d):Ip.setFromPoints(l).getCenter(m);let y=0;for(let _=0,x=l.length;_<x;_++)y=Math.max(y,m.distanceToSquared(l[_]));return this.radius=Math.sqrt(y),this}copy(l){return this.center.copy(l.center),this.radius=l.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(l){return l.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(l){return l.distanceTo(this.center)-this.radius}intersectsSphere(l){const d=this.radius+l.radius;return l.center.distanceToSquared(this.center)<=d*d}intersectsBox(l){return l.intersectsSphere(this)}intersectsPlane(l){return Math.abs(l.distanceToPoint(this.center))<=this.radius}clampPoint(l,d){const m=this.center.distanceToSquared(l);return void 0===d&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),d=new De),d.copy(l),m>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center)),d}getBoundingBox(l){return void 0===l&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),l=new xl),this.isEmpty()?(l.makeEmpty(),l):(l.set(this.center,this.center),l.expandByScalar(this.radius),l)}applyMatrix4(l){return this.center.applyMatrix4(l),this.radius=this.radius*l.getMaxScaleOnAxis(),this}translate(l){return this.center.add(l),this}equals(l){return l.center.equals(this.center)&&l.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ms=new De,Tf=new De,Xc=new De,ua=new De,Hd=new De,Np=new De,Go=new De;class Bd{constructor(l=new De,d=new De(0,0,-1)){this.origin=l,this.direction=d}set(l,d){return this.origin.copy(l),this.direction.copy(d),this}copy(l){return this.origin.copy(l.origin),this.direction.copy(l.direction),this}at(l,d){return void 0===d&&(console.warn("THREE.Ray: .at() target is now required"),d=new De),d.copy(this.direction).multiplyScalar(l).add(this.origin)}lookAt(l){return this.direction.copy(l).sub(this.origin).normalize(),this}recast(l){return this.origin.copy(this.at(l,ms)),this}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),d=new De),d.subVectors(l,this.origin);const m=d.dot(this.direction);return m<0?d.copy(this.origin):d.copy(this.direction).multiplyScalar(m).add(this.origin)}distanceToPoint(l){return Math.sqrt(this.distanceSqToPoint(l))}distanceSqToPoint(l){const d=ms.subVectors(l,this.origin).dot(this.direction);return d<0?this.origin.distanceToSquared(l):(ms.copy(this.direction).multiplyScalar(d).add(this.origin),ms.distanceToSquared(l))}distanceSqToSegment(l,d,m,y){Tf.copy(l).add(d).multiplyScalar(.5),Xc.copy(d).sub(l).normalize(),ua.copy(this.origin).sub(Tf);const _=.5*l.distanceTo(d),x=-this.direction.dot(Xc),D=ua.dot(this.direction),k=-ua.dot(Xc),P=ua.lengthSq(),j=Math.abs(1-x*x);let B,U,G,ee;if(j>0)if(B=x*k-D,U=x*D-k,ee=_*j,B>=0)if(U>=-ee)if(U<=ee){const ue=1/j;B*=ue,U*=ue,G=B*(B+x*U+2*D)+U*(x*B+U+2*k)+P}else U=_,B=Math.max(0,-(x*U+D)),G=-B*B+U*(U+2*k)+P;else U=-_,B=Math.max(0,-(x*U+D)),G=-B*B+U*(U+2*k)+P;else U<=-ee?(B=Math.max(0,-(-x*_+D)),U=B>0?-_:Math.min(Math.max(-_,-k),_),G=-B*B+U*(U+2*k)+P):U<=ee?(B=0,U=Math.min(Math.max(-_,-k),_),G=U*(U+2*k)+P):(B=Math.max(0,-(x*_+D)),U=B>0?_:Math.min(Math.max(-_,-k),_),G=-B*B+U*(U+2*k)+P);else U=x>0?-_:_,B=Math.max(0,-(x*U+D)),G=-B*B+U*(U+2*k)+P;return m&&m.copy(this.direction).multiplyScalar(B).add(this.origin),y&&y.copy(Xc).multiplyScalar(U).add(Tf),G}intersectSphere(l,d){ms.subVectors(l.center,this.origin);const m=ms.dot(this.direction),y=ms.dot(ms)-m*m,_=l.radius*l.radius;if(y>_)return null;const x=Math.sqrt(_-y),D=m-x,k=m+x;return D<0&&k<0?null:this.at(D<0?k:D,d)}intersectsSphere(l){return this.distanceSqToPoint(l.center)<=l.radius*l.radius}distanceToPlane(l){const d=l.normal.dot(this.direction);if(0===d)return 0===l.distanceToPoint(this.origin)?0:null;const m=-(this.origin.dot(l.normal)+l.constant)/d;return m>=0?m:null}intersectPlane(l,d){const m=this.distanceToPlane(l);return null===m?null:this.at(m,d)}intersectsPlane(l){const d=l.distanceToPoint(this.origin);return 0===d||l.normal.dot(this.direction)*d<0}intersectBox(l,d){let m,y,_,x,D,k;const P=1/this.direction.x,j=1/this.direction.y,B=1/this.direction.z,U=this.origin;return P>=0?(m=(l.min.x-U.x)*P,y=(l.max.x-U.x)*P):(m=(l.max.x-U.x)*P,y=(l.min.x-U.x)*P),j>=0?(_=(l.min.y-U.y)*j,x=(l.max.y-U.y)*j):(_=(l.max.y-U.y)*j,x=(l.min.y-U.y)*j),m>x||_>y||((_>m||m!=m)&&(m=_),(x<y||y!=y)&&(y=x),B>=0?(D=(l.min.z-U.z)*B,k=(l.max.z-U.z)*B):(D=(l.max.z-U.z)*B,k=(l.min.z-U.z)*B),m>k||D>y)||((D>m||m!=m)&&(m=D),(k<y||y!=y)&&(y=k),y<0)?null:this.at(m>=0?m:y,d)}intersectsBox(l){return null!==this.intersectBox(l,ms)}intersectTriangle(l,d,m,y,_){Hd.subVectors(d,l),Np.subVectors(m,l),Go.crossVectors(Hd,Np);let D,x=this.direction.dot(Go);if(x>0){if(y)return null;D=1}else{if(!(x<0))return null;D=-1,x=-x}ua.subVectors(this.origin,l);const k=D*this.direction.dot(Np.crossVectors(ua,Np));if(k<0)return null;const P=D*this.direction.dot(Hd.cross(ua));if(P<0||k+P>x)return null;const j=-D*ua.dot(Go);return j<0?null:this.at(j/x,_)}applyMatrix4(l){return this.origin.applyMatrix4(l),this.direction.transformDirection(l),this}equals(l){return l.origin.equals(this.origin)&&l.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Br{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(l,d,m,y,_,x,D,k,P,j,B,U,G,ee,ue,de){const ie=this.elements;return ie[0]=l,ie[4]=d,ie[8]=m,ie[12]=y,ie[1]=_,ie[5]=x,ie[9]=D,ie[13]=k,ie[2]=P,ie[6]=j,ie[10]=B,ie[14]=U,ie[3]=G,ie[7]=ee,ie[11]=ue,ie[15]=de,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Br).fromArray(this.elements)}copy(l){const d=this.elements,m=l.elements;return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d[4]=m[4],d[5]=m[5],d[6]=m[6],d[7]=m[7],d[8]=m[8],d[9]=m[9],d[10]=m[10],d[11]=m[11],d[12]=m[12],d[13]=m[13],d[14]=m[14],d[15]=m[15],this}copyPosition(l){const d=this.elements,m=l.elements;return d[12]=m[12],d[13]=m[13],d[14]=m[14],this}setFromMatrix3(l){const d=l.elements;return this.set(d[0],d[3],d[6],0,d[1],d[4],d[7],0,d[2],d[5],d[8],0,0,0,0,1),this}extractBasis(l,d,m){return l.setFromMatrixColumn(this,0),d.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this}makeBasis(l,d,m){return this.set(l.x,d.x,m.x,0,l.y,d.y,m.y,0,l.z,d.z,m.z,0,0,0,0,1),this}extractRotation(l){const d=this.elements,m=l.elements,y=1/Ws.setFromMatrixColumn(l,0).length(),_=1/Ws.setFromMatrixColumn(l,1).length(),x=1/Ws.setFromMatrixColumn(l,2).length();return d[0]=m[0]*y,d[1]=m[1]*y,d[2]=m[2]*y,d[3]=0,d[4]=m[4]*_,d[5]=m[5]*_,d[6]=m[6]*_,d[7]=0,d[8]=m[8]*x,d[9]=m[9]*x,d[10]=m[10]*x,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromEuler(l){l&&l.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const d=this.elements,m=l.x,y=l.y,_=l.z,x=Math.cos(m),D=Math.sin(m),k=Math.cos(y),P=Math.sin(y),j=Math.cos(_),B=Math.sin(_);if("XYZ"===l.order){const U=x*j,G=x*B,ee=D*j,ue=D*B;d[0]=k*j,d[4]=-k*B,d[8]=P,d[1]=G+ee*P,d[5]=U-ue*P,d[9]=-D*k,d[2]=ue-U*P,d[6]=ee+G*P,d[10]=x*k}else if("YXZ"===l.order){const U=k*j,G=k*B,ee=P*j,ue=P*B;d[0]=U+ue*D,d[4]=ee*D-G,d[8]=x*P,d[1]=x*B,d[5]=x*j,d[9]=-D,d[2]=G*D-ee,d[6]=ue+U*D,d[10]=x*k}else if("ZXY"===l.order){const U=k*j,G=k*B,ee=P*j,ue=P*B;d[0]=U-ue*D,d[4]=-x*B,d[8]=ee+G*D,d[1]=G+ee*D,d[5]=x*j,d[9]=ue-U*D,d[2]=-x*P,d[6]=D,d[10]=x*k}else if("ZYX"===l.order){const U=x*j,G=x*B,ee=D*j,ue=D*B;d[0]=k*j,d[4]=ee*P-G,d[8]=U*P+ue,d[1]=k*B,d[5]=ue*P+U,d[9]=G*P-ee,d[2]=-P,d[6]=D*k,d[10]=x*k}else if("YZX"===l.order){const U=x*k,G=x*P,ee=D*k,ue=D*P;d[0]=k*j,d[4]=ue-U*B,d[8]=ee*B+G,d[1]=B,d[5]=x*j,d[9]=-D*j,d[2]=-P*j,d[6]=G*B+ee,d[10]=U-ue*B}else if("XZY"===l.order){const U=x*k,G=x*P,ee=D*k,ue=D*P;d[0]=k*j,d[4]=-B,d[8]=P*j,d[1]=U*B+ue,d[5]=x*j,d[9]=G*B-ee,d[2]=ee*B-G,d[6]=D*j,d[10]=ue*B+U}return d[3]=0,d[7]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this}makeRotationFromQuaternion(l){return this.compose(Jv,l,El)}lookAt(l,d,m){const y=this.elements;return Wl.subVectors(l,d),0===Wl.lengthSq()&&(Wl.z=1),Wl.normalize(),Ma.crossVectors(m,Wl),0===Ma.lengthSq()&&(1===Math.abs(m.z)?Wl.x+=1e-4:Wl.z+=1e-4,Wl.normalize(),Ma.crossVectors(m,Wl)),Ma.normalize(),sl.crossVectors(Wl,Ma),y[0]=Ma.x,y[4]=sl.x,y[8]=Wl.x,y[1]=Ma.y,y[5]=sl.y,y[9]=Wl.y,y[2]=Ma.z,y[6]=sl.z,y[10]=Wl.z,this}multiply(l,d){return void 0!==d?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(l,d)):this.multiplyMatrices(this,l)}premultiply(l){return this.multiplyMatrices(l,this)}multiplyMatrices(l,d){const m=l.elements,y=d.elements,_=this.elements,x=m[0],D=m[4],k=m[8],P=m[12],j=m[1],B=m[5],U=m[9],G=m[13],ee=m[2],ue=m[6],de=m[10],ie=m[14],q=m[3],ke=m[7],_e=m[11],We=m[15],Ee=y[0],Re=y[4],$e=y[8],lt=y[12],Dt=y[1],Ht=y[5],$t=y[9],Ft=y[13],xt=y[2],jt=y[6],tn=y[10],Nn=y[14],on=y[3],mr=y[7],Vr=y[11],Lr=y[15];return _[0]=x*Ee+D*Dt+k*xt+P*on,_[4]=x*Re+D*Ht+k*jt+P*mr,_[8]=x*$e+D*$t+k*tn+P*Vr,_[12]=x*lt+D*Ft+k*Nn+P*Lr,_[1]=j*Ee+B*Dt+U*xt+G*on,_[5]=j*Re+B*Ht+U*jt+G*mr,_[9]=j*$e+B*$t+U*tn+G*Vr,_[13]=j*lt+B*Ft+U*Nn+G*Lr,_[2]=ee*Ee+ue*Dt+de*xt+ie*on,_[6]=ee*Re+ue*Ht+de*jt+ie*mr,_[10]=ee*$e+ue*$t+de*tn+ie*Vr,_[14]=ee*lt+ue*Ft+de*Nn+ie*Lr,_[3]=q*Ee+ke*Dt+_e*xt+We*on,_[7]=q*Re+ke*Ht+_e*jt+We*mr,_[11]=q*$e+ke*$t+_e*tn+We*Vr,_[15]=q*lt+ke*Ft+_e*Nn+We*Lr,this}multiplyScalar(l){const d=this.elements;return d[0]*=l,d[4]*=l,d[8]*=l,d[12]*=l,d[1]*=l,d[5]*=l,d[9]*=l,d[13]*=l,d[2]*=l,d[6]*=l,d[10]*=l,d[14]*=l,d[3]*=l,d[7]*=l,d[11]*=l,d[15]*=l,this}determinant(){const l=this.elements,d=l[0],m=l[4],y=l[8],_=l[12],x=l[1],D=l[5],k=l[9],P=l[13],j=l[2],B=l[6],U=l[10],G=l[14];return l[3]*(+_*k*B-y*P*B-_*D*U+m*P*U+y*D*G-m*k*G)+l[7]*(+d*k*G-d*P*U+_*x*U-y*x*G+y*P*j-_*k*j)+l[11]*(+d*P*B-d*D*G-_*x*B+m*x*G+_*D*j-m*P*j)+l[15]*(-y*D*j-d*k*B+d*D*U+y*x*B-m*x*U+m*k*j)}transpose(){const l=this.elements;let d;return d=l[1],l[1]=l[4],l[4]=d,d=l[2],l[2]=l[8],l[8]=d,d=l[6],l[6]=l[9],l[9]=d,d=l[3],l[3]=l[12],l[12]=d,d=l[7],l[7]=l[13],l[13]=d,d=l[11],l[11]=l[14],l[14]=d,this}setPosition(l,d,m){const y=this.elements;return l.isVector3?(y[12]=l.x,y[13]=l.y,y[14]=l.z):(y[12]=l,y[13]=d,y[14]=m),this}invert(){const l=this.elements,d=l[0],m=l[1],y=l[2],_=l[3],x=l[4],D=l[5],k=l[6],P=l[7],j=l[8],B=l[9],U=l[10],G=l[11],ee=l[12],ue=l[13],de=l[14],ie=l[15],q=B*de*P-ue*U*P+ue*k*G-D*de*G-B*k*ie+D*U*ie,ke=ee*U*P-j*de*P-ee*k*G+x*de*G+j*k*ie-x*U*ie,_e=j*ue*P-ee*B*P+ee*D*G-x*ue*G-j*D*ie+x*B*ie,We=ee*B*k-j*ue*k-ee*D*U+x*ue*U+j*D*de-x*B*de,Ee=d*q+m*ke+y*_e+_*We;if(0===Ee)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Re=1/Ee;return l[0]=q*Re,l[1]=(ue*U*_-B*de*_-ue*y*G+m*de*G+B*y*ie-m*U*ie)*Re,l[2]=(D*de*_-ue*k*_+ue*y*P-m*de*P-D*y*ie+m*k*ie)*Re,l[3]=(B*k*_-D*U*_-B*y*P+m*U*P+D*y*G-m*k*G)*Re,l[4]=ke*Re,l[5]=(j*de*_-ee*U*_+ee*y*G-d*de*G-j*y*ie+d*U*ie)*Re,l[6]=(ee*k*_-x*de*_-ee*y*P+d*de*P+x*y*ie-d*k*ie)*Re,l[7]=(x*U*_-j*k*_+j*y*P-d*U*P-x*y*G+d*k*G)*Re,l[8]=_e*Re,l[9]=(ee*B*_-j*ue*_-ee*m*G+d*ue*G+j*m*ie-d*B*ie)*Re,l[10]=(x*ue*_-ee*D*_+ee*m*P-d*ue*P-x*m*ie+d*D*ie)*Re,l[11]=(j*D*_-x*B*_-j*m*P+d*B*P+x*m*G-d*D*G)*Re,l[12]=We*Re,l[13]=(j*ue*y-ee*B*y+ee*m*U-d*ue*U-j*m*de+d*B*de)*Re,l[14]=(ee*D*y-x*ue*y-ee*m*k+d*ue*k+x*m*de-d*D*de)*Re,l[15]=(x*B*y-j*D*y+j*m*k-d*B*k-x*m*U+d*D*U)*Re,this}scale(l){const d=this.elements,m=l.x,y=l.y,_=l.z;return d[0]*=m,d[4]*=y,d[8]*=_,d[1]*=m,d[5]*=y,d[9]*=_,d[2]*=m,d[6]*=y,d[10]*=_,d[3]*=m,d[7]*=y,d[11]*=_,this}getMaxScaleOnAxis(){const l=this.elements;return Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],l[4]*l[4]+l[5]*l[5]+l[6]*l[6],l[8]*l[8]+l[9]*l[9]+l[10]*l[10]))}makeTranslation(l,d,m){return this.set(1,0,0,l,0,1,0,d,0,0,1,m,0,0,0,1),this}makeRotationX(l){const d=Math.cos(l),m=Math.sin(l);return this.set(1,0,0,0,0,d,-m,0,0,m,d,0,0,0,0,1),this}makeRotationY(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,0,m,0,0,1,0,0,-m,0,d,0,0,0,0,1),this}makeRotationZ(l){const d=Math.cos(l),m=Math.sin(l);return this.set(d,-m,0,0,m,d,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(l,d){const m=Math.cos(d),y=Math.sin(d),_=1-m,x=l.x,D=l.y,k=l.z,P=_*x,j=_*D;return this.set(P*x+m,P*D-y*k,P*k+y*D,0,P*D+y*k,j*D+m,j*k-y*x,0,P*k-y*D,j*k+y*x,_*k*k+m,0,0,0,0,1),this}makeScale(l,d,m){return this.set(l,0,0,0,0,d,0,0,0,0,m,0,0,0,0,1),this}makeShear(l,d,m){return this.set(1,d,m,0,l,1,m,0,l,d,1,0,0,0,0,1),this}compose(l,d,m){const y=this.elements,_=d._x,x=d._y,D=d._z,k=d._w,P=_+_,j=x+x,B=D+D,U=_*P,G=_*j,ee=_*B,ue=x*j,de=x*B,ie=D*B,q=k*P,ke=k*j,_e=k*B,We=m.x,Ee=m.y,Re=m.z;return y[0]=(1-(ue+ie))*We,y[1]=(G+_e)*We,y[2]=(ee-ke)*We,y[3]=0,y[4]=(G-_e)*Ee,y[5]=(1-(U+ie))*Ee,y[6]=(de+q)*Ee,y[7]=0,y[8]=(ee+ke)*Re,y[9]=(de-q)*Re,y[10]=(1-(U+ue))*Re,y[11]=0,y[12]=l.x,y[13]=l.y,y[14]=l.z,y[15]=1,this}decompose(l,d,m){const y=this.elements;let _=Ws.set(y[0],y[1],y[2]).length();const x=Ws.set(y[4],y[5],y[6]).length(),D=Ws.set(y[8],y[9],y[10]).length();this.determinant()<0&&(_=-_),l.x=y[12],l.y=y[13],l.z=y[14],Ds.copy(this);const P=1/_,j=1/x,B=1/D;return Ds.elements[0]*=P,Ds.elements[1]*=P,Ds.elements[2]*=P,Ds.elements[4]*=j,Ds.elements[5]*=j,Ds.elements[6]*=j,Ds.elements[8]*=B,Ds.elements[9]*=B,Ds.elements[10]*=B,d.setFromRotationMatrix(Ds),m.x=_,m.y=x,m.z=D,this}makePerspective(l,d,m,y,_,x){void 0===x&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const D=this.elements,P=2*_/(m-y),j=(d+l)/(d-l),B=(m+y)/(m-y),U=-(x+_)/(x-_),G=-2*x*_/(x-_);return D[0]=2*_/(d-l),D[4]=0,D[8]=j,D[12]=0,D[1]=0,D[5]=P,D[9]=B,D[13]=0,D[2]=0,D[6]=0,D[10]=U,D[14]=G,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(l,d,m,y,_,x){const D=this.elements,k=1/(d-l),P=1/(m-y),j=1/(x-_),B=(d+l)*k,U=(m+y)*P,G=(x+_)*j;return D[0]=2*k,D[4]=0,D[8]=0,D[12]=-B,D[1]=0,D[5]=2*P,D[9]=0,D[13]=-U,D[2]=0,D[6]=0,D[10]=-2*j,D[14]=-G,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(l){const d=this.elements,m=l.elements;for(let y=0;y<16;y++)if(d[y]!==m[y])return!1;return!0}fromArray(l,d=0){for(let m=0;m<16;m++)this.elements[m]=l[m+d];return this}toArray(l=[],d=0){const m=this.elements;return l[d]=m[0],l[d+1]=m[1],l[d+2]=m[2],l[d+3]=m[3],l[d+4]=m[4],l[d+5]=m[5],l[d+6]=m[6],l[d+7]=m[7],l[d+8]=m[8],l[d+9]=m[9],l[d+10]=m[10],l[d+11]=m[11],l[d+12]=m[12],l[d+13]=m[13],l[d+14]=m[14],l[d+15]=m[15],l}}Br.prototype.isMatrix4=!0;const Ws=new De,Ds=new Br,Jv=new De(0,0,0),El=new De(1,1,1),Ma=new De,sl=new De,Wl=new De,d0=new Br,Qv=new pi;class Rf{constructor(l=0,d=0,m=0,y=Rf.DefaultOrder){this._x=l,this._y=d,this._z=m,this._order=y}get x(){return this._x}set x(l){this._x=l,this._onChangeCallback()}get y(){return this._y}set y(l){this._y=l,this._onChangeCallback()}get z(){return this._z}set z(l){this._z=l,this._onChangeCallback()}get order(){return this._order}set order(l){this._order=l,this._onChangeCallback()}set(l,d,m,y){return this._x=l,this._y=d,this._z=m,this._order=y||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(l){return this._x=l._x,this._y=l._y,this._z=l._z,this._order=l._order,this._onChangeCallback(),this}setFromRotationMatrix(l,d,m){const y=An.clamp,_=l.elements,x=_[0],D=_[4],k=_[8],P=_[1],j=_[5],B=_[9],U=_[2],G=_[6],ee=_[10];switch(d=d||this._order){case"XYZ":this._y=Math.asin(y(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-B,ee),this._z=Math.atan2(-D,x)):(this._x=Math.atan2(G,j),this._z=0);break;case"YXZ":this._x=Math.asin(-y(B,-1,1)),Math.abs(B)<.9999999?(this._y=Math.atan2(k,ee),this._z=Math.atan2(P,j)):(this._y=Math.atan2(-U,x),this._z=0);break;case"ZXY":this._x=Math.asin(y(G,-1,1)),Math.abs(G)<.9999999?(this._y=Math.atan2(-U,ee),this._z=Math.atan2(-D,j)):(this._y=0,this._z=Math.atan2(P,x));break;case"ZYX":this._y=Math.asin(-y(U,-1,1)),Math.abs(U)<.9999999?(this._x=Math.atan2(G,ee),this._z=Math.atan2(P,x)):(this._x=0,this._z=Math.atan2(-D,j));break;case"YZX":this._z=Math.asin(y(P,-1,1)),Math.abs(P)<.9999999?(this._x=Math.atan2(-B,j),this._y=Math.atan2(-U,x)):(this._x=0,this._y=Math.atan2(k,ee));break;case"XZY":this._z=Math.asin(-y(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(G,j),this._y=Math.atan2(k,x)):(this._x=Math.atan2(-B,ee),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+d)}return this._order=d,!1!==m&&this._onChangeCallback(),this}setFromQuaternion(l,d,m){return d0.makeRotationFromQuaternion(l),this.setFromRotationMatrix(d0,d,m)}setFromVector3(l,d){return this.set(l.x,l.y,l.z,d||this._order)}reorder(l){return Qv.setFromEuler(this),this.setFromQuaternion(Qv,l)}equals(l){return l._x===this._x&&l._y===this._y&&l._z===this._z&&l._order===this._order}fromArray(l){return this._x=l[0],this._y=l[1],this._z=l[2],void 0!==l[3]&&(this._order=l[3]),this._onChangeCallback(),this}toArray(l=[],d=0){return l[d]=this._x,l[d+1]=this._y,l[d+2]=this._z,l[d+3]=this._order,l}toVector3(l){return l?l.set(this._x,this._y,this._z):new De(this._x,this._y,this._z)}_onChange(l){return this._onChangeCallback=l,this}_onChangeCallback(){}}Rf.prototype.isEuler=!0,Rf.DefaultOrder="XYZ",Rf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class f0{constructor(){this.mask=1}set(l){this.mask=1<<l|0}enable(l){this.mask|=1<<l|0}enableAll(){this.mask=-1}toggle(l){this.mask^=1<<l|0}disable(l){this.mask&=~(1<<l|0)}disableAll(){this.mask=0}test(l){return 0!=(this.mask&l.mask)}}let QE=0;const eT=new De,Fp=new pi,Vd=new Br,e_=new De,Fg=new De,_k=new De,bk=new pi,tT=new De(1,0,0),nT=new De(0,1,0),rT=new De(0,0,1),wk={type:"added"},iT={type:"removed"};function $r(){Object.defineProperty(this,"id",{value:QE++}),this.uuid=An.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$r.DefaultUp.clone();const h=new De,l=new Rf,d=new pi,m=new De(1,1,1);l._onChange(function y(){d.setFromEuler(l,!1)}),d._onChange(function _(){l.setFromQuaternion(d,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:h},rotation:{configurable:!0,enumerable:!0,value:l},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new Br},normalMatrix:{value:new zs}}),this.matrix=new Br,this.matrixWorld=new Br,this.matrixAutoUpdate=$r.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new f0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}$r.DefaultUp=new De(0,1,0),$r.DefaultMatrixAutoUpdate=!0,$r.prototype=Object.assign(Object.create(rc.prototype),{constructor:$r,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(h){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(h),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(h){return this.quaternion.premultiply(h),this},setRotationFromAxisAngle:function(h,l){this.quaternion.setFromAxisAngle(h,l)},setRotationFromEuler:function(h){this.quaternion.setFromEuler(h,!0)},setRotationFromMatrix:function(h){this.quaternion.setFromRotationMatrix(h)},setRotationFromQuaternion:function(h){this.quaternion.copy(h)},rotateOnAxis:function(h,l){return Fp.setFromAxisAngle(h,l),this.quaternion.multiply(Fp),this},rotateOnWorldAxis:function(h,l){return Fp.setFromAxisAngle(h,l),this.quaternion.premultiply(Fp),this},rotateX:function(h){return this.rotateOnAxis(tT,h)},rotateY:function(h){return this.rotateOnAxis(nT,h)},rotateZ:function(h){return this.rotateOnAxis(rT,h)},translateOnAxis:function(h,l){return eT.copy(h).applyQuaternion(this.quaternion),this.position.add(eT.multiplyScalar(l)),this},translateX:function(h){return this.translateOnAxis(tT,h)},translateY:function(h){return this.translateOnAxis(nT,h)},translateZ:function(h){return this.translateOnAxis(rT,h)},localToWorld:function(h){return h.applyMatrix4(this.matrixWorld)},worldToLocal:function(h){return h.applyMatrix4(Vd.copy(this.matrixWorld).invert())},lookAt:function(h,l,d){h.isVector3?e_.copy(h):e_.set(h,l,d);const m=this.parent;this.updateWorldMatrix(!0,!1),Fg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vd.lookAt(Fg,e_,this.up):Vd.lookAt(e_,Fg,this.up),this.quaternion.setFromRotationMatrix(Vd),m&&(Vd.extractRotation(m.matrixWorld),Fp.setFromRotationMatrix(Vd),this.quaternion.premultiply(Fp.invert()))},add:function(h){if(arguments.length>1){for(let l=0;l<arguments.length;l++)this.add(arguments[l]);return this}return h===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",h),this):(h&&h.isObject3D?(null!==h.parent&&h.parent.remove(h),h.parent=this,this.children.push(h),h.dispatchEvent(wk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",h),this)},remove:function(h){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const l=this.children.indexOf(h);return-1!==l&&(h.parent=null,this.children.splice(l,1),h.dispatchEvent(iT)),this},clear:function(){for(let h=0;h<this.children.length;h++){const l=this.children[h];l.parent=null,l.dispatchEvent(iT)}return this.children.length=0,this},attach:function(h){return this.updateWorldMatrix(!0,!1),Vd.copy(this.matrixWorld).invert(),null!==h.parent&&(h.parent.updateWorldMatrix(!0,!1),Vd.multiply(h.parent.matrixWorld)),h.applyMatrix4(Vd),this.add(h),h.updateWorldMatrix(!1,!0),this},getObjectById:function(h){return this.getObjectByProperty("id",h)},getObjectByName:function(h){return this.getObjectByProperty("name",h)},getObjectByProperty:function(h,l){if(this[h]===l)return this;for(let d=0,m=this.children.length;d<m;d++){const _=this.children[d].getObjectByProperty(h,l);if(void 0!==_)return _}},getWorldPosition:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),h=new De),this.updateWorldMatrix(!0,!1),h.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),h=new pi),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fg,h,_k),h},getWorldScale:function(h){return void 0===h&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),h=new De),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fg,bk,h),h},getWorldDirection:function(h){void 0===h&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),h=new De),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return h.set(l[8],l[9],l[10]).normalize()},raycast:function(){},traverse:function(h){h(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverse(h)},traverseVisible:function(h){if(!1===this.visible)return;h(this);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].traverseVisible(h)},traverseAncestors:function(h){const l=this.parent;null!==l&&(h(l),l.traverseAncestors(h))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(h){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||h)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,h=!0);const l=this.children;for(let d=0,m=l.length;d<m;d++)l[d].updateMatrixWorld(h)},updateWorldMatrix:function(h,l){const d=this.parent;if(!0===h&&null!==d&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===l){const m=this.children;for(let y=0,_=m.length;y<_;y++)m[y].updateWorldMatrix(!1,!0)}},toJSON:function(h){const l=void 0===h||"string"==typeof h,d={};l&&(h={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const m={};function y(x,D){return void 0===x[D.uuid]&&(x[D.uuid]=D.toJSON(h)),D.uuid}if(m.uuid=this.uuid,m.type=this.type,""!==this.name&&(m.name=this.name),!0===this.castShadow&&(m.castShadow=!0),!0===this.receiveShadow&&(m.receiveShadow=!0),!1===this.visible&&(m.visible=!1),!1===this.frustumCulled&&(m.frustumCulled=!1),0!==this.renderOrder&&(m.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=y(h.geometries,this.geometry);const x=this.geometry.parameters;if(void 0!==x&&void 0!==x.shapes){const D=x.shapes;if(Array.isArray(D))for(let k=0,P=D.length;k<P;k++)y(h.shapes,D[k]);else y(h.shapes,D)}}if(this.isSkinnedMesh&&(m.bindMode=this.bindMode,m.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(y(h.skeletons,this.skeleton),m.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const x=[];for(let D=0,k=this.material.length;D<k;D++)x.push(y(h.materials,this.material[D]));m.material=x}else m.material=y(h.materials,this.material);if(this.children.length>0){m.children=[];for(let x=0;x<this.children.length;x++)m.children.push(this.children[x].toJSON(h).object)}if(this.animations.length>0){m.animations=[];for(let x=0;x<this.animations.length;x++)m.animations.push(y(h.animations,this.animations[x]))}if(l){const x=_(h.geometries),D=_(h.materials),k=_(h.textures),P=_(h.images),j=_(h.shapes),B=_(h.skeletons),U=_(h.animations);x.length>0&&(d.geometries=x),D.length>0&&(d.materials=D),k.length>0&&(d.textures=k),P.length>0&&(d.images=P),j.length>0&&(d.shapes=j),B.length>0&&(d.skeletons=B),U.length>0&&(d.animations=U)}return d.object=m,d;function _(x){const D=[];for(const k in x){const P=x[k];delete P.metadata,D.push(P)}return D}},clone:function(h){return(new this.constructor).copy(this,h)},copy:function(h,l=!0){if(this.name=h.name,this.up.copy(h.up),this.position.copy(h.position),this.rotation.order=h.rotation.order,this.quaternion.copy(h.quaternion),this.scale.copy(h.scale),this.matrix.copy(h.matrix),this.matrixWorld.copy(h.matrixWorld),this.matrixAutoUpdate=h.matrixAutoUpdate,this.matrixWorldNeedsUpdate=h.matrixWorldNeedsUpdate,this.layers.mask=h.layers.mask,this.visible=h.visible,this.castShadow=h.castShadow,this.receiveShadow=h.receiveShadow,this.frustumCulled=h.frustumCulled,this.renderOrder=h.renderOrder,this.userData=JSON.parse(JSON.stringify(h.userData)),!0===l)for(let d=0;d<h.children.length;d++)this.add(h.children[d].clone());return this}});const Hp=new De,t_=new De,Sk=new zs;class ac{constructor(l=new De(1,0,0),d=0){this.normal=l,this.constant=d}set(l,d){return this.normal.copy(l),this.constant=d,this}setComponents(l,d,m,y){return this.normal.set(l,d,m),this.constant=y,this}setFromNormalAndCoplanarPoint(l,d){return this.normal.copy(l),this.constant=-d.dot(this.normal),this}setFromCoplanarPoints(l,d,m){const y=Hp.subVectors(m,d).cross(t_.subVectors(l,d)).normalize();return this.setFromNormalAndCoplanarPoint(y,l),this}copy(l){return this.normal.copy(l.normal),this.constant=l.constant,this}normalize(){const l=1/this.normal.length();return this.normal.multiplyScalar(l),this.constant*=l,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(l){return this.normal.dot(l)+this.constant}distanceToSphere(l){return this.distanceToPoint(l.center)-l.radius}projectPoint(l,d){return void 0===d&&(console.warn("THREE.Plane: .projectPoint() target is now required"),d=new De),d.copy(this.normal).multiplyScalar(-this.distanceToPoint(l)).add(l)}intersectLine(l,d){void 0===d&&(console.warn("THREE.Plane: .intersectLine() target is now required"),d=new De);const m=l.delta(Hp),y=this.normal.dot(m);if(0===y)return 0===this.distanceToPoint(l.start)?d.copy(l.start):void 0;const _=-(l.start.dot(this.normal)+this.constant)/y;return _<0||_>1?void 0:d.copy(m).multiplyScalar(_).add(l.start)}intersectsLine(l){const d=this.distanceToPoint(l.start),m=this.distanceToPoint(l.end);return d<0&&m>0||m<0&&d>0}intersectsBox(l){return l.intersectsPlane(this)}intersectsSphere(l){return l.intersectsPlane(this)}coplanarPoint(l){return void 0===l&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),l=new De),l.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(l,d){const m=d||Sk.getNormalMatrix(l),y=this.coplanarPoint(Hp).applyMatrix4(l),_=this.normal.applyMatrix3(m).normalize();return this.constant=-y.dot(_),this}translate(l){return this.constant-=l.dot(this.normal),this}equals(l){return l.normal.equals(this.normal)&&l.constant===this.constant}clone(){return(new this.constructor).copy(this)}}ac.prototype.isPlane=!0;const xa=new De,Zc=new De,As=new De,lc=new De,Dh=new De,Ah=new De,Hg=new De,Bp=new De,Bg=new De,zd=new De;class os{constructor(l=new De,d=new De,m=new De){this.a=l,this.b=d,this.c=m}static getNormal(l,d,m,y){void 0===y&&(console.warn("THREE.Triangle: .getNormal() target is now required"),y=new De),y.subVectors(m,d),xa.subVectors(l,d),y.cross(xa);const _=y.lengthSq();return _>0?y.multiplyScalar(1/Math.sqrt(_)):y.set(0,0,0)}static getBarycoord(l,d,m,y,_){xa.subVectors(y,d),Zc.subVectors(m,d),As.subVectors(l,d);const x=xa.dot(xa),D=xa.dot(Zc),k=xa.dot(As),P=Zc.dot(Zc),j=Zc.dot(As),B=x*P-D*D;if(void 0===_&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),_=new De),0===B)return _.set(-2,-1,-1);const U=1/B,G=(P*k-D*j)*U,ee=(x*j-D*k)*U;return _.set(1-G-ee,ee,G)}static containsPoint(l,d,m,y){return this.getBarycoord(l,d,m,y,lc),lc.x>=0&&lc.y>=0&&lc.x+lc.y<=1}static getUV(l,d,m,y,_,x,D,k){return this.getBarycoord(l,d,m,y,lc),k.set(0,0),k.addScaledVector(_,lc.x),k.addScaledVector(x,lc.y),k.addScaledVector(D,lc.z),k}static isFrontFacing(l,d,m,y){return xa.subVectors(m,d),Zc.subVectors(l,d),xa.cross(Zc).dot(y)<0}set(l,d,m){return this.a.copy(l),this.b.copy(d),this.c.copy(m),this}setFromPointsAndIndices(l,d,m,y){return this.a.copy(l[d]),this.b.copy(l[m]),this.c.copy(l[y]),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}getArea(){return xa.subVectors(this.c,this.b),Zc.subVectors(this.a,this.b),.5*xa.cross(Zc).length()}getMidpoint(l){return void 0===l&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),l=new De),l.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(l){return os.getNormal(this.a,this.b,this.c,l)}getPlane(l){return void 0===l&&(console.warn("THREE.Triangle: .getPlane() target is now required"),l=new ac),l.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(l,d){return os.getBarycoord(l,this.a,this.b,this.c,d)}getUV(l,d,m,y,_){return os.getUV(l,this.a,this.b,this.c,d,m,y,_)}containsPoint(l){return os.containsPoint(l,this.a,this.b,this.c)}isFrontFacing(l){return os.isFrontFacing(this.a,this.b,this.c,l)}intersectsBox(l){return l.intersectsTriangle(this)}closestPointToPoint(l,d){void 0===d&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),d=new De);const m=this.a,y=this.b,_=this.c;let x,D;Dh.subVectors(y,m),Ah.subVectors(_,m),Bp.subVectors(l,m);const k=Dh.dot(Bp),P=Ah.dot(Bp);if(k<=0&&P<=0)return d.copy(m);Bg.subVectors(l,y);const j=Dh.dot(Bg),B=Ah.dot(Bg);if(j>=0&&B<=j)return d.copy(y);const U=k*B-j*P;if(U<=0&&k>=0&&j<=0)return x=k/(k-j),d.copy(m).addScaledVector(Dh,x);zd.subVectors(l,_);const G=Dh.dot(zd),ee=Ah.dot(zd);if(ee>=0&&G<=ee)return d.copy(_);const ue=G*P-k*ee;if(ue<=0&&P>=0&&ee<=0)return D=P/(P-ee),d.copy(m).addScaledVector(Ah,D);const de=j*ee-G*B;if(de<=0&&B-j>=0&&G-ee>=0)return Hg.subVectors(_,y),D=(B-j)/(B-j+(G-ee)),d.copy(y).addScaledVector(Hg,D);const ie=1/(de+ue+U);return x=ue*ie,D=U*ie,d.copy(m).addScaledVector(Dh,x).addScaledVector(Ah,D)}equals(l){return l.a.equals(this.a)&&l.b.equals(this.b)&&l.c.equals(this.c)}}let al=0;function $o(){Object.defineProperty(this,"id",{value:al++}),this.uuid=An.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Ve,this.side=fe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Te,this.blendDst=ye,this.blendEquation=ct,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=dr,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=es,this.stencilZFail=es,this.stencilZPass=es,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}$o.prototype=Object.assign(Object.create(rc.prototype),{constructor:$o,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(h){if(void 0!==h)for(const l in h){const d=h[l];if(void 0===d){console.warn("THREE.Material: '"+l+"' parameter is undefined.");continue}if("shading"===l){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=d===we;continue}const m=this[l];void 0!==m?m&&m.isColor?m.set(d):m&&m.isVector3&&d&&d.isVector3?m.copy(d):this[l]=d:console.warn("THREE."+this.type+": '"+l+"' is not a property of this material.")}},toJSON:function(h){const l=void 0===h||"string"==typeof h;l&&(h={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(y){const _=[];for(const x in y){const D=y[x];delete D.metadata,_.push(D)}return _}if(d.uuid=this.uuid,d.type=this.type,""!==this.name&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),void 0!==this.roughness&&(d.roughness=this.roughness),void 0!==this.metalness&&(d.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),void 0!==this.shininess&&(d.shininess=this.shininess),void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(h).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(h).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(h).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(h).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(h).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(h).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(h).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(h).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(h).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(h).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(h).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(h).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(h).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(h).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(h).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(h).uuid,d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(h).uuid),void 0!==this.size&&(d.size=this.size),void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==Ve&&(d.blending=this.blending),this.side!==fe&&(d.side=this.side),this.vertexColors&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),!0===this.transparent&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,d.stencilWrite=this.stencilWrite,d.stencilWriteMask=this.stencilWriteMask,d.stencilFunc=this.stencilFunc,d.stencilRef=this.stencilRef,d.stencilFuncMask=this.stencilFuncMask,d.stencilFail=this.stencilFail,d.stencilZFail=this.stencilZFail,d.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(d.rotation=this.rotation),!0===this.polygonOffset&&(d.polygonOffset=!0),0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth),void 0!==this.dashSize&&(d.dashSize=this.dashSize),void 0!==this.gapSize&&(d.gapSize=this.gapSize),void 0!==this.scale&&(d.scale=this.scale),!0===this.dithering&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(d.morphTargets=!0),!0===this.morphNormals&&(d.morphNormals=!0),!0===this.skinning&&(d.skinning=!0),!0===this.flatShading&&(d.flatShading=this.flatShading),!1===this.visible&&(d.visible=!1),!1===this.toneMapped&&(d.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),l){const y=m(h.textures),_=m(h.images);y.length>0&&(d.textures=y),_.length>0&&(d.images=_)}return d},clone:function(){return(new this.constructor).copy(this)},copy:function(h){this.name=h.name,this.fog=h.fog,this.blending=h.blending,this.side=h.side,this.vertexColors=h.vertexColors,this.opacity=h.opacity,this.transparent=h.transparent,this.blendSrc=h.blendSrc,this.blendDst=h.blendDst,this.blendEquation=h.blendEquation,this.blendSrcAlpha=h.blendSrcAlpha,this.blendDstAlpha=h.blendDstAlpha,this.blendEquationAlpha=h.blendEquationAlpha,this.depthFunc=h.depthFunc,this.depthTest=h.depthTest,this.depthWrite=h.depthWrite,this.stencilWriteMask=h.stencilWriteMask,this.stencilFunc=h.stencilFunc,this.stencilRef=h.stencilRef,this.stencilFuncMask=h.stencilFuncMask,this.stencilFail=h.stencilFail,this.stencilZFail=h.stencilZFail,this.stencilZPass=h.stencilZPass,this.stencilWrite=h.stencilWrite;const l=h.clippingPlanes;let d=null;if(null!==l){const m=l.length;d=new Array(m);for(let y=0;y!==m;++y)d[y]=l[y].clone()}return this.clippingPlanes=d,this.clipIntersection=h.clipIntersection,this.clipShadows=h.clipShadows,this.shadowSide=h.shadowSide,this.colorWrite=h.colorWrite,this.precision=h.precision,this.polygonOffset=h.polygonOffset,this.polygonOffsetFactor=h.polygonOffsetFactor,this.polygonOffsetUnits=h.polygonOffsetUnits,this.dithering=h.dithering,this.alphaTest=h.alphaTest,this.premultipliedAlpha=h.premultipliedAlpha,this.visible=h.visible,this.toneMapped=h.toneMapped,this.userData=JSON.parse(JSON.stringify(h.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty($o.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}});const Df={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tl={h:0,s:0,l:0},Vp={h:0,s:0,l:0};function h0(h,l,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?h+6*(l-h)*d:d<.5?l:d<2/3?h+6*(l-h)*(2/3-d):h}function xs(h){return h<.04045?.0773993808*h:Math.pow(.9478672986*h+.0521327014,2.4)}function n_(h){return h<.0031308?12.92*h:1.055*Math.pow(h,.41666)-.055}let xr=(()=>{class h{constructor(d,m,y){return void 0===m&&void 0===y?this.set(d):this.setRGB(d,m,y)}set(d){return d&&d.isColor?this.copy(d):"number"==typeof d?this.setHex(d):"string"==typeof d&&this.setStyle(d),this}setScalar(d){return this.r=d,this.g=d,this.b=d,this}setHex(d){return d=Math.floor(d),this.r=(d>>16&255)/255,this.g=(d>>8&255)/255,this.b=(255&d)/255,this}setRGB(d,m,y){return this.r=d,this.g=m,this.b=y,this}setHSL(d,m,y){if(d=An.euclideanModulo(d,1),m=An.clamp(m,0,1),y=An.clamp(y,0,1),0===m)this.r=this.g=this.b=y;else{const _=y<=.5?y*(1+m):y+m-y*m,x=2*y-_;this.r=h0(x,_,d+1/3),this.g=h0(x,_,d),this.b=h0(x,_,d-1/3)}return this}setStyle(d){function m(_){void 0!==_&&parseFloat(_)<1&&console.warn("THREE.Color: Alpha component of "+d+" will be ignored.")}let y;if(y=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(d)){let _;const D=y[2];switch(y[1]){case"rgb":case"rgba":if(_=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(255,parseInt(_[1],10))/255,this.g=Math.min(255,parseInt(_[2],10))/255,this.b=Math.min(255,parseInt(_[3],10))/255,m(_[4]),this;if(_=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return this.r=Math.min(100,parseInt(_[1],10))/100,this.g=Math.min(100,parseInt(_[2],10))/100,this.b=Math.min(100,parseInt(_[3],10))/100,m(_[4]),this;break;case"hsl":case"hsla":if(_=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D)){const k=parseFloat(_[1])/360,P=parseInt(_[2],10)/100,j=parseInt(_[3],10)/100;return m(_[4]),this.setHSL(k,P,j)}}}else if(y=/^\#([A-Fa-f\d]+)$/.exec(d)){const _=y[1],x=_.length;if(3===x)return this.r=parseInt(_.charAt(0)+_.charAt(0),16)/255,this.g=parseInt(_.charAt(1)+_.charAt(1),16)/255,this.b=parseInt(_.charAt(2)+_.charAt(2),16)/255,this;if(6===x)return this.r=parseInt(_.charAt(0)+_.charAt(1),16)/255,this.g=parseInt(_.charAt(2)+_.charAt(3),16)/255,this.b=parseInt(_.charAt(4)+_.charAt(5),16)/255,this}return d&&d.length>0?this.setColorName(d):this}setColorName(d){const m=Df[d];return void 0!==m?this.setHex(m):console.warn("THREE.Color: Unknown color "+d),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(d){return this.r=d.r,this.g=d.g,this.b=d.b,this}copyGammaToLinear(d,m=2){return this.r=Math.pow(d.r,m),this.g=Math.pow(d.g,m),this.b=Math.pow(d.b,m),this}copyLinearToGamma(d,m=2){const y=m>0?1/m:1;return this.r=Math.pow(d.r,y),this.g=Math.pow(d.g,y),this.b=Math.pow(d.b,y),this}convertGammaToLinear(d){return this.copyGammaToLinear(this,d),this}convertLinearToGamma(d){return this.copyLinearToGamma(this,d),this}copySRGBToLinear(d){return this.r=xs(d.r),this.g=xs(d.g),this.b=xs(d.b),this}copyLinearToSRGB(d){return this.r=n_(d.r),this.g=n_(d.g),this.b=n_(d.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(d){void 0===d&&(console.warn("THREE.Color: .getHSL() target is now required"),d={h:0,s:0,l:0});const m=this.r,y=this.g,_=this.b,x=Math.max(m,y,_),D=Math.min(m,y,_);let k,P;const j=(D+x)/2;if(D===x)k=0,P=0;else{const B=x-D;switch(P=j<=.5?B/(x+D):B/(2-x-D),x){case m:k=(y-_)/B+(y<_?6:0);break;case y:k=(_-m)/B+2;break;case _:k=(m-y)/B+4}k/=6}return d.h=k,d.s=P,d.l=j,d}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(d,m,y){return this.getHSL(Tl),Tl.h+=d,Tl.s+=m,Tl.l+=y,this.setHSL(Tl.h,Tl.s,Tl.l),this}add(d){return this.r+=d.r,this.g+=d.g,this.b+=d.b,this}addColors(d,m){return this.r=d.r+m.r,this.g=d.g+m.g,this.b=d.b+m.b,this}addScalar(d){return this.r+=d,this.g+=d,this.b+=d,this}sub(d){return this.r=Math.max(0,this.r-d.r),this.g=Math.max(0,this.g-d.g),this.b=Math.max(0,this.b-d.b),this}multiply(d){return this.r*=d.r,this.g*=d.g,this.b*=d.b,this}multiplyScalar(d){return this.r*=d,this.g*=d,this.b*=d,this}lerp(d,m){return this.r+=(d.r-this.r)*m,this.g+=(d.g-this.g)*m,this.b+=(d.b-this.b)*m,this}lerpColors(d,m,y){return this.r=d.r+(m.r-d.r)*y,this.g=d.g+(m.g-d.g)*y,this.b=d.b+(m.b-d.b)*y,this}lerpHSL(d,m){this.getHSL(Tl),d.getHSL(Vp);const y=An.lerp(Tl.h,Vp.h,m),_=An.lerp(Tl.s,Vp.s,m),x=An.lerp(Tl.l,Vp.l,m);return this.setHSL(y,_,x),this}equals(d){return d.r===this.r&&d.g===this.g&&d.b===this.b}fromArray(d,m=0){return this.r=d[m],this.g=d[m+1],this.b=d[m+2],this}toArray(d=[],m=0){return d[m]=this.r,d[m+1]=this.g,d[m+2]=this.b,d}fromBufferAttribute(d,m){return this.r=d.getX(m),this.g=d.getY(m),this.b=d.getZ(m),!0===d.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return h.NAMES=Df,h})();xr.prototype.isColor=!0,xr.prototype.r=1,xr.prototype.g=1,xr.prototype.b=1;class su extends $o{constructor(l){super(),this.type="MeshBasicMaterial",this.color=new xr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ci,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this}}su.prototype.isMeshBasicMaterial=!0;const Zi=new De,Vg=new bn;function Kr(h,l,d){if(Array.isArray(h))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=h,this.itemSize=l,this.count=void 0!==h?h.length/l:0,this.normalized=!0===d,this.usage=Ef,this.updateRange={offset:0,count:-1},this.version=0}function uc(h,l,d){Kr.call(this,new Int8Array(h),l,d)}function Ca(h,l,d){Kr.call(this,new Uint8Array(h),l,d)}function Oh(h,l,d){Kr.call(this,new Uint8ClampedArray(h),l,d)}function jd(h,l,d){Kr.call(this,new Int16Array(h),l,d)}function Af(h,l,d){Kr.call(this,new Uint16Array(h),l,d)}function au(h,l,d){Kr.call(this,new Int32Array(h),l,d)}function Ud(h,l,d){Kr.call(this,new Uint32Array(h),l,d)}function Of(h,l,d){Kr.call(this,new Uint16Array(h),l,d)}function yn(h,l,d){Kr.call(this,new Float32Array(h),l,d)}function kh(h,l,d){Kr.call(this,new Float64Array(h),l,d)}function oT(h){if(0===h.length)return-1/0;let l=h[0];for(let d=1,m=h.length;d<m;++d)h[d]>l&&(l=h[d]);return l}Object.defineProperty(Kr.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(Kr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(h){return this.usage=h,this},copy:function(h){return this.name=h.name,this.array=new h.array.constructor(h.array),this.itemSize=h.itemSize,this.count=h.count,this.normalized=h.normalized,this.usage=h.usage,this},copyAt:function(h,l,d){h*=this.itemSize,d*=l.itemSize;for(let m=0,y=this.itemSize;m<y;m++)this.array[h+m]=l.array[d+m];return this},copyArray:function(h){return this.array.set(h),this},copyColorsArray:function(h){const l=this.array;let d=0;for(let m=0,y=h.length;m<y;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),_=new xr),l[d++]=_.r,l[d++]=_.g,l[d++]=_.b}return this},copyVector2sArray:function(h){const l=this.array;let d=0;for(let m=0,y=h.length;m<y;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),_=new bn),l[d++]=_.x,l[d++]=_.y}return this},copyVector3sArray:function(h){const l=this.array;let d=0;for(let m=0,y=h.length;m<y;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),_=new De),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z}return this},copyVector4sArray:function(h){const l=this.array;let d=0;for(let m=0,y=h.length;m<y;m++){let _=h[m];void 0===_&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),_=new Ri),l[d++]=_.x,l[d++]=_.y,l[d++]=_.z,l[d++]=_.w}return this},applyMatrix3:function(h){if(2===this.itemSize)for(let l=0,d=this.count;l<d;l++)Vg.fromBufferAttribute(this,l),Vg.applyMatrix3(h),this.setXY(l,Vg.x,Vg.y);else if(3===this.itemSize)for(let l=0,d=this.count;l<d;l++)Zi.fromBufferAttribute(this,l),Zi.applyMatrix3(h),this.setXYZ(l,Zi.x,Zi.y,Zi.z);return this},applyMatrix4:function(h){for(let l=0,d=this.count;l<d;l++)Zi.x=this.getX(l),Zi.y=this.getY(l),Zi.z=this.getZ(l),Zi.applyMatrix4(h),this.setXYZ(l,Zi.x,Zi.y,Zi.z);return this},applyNormalMatrix:function(h){for(let l=0,d=this.count;l<d;l++)Zi.x=this.getX(l),Zi.y=this.getY(l),Zi.z=this.getZ(l),Zi.applyNormalMatrix(h),this.setXYZ(l,Zi.x,Zi.y,Zi.z);return this},transformDirection:function(h){for(let l=0,d=this.count;l<d;l++)Zi.x=this.getX(l),Zi.y=this.getY(l),Zi.z=this.getZ(l),Zi.transformDirection(h),this.setXYZ(l,Zi.x,Zi.y,Zi.z);return this},set:function(h,l=0){return this.array.set(h,l),this},getX:function(h){return this.array[h*this.itemSize]},setX:function(h,l){return this.array[h*this.itemSize]=l,this},getY:function(h){return this.array[h*this.itemSize+1]},setY:function(h,l){return this.array[h*this.itemSize+1]=l,this},getZ:function(h){return this.array[h*this.itemSize+2]},setZ:function(h,l){return this.array[h*this.itemSize+2]=l,this},getW:function(h){return this.array[h*this.itemSize+3]},setW:function(h,l){return this.array[h*this.itemSize+3]=l,this},setXY:function(h,l,d){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this},setXYZ:function(h,l,d,m){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this.array[h+2]=m,this},setXYZW:function(h,l,d,m,y){return this.array[0+(h*=this.itemSize)]=l,this.array[h+1]=d,this.array[h+2]=m,this.array[h+3]=y,this},onUpload:function(h){return this.onUploadCallback=h,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(uc.prototype=Object.create(Kr.prototype)).constructor=uc,(Ca.prototype=Object.create(Kr.prototype)).constructor=Ca,(Oh.prototype=Object.create(Kr.prototype)).constructor=Oh,(jd.prototype=Object.create(Kr.prototype)).constructor=jd,(Af.prototype=Object.create(Kr.prototype)).constructor=Af,(au.prototype=Object.create(Kr.prototype)).constructor=au,(Ud.prototype=Object.create(Kr.prototype)).constructor=Ud,(Of.prototype=Object.create(Kr.prototype)).constructor=Of,Of.prototype.isFloat16BufferAttribute=!0,(yn.prototype=Object.create(Kr.prototype)).constructor=yn,(kh.prototype=Object.create(Kr.prototype)).constructor=kh;const sT={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function zp(h,l){return new sT[h](l)}let aT=0;const Yl=new Br,r_=new $r,Ph=new De,ln=new xl,zi=new xl,uo=new De;function fr(){Object.defineProperty(this,"id",{value:aT++}),this.uuid=An.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}fr.prototype=Object.assign(Object.create(rc.prototype),{constructor:fr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(h){return this.index=Array.isArray(h)?new(oT(h)>65535?Ud:Af)(h,1):h,this},getAttribute:function(h){return this.attributes[h]},setAttribute:function(h,l){return this.attributes[h]=l,this},deleteAttribute:function(h){return delete this.attributes[h],this},hasAttribute:function(h){return void 0!==this.attributes[h]},addGroup:function(h,l,d=0){this.groups.push({start:h,count:l,materialIndex:d})},clearGroups:function(){this.groups=[]},setDrawRange:function(h,l){this.drawRange.start=h,this.drawRange.count=l},applyMatrix4:function(h){const l=this.attributes.position;void 0!==l&&(l.applyMatrix4(h),l.needsUpdate=!0);const d=this.attributes.normal;if(void 0!==d){const y=(new zs).getNormalMatrix(h);d.applyNormalMatrix(y),d.needsUpdate=!0}const m=this.attributes.tangent;return void 0!==m&&(m.transformDirection(h),m.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(h){return Yl.makeRotationX(h),this.applyMatrix4(Yl),this},rotateY:function(h){return Yl.makeRotationY(h),this.applyMatrix4(Yl),this},rotateZ:function(h){return Yl.makeRotationZ(h),this.applyMatrix4(Yl),this},translate:function(h,l,d){return Yl.makeTranslation(h,l,d),this.applyMatrix4(Yl),this},scale:function(h,l,d){return Yl.makeScale(h,l,d),this.applyMatrix4(Yl),this},lookAt:function(h){return r_.lookAt(h),r_.updateMatrix(),this.applyMatrix4(r_.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ph).negate(),this.translate(Ph.x,Ph.y,Ph.z),this},setFromPoints:function(h){const l=[];for(let d=0,m=h.length;d<m;d++){const y=h[d];l.push(y.x,y.y,y.z||0)}return this.setAttribute("position",new yn(l,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new xl);const h=this.attributes.position,l=this.morphAttributes.position;if(h&&h.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new De(-1/0,-1/0,-1/0),new De(1/0,1/0,1/0));if(void 0!==h){if(this.boundingBox.setFromBufferAttribute(h),l)for(let d=0,m=l.length;d<m;d++)ln.setFromBufferAttribute(l[d]),this.morphTargetsRelative?(uo.addVectors(this.boundingBox.min,ln.min),this.boundingBox.expandByPoint(uo),uo.addVectors(this.boundingBox.max,ln.max),this.boundingBox.expandByPoint(uo)):(this.boundingBox.expandByPoint(ln.min),this.boundingBox.expandByPoint(ln.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Cl);const h=this.attributes.position,l=this.morphAttributes.position;if(h&&h.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new De,1/0);if(h){const d=this.boundingSphere.center;if(ln.setFromBufferAttribute(h),l)for(let y=0,_=l.length;y<_;y++)zi.setFromBufferAttribute(l[y]),this.morphTargetsRelative?(uo.addVectors(ln.min,zi.min),ln.expandByPoint(uo),uo.addVectors(ln.max,zi.max),ln.expandByPoint(uo)):(ln.expandByPoint(zi.min),ln.expandByPoint(zi.max));ln.getCenter(d);let m=0;for(let y=0,_=h.count;y<_;y++)uo.fromBufferAttribute(h,y),m=Math.max(m,d.distanceToSquared(uo));if(l)for(let y=0,_=l.length;y<_;y++){const x=l[y],D=this.morphTargetsRelative;for(let k=0,P=x.count;k<P;k++)uo.fromBufferAttribute(x,k),D&&(Ph.fromBufferAttribute(h,k),uo.add(Ph)),m=Math.max(m,d.distanceToSquared(uo))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const h=this.index,l=this.attributes;if(null===h||void 0===l.position||void 0===l.normal||void 0===l.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const d=h.array,m=l.position.array,y=l.normal.array,_=l.uv.array,x=m.length/3;void 0===l.tangent&&this.setAttribute("tangent",new Kr(new Float32Array(4*x),4));const D=l.tangent.array,k=[],P=[];for(let lt=0;lt<x;lt++)k[lt]=new De,P[lt]=new De;const j=new De,B=new De,U=new De,G=new bn,ee=new bn,ue=new bn,de=new De,ie=new De;function q(lt,Dt,Ht){j.fromArray(m,3*lt),B.fromArray(m,3*Dt),U.fromArray(m,3*Ht),G.fromArray(_,2*lt),ee.fromArray(_,2*Dt),ue.fromArray(_,2*Ht),B.sub(j),U.sub(j),ee.sub(G),ue.sub(G);const $t=1/(ee.x*ue.y-ue.x*ee.y);!isFinite($t)||(de.copy(B).multiplyScalar(ue.y).addScaledVector(U,-ee.y).multiplyScalar($t),ie.copy(U).multiplyScalar(ee.x).addScaledVector(B,-ue.x).multiplyScalar($t),k[lt].add(de),k[Dt].add(de),k[Ht].add(de),P[lt].add(ie),P[Dt].add(ie),P[Ht].add(ie))}let ke=this.groups;0===ke.length&&(ke=[{start:0,count:d.length}]);for(let lt=0,Dt=ke.length;lt<Dt;++lt){const Ht=ke[lt],$t=Ht.start;for(let xt=$t,jt=$t+Ht.count;xt<jt;xt+=3)q(d[xt+0],d[xt+1],d[xt+2])}const _e=new De,We=new De,Ee=new De,Re=new De;function $e(lt){Ee.fromArray(y,3*lt),Re.copy(Ee);const Dt=k[lt];_e.copy(Dt),_e.sub(Ee.multiplyScalar(Ee.dot(Dt))).normalize(),We.crossVectors(Re,Dt);const $t=We.dot(P[lt])<0?-1:1;D[4*lt]=_e.x,D[4*lt+1]=_e.y,D[4*lt+2]=_e.z,D[4*lt+3]=$t}for(let lt=0,Dt=ke.length;lt<Dt;++lt){const Ht=ke[lt],$t=Ht.start;for(let xt=$t,jt=$t+Ht.count;xt<jt;xt+=3)$e(d[xt+0]),$e(d[xt+1]),$e(d[xt+2])}},computeVertexNormals:function(){const h=this.index,l=this.getAttribute("position");if(void 0!==l){let d=this.getAttribute("normal");if(void 0===d)d=new Kr(new Float32Array(3*l.count),3),this.setAttribute("normal",d);else for(let B=0,U=d.count;B<U;B++)d.setXYZ(B,0,0,0);const m=new De,y=new De,_=new De,x=new De,D=new De,k=new De,P=new De,j=new De;if(h)for(let B=0,U=h.count;B<U;B+=3){const G=h.getX(B+0),ee=h.getX(B+1),ue=h.getX(B+2);m.fromBufferAttribute(l,G),y.fromBufferAttribute(l,ee),_.fromBufferAttribute(l,ue),P.subVectors(_,y),j.subVectors(m,y),P.cross(j),x.fromBufferAttribute(d,G),D.fromBufferAttribute(d,ee),k.fromBufferAttribute(d,ue),x.add(P),D.add(P),k.add(P),d.setXYZ(G,x.x,x.y,x.z),d.setXYZ(ee,D.x,D.y,D.z),d.setXYZ(ue,k.x,k.y,k.z)}else for(let B=0,U=l.count;B<U;B+=3)m.fromBufferAttribute(l,B+0),y.fromBufferAttribute(l,B+1),_.fromBufferAttribute(l,B+2),P.subVectors(_,y),j.subVectors(m,y),P.cross(j),d.setXYZ(B+0,P.x,P.y,P.z),d.setXYZ(B+1,P.x,P.y,P.z),d.setXYZ(B+2,P.x,P.y,P.z);this.normalizeNormals(),d.needsUpdate=!0}},merge:function(h,l){if(!h||!h.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",h);void 0===l&&(l=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const d=this.attributes;for(const m in d){if(void 0===h.attributes[m])continue;const _=d[m].array,x=h.attributes[m],D=x.array,k=x.itemSize*l,P=Math.min(D.length,_.length-k);for(let j=0,B=k;j<P;j++,B++)_[B]=D[j]}return this},normalizeNormals:function(){const h=this.attributes.normal;for(let l=0,d=h.count;l<d;l++)uo.fromBufferAttribute(h,l),uo.normalize(),h.setXYZ(l,uo.x,uo.y,uo.z)},toNonIndexed:function(){function h(x,D){const k=x.array,P=x.itemSize,j=x.normalized,B=new k.constructor(D.length*P);let U=0,G=0;for(let ee=0,ue=D.length;ee<ue;ee++){U=D[ee]*P;for(let de=0;de<P;de++)B[G++]=k[U++]}return new Kr(B,P,j)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const l=new fr,d=this.index.array,m=this.attributes;for(const x in m){const k=h(m[x],d);l.setAttribute(x,k)}const y=this.morphAttributes;for(const x in y){const D=[],k=y[x];for(let P=0,j=k.length;P<j;P++){const U=h(k[P],d);D.push(U)}l.morphAttributes[x]=D}l.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let x=0,D=_.length;x<D;x++){const k=_[x];l.addGroup(k.start,k.count,k.materialIndex)}return l},toJSON:function(){const h={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(h.uuid=this.uuid,h.type=this.type,""!==this.name&&(h.name=this.name),Object.keys(this.userData).length>0&&(h.userData=this.userData),void 0!==this.parameters){const D=this.parameters;for(const k in D)void 0!==D[k]&&(h[k]=D[k]);return h}h.data={attributes:{}};const l=this.index;null!==l&&(h.data.index={type:l.array.constructor.name,array:Array.prototype.slice.call(l.array)});const d=this.attributes;for(const D in d){const k=d[D],P=k.toJSON(h.data);""!==k.name&&(P.name=k.name),h.data.attributes[D]=P}const m={};let y=!1;for(const D in this.morphAttributes){const k=this.morphAttributes[D],P=[];for(let j=0,B=k.length;j<B;j++){const U=k[j],G=U.toJSON(h.data);""!==U.name&&(G.name=U.name),P.push(G)}P.length>0&&(m[D]=P,y=!0)}y&&(h.data.morphAttributes=m,h.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(h.data.groups=JSON.parse(JSON.stringify(_)));const x=this.boundingSphere;return null!==x&&(h.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),h},clone:function(){return(new fr).copy(this)},copy:function(h){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const l={};this.name=h.name;const d=h.index;null!==d&&this.setIndex(d.clone(l));const m=h.attributes;for(const k in m)this.setAttribute(k,m[k].clone(l));const y=h.morphAttributes;for(const k in y){const P=[],j=y[k];for(let B=0,U=j.length;B<U;B++)P.push(j[B].clone(l));this.morphAttributes[k]=P}this.morphTargetsRelative=h.morphTargetsRelative;const _=h.groups;for(let k=0,P=_.length;k<P;k++){const j=_[k];this.addGroup(j.start,j.count,j.materialIndex)}const x=h.boundingBox;null!==x&&(this.boundingBox=x.clone());const D=h.boundingSphere;return null!==D&&(this.boundingSphere=D.clone()),this.drawRange.start=h.drawRange.start,this.drawRange.count=h.drawRange.count,this.userData=h.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Ys=new Br,kf=new Bd,Pf=new Cl,Ea=new De,cc=new De,Tu=new De,p0=new De,i_=new De,o_=new De,Lf=new De,ca=new De,lu=new De,uu=new bn,dc=new bn,cu=new bn,s_=new De,jp=new De;function dn(h=new fr,l=new su){$r.call(this),this.type="Mesh",this.geometry=h,this.material=l,this.updateMorphTargets()}function Lh(h,l,d,m,y,_,x,D,k,P,j,B){Ea.fromBufferAttribute(y,P),cc.fromBufferAttribute(y,j),Tu.fromBufferAttribute(y,B);const U=h.morphTargetInfluences;if(l.morphTargets&&_&&U){Lf.set(0,0,0),ca.set(0,0,0),lu.set(0,0,0);for(let ee=0,ue=_.length;ee<ue;ee++){const de=U[ee],ie=_[ee];0!==de&&(p0.fromBufferAttribute(ie,P),i_.fromBufferAttribute(ie,j),o_.fromBufferAttribute(ie,B),x?(Lf.addScaledVector(p0,de),ca.addScaledVector(i_,de),lu.addScaledVector(o_,de)):(Lf.addScaledVector(p0.sub(Ea),de),ca.addScaledVector(i_.sub(cc),de),lu.addScaledVector(o_.sub(Tu),de)))}Ea.add(Lf),cc.add(ca),Tu.add(lu)}h.isSkinnedMesh&&l.skinning&&(h.boneTransform(P,Ea),h.boneTransform(j,cc),h.boneTransform(B,Tu));const G=function lT(h,l,d,m,y,_,x,D){let k;if(k=l.side===K?m.intersectTriangle(x,_,y,!0,D):m.intersectTriangle(y,_,x,l.side!==ce,D),null===k)return null;jp.copy(D),jp.applyMatrix4(h.matrixWorld);const P=d.ray.origin.distanceTo(jp);return P<d.near||P>d.far?null:{distance:P,point:jp.clone(),object:h}}(h,l,d,m,Ea,cc,Tu,s_);if(G){D&&(uu.fromBufferAttribute(D,P),dc.fromBufferAttribute(D,j),cu.fromBufferAttribute(D,B),G.uv=os.getUV(s_,Ea,cc,Tu,uu,dc,cu,new bn)),k&&(uu.fromBufferAttribute(k,P),dc.fromBufferAttribute(k,j),cu.fromBufferAttribute(k,B),G.uv2=os.getUV(s_,Ea,cc,Tu,uu,dc,cu,new bn));const ee={a:P,b:j,c:B,normal:new De,materialIndex:0};os.getNormal(Ea,cc,Tu,ee.normal),G.face=ee}return G}dn.prototype=Object.assign(Object.create($r.prototype),{constructor:dn,isMesh:!0,copy:function(h){return $r.prototype.copy.call(this,h),void 0!==h.morphTargetInfluences&&(this.morphTargetInfluences=h.morphTargetInfluences.slice()),void 0!==h.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},h.morphTargetDictionary)),this.material=h.material,this.geometry=h.geometry,this},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,_=m.length;y<_;y++){const x=m[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=y}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(h,l){const d=this.geometry,m=this.material,y=this.matrixWorld;if(void 0===m||(null===d.boundingSphere&&d.computeBoundingSphere(),Pf.copy(d.boundingSphere),Pf.applyMatrix4(y),!1===h.ray.intersectsSphere(Pf))||(Ys.copy(y).invert(),kf.copy(h.ray).applyMatrix4(Ys),null!==d.boundingBox&&!1===kf.intersectsBox(d.boundingBox)))return;let _;if(d.isBufferGeometry){const x=d.index,D=d.attributes.position,k=d.morphAttributes.position,P=d.morphTargetsRelative,j=d.attributes.uv,B=d.attributes.uv2,U=d.groups,G=d.drawRange;if(null!==x)if(Array.isArray(m))for(let ee=0,ue=U.length;ee<ue;ee++){const de=U[ee],ie=m[de.materialIndex];for(let _e=Math.max(de.start,G.start),We=Math.min(de.start+de.count,G.start+G.count);_e<We;_e+=3){const Ee=x.getX(_e),Re=x.getX(_e+1),$e=x.getX(_e+2);_=Lh(this,ie,h,kf,D,k,P,j,B,Ee,Re,$e),_&&(_.faceIndex=Math.floor(_e/3),_.face.materialIndex=de.materialIndex,l.push(_))}}else for(let de=Math.max(0,G.start),ie=Math.min(x.count,G.start+G.count);de<ie;de+=3){const q=x.getX(de),ke=x.getX(de+1),_e=x.getX(de+2);_=Lh(this,m,h,kf,D,k,P,j,B,q,ke,_e),_&&(_.faceIndex=Math.floor(de/3),l.push(_))}else if(void 0!==D)if(Array.isArray(m))for(let ee=0,ue=U.length;ee<ue;ee++){const de=U[ee],ie=m[de.materialIndex];for(let _e=Math.max(de.start,G.start),We=Math.min(de.start+de.count,G.start+G.count);_e<We;_e+=3)_=Lh(this,ie,h,kf,D,k,P,j,B,_e,_e+1,_e+2),_&&(_.faceIndex=Math.floor(_e/3),_.face.materialIndex=de.materialIndex,l.push(_))}else for(let de=Math.max(0,G.start),ie=Math.min(D.count,G.start+G.count);de<ie;de+=3)_=Lh(this,m,h,kf,D,k,P,j,B,de,de+1,de+2),_&&(_.faceIndex=Math.floor(de/3),l.push(_))}else d.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class fc extends fr{constructor(l=1,d=1,m=1,y=1,_=1,x=1){super(),this.type="BoxGeometry",this.parameters={width:l,height:d,depth:m,widthSegments:y,heightSegments:_,depthSegments:x};const D=this;y=Math.floor(y),_=Math.floor(_),x=Math.floor(x);const k=[],P=[],j=[],B=[];let U=0,G=0;function ee(ue,de,ie,q,ke,_e,We,Ee,Re,$e,lt){const Dt=_e/Re,Ht=We/$e,$t=_e/2,Ft=We/2,xt=Ee/2,jt=Re+1,tn=$e+1;let Nn=0,on=0;const mr=new De;for(let Vr=0;Vr<tn;Vr++){const Lr=Vr*Ht-Ft;for(let oo=0;oo<jt;oo++)mr[ue]=(oo*Dt-$t)*q,mr[de]=Lr*ke,mr[ie]=xt,P.push(mr.x,mr.y,mr.z),mr[ue]=0,mr[de]=0,mr[ie]=Ee>0?1:-1,j.push(mr.x,mr.y,mr.z),B.push(oo/Re),B.push(1-Vr/$e),Nn+=1}for(let Vr=0;Vr<$e;Vr++)for(let Lr=0;Lr<Re;Lr++){const Mi=U+Lr+jt*(Vr+1),_i=U+(Lr+1)+jt*(Vr+1),Ho=U+(Lr+1)+jt*Vr;k.push(U+Lr+jt*Vr,Mi,Ho),k.push(Mi,_i,Ho),on+=6}D.addGroup(G,on,lt),G+=on,U+=Nn}ee("z","y","x",-1,-1,m,d,l,x,_,0),ee("z","y","x",1,-1,m,d,-l,x,_,1),ee("x","z","y",1,1,l,m,d,y,x,2),ee("x","z","y",1,-1,l,m,-d,y,x,3),ee("x","y","z",1,-1,l,d,m,y,_,4),ee("x","y","z",-1,-1,l,d,-m,y,_,5),this.setIndex(k),this.setAttribute("position",new yn(P,3)),this.setAttribute("normal",new yn(j,3)),this.setAttribute("uv",new yn(B,2))}}function Gi(h){const l={};for(const d in h){l[d]={};for(const m in h[d]){const y=h[d][m];l[d][m]=y&&(y.isColor||y.isMatrix3||y.isMatrix4||y.isVector2||y.isVector3||y.isVector4||y.isTexture||y.isQuaternion)?y.clone():Array.isArray(y)?y.slice():y}}return l}function Os(h){const l={};for(let d=0;d<h.length;d++){const m=Gi(h[d]);for(const y in m)l[y]=m[y]}return l}const a_={clone:Gi,merge:Os};function ll(h){$o.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==h&&(void 0!==h.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(h))}function qc(){$r.call(this),this.type="Camera",this.matrixWorldInverse=new Br,this.projectionMatrix=new Br,this.projectionMatrixInverse=new Br}function ks(h=50,l=1,d=.1,m=2e3){qc.call(this),this.type="PerspectiveCamera",this.fov=h,this.zoom=1,this.near=d,this.far=m,this.focus=10,this.aspect=l,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(ll.prototype=Object.create($o.prototype)).constructor=ll,ll.prototype.isShaderMaterial=!0,ll.prototype.copy=function(h){return $o.prototype.copy.call(this,h),this.fragmentShader=h.fragmentShader,this.vertexShader=h.vertexShader,this.uniforms=Gi(h.uniforms),this.defines=Object.assign({},h.defines),this.wireframe=h.wireframe,this.wireframeLinewidth=h.wireframeLinewidth,this.lights=h.lights,this.clipping=h.clipping,this.skinning=h.skinning,this.morphTargets=h.morphTargets,this.morphNormals=h.morphNormals,this.extensions=Object.assign({},h.extensions),this.glslVersion=h.glslVersion,this},ll.prototype.toJSON=function(h){const l=$o.prototype.toJSON.call(this,h);l.glslVersion=this.glslVersion,l.uniforms={};for(const m in this.uniforms){const _=this.uniforms[m].value;l.uniforms[m]=_&&_.isTexture?{type:"t",value:_.toJSON(h).uuid}:_&&_.isColor?{type:"c",value:_.getHex()}:_&&_.isVector2?{type:"v2",value:_.toArray()}:_&&_.isVector3?{type:"v3",value:_.toArray()}:_&&_.isVector4?{type:"v4",value:_.toArray()}:_&&_.isMatrix3?{type:"m3",value:_.toArray()}:_&&_.isMatrix4?{type:"m4",value:_.toArray()}:{value:_}}Object.keys(this.defines).length>0&&(l.defines=this.defines),l.vertexShader=this.vertexShader,l.fragmentShader=this.fragmentShader;const d={};for(const m in this.extensions)!0===this.extensions[m]&&(d[m]=!0);return Object.keys(d).length>0&&(l.extensions=d),l},qc.prototype=Object.assign(Object.create($r.prototype),{constructor:qc,isCamera:!0,copy:function(h,l){return $r.prototype.copy.call(this,h,l),this.matrixWorldInverse.copy(h.matrixWorldInverse),this.projectionMatrix.copy(h.projectionMatrix),this.projectionMatrixInverse.copy(h.projectionMatrixInverse),this},getWorldDirection:function(h){void 0===h&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),h=new De),this.updateWorldMatrix(!0,!1);const l=this.matrixWorld.elements;return h.set(-l[8],-l[9],-l[10]).normalize()},updateMatrixWorld:function(h){$r.prototype.updateMatrixWorld.call(this,h),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(h,l){$r.prototype.updateWorldMatrix.call(this,h,l),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),ks.prototype=Object.assign(Object.create(qc.prototype),{constructor:ks,isPerspectiveCamera:!0,copy:function(h,l){return qc.prototype.copy.call(this,h,l),this.fov=h.fov,this.zoom=h.zoom,this.near=h.near,this.far=h.far,this.focus=h.focus,this.aspect=h.aspect,this.view=null===h.view?null:Object.assign({},h.view),this.filmGauge=h.filmGauge,this.filmOffset=h.filmOffset,this},setFocalLength:function(h){const l=.5*this.getFilmHeight()/h;this.fov=2*An.RAD2DEG*Math.atan(l),this.updateProjectionMatrix()},getFocalLength:function(){const h=Math.tan(.5*An.DEG2RAD*this.fov);return.5*this.getFilmHeight()/h},getEffectiveFOV:function(){return 2*An.RAD2DEG*Math.atan(Math.tan(.5*An.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(h,l,d,m,y,_){this.aspect=h/l,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=h,this.view.fullHeight=l,this.view.offsetX=d,this.view.offsetY=m,this.view.width=y,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const h=this.near;let l=h*Math.tan(.5*An.DEG2RAD*this.fov)/this.zoom,d=2*l,m=this.aspect*d,y=-.5*m;const _=this.view;if(null!==this.view&&this.view.enabled){const D=_.fullWidth,k=_.fullHeight;y+=_.offsetX*m/D,l-=_.offsetY*d/k,m*=_.width/D,d*=_.height/k}const x=this.filmOffset;0!==x&&(y+=h*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(y,y+m,l,l-d,h,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(h){const l=$r.prototype.toJSON.call(this,h);return l.object.fov=this.fov,l.object.zoom=this.zoom,l.object.near=this.near,l.object.far=this.far,l.object.focus=this.focus,l.object.aspect=this.aspect,null!==this.view&&(l.object.view=Object.assign({},this.view)),l.object.filmGauge=this.filmGauge,l.object.filmOffset=this.filmOffset,l}});class jg extends $r{constructor(l,d,m){if(super(),this.type="CubeCamera",!0!==m.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=m;const y=new ks(90,1,l,d);y.layers=this.layers,y.up.set(0,-1,0),y.lookAt(new De(1,0,0)),this.add(y);const _=new ks(90,1,l,d);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new De(-1,0,0)),this.add(_);const x=new ks(90,1,l,d);x.layers=this.layers,x.up.set(0,0,1),x.lookAt(new De(0,1,0)),this.add(x);const D=new ks(90,1,l,d);D.layers=this.layers,D.up.set(0,0,-1),D.lookAt(new De(0,-1,0)),this.add(D);const k=new ks(90,1,l,d);k.layers=this.layers,k.up.set(0,-1,0),k.lookAt(new De(0,0,1)),this.add(k);const P=new ks(90,1,l,d);P.layers=this.layers,P.up.set(0,-1,0),P.lookAt(new De(0,0,-1)),this.add(P)}update(l,d){null===this.parent&&this.updateMatrixWorld();const m=this.renderTarget,[y,_,x,D,k,P]=this.children,j=l.xr.enabled,B=l.getRenderTarget();l.xr.enabled=!1;const U=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,l.setRenderTarget(m,0),l.render(d,y),l.setRenderTarget(m,1),l.render(d,_),l.setRenderTarget(m,2),l.render(d,x),l.setRenderTarget(m,3),l.render(d,D),l.setRenderTarget(m,4),l.render(d,k),m.texture.generateMipmaps=U,l.setRenderTarget(m,5),l.render(d,P),l.setRenderTarget(B),l.xr.enabled=j}}class Nf extends vo{constructor(l,d,m,y,_,x,D,k,P,j){super(l=void 0!==l?l:[],d=void 0!==d?d:Ot,m,y,_,x,D=void 0!==D?D:Vs,k,P,j),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(l){this.image=l}}Nf.prototype.isCubeTexture=!0;class da extends ru{constructor(l,d,m){Number.isInteger(d)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),d=m),super(l,l,d),this.texture=new Nf(void 0,(d=d||{}).mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding),this.texture.generateMipmaps=void 0!==d.generateMipmaps&&d.generateMipmaps,this.texture.minFilter=void 0!==d.minFilter?d.minFilter:Er,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(l,d){this.texture.type=d.type,this.texture.format=Io,this.texture.encoding=d.encoding,this.texture.generateMipmaps=d.generateMipmaps,this.texture.minFilter=d.minFilter,this.texture.magFilter=d.magFilter;const m_uniforms={tEquirect:{value:null}},m_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",m_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",y=new fc(5,5,5),_=new ll({name:"CubemapFromEquirect",uniforms:Gi(m_uniforms),vertexShader:m_vertexShader,fragmentShader:m_fragmentShader,side:K,blending:Ae});_.uniforms.tEquirect.value=d;const x=new dn(y,_),D=d.minFilter;return d.minFilter===Oi&&(d.minFilter=Er),new jg(1,10,this).update(l,x),d.minFilter=D,x.geometry.dispose(),x.material.dispose(),this}clear(l,d,m,y){const _=l.getRenderTarget();for(let x=0;x<6;x++)l.setRenderTarget(this,x),l.clear(d,m,y);l.setRenderTarget(_)}}da.prototype.isWebGLCubeRenderTarget=!0;class Gl extends vo{constructor(l,d,m,y,_,x,D,k,P,j,B,U){super(null,x,D,k,P,j,y,_,B,U),this.image={data:l||null,width:d||1,height:m||1},this.magFilter=void 0!==P?P:rr,this.minFilter=void 0!==j?j:rr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Gl.prototype.isDataTexture=!0;const Ko=new Cl,Jc=new De;class Ih{constructor(l=new ac,d=new ac,m=new ac,y=new ac,_=new ac,x=new ac){this.planes=[l,d,m,y,_,x]}set(l,d,m,y,_,x){const D=this.planes;return D[0].copy(l),D[1].copy(d),D[2].copy(m),D[3].copy(y),D[4].copy(_),D[5].copy(x),this}copy(l){const d=this.planes;for(let m=0;m<6;m++)d[m].copy(l.planes[m]);return this}setFromProjectionMatrix(l){const d=this.planes,m=l.elements,y=m[0],_=m[1],x=m[2],D=m[3],k=m[4],P=m[5],j=m[6],B=m[7],U=m[8],G=m[9],ee=m[10],ue=m[11],de=m[12],ie=m[13],q=m[14],ke=m[15];return d[0].setComponents(D-y,B-k,ue-U,ke-de).normalize(),d[1].setComponents(D+y,B+k,ue+U,ke+de).normalize(),d[2].setComponents(D+_,B+P,ue+G,ke+ie).normalize(),d[3].setComponents(D-_,B-P,ue-G,ke-ie).normalize(),d[4].setComponents(D-x,B-j,ue-ee,ke-q).normalize(),d[5].setComponents(D+x,B+j,ue+ee,ke+q).normalize(),this}intersectsObject(l){const d=l.geometry;return null===d.boundingSphere&&d.computeBoundingSphere(),Ko.copy(d.boundingSphere).applyMatrix4(l.matrixWorld),this.intersectsSphere(Ko)}intersectsSprite(l){return Ko.center.set(0,0,0),Ko.radius=.7071067811865476,Ko.applyMatrix4(l.matrixWorld),this.intersectsSphere(Ko)}intersectsSphere(l){const d=this.planes,m=l.center,y=-l.radius;for(let _=0;_<6;_++)if(d[_].distanceToPoint(m)<y)return!1;return!0}intersectsBox(l){const d=this.planes;for(let m=0;m<6;m++){const y=d[m];if(Jc.x=y.normal.x>0?l.max.x:l.min.x,Jc.y=y.normal.y>0?l.max.y:l.min.y,Jc.z=y.normal.z>0?l.max.z:l.min.z,y.distanceToPoint(Jc)<0)return!1}return!0}containsPoint(l){const d=this.planes;for(let m=0;m<6;m++)if(d[m].distanceToPoint(l)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Up(){let h=null,l=!1,d=null,m=null;function y(_,x){d(_,x),m=h.requestAnimationFrame(y)}return{start:function(){!0!==l&&null!==d&&(m=h.requestAnimationFrame(y),l=!0)},stop:function(){h.cancelAnimationFrame(m),l=!1},setAnimationLoop:function(_){d=_},setContext:function(_){h=_}}}function uT(h,l){const d=l.isWebGL2,m=new WeakMap;return{get:function x(P){return P.isInterleavedBufferAttribute&&(P=P.data),m.get(P)},remove:function D(P){P.isInterleavedBufferAttribute&&(P=P.data);const j=m.get(P);j&&(h.deleteBuffer(j.buffer),m.delete(P))},update:function k(P,j){if(P.isGLBufferAttribute){const U=m.get(P);return void((!U||U.version<P.version)&&m.set(P,{buffer:P.buffer,type:P.type,bytesPerElement:P.elementSize,version:P.version}))}P.isInterleavedBufferAttribute&&(P=P.data);const B=m.get(P);void 0===B?m.set(P,function y(P,j){const B=P.array,U=P.usage,G=h.createBuffer();h.bindBuffer(j,G),h.bufferData(j,B,U),P.onUploadCallback();let ee=5126;return B instanceof Float32Array?ee=5126:B instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):B instanceof Uint16Array?P.isFloat16BufferAttribute?d?ee=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):ee=5123:B instanceof Int16Array?ee=5122:B instanceof Uint32Array?ee=5125:B instanceof Int32Array?ee=5124:B instanceof Int8Array?ee=5120:B instanceof Uint8Array&&(ee=5121),{buffer:G,type:ee,bytesPerElement:B.BYTES_PER_ELEMENT,version:P.version}}(P,j)):B.version<P.version&&(function _(P,j,B){const U=j.array,G=j.updateRange;h.bindBuffer(B,P),-1===G.count?h.bufferSubData(B,0,U):(d?h.bufferSubData(B,G.offset*U.BYTES_PER_ELEMENT,U,G.offset,G.count):h.bufferSubData(B,G.offset*U.BYTES_PER_ELEMENT,U.subarray(G.offset,G.offset+G.count)),G.count=-1)}(B.buffer,P,j),B.version=P.version)}}}class Wp extends fr{constructor(l=1,d=1,m=1,y=1){super(),this.type="PlaneGeometry",this.parameters={width:l,height:d,widthSegments:m,heightSegments:y};const _=l/2,x=d/2,D=Math.floor(m),k=Math.floor(y),P=D+1,j=k+1,B=l/D,U=d/k,G=[],ee=[],ue=[],de=[];for(let ie=0;ie<j;ie++){const q=ie*U-x;for(let ke=0;ke<P;ke++)ee.push(ke*B-_,-q,0),ue.push(0,0,1),de.push(ke/D),de.push(1-ie/k)}for(let ie=0;ie<k;ie++)for(let q=0;q<D;q++){const _e=q+P*(ie+1),We=q+1+P*(ie+1),Ee=q+1+P*ie;G.push(q+P*ie,_e,Ee),G.push(_e,We,Ee)}this.setIndex(G),this.setAttribute("position",new yn(ee,3)),this.setAttribute("normal",new yn(ue,3)),this.setAttribute("uv",new yn(de,2))}}const qi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},qn={common:{diffuse:{value:new xr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new zs},uv2Transform:{value:new zs},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new bn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zs}},sprite:{diffuse:{value:new xr(15658734)},opacity:{value:1},center:{value:new bn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zs}}},du={basic:{uniforms:Os([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.fog]),vertexShader:qi.meshbasic_vert,fragmentShader:qi.meshbasic_frag},lambert:{uniforms:Os([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.fog,qn.lights,{emissive:{value:new xr(0)}}]),vertexShader:qi.meshlambert_vert,fragmentShader:qi.meshlambert_frag},phong:{uniforms:Os([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,qn.lights,{emissive:{value:new xr(0)},specular:{value:new xr(1118481)},shininess:{value:30}}]),vertexShader:qi.meshphong_vert,fragmentShader:qi.meshphong_frag},standard:{uniforms:Os([qn.common,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.roughnessmap,qn.metalnessmap,qn.fog,qn.lights,{emissive:{value:new xr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qi.meshphysical_vert,fragmentShader:qi.meshphysical_frag},toon:{uniforms:Os([qn.common,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.gradientmap,qn.fog,qn.lights,{emissive:{value:new xr(0)}}]),vertexShader:qi.meshtoon_vert,fragmentShader:qi.meshtoon_frag},matcap:{uniforms:Os([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,{matcap:{value:null}}]),vertexShader:qi.meshmatcap_vert,fragmentShader:qi.meshmatcap_frag},points:{uniforms:Os([qn.points,qn.fog]),vertexShader:qi.points_vert,fragmentShader:qi.points_frag},dashed:{uniforms:Os([qn.common,qn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qi.linedashed_vert,fragmentShader:qi.linedashed_frag},depth:{uniforms:Os([qn.common,qn.displacementmap]),vertexShader:qi.depth_vert,fragmentShader:qi.depth_frag},normal:{uniforms:Os([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,{opacity:{value:1}}]),vertexShader:qi.normal_vert,fragmentShader:qi.normal_frag},sprite:{uniforms:Os([qn.sprite,qn.fog]),vertexShader:qi.sprite_vert,fragmentShader:qi.sprite_frag},background:{uniforms:{uvTransform:{value:new zs},t2D:{value:null}},vertexShader:qi.background_vert,fragmentShader:qi.background_frag},cube:{uniforms:Os([qn.envmap,{opacity:{value:1}}]),vertexShader:qi.cube_vert,fragmentShader:qi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qi.equirect_vert,fragmentShader:qi.equirect_frag},distanceRGBA:{uniforms:Os([qn.common,qn.displacementmap,{referencePosition:{value:new De},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qi.distanceRGBA_vert,fragmentShader:qi.distanceRGBA_frag},shadow:{uniforms:Os([qn.lights,qn.fog,{color:{value:new xr(0)},opacity:{value:1}}]),vertexShader:qi.shadow_vert,fragmentShader:qi.shadow_frag}};function Nk(h,l,d,m,y){const _=new xr(0);let D,k,x=0,P=null,j=0,B=null;function G(ee,ue){d.buffers.color.setClear(ee.r,ee.g,ee.b,ue,y)}return{getClearColor:function(){return _},setClearColor:function(ee,ue=1){_.set(ee),x=ue,G(_,x)},getClearAlpha:function(){return x},setClearAlpha:function(ee){x=ee,G(_,x)},render:function U(ee,ue,de,ie){let q=!0===ue.isScene?ue.background:null;q&&q.isTexture&&(q=l.get(q));const ke=h.xr,_e=ke.getSession&&ke.getSession();_e&&"additive"===_e.environmentBlendMode&&(q=null),null===q?G(_,x):q&&q.isColor&&(G(q,1),ie=!0),(h.autoClear||ie)&&h.clear(h.autoClearColor,h.autoClearDepth,h.autoClearStencil),q&&(q.isCubeTexture||q.isWebGLCubeRenderTarget||q.mapping===Ze)?(void 0===k&&(k=new dn(new fc(1,1,1),new ll({name:"BackgroundCubeMaterial",uniforms:Gi(du.cube.uniforms),vertexShader:du.cube.vertexShader,fragmentShader:du.cube.fragmentShader,side:K,depthTest:!1,depthWrite:!1,fog:!1})),k.geometry.deleteAttribute("normal"),k.geometry.deleteAttribute("uv"),k.onBeforeRender=function(We,Ee,Re){this.matrixWorld.copyPosition(Re.matrixWorld)},Object.defineProperty(k.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),m.update(k)),q.isWebGLCubeRenderTarget&&(q=q.texture),k.material.uniforms.envMap.value=q,k.material.uniforms.flipEnvMap.value=q.isCubeTexture&&q._needsFlipEnvMap?-1:1,(P!==q||j!==q.version||B!==h.toneMapping)&&(k.material.needsUpdate=!0,P=q,j=q.version,B=h.toneMapping),ee.unshift(k,k.geometry,k.material,0,0,null)):q&&q.isTexture&&(void 0===D&&(D=new dn(new Wp(2,2),new ll({name:"BackgroundMaterial",uniforms:Gi(du.background.uniforms),vertexShader:du.background.vertexShader,fragmentShader:du.background.fragmentShader,side:fe,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),Object.defineProperty(D.material,"map",{get:function(){return this.uniforms.t2D.value}}),m.update(D)),D.material.uniforms.t2D.value=q,!0===q.matrixAutoUpdate&&q.updateMatrix(),D.material.uniforms.uvTransform.value.copy(q.matrix),(P!==q||j!==q.version||B!==h.toneMapping)&&(D.material.needsUpdate=!0,P=q,j=q.version,B=h.toneMapping),ee.unshift(D,D.geometry,D.material,0,0,null))}}}function iB(h,l,d,m){const y=h.getParameter(34921),_=m.isWebGL2?null:l.get("OES_vertex_array_object"),x=m.isWebGL2||null!==_,D={},k=ue(null);let P=k;function U(Ft){return m.isWebGL2?h.bindVertexArray(Ft):_.bindVertexArrayOES(Ft)}function G(Ft){return m.isWebGL2?h.deleteVertexArray(Ft):_.deleteVertexArrayOES(Ft)}function ue(Ft){const xt=[],jt=[],tn=[];for(let Nn=0;Nn<y;Nn++)xt[Nn]=0,jt[Nn]=0,tn[Nn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:xt,enabledAttributes:jt,attributeDivisors:tn,object:Ft,attributes:{},index:null}}function q(){const Ft=P.newAttributes;for(let xt=0,jt=Ft.length;xt<jt;xt++)Ft[xt]=0}function ke(Ft){_e(Ft,0)}function _e(Ft,xt){const tn=P.enabledAttributes,Nn=P.attributeDivisors;P.newAttributes[Ft]=1,0===tn[Ft]&&(h.enableVertexAttribArray(Ft),tn[Ft]=1),Nn[Ft]!==xt&&((m.isWebGL2?h:l.get("ANGLE_instanced_arrays"))[m.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ft,xt),Nn[Ft]=xt)}function We(){const Ft=P.newAttributes,xt=P.enabledAttributes;for(let jt=0,tn=xt.length;jt<tn;jt++)xt[jt]!==Ft[jt]&&(h.disableVertexAttribArray(jt),xt[jt]=0)}function Ee(Ft,xt,jt,tn,Nn,on){!0!==m.isWebGL2||5124!==jt&&5125!==jt?h.vertexAttribPointer(Ft,xt,jt,tn,Nn,on):h.vertexAttribIPointer(Ft,xt,jt,Nn,on)}function Ht(){$t(),P!==k&&(P=k,U(P.object))}function $t(){k.geometry=null,k.program=null,k.wireframe=!1}return{setup:function j(Ft,xt,jt,tn,Nn){let on=!1;if(x){const mr=function ee(Ft,xt,jt){const tn=!0===jt.wireframe;let Nn=D[Ft.id];void 0===Nn&&(Nn={},D[Ft.id]=Nn);let on=Nn[xt.id];void 0===on&&(on={},Nn[xt.id]=on);let mr=on[tn];return void 0===mr&&(mr=ue(function B(){return m.isWebGL2?h.createVertexArray():_.createVertexArrayOES()}()),on[tn]=mr),mr}(tn,jt,xt);P!==mr&&(P=mr,U(P.object)),on=function de(Ft,xt){const jt=P.attributes,tn=Ft.attributes;let Nn=0;for(const on in tn){const mr=jt[on],Vr=tn[on];if(void 0===mr||mr.attribute!==Vr||mr.data!==Vr.data)return!0;Nn++}return P.attributesNum!==Nn||P.index!==xt}(tn,Nn),on&&function ie(Ft,xt){const jt={},tn=Ft.attributes;let Nn=0;for(const on in tn){const mr=tn[on],Vr={};Vr.attribute=mr,mr.data&&(Vr.data=mr.data),jt[on]=Vr,Nn++}P.attributes=jt,P.attributesNum=Nn,P.index=xt}(tn,Nn)}else{const mr=!0===xt.wireframe;(P.geometry!==tn.id||P.program!==jt.id||P.wireframe!==mr)&&(P.geometry=tn.id,P.program=jt.id,P.wireframe=mr,on=!0)}!0===Ft.isInstancedMesh&&(on=!0),null!==Nn&&d.update(Nn,34963),on&&(function Re(Ft,xt,jt,tn){if(!1===m.isWebGL2&&(Ft.isInstancedMesh||tn.isInstancedBufferGeometry)&&null===l.get("ANGLE_instanced_arrays"))return;q();const Nn=tn.attributes,on=jt.getAttributes(),mr=xt.defaultAttributeValues;for(const Vr in on){const Lr=on[Vr];if(Lr>=0){const oo=Nn[Vr];if(void 0!==oo){const Mi=oo.normalized,_i=oo.itemSize,Ho=d.get(oo);if(void 0===Ho)continue;const fn=Ho.buffer,Ji=Ho.type,Co=Ho.bytesPerElement;if(oo.isInterleavedBufferAttribute){const Eo=oo.data,bi=Eo.stride,Bo=oo.offset;Eo&&Eo.isInstancedInterleavedBuffer?(_e(Lr,Eo.meshPerAttribute),void 0===tn._maxInstanceCount&&(tn._maxInstanceCount=Eo.meshPerAttribute*Eo.count)):ke(Lr),h.bindBuffer(34962,fn),Ee(Lr,_i,Ji,Mi,bi*Co,Bo*Co)}else oo.isInstancedBufferAttribute?(_e(Lr,oo.meshPerAttribute),void 0===tn._maxInstanceCount&&(tn._maxInstanceCount=oo.meshPerAttribute*oo.count)):ke(Lr),h.bindBuffer(34962,fn),Ee(Lr,_i,Ji,Mi,0,0)}else if("instanceMatrix"===Vr){const Mi=d.get(Ft.instanceMatrix);if(void 0===Mi)continue;const _i=Mi.buffer,Ho=Mi.type;_e(Lr+0,1),_e(Lr+1,1),_e(Lr+2,1),_e(Lr+3,1),h.bindBuffer(34962,_i),h.vertexAttribPointer(Lr+0,4,Ho,!1,64,0),h.vertexAttribPointer(Lr+1,4,Ho,!1,64,16),h.vertexAttribPointer(Lr+2,4,Ho,!1,64,32),h.vertexAttribPointer(Lr+3,4,Ho,!1,64,48)}else if("instanceColor"===Vr){const Mi=d.get(Ft.instanceColor);if(void 0===Mi)continue;const _i=Mi.buffer,Ho=Mi.type;_e(Lr,1),h.bindBuffer(34962,_i),h.vertexAttribPointer(Lr,3,Ho,!1,12,0)}else if(void 0!==mr){const Mi=mr[Vr];if(void 0!==Mi)switch(Mi.length){case 2:h.vertexAttrib2fv(Lr,Mi);break;case 3:h.vertexAttrib3fv(Lr,Mi);break;case 4:h.vertexAttrib4fv(Lr,Mi);break;default:h.vertexAttrib1fv(Lr,Mi)}}}}We()}(Ft,xt,jt,tn),null!==Nn&&h.bindBuffer(34963,d.get(Nn).buffer))},reset:Ht,resetDefaultState:$t,dispose:function $e(){Ht();for(const Ft in D){const xt=D[Ft];for(const jt in xt){const tn=xt[jt];for(const Nn in tn)G(tn[Nn].object),delete tn[Nn];delete xt[jt]}delete D[Ft]}},releaseStatesOfGeometry:function lt(Ft){if(void 0===D[Ft.id])return;const xt=D[Ft.id];for(const jt in xt){const tn=xt[jt];for(const Nn in tn)G(tn[Nn].object),delete tn[Nn];delete xt[jt]}delete D[Ft.id]},releaseStatesOfProgram:function Dt(Ft){for(const xt in D){const jt=D[xt];if(void 0===jt[Ft.id])continue;const tn=jt[Ft.id];for(const Nn in tn)G(tn[Nn].object),delete tn[Nn];delete jt[Ft.id]}},initAttributes:q,enableAttribute:ke,disableUnusedAttributes:We}}function oB(h,l,d,m){const y=m.isWebGL2;let _;this.setMode=function x(P){_=P},this.render=function D(P,j){h.drawArrays(_,P,j),d.update(j,_,1)},this.renderInstances=function k(P,j,B){if(0===B)return;let U,G;if(y)U=h,G="drawArraysInstanced";else if(U=l.get("ANGLE_instanced_arrays"),G="drawArraysInstancedANGLE",null===U)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");U[G](_,P,j,B),d.update(j,_,B)}}function ry(h,l,d){let m;function _(Ee){if("highp"===Ee){if(h.getShaderPrecisionFormat(35633,36338).precision>0&&h.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ee="mediump"}return"mediump"===Ee&&h.getShaderPrecisionFormat(35633,36337).precision>0&&h.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const x="undefined"!=typeof WebGL2RenderingContext&&h instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&h instanceof WebGL2ComputeRenderingContext;let D=void 0!==d.precision?d.precision:"highp";const k=_(D);k!==D&&(console.warn("THREE.WebGLRenderer:",D,"not supported, using",k,"instead."),D=k);const P=!0===d.logarithmicDepthBuffer,j=h.getParameter(34930),B=h.getParameter(35660),U=h.getParameter(3379),G=h.getParameter(34076),ee=h.getParameter(34921),ue=h.getParameter(36347),de=h.getParameter(36348),ie=h.getParameter(36349),q=B>0,ke=x||l.has("OES_texture_float");return{isWebGL2:x,getMaxAnisotropy:function y(){if(void 0!==m)return m;if(!0===l.has("EXT_texture_filter_anisotropic")){const Ee=l.get("EXT_texture_filter_anisotropic");m=h.getParameter(Ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else m=0;return m},getMaxPrecision:_,precision:D,logarithmicDepthBuffer:P,maxTextures:j,maxVertexTextures:B,maxTextureSize:U,maxCubemapSize:G,maxAttributes:ee,maxVertexUniforms:ue,maxVaryings:de,maxFragmentUniforms:ie,vertexTextures:q,floatFragmentTextures:ke,floatVertexTextures:q&&ke,maxSamples:x?h.getParameter(36183):0}}function v_(h){const l=this;let d=null,m=0,y=!1,_=!1;const x=new ac,D=new zs,k={value:null,needsUpdate:!1};function P(){k.value!==d&&(k.value=d,k.needsUpdate=m>0),l.numPlanes=m,l.numIntersection=0}function j(B,U,G,ee){const ue=null!==B?B.length:0;let de=null;if(0!==ue){if(de=k.value,!0!==ee||null===de){const ie=G+4*ue,q=U.matrixWorldInverse;D.getNormalMatrix(q),(null===de||de.length<ie)&&(de=new Float32Array(ie));for(let ke=0,_e=G;ke!==ue;++ke,_e+=4)x.copy(B[ke]).applyMatrix4(q,D),x.normal.toArray(de,_e),de[_e+3]=x.constant}k.value=de,k.needsUpdate=!0}return l.numPlanes=ue,l.numIntersection=0,de}this.uniform=k,this.numPlanes=0,this.numIntersection=0,this.init=function(B,U,G){const ee=0!==B.length||U||0!==m||y;return y=U,d=j(B,G,0),m=B.length,ee},this.beginShadows=function(){_=!0,j(null)},this.endShadows=function(){_=!1,P()},this.setState=function(B,U,G){const ee=B.clippingPlanes,ue=B.clipIntersection,de=B.clipShadows,ie=h.get(B);if(!y||null===ee||0===ee.length||_&&!de)_?j(null):P();else{const q=_?0:m,ke=4*q;let _e=ie.clippingState||null;k.value=_e,_e=j(ee,U,ke,G);for(let We=0;We!==ke;++We)_e[We]=d[We];ie.clippingState=_e,this.numIntersection=ue?this.numPlanes:0,this.numPlanes+=q}}}function sB(h){let l=new WeakMap;function d(x,D){return D===pt?x.mapping=Ot:D===et&&(x.mapping=St),x}function y(x){const D=x.target;D.removeEventListener("dispose",y);const k=l.get(D);void 0!==k&&(l.delete(D),k.dispose())}return{get:function m(x){if(x&&x.isTexture){const D=x.mapping;if(D===pt||D===et){if(l.has(x))return d(l.get(x).texture,x.mapping);{const k=x.image;if(k&&k.height>0){const P=h.getRenderTarget(),j=new da(k.height/2);return j.fromEquirectangularTexture(h,x),l.set(x,j),h.setRenderTarget(P),x.addEventListener("dispose",y),d(j.texture,x.mapping)}return null}}}return x},dispose:function _(){l=new WeakMap}}}function h$(h){const l={};function d(m){if(void 0!==l[m])return l[m];let y;switch(m){case"WEBGL_depth_texture":y=h.getExtension("WEBGL_depth_texture")||h.getExtension("MOZ_WEBGL_depth_texture")||h.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":y=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":y=h.getExtension("WEBGL_compressed_texture_s3tc")||h.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":y=h.getExtension("WEBGL_compressed_texture_pvrtc")||h.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:y=h.getExtension(m)}return l[m]=y,y}return{has:function(m){return null!==d(m)},init:function(m){m.isWebGL2?d("EXT_color_buffer_float"):(d("WEBGL_depth_texture"),d("OES_texture_float"),d("OES_texture_half_float"),d("OES_texture_half_float_linear"),d("OES_standard_derivatives"),d("OES_element_index_uint"),d("OES_vertex_array_object"),d("ANGLE_instanced_arrays")),d("OES_texture_float_linear"),d("EXT_color_buffer_half_float")},get:function(m){const y=d(m);return null===y&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),y}}}function Fk(h,l,d,m){const y={},_=new WeakMap;function x(B){const U=B.target;null!==U.index&&l.remove(U.index);for(const ee in U.attributes)l.remove(U.attributes[ee]);U.removeEventListener("dispose",x),delete y[U.id];const G=_.get(U);G&&(l.remove(G),_.delete(U)),m.releaseStatesOfGeometry(U),!0===U.isInstancedBufferGeometry&&delete U._maxInstanceCount,d.memory.geometries--}function P(B){const U=[],G=B.index,ee=B.attributes.position;let ue=0;if(null!==G){const q=G.array;ue=G.version;for(let ke=0,_e=q.length;ke<_e;ke+=3){const We=q[ke+0],Ee=q[ke+1],Re=q[ke+2];U.push(We,Ee,Ee,Re,Re,We)}}else{ue=ee.version;for(let ke=0,_e=ee.array.length/3-1;ke<_e;ke+=3){const We=ke+0,Ee=ke+1,Re=ke+2;U.push(We,Ee,Ee,Re,Re,We)}}const de=new(oT(U)>65535?Ud:Af)(U,1);de.version=ue;const ie=_.get(B);ie&&l.remove(ie),_.set(B,de)}return{get:function D(B,U){return!0===y[U.id]||(U.addEventListener("dispose",x),y[U.id]=!0,d.memory.geometries++),U},update:function k(B){const U=B.attributes;for(const ee in U)l.update(U[ee],34962);const G=B.morphAttributes;for(const ee in G){const ue=G[ee];for(let de=0,ie=ue.length;de<ie;de++)l.update(ue[de],34962)}},getWireframeAttribute:function j(B){const U=_.get(B);if(U){const G=B.index;null!==G&&U.version<G.version&&P(B)}else P(B);return _.get(B)}}}function aB(h,l,d,m){const y=m.isWebGL2;let _,D,k;this.setMode=function x(U){_=U},this.setIndex=function P(U){D=U.type,k=U.bytesPerElement},this.render=function j(U,G){h.drawElements(_,G,D,U*k),d.update(G,_,1)},this.renderInstances=function B(U,G,ee){if(0===ee)return;let ue,de;if(y)ue=h,de="drawElementsInstanced";else if(ue=l.get("ANGLE_instanced_arrays"),de="drawElementsInstancedANGLE",null===ue)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");ue[de](_,G,D,U*k,ee),d.update(G,_,ee)}}function p$(h){const d={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:d,programs:null,autoReset:!0,reset:function y(){d.frame++,d.calls=0,d.triangles=0,d.points=0,d.lines=0},update:function m(_,x,D){switch(d.calls++,x){case 4:d.triangles+=D*(_/3);break;case 1:d.lines+=D*(_/2);break;case 3:d.lines+=D*(_-1);break;case 2:d.lines+=D*_;break;case 0:d.points+=D*_;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",x)}}}}function lB(h,l){return h[0]-l[0]}function uB(h,l){return Math.abs(l[1])-Math.abs(h[1])}function cB(h){const l={},d=new Float32Array(8),m=[];for(let _=0;_<8;_++)m[_]=[_,0];return{update:function y(_,x,D,k){const P=_.morphTargetInfluences,j=void 0===P?0:P.length;let B=l[x.id];if(void 0===B){B=[];for(let de=0;de<j;de++)B[de]=[de,0];l[x.id]=B}for(let de=0;de<j;de++){const ie=B[de];ie[0]=de,ie[1]=P[de]}B.sort(uB);for(let de=0;de<8;de++)de<j&&B[de][1]?(m[de][0]=B[de][0],m[de][1]=B[de][1]):(m[de][0]=Number.MAX_SAFE_INTEGER,m[de][1]=0);m.sort(lB);const U=D.morphTargets&&x.morphAttributes.position,G=D.morphNormals&&x.morphAttributes.normal;let ee=0;for(let de=0;de<8;de++){const ie=m[de],q=ie[0],ke=ie[1];q!==Number.MAX_SAFE_INTEGER&&ke?(U&&x.getAttribute("morphTarget"+de)!==U[q]&&x.setAttribute("morphTarget"+de,U[q]),G&&x.getAttribute("morphNormal"+de)!==G[q]&&x.setAttribute("morphNormal"+de,G[q]),d[de]=ke,ee+=ke):(U&&!0===x.hasAttribute("morphTarget"+de)&&x.deleteAttribute("morphTarget"+de),G&&!0===x.hasAttribute("morphNormal"+de)&&x.deleteAttribute("morphNormal"+de),d[de]=0)}const ue=x.morphTargetsRelative?1:1-ee;k.getUniforms().setValue(h,"morphTargetBaseInfluence",ue),k.getUniforms().setValue(h,"morphTargetInfluences",d)}}}function M0(h,l,d,m){let y=new WeakMap;function D(k){const P=k.target;P.removeEventListener("dispose",D),d.remove(P.instanceMatrix),null!==P.instanceColor&&d.remove(P.instanceColor)}return{update:function _(k){const P=m.render.frame,B=l.get(k,k.geometry);return y.get(B)!==P&&(l.update(B),y.set(B,P)),k.isInstancedMesh&&(!1===k.hasEventListener("dispose",D)&&k.addEventListener("dispose",D),d.update(k.instanceMatrix,34962),null!==k.instanceColor&&d.update(k.instanceColor,34962)),B},dispose:function x(){y=new WeakMap}}}du.physical={uniforms:Os([du.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new bn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new xr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:qi.meshphysical_vert,fragmentShader:qi.meshphysical_frag};class x0 extends vo{constructor(l=null,d=1,m=1,y=1){super(null),this.image={data:l,width:d,height:m,depth:y},this.magFilter=rr,this.minFilter=rr,this.wrapR=Sn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}x0.prototype.isDataTexture2DArray=!0;class xT extends vo{constructor(l=null,d=1,m=1,y=1){super(null),this.image={data:l,width:d,height:m,depth:y},this.magFilter=rr,this.minFilter=rr,this.wrapR=Sn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}xT.prototype.isDataTexture3D=!0;const CT=new vo,m$=new x0,Hk=new xT,dB=new Nf,C0=[],Bk=[],ET=new Float32Array(16),__=new Float32Array(9),E0=new Float32Array(4);function td(h,l,d){const m=h[0];if(m<=0||m>0)return h;const y=l*d;let _=C0[y];if(void 0===_&&(_=new Float32Array(y),C0[y]=_),0!==l){m.toArray(_,0);for(let x=1,D=0;x!==l;++x)D+=d,h[x].toArray(_,D)}return _}function mc(h,l){if(h.length!==l.length)return!1;for(let d=0,m=h.length;d<m;d++)if(h[d]!==l[d])return!1;return!0}function Au(h,l){for(let d=0,m=l.length;d<m;d++)h[d]=l[d]}function fB(h,l){let d=Bk[l];void 0===d&&(d=new Int32Array(l),Bk[l]=d);for(let m=0;m!==l;++m)d[m]=h.allocateTextureUnit();return d}function T0(h,l){const d=this.cache;d[0]!==l&&(h.uniform1f(this.addr,l),d[0]=l)}function TT(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y)&&(h.uniform2f(this.addr,l.x,l.y),d[0]=l.x,d[1]=l.y);else{if(mc(d,l))return;h.uniform2fv(this.addr,l),Au(d,l)}}function Vk(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z)&&(h.uniform3f(this.addr,l.x,l.y,l.z),d[0]=l.x,d[1]=l.y,d[2]=l.z);else if(void 0!==l.r)(d[0]!==l.r||d[1]!==l.g||d[2]!==l.b)&&(h.uniform3f(this.addr,l.r,l.g,l.b),d[0]=l.r,d[1]=l.g,d[2]=l.b);else{if(mc(d,l))return;h.uniform3fv(this.addr,l),Au(d,l)}}function zk(h,l){const d=this.cache;if(void 0!==l.x)(d[0]!==l.x||d[1]!==l.y||d[2]!==l.z||d[3]!==l.w)&&(h.uniform4f(this.addr,l.x,l.y,l.z,l.w),d[0]=l.x,d[1]=l.y,d[2]=l.z,d[3]=l.w);else{if(mc(d,l))return;h.uniform4fv(this.addr,l),Au(d,l)}}function jk(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(mc(d,l))return;h.uniformMatrix2fv(this.addr,!1,l),Au(d,l)}else{if(mc(d,m))return;E0.set(m),h.uniformMatrix2fv(this.addr,!1,E0),Au(d,m)}}function Kp(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(mc(d,l))return;h.uniformMatrix3fv(this.addr,!1,l),Au(d,l)}else{if(mc(d,m))return;__.set(m),h.uniformMatrix3fv(this.addr,!1,__),Au(d,m)}}function hB(h,l){const d=this.cache,m=l.elements;if(void 0===m){if(mc(d,l))return;h.uniformMatrix4fv(this.addr,!1,l),Au(d,l)}else{if(mc(d,m))return;ET.set(m),h.uniformMatrix4fv(this.addr,!1,ET),Au(d,m)}}function pB(h,l,d){const m=this.cache,y=d.allocateTextureUnit();m[0]!==y&&(h.uniform1i(this.addr,y),m[0]=y),d.safeSetTexture2D(l||CT,y)}function mB(h,l,d){const m=this.cache,y=d.allocateTextureUnit();m[0]!==y&&(h.uniform1i(this.addr,y),m[0]=y),d.setTexture2DArray(l||m$,y)}function gB(h,l,d){const m=this.cache,y=d.allocateTextureUnit();m[0]!==y&&(h.uniform1i(this.addr,y),m[0]=y),d.setTexture3D(l||Hk,y)}function yB(h,l,d){const m=this.cache,y=d.allocateTextureUnit();m[0]!==y&&(h.uniform1i(this.addr,y),m[0]=y),d.safeSetTextureCube(l||dB,y)}function Ou(h,l){const d=this.cache;d[0]!==l&&(h.uniform1i(this.addr,l),d[0]=l)}function Gd(h,l){const d=this.cache;mc(d,l)||(h.uniform2iv(this.addr,l),Au(d,l))}function vB(h,l){const d=this.cache;mc(d,l)||(h.uniform3iv(this.addr,l),Au(d,l))}function _B(h,l){const d=this.cache;mc(d,l)||(h.uniform4iv(this.addr,l),Au(d,l))}function bB(h,l){const d=this.cache;d[0]!==l&&(h.uniform1ui(this.addr,l),d[0]=l)}function SB(h,l){h.uniform1fv(this.addr,l)}function MB(h,l){h.uniform1iv(this.addr,l)}function Uk(h,l){h.uniform2iv(this.addr,l)}function xB(h,l){h.uniform3iv(this.addr,l)}function CB(h,l){h.uniform4iv(this.addr,l)}function EB(h,l){const d=td(l,this.size,2);h.uniform2fv(this.addr,d)}function TB(h,l){const d=td(l,this.size,3);h.uniform3fv(this.addr,d)}function g$(h,l){const d=td(l,this.size,4);h.uniform4fv(this.addr,d)}function RB(h,l){const d=td(l,this.size,4);h.uniformMatrix2fv(this.addr,!1,d)}function b_(h,l){const d=td(l,this.size,9);h.uniformMatrix3fv(this.addr,!1,d)}function Wk(h,l){const d=td(l,this.size,16);h.uniformMatrix4fv(this.addr,!1,d)}function $d(h,l,d){const m=l.length,y=fB(d,m);h.uniform1iv(this.addr,y);for(let _=0;_!==m;++_)d.safeSetTexture2D(l[_]||CT,y[_])}function w_(h,l,d){const m=l.length,y=fB(d,m);h.uniform1iv(this.addr,y);for(let _=0;_!==m;++_)d.safeSetTextureCube(l[_]||dB,y[_])}function Gk(h,l,d){this.id=h,this.addr=d,this.cache=[],this.setValue=function wB(h){switch(h){case 5126:return T0;case 35664:return TT;case 35665:return Vk;case 35666:return zk;case 35674:return jk;case 35675:return Kp;case 35676:return hB;case 5124:case 35670:return Ou;case 35667:case 35671:return Gd;case 35668:case 35672:return vB;case 35669:case 35673:return _B;case 5125:return bB;case 35678:case 36198:case 36298:case 36306:case 35682:return pB;case 35679:case 36299:case 36307:return gB;case 35680:case 36300:case 36308:case 36293:return yB;case 36289:case 36303:case 36311:case 36292:return mB}}(l.type)}function RT(h,l,d){this.id=h,this.addr=d,this.cache=[],this.size=l.size,this.setValue=function Yk(h){switch(h){case 5126:return SB;case 35664:return EB;case 35665:return TB;case 35666:return g$;case 35674:return RB;case 35675:return b_;case 35676:return Wk;case 5124:case 35670:return MB;case 35667:case 35671:return Uk;case 35668:case 35672:return xB;case 35669:case 35673:return CB;case 35678:case 36198:case 36298:case 36306:case 35682:return $d;case 35680:case 36300:case 36308:case 36293:return w_}}(l.type)}function DB(h){this.id=h,this.seq=[],this.map={}}RT.prototype.updateCache=function(h){const l=this.cache;h instanceof Float32Array&&l.length!==h.length&&(this.cache=new Float32Array(h.length)),Au(l,h)},DB.prototype.setValue=function(h,l,d){const m=this.seq;for(let y=0,_=m.length;y!==_;++y){const x=m[y];x.setValue(h,l[x.id],d)}};const $k=/(\w+)(\])?(\[|\.)?/g;function AB(h,l){h.seq.push(l),h.map[l.id]=l}function DT(h,l,d){const m=h.name,y=m.length;for($k.lastIndex=0;;){const _=$k.exec(m),x=$k.lastIndex;let D=_[1];const P=_[3];if("]"===_[2]&&(D|=0),void 0===P||"["===P&&x+2===y){AB(d,void 0===P?new Gk(D,h,l):new RT(D,h,l));break}{let B=d.map[D];void 0===B&&(B=new DB(D),AB(d,B)),d=B}}}function Kd(h,l){this.seq=[],this.map={};const d=h.getProgramParameter(l,35718);for(let m=0;m<d;++m){const y=h.getActiveUniform(l,m);DT(y,h.getUniformLocation(l,y.name),this)}}function R0(h,l,d){const m=h.createShader(l);return h.shaderSource(m,d),h.compileShader(m),m}Kd.prototype.setValue=function(h,l,d,m){const y=this.map[l];void 0!==y&&y.setValue(h,d,m)},Kd.prototype.setOptional=function(h,l,d){const m=l[d];void 0!==m&&this.setValue(h,d,m)},Kd.upload=function(h,l,d,m){for(let y=0,_=l.length;y!==_;++y){const x=l[y],D=d[x.id];!1!==D.needsUpdate&&x.setValue(h,D.value,m)}},Kd.seqWithValue=function(h,l){const d=[];for(let m=0,y=h.length;m!==y;++m){const _=h[m];_.id in l&&d.push(_)}return d};let y$=0;function AT(h){switch(h){case hs:return["Linear","( value )"];case Wc:return["sRGB","( value )"];case gn:return["RGBE","( value )"];case ei:return["RGBM","( value, 7.0 )"];case Pr:return["RGBM","( value, 16.0 )"];case wt:return["RGBD","( value, 256.0 )"];case Nd:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case kp:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",h),["Linear","( value )"]}}function Kk(h,l,d){const m=h.getShaderParameter(l,35713),y=h.getShaderInfoLog(l).trim();return m&&""===y?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+d+"\n"+y+function v$(h){const l=h.split("\n");for(let d=0;d<l.length;d++)l[d]=d+1+": "+l[d];return l.join("\n")}(h.getShaderSource(l))}function S_(h,l){const d=AT(l);return"vec4 "+h+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function OB(h,l){const d=AT(l);return"vec4 "+h+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function kB(h,l){let d;switch(l){case zr:d="Linear";break;case xe:d="Reinhard";break;case Pe:d="OptimizedCineon";break;case nt:d="ACESFilmic";break;case Ct:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",l),d="Linear"}return"vec3 "+h+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function Xp(h){return""!==h}function qk(h,l){return h.replace(/NUM_DIR_LIGHTS/g,l.numDirLights).replace(/NUM_SPOT_LIGHTS/g,l.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,l.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,l.numPointLights).replace(/NUM_HEMI_LIGHTS/g,l.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,l.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,l.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,l.numPointLightShadows)}function Fo(h,l){return h.replace(/NUM_CLIPPING_PLANES/g,l.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,l.numClippingPlanes-l.numClipIntersection)}const PB=/^[ \t]*#include +<([\w\d./]+)>/gm;function OT(h){return h.replace(PB,kT)}function kT(h,l){const d=qi[l];if(void 0===d)throw new Error("Can not resolve #include <"+l+">");return OT(d)}const Jk=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,LB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Qk(h){return h.replace(LB,eP).replace(Jk,IB)}function IB(h,l,d,m){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),eP(0,l,d,m)}function eP(h,l,d,m){let y="";for(let _=parseInt(l);_<parseInt(d);_++)y+=m.replace(/\[\s*i\s*\]/g,"[ "+_+" ]").replace(/UNROLLED_LOOP_INDEX/g,_);return y}function tP(h){let l="precision "+h.precision+" float;\nprecision "+h.precision+" int;";return"highp"===h.precision?l+="\n#define HIGH_PRECISION":"mediump"===h.precision?l+="\n#define MEDIUM_PRECISION":"lowp"===h.precision&&(l+="\n#define LOW_PRECISION"),l}function nP(h,l,d,m){const y=h.getContext(),_=d.defines;let x=d.vertexShader,D=d.fragmentShader;const k=function _$(h){let l="SHADOWMAP_TYPE_BASIC";return h.shadowMapType===te?l="SHADOWMAP_TYPE_PCF":h.shadowMapType===se?l="SHADOWMAP_TYPE_PCF_SOFT":h.shadowMapType===oe&&(l="SHADOWMAP_TYPE_VSM"),l}(d),P=function b$(h){let l="ENVMAP_TYPE_CUBE";if(h.envMap)switch(h.envMapMode){case Ot:case St:l="ENVMAP_TYPE_CUBE";break;case Ze:case ht:l="ENVMAP_TYPE_CUBE_UV"}return l}(d),j=function M_(h){let l="ENVMAP_MODE_REFLECTION";if(h.envMap)switch(h.envMapMode){case St:case ht:l="ENVMAP_MODE_REFRACTION"}return l}(d),B=function PT(h){let l="ENVMAP_BLENDING_NONE";if(h.envMap)switch(h.combine){case ci:l="ENVMAP_BLENDING_MULTIPLY";break;case ii:l="ENVMAP_BLENDING_MIX";break;case li:l="ENVMAP_BLENDING_ADD"}return l}(d),U=h.gammaFactor>0?h.gammaFactor:1,G=d.isWebGL2?"":function Xk(h){return[h.extensionDerivatives||h.envMapCubeUV||h.bumpMap||h.tangentSpaceNormalMap||h.clearcoatNormalMap||h.flatShading||"physical"===h.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(h.extensionFragDepth||h.logarithmicDepthBuffer)&&h.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",h.extensionDrawBuffers&&h.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(h.extensionShaderTextureLOD||h.envMap)&&h.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xp).join("\n")}(d),ee=function D0(h){const l=[];for(const d in h){const m=h[d];!1!==m&&l.push("#define "+d+" "+m)}return l.join("\n")}(_),ue=y.createProgram();let de,ie,q=d.glslVersion?"#version "+d.glslVersion+"\n":"";d.isRawShaderMaterial?(de=[ee].filter(Xp).join("\n"),de.length>0&&(de+="\n"),ie=[G,ee].filter(Xp).join("\n"),ie.length>0&&(ie+="\n")):(de=[tP(d),"#define SHADER_NAME "+d.shaderName,ee,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+U,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+j:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Xp).join("\n"),ie=[G,tP(d),"#define SHADER_NAME "+d.shaderName,ee,d.alphaTest?"#define ALPHATEST "+d.alphaTest+(d.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+U,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+P:"",d.envMap?"#define "+j:"",d.envMap?"#define "+B:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.sheen?"#define USE_SHEEN":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+k:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(d.extensionShaderTextureLOD||d.envMap)&&d.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",d.toneMapping!==Qr?"#define TONE_MAPPING":"",d.toneMapping!==Qr?qi.tonemapping_pars_fragment:"",d.toneMapping!==Qr?kB("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":"",qi.encodings_pars_fragment,d.map?S_("mapTexelToLinear",d.mapEncoding):"",d.matcap?S_("matcapTexelToLinear",d.matcapEncoding):"",d.envMap?S_("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMap?S_("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.lightMap?S_("lightMapTexelToLinear",d.lightMapEncoding):"",OB("linearToOutputTexel",d.outputEncoding),d.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(Xp).join("\n")),x=OT(x),x=qk(x,d),x=Fo(x,d),D=OT(D),D=qk(D,d),D=Fo(D,d),x=Qk(x),D=Qk(D),d.isWebGL2&&!0!==d.isRawShaderMaterial&&(q="#version 300 es\n",de=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+de,ie=["#define varying in",d.glslVersion===vi?"":"out highp vec4 pc_fragColor;",d.glslVersion===vi?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+ie);const _e=q+ie+D,We=R0(y,35633,q+de+x),Ee=R0(y,35632,_e);if(y.attachShader(ue,We),y.attachShader(ue,Ee),void 0!==d.index0AttributeName?y.bindAttribLocation(ue,0,d.index0AttributeName):!0===d.morphTargets&&y.bindAttribLocation(ue,0,"position"),y.linkProgram(ue),h.debug.checkShaderErrors){const lt=y.getProgramInfoLog(ue).trim(),Dt=y.getShaderInfoLog(We).trim(),Ht=y.getShaderInfoLog(Ee).trim();let $t=!0,Ft=!0;if(!1===y.getProgramParameter(ue,35714)){$t=!1;const xt=Kk(y,We,"vertex"),jt=Kk(y,Ee,"fragment");console.error("THREE.WebGLProgram: shader error: ",y.getError(),"35715",y.getProgramParameter(ue,35715),"gl.getProgramInfoLog",lt,xt,jt)}else""!==lt?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",lt):(""===Dt||""===Ht)&&(Ft=!1);Ft&&(this.diagnostics={runnable:$t,programLog:lt,vertexShader:{log:Dt,prefix:de},fragmentShader:{log:Ht,prefix:ie}})}let Re,$e;return y.deleteShader(We),y.deleteShader(Ee),this.getUniforms=function(){return void 0===Re&&(Re=new Kd(y,ue)),Re},this.getAttributes=function(){return void 0===$e&&($e=function Zk(h,l){const d={},m=h.getProgramParameter(l,35721);for(let y=0;y<m;y++){const x=h.getActiveAttrib(l,y).name;d[x]=h.getAttribLocation(l,x)}return d}(y,ue)),$e},this.destroy=function(){m.releaseStatesOfProgram(this),y.deleteProgram(ue),this.program=void 0},this.name=d.shaderName,this.id=y$++,this.cacheKey=l,this.usedTimes=1,this.program=ue,this.vertexShader=We,this.fragmentShader=Ee,this}function rP(h,l,d,m,y,_){const x=[],D=m.isWebGL2,k=m.logarithmicDepthBuffer,P=m.floatVertexTextures,j=m.maxVertexUniforms,B=m.vertexTextures;let U=m.precision;const G={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ee=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function de(Ee){let Re;return Ee&&Ee.isTexture?Re=Ee.encoding:Ee&&Ee.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Re=Ee.texture.encoding):Re=hs,Re}return{getParameters:function ie(Ee,Re,$e,lt,Dt){const Ht=lt.fog,Ft=l.get(Ee.envMap||(Ee.isMeshStandardMaterial?lt.environment:null)),xt=G[Ee.type],jt=Dt.isSkinnedMesh?function ue(Ee){const $e=Ee.skeleton.bones;if(P)return 1024;{const Dt=Math.floor((j-20)/4),Ht=Math.min(Dt,$e.length);return Ht<$e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+$e.length+" bones. This GPU supports "+Ht+"."),0):Ht}}(Dt):0;let tn,Nn;if(null!==Ee.precision&&(U=m.getMaxPrecision(Ee.precision),U!==Ee.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ee.precision,"not supported, using",U,"instead.")),xt){const Vr=du[xt];tn=Vr.vertexShader,Nn=Vr.fragmentShader}else tn=Ee.vertexShader,Nn=Ee.fragmentShader;const on=h.getRenderTarget();return{isWebGL2:D,shaderID:xt,shaderName:Ee.type,vertexShader:tn,fragmentShader:Nn,defines:Ee.defines,isRawShaderMaterial:!0===Ee.isRawShaderMaterial,glslVersion:Ee.glslVersion,precision:U,instancing:!0===Dt.isInstancedMesh,instancingColor:!0===Dt.isInstancedMesh&&null!==Dt.instanceColor,supportsVertexTextures:B,outputEncoding:null!==on?de(on.texture):h.outputEncoding,map:!!Ee.map,mapEncoding:de(Ee.map),matcap:!!Ee.matcap,matcapEncoding:de(Ee.matcap),envMap:!!Ft,envMapMode:Ft&&Ft.mapping,envMapEncoding:de(Ft),envMapCubeUV:!!Ft&&(Ft.mapping===Ze||Ft.mapping===ht),lightMap:!!Ee.lightMap,lightMapEncoding:de(Ee.lightMap),aoMap:!!Ee.aoMap,emissiveMap:!!Ee.emissiveMap,emissiveMapEncoding:de(Ee.emissiveMap),bumpMap:!!Ee.bumpMap,normalMap:!!Ee.normalMap,objectSpaceNormalMap:Ee.normalMapType===Ti,tangentSpaceNormalMap:Ee.normalMapType===Ni,clearcoatMap:!!Ee.clearcoatMap,clearcoatRoughnessMap:!!Ee.clearcoatRoughnessMap,clearcoatNormalMap:!!Ee.clearcoatNormalMap,displacementMap:!!Ee.displacementMap,roughnessMap:!!Ee.roughnessMap,metalnessMap:!!Ee.metalnessMap,specularMap:!!Ee.specularMap,alphaMap:!!Ee.alphaMap,gradientMap:!!Ee.gradientMap,sheen:!!Ee.sheen,transmissionMap:!!Ee.transmissionMap,combine:Ee.combine,vertexTangents:Ee.normalMap&&Ee.vertexTangents,vertexColors:Ee.vertexColors,vertexUvs:!!(Ee.map||Ee.bumpMap||Ee.normalMap||Ee.specularMap||Ee.alphaMap||Ee.emissiveMap||Ee.roughnessMap||Ee.metalnessMap||Ee.clearcoatMap||Ee.clearcoatRoughnessMap||Ee.clearcoatNormalMap||Ee.displacementMap||Ee.transmissionMap),uvsVertexOnly:!(Ee.map||Ee.bumpMap||Ee.normalMap||Ee.specularMap||Ee.alphaMap||Ee.emissiveMap||Ee.roughnessMap||Ee.metalnessMap||Ee.clearcoatNormalMap||Ee.transmissionMap||!Ee.displacementMap),fog:!!Ht,useFog:Ee.fog,fogExp2:Ht&&Ht.isFogExp2,flatShading:!!Ee.flatShading,sizeAttenuation:Ee.sizeAttenuation,logarithmicDepthBuffer:k,skinning:Ee.skinning&&jt>0,maxBones:jt,useVertexTexture:P,morphTargets:Ee.morphTargets,morphNormals:Ee.morphNormals,maxMorphTargets:h.maxMorphTargets,maxMorphNormals:h.maxMorphNormals,numDirLights:Re.directional.length,numPointLights:Re.point.length,numSpotLights:Re.spot.length,numRectAreaLights:Re.rectArea.length,numHemiLights:Re.hemi.length,numDirLightShadows:Re.directionalShadowMap.length,numPointLightShadows:Re.pointShadowMap.length,numSpotLightShadows:Re.spotShadowMap.length,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,dithering:Ee.dithering,shadowMapEnabled:h.shadowMap.enabled&&$e.length>0,shadowMapType:h.shadowMap.type,toneMapping:Ee.toneMapped?h.toneMapping:Qr,physicallyCorrectLights:h.physicallyCorrectLights,premultipliedAlpha:Ee.premultipliedAlpha,alphaTest:Ee.alphaTest,doubleSided:Ee.side===ce,flipSided:Ee.side===K,depthPacking:void 0!==Ee.depthPacking&&Ee.depthPacking,index0AttributeName:Ee.index0AttributeName,extensionDerivatives:Ee.extensions&&Ee.extensions.derivatives,extensionFragDepth:Ee.extensions&&Ee.extensions.fragDepth,extensionDrawBuffers:Ee.extensions&&Ee.extensions.drawBuffers,extensionShaderTextureLOD:Ee.extensions&&Ee.extensions.shaderTextureLOD,rendererExtensionFragDepth:D||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:D||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:D||d.has("EXT_shader_texture_lod"),customProgramCacheKey:Ee.customProgramCacheKey()}},getProgramCacheKey:function q(Ee){const Re=[];if(Ee.shaderID?Re.push(Ee.shaderID):(Re.push(Ee.fragmentShader),Re.push(Ee.vertexShader)),void 0!==Ee.defines)for(const $e in Ee.defines)Re.push($e),Re.push(Ee.defines[$e]);if(!1===Ee.isRawShaderMaterial){for(let $e=0;$e<ee.length;$e++)Re.push(Ee[ee[$e]]);Re.push(h.outputEncoding),Re.push(h.gammaFactor)}return Re.push(Ee.customProgramCacheKey),Re.join()},getUniforms:function ke(Ee){const Re=G[Ee.type];let $e;return $e=Re?a_.clone(du[Re].uniforms):Ee.uniforms,$e},acquireProgram:function _e(Ee,Re){let $e;for(let lt=0,Dt=x.length;lt<Dt;lt++){const Ht=x[lt];if(Ht.cacheKey===Re){$e=Ht,++$e.usedTimes;break}}return void 0===$e&&($e=new nP(h,Re,Ee,y),x.push($e)),$e},releaseProgram:function We(Ee){if(0==--Ee.usedTimes){const Re=x.indexOf(Ee);x[Re]=x[x.length-1],x.pop(),Ee.destroy()}},programs:x}}function iP(){let h=new WeakMap;return{get:function l(_){let x=h.get(_);return void 0===x&&(x={},h.set(_,x)),x},remove:function d(_){h.delete(_)},update:function m(_,x,D){h.get(_)[x]=D},dispose:function y(){h=new WeakMap}}}function NB(h,l){return h.groupOrder!==l.groupOrder?h.groupOrder-l.groupOrder:h.renderOrder!==l.renderOrder?h.renderOrder-l.renderOrder:h.program!==l.program?h.program.id-l.program.id:h.material.id!==l.material.id?h.material.id-l.material.id:h.z!==l.z?h.z-l.z:h.id-l.id}function oP(h,l){return h.groupOrder!==l.groupOrder?h.groupOrder-l.groupOrder:h.renderOrder!==l.renderOrder?h.renderOrder-l.renderOrder:h.z!==l.z?l.z-h.z:h.id-l.id}function LT(h){const l=[];let d=0;const m=[],y=[],_={id:-1};function D(U,G,ee,ue,de,ie){let q=l[d];const ke=h.get(ee);return void 0===q?(q={id:U.id,object:U,geometry:G,material:ee,program:ke.program||_,groupOrder:ue,renderOrder:U.renderOrder,z:de,group:ie},l[d]=q):(q.id=U.id,q.object=U,q.geometry=G,q.material=ee,q.program=ke.program||_,q.groupOrder=ue,q.renderOrder=U.renderOrder,q.z=de,q.group=ie),d++,q}return{opaque:m,transparent:y,init:function x(){d=0,m.length=0,y.length=0},push:function k(U,G,ee,ue,de,ie){const q=D(U,G,ee,ue,de,ie);(!0===ee.transparent?y:m).push(q)},unshift:function P(U,G,ee,ue,de,ie){const q=D(U,G,ee,ue,de,ie);(!0===ee.transparent?y:m).unshift(q)},finish:function B(){for(let U=d,G=l.length;U<G;U++){const ee=l[U];if(null===ee.id)break;ee.id=null,ee.object=null,ee.geometry=null,ee.material=null,ee.program=null,ee.group=null}},sort:function j(U,G){m.length>1&&m.sort(U||NB),y.length>1&&y.sort(G||oP)}}}function IT(h){let l=new WeakMap;return{get:function d(y,_){let x;return!1===l.has(y)?(x=new LT(h),l.set(y,[x])):_>=l.get(y).length?(x=new LT(h),l.get(y).push(x)):x=l.get(y)[_],x},dispose:function m(){l=new WeakMap}}}function w$(){const h={};return{get:function(l){if(void 0!==h[l.id])return h[l.id];let d;switch(l.type){case"DirectionalLight":d={direction:new De,color:new xr};break;case"SpotLight":d={position:new De,direction:new De,color:new xr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":d={position:new De,color:new xr,distance:0,decay:0};break;case"HemisphereLight":d={direction:new De,skyColor:new xr,groundColor:new xr};break;case"RectAreaLight":d={color:new xr,position:new De,halfWidth:new De,halfHeight:new De}}return h[l.id]=d,d}}}let NT=0;function sP(h,l){return(l.castShadow?1:0)-(h.castShadow?1:0)}function aP(h,l){const d=new w$,m=function FB(){const h={};return{get:function(l){if(void 0!==h[l.id])return h[l.id];let d;switch(l.type){case"DirectionalLight":case"SpotLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn};break;case"PointLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn,shadowCameraNear:1,shadowCameraFar:1e3}}return h[l.id]=d,d}}}(),y={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let j=0;j<9;j++)y.probe.push(new De);const _=new De,x=new Br,D=new Br;return{setup:function k(j){let B=0,U=0,G=0;for(let Re=0;Re<9;Re++)y.probe[Re].set(0,0,0);let ee=0,ue=0,de=0,ie=0,q=0,ke=0,_e=0,We=0;j.sort(sP);for(let Re=0,$e=j.length;Re<$e;Re++){const lt=j[Re],Dt=lt.color,Ht=lt.intensity,$t=lt.distance,Ft=lt.shadow&&lt.shadow.map?lt.shadow.map.texture:null;if(lt.isAmbientLight)B+=Dt.r*Ht,U+=Dt.g*Ht,G+=Dt.b*Ht;else if(lt.isLightProbe)for(let xt=0;xt<9;xt++)y.probe[xt].addScaledVector(lt.sh.coefficients[xt],Ht);else if(lt.isDirectionalLight){const xt=d.get(lt);if(xt.color.copy(lt.color).multiplyScalar(lt.intensity),lt.castShadow){const jt=lt.shadow,tn=m.get(lt);tn.shadowBias=jt.bias,tn.shadowNormalBias=jt.normalBias,tn.shadowRadius=jt.radius,tn.shadowMapSize=jt.mapSize,y.directionalShadow[ee]=tn,y.directionalShadowMap[ee]=Ft,y.directionalShadowMatrix[ee]=lt.shadow.matrix,ke++}y.directional[ee]=xt,ee++}else if(lt.isSpotLight){const xt=d.get(lt);if(xt.position.setFromMatrixPosition(lt.matrixWorld),xt.color.copy(Dt).multiplyScalar(Ht),xt.distance=$t,xt.coneCos=Math.cos(lt.angle),xt.penumbraCos=Math.cos(lt.angle*(1-lt.penumbra)),xt.decay=lt.decay,lt.castShadow){const jt=lt.shadow,tn=m.get(lt);tn.shadowBias=jt.bias,tn.shadowNormalBias=jt.normalBias,tn.shadowRadius=jt.radius,tn.shadowMapSize=jt.mapSize,y.spotShadow[de]=tn,y.spotShadowMap[de]=Ft,y.spotShadowMatrix[de]=lt.shadow.matrix,We++}y.spot[de]=xt,de++}else if(lt.isRectAreaLight){const xt=d.get(lt);xt.color.copy(Dt).multiplyScalar(Ht),xt.halfWidth.set(.5*lt.width,0,0),xt.halfHeight.set(0,.5*lt.height,0),y.rectArea[ie]=xt,ie++}else if(lt.isPointLight){const xt=d.get(lt);if(xt.color.copy(lt.color).multiplyScalar(lt.intensity),xt.distance=lt.distance,xt.decay=lt.decay,lt.castShadow){const jt=lt.shadow,tn=m.get(lt);tn.shadowBias=jt.bias,tn.shadowNormalBias=jt.normalBias,tn.shadowRadius=jt.radius,tn.shadowMapSize=jt.mapSize,tn.shadowCameraNear=jt.camera.near,tn.shadowCameraFar=jt.camera.far,y.pointShadow[ue]=tn,y.pointShadowMap[ue]=Ft,y.pointShadowMatrix[ue]=lt.shadow.matrix,_e++}y.point[ue]=xt,ue++}else if(lt.isHemisphereLight){const xt=d.get(lt);xt.skyColor.copy(lt.color).multiplyScalar(Ht),xt.groundColor.copy(lt.groundColor).multiplyScalar(Ht),y.hemi[q]=xt,q++}}ie>0&&(l.isWebGL2||!0===h.has("OES_texture_float_linear")?(y.rectAreaLTC1=qn.LTC_FLOAT_1,y.rectAreaLTC2=qn.LTC_FLOAT_2):!0===h.has("OES_texture_half_float_linear")?(y.rectAreaLTC1=qn.LTC_HALF_1,y.rectAreaLTC2=qn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),y.ambient[0]=B,y.ambient[1]=U,y.ambient[2]=G;const Ee=y.hash;(Ee.directionalLength!==ee||Ee.pointLength!==ue||Ee.spotLength!==de||Ee.rectAreaLength!==ie||Ee.hemiLength!==q||Ee.numDirectionalShadows!==ke||Ee.numPointShadows!==_e||Ee.numSpotShadows!==We)&&(y.directional.length=ee,y.spot.length=de,y.rectArea.length=ie,y.point.length=ue,y.hemi.length=q,y.directionalShadow.length=ke,y.directionalShadowMap.length=ke,y.pointShadow.length=_e,y.pointShadowMap.length=_e,y.spotShadow.length=We,y.spotShadowMap.length=We,y.directionalShadowMatrix.length=ke,y.pointShadowMatrix.length=_e,y.spotShadowMatrix.length=We,Ee.directionalLength=ee,Ee.pointLength=ue,Ee.spotLength=de,Ee.rectAreaLength=ie,Ee.hemiLength=q,Ee.numDirectionalShadows=ke,Ee.numPointShadows=_e,Ee.numSpotShadows=We,y.version=NT++)},setupView:function P(j,B){let U=0,G=0,ee=0,ue=0,de=0;const ie=B.matrixWorldInverse;for(let q=0,ke=j.length;q<ke;q++){const _e=j[q];if(_e.isDirectionalLight){const We=y.directional[U];We.direction.setFromMatrixPosition(_e.matrixWorld),_.setFromMatrixPosition(_e.target.matrixWorld),We.direction.sub(_),We.direction.transformDirection(ie),U++}else if(_e.isSpotLight){const We=y.spot[ee];We.position.setFromMatrixPosition(_e.matrixWorld),We.position.applyMatrix4(ie),We.direction.setFromMatrixPosition(_e.matrixWorld),_.setFromMatrixPosition(_e.target.matrixWorld),We.direction.sub(_),We.direction.transformDirection(ie),ee++}else if(_e.isRectAreaLight){const We=y.rectArea[ue];We.position.setFromMatrixPosition(_e.matrixWorld),We.position.applyMatrix4(ie),D.identity(),x.copy(_e.matrixWorld),x.premultiply(ie),D.extractRotation(x),We.halfWidth.set(.5*_e.width,0,0),We.halfHeight.set(0,.5*_e.height,0),We.halfWidth.applyMatrix4(D),We.halfHeight.applyMatrix4(D),ue++}else if(_e.isPointLight){const We=y.point[G];We.position.setFromMatrixPosition(_e.matrixWorld),We.position.applyMatrix4(ie),G++}else if(_e.isHemisphereLight){const We=y.hemi[de];We.direction.setFromMatrixPosition(_e.matrixWorld),We.direction.transformDirection(ie),We.direction.normalize(),de++}}},state:y}}function Bh(h,l){const d=new aP(h,l),m=[],y=[];return{init:function _(){m.length=0,y.length=0},state:{lightsArray:m,shadowsArray:y,lights:d},setupLights:function k(){d.setup(m)},setupLightsView:function P(B){d.setupView(m,B)},pushLight:function x(B){m.push(B)},pushShadow:function D(B){y.push(B)}}}function HB(h,l){let d=new WeakMap;return{get:function m(_,x=0){let D;return!1===d.has(_)?(D=new Bh(h,l),d.set(_,[D])):x>=d.get(_).length?(D=new Bh(h,l),d.get(_).push(D)):D=d.get(_)[x],D},dispose:function y(){d=new WeakMap}}}class iy extends $o{constructor(l){super(),this.type="MeshDepthMaterial",this.depthPacking=Pn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.depthPacking=l.depthPacking,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this}}iy.prototype.isMeshDepthMaterial=!0;class Zp extends $o{constructor(l){super(),this.type="MeshDistanceMaterial",this.referencePosition=new De,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(l)}copy(l){return super.copy(l),this.referencePosition.copy(l.referencePosition),this.nearDistance=l.nearDistance,this.farDistance=l.farDistance,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.map=l.map,this.alphaMap=l.alphaMap,this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this}}function x_(h,l,d){let m=new Ih;const y=new bn,_=new bn,x=new Ri,D=[],k=[],P={},j={0:K,1:fe,2:ce},B=new ll({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new bn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),U=B.clone();U.defines.HORIZONTAL_PASS=1;const G=new fr;G.setAttribute("position",new Kr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ee=new dn(G,B),ue=this;function de(We,Ee){const Re=l.update(ee);B.uniforms.shadow_pass.value=We.map.texture,B.uniforms.resolution.value=We.mapSize,B.uniforms.radius.value=We.radius,h.setRenderTarget(We.mapPass),h.clear(),h.renderBufferDirect(Ee,null,Re,B,ee,null),U.uniforms.shadow_pass.value=We.mapPass.texture,U.uniforms.resolution.value=We.mapSize,U.uniforms.radius.value=We.radius,h.setRenderTarget(We.map),h.clear(),h.renderBufferDirect(Ee,null,Re,U,ee,null)}function ie(We,Ee,Re){const $e=We<<0|Ee<<1|Re<<2;let lt=D[$e];return void 0===lt&&(lt=new iy({depthPacking:tr,morphTargets:We,skinning:Ee}),D[$e]=lt),lt}function q(We,Ee,Re){const $e=We<<0|Ee<<1|Re<<2;let lt=k[$e];return void 0===lt&&(lt=new Zp({morphTargets:We,skinning:Ee}),k[$e]=lt),lt}function ke(We,Ee,Re,$e,lt,Dt,Ht){let $t=null,Ft=ie,xt=We.customDepthMaterial;if(!0===$e.isPointLight&&(Ft=q,xt=We.customDistanceMaterial),void 0===xt){let jt=!1;!0===Re.morphTargets&&(jt=Ee.morphAttributes&&Ee.morphAttributes.position&&Ee.morphAttributes.position.length>0);let tn=!1;!0===We.isSkinnedMesh&&(!0===Re.skinning?tn=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",We)),$t=Ft(jt,tn,!0===We.isInstancedMesh)}else $t=xt;if(h.localClippingEnabled&&!0===Re.clipShadows&&0!==Re.clippingPlanes.length){const jt=$t.uuid,tn=Re.uuid;let Nn=P[jt];void 0===Nn&&(Nn={},P[jt]=Nn);let on=Nn[tn];void 0===on&&(on=$t.clone(),Nn[tn]=on),$t=on}return $t.visible=Re.visible,$t.wireframe=Re.wireframe,$t.side=Ht===oe?null!==Re.shadowSide?Re.shadowSide:Re.side:null!==Re.shadowSide?Re.shadowSide:j[Re.side],$t.clipShadows=Re.clipShadows,$t.clippingPlanes=Re.clippingPlanes,$t.clipIntersection=Re.clipIntersection,$t.wireframeLinewidth=Re.wireframeLinewidth,$t.linewidth=Re.linewidth,!0===$e.isPointLight&&!0===$t.isMeshDistanceMaterial&&($t.referencePosition.setFromMatrixPosition($e.matrixWorld),$t.nearDistance=lt,$t.farDistance=Dt),$t}function _e(We,Ee,Re,$e,lt){if(!1===We.visible)return;if(We.layers.test(Ee.layers)&&(We.isMesh||We.isLine||We.isPoints)&&(We.castShadow||We.receiveShadow&&lt===oe)&&(!We.frustumCulled||m.intersectsObject(We))){We.modelViewMatrix.multiplyMatrices(Re.matrixWorldInverse,We.matrixWorld);const $t=l.update(We),Ft=We.material;if(Array.isArray(Ft)){const xt=$t.groups;for(let jt=0,tn=xt.length;jt<tn;jt++){const Nn=xt[jt],on=Ft[Nn.materialIndex];if(on&&on.visible){const mr=ke(We,$t,on,$e,Re.near,Re.far,lt);h.renderBufferDirect(Re,null,$t,mr,We,Nn)}}}else if(Ft.visible){const xt=ke(We,$t,Ft,$e,Re.near,Re.far,lt);h.renderBufferDirect(Re,null,$t,xt,We,null)}}const Ht=We.children;for(let $t=0,Ft=Ht.length;$t<Ft;$t++)_e(Ht[$t],Ee,Re,$e,lt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=te,this.render=function(We,Ee,Re){if(!1===ue.enabled||!1===ue.autoUpdate&&!1===ue.needsUpdate||0===We.length)return;const $e=h.getRenderTarget(),lt=h.getActiveCubeFace(),Dt=h.getActiveMipmapLevel(),Ht=h.state;Ht.setBlending(Ae),Ht.buffers.color.setClear(1,1,1,1),Ht.buffers.depth.setTest(!0),Ht.setScissorTest(!1);for(let $t=0,Ft=We.length;$t<Ft;$t++){const xt=We[$t],jt=xt.shadow;if(void 0===jt){console.warn("THREE.WebGLShadowMap:",xt,"has no shadow.");continue}if(!1===jt.autoUpdate&&!1===jt.needsUpdate)continue;y.copy(jt.mapSize);const tn=jt.getFrameExtents();if(y.multiply(tn),_.copy(jt.mapSize),(y.x>d||y.y>d)&&(y.x>d&&(_.x=Math.floor(d/tn.x),y.x=_.x*tn.x,jt.mapSize.x=_.x),y.y>d&&(_.y=Math.floor(d/tn.y),y.y=_.y*tn.y,jt.mapSize.y=_.y)),null===jt.map&&!jt.isPointLightShadow&&this.type===oe){const on={minFilter:Er,magFilter:Er,format:Io};jt.map=new ru(y.x,y.y,on),jt.map.texture.name=xt.name+".shadowMap",jt.mapPass=new ru(y.x,y.y,on),jt.camera.updateProjectionMatrix()}null===jt.map&&(jt.map=new ru(y.x,y.y,{minFilter:rr,magFilter:rr,format:Io}),jt.map.texture.name=xt.name+".shadowMap",jt.camera.updateProjectionMatrix()),h.setRenderTarget(jt.map),h.clear();const Nn=jt.getViewportCount();for(let on=0;on<Nn;on++){const mr=jt.getViewport(on);x.set(_.x*mr.x,_.y*mr.y,_.x*mr.z,_.y*mr.w),Ht.viewport(x),jt.updateMatrices(xt,on),m=jt.getFrustum(),_e(Ee,Re,jt.camera,xt,this.type)}!jt.isPointLightShadow&&this.type===oe&&de(jt,Re),jt.needsUpdate=!1}ue.needsUpdate=!1,h.setRenderTarget($e,lt,Dt)}}function Vh(h,l,d){const m=d.isWebGL2,D=new function y(){let Mt=!1;const jn=new Ri;let Bn=null;const Dr=new Ri(0,0,0,0);return{setMask:function(Vn){Bn!==Vn&&!Mt&&(h.colorMask(Vn,Vn,Vn,Vn),Bn=Vn)},setLocked:function(Vn){Mt=Vn},setClear:function(Vn,oi,si,Zr,ti){!0===ti&&(Vn*=Zr,oi*=Zr,si*=Zr),jn.set(Vn,oi,si,Zr),!1===Dr.equals(jn)&&(h.clearColor(Vn,oi,si,Zr),Dr.copy(jn))},reset:function(){Mt=!1,Bn=null,Dr.set(-1,0,0,0)}}},k=new function _(){let Mt=!1,jn=null,Bn=null,Dr=null;return{setTest:function(Vn){Vn?Vr(2929):Lr(2929)},setMask:function(Vn){jn!==Vn&&!Mt&&(h.depthMask(Vn),jn=Vn)},setFunc:function(Vn){if(Bn!==Vn){if(Vn)switch(Vn){case Pt:h.depthFunc(512);break;case zn:h.depthFunc(519);break;case vr:h.depthFunc(513);break;case dr:h.depthFunc(515);break;case $n:h.depthFunc(514);break;case Ur:h.depthFunc(518);break;case vn:h.depthFunc(516);break;case Qt:h.depthFunc(517);break;default:h.depthFunc(515)}else h.depthFunc(515);Bn=Vn}},setLocked:function(Vn){Mt=Vn},setClear:function(Vn){Dr!==Vn&&(h.clearDepth(Vn),Dr=Vn)},reset:function(){Mt=!1,jn=null,Bn=null,Dr=null}}},P=new function x(){let Mt=!1,jn=null,Bn=null,Dr=null,Vn=null,oi=null,si=null,Zr=null,ti=null;return{setTest:function(ni){Mt||(ni?Vr(2960):Lr(2960))},setMask:function(ni){jn!==ni&&!Mt&&(h.stencilMask(ni),jn=ni)},setFunc:function(ni,as,gu){(Bn!==ni||Dr!==as||Vn!==gu)&&(h.stencilFunc(ni,as,gu),Bn=ni,Dr=as,Vn=gu)},setOp:function(ni,as,gu){(oi!==ni||si!==as||Zr!==gu)&&(h.stencilOp(ni,as,gu),oi=ni,si=as,Zr=gu)},setLocked:function(ni){Mt=ni},setClear:function(ni){ti!==ni&&(h.clearStencil(ni),ti=ni)},reset:function(){Mt=!1,jn=null,Bn=null,Dr=null,Vn=null,oi=null,si=null,Zr=null,ti=null}}};let j={},B=null,U=!1,G=null,ee=null,ue=null,de=null,ie=null,q=null,ke=null,_e=!1,We=null,Ee=null,Re=null,$e=null,lt=null;const Dt=h.getParameter(35661);let Ht=!1,$t=0;const Ft=h.getParameter(7938);-1!==Ft.indexOf("WebGL")?($t=parseFloat(/^WebGL (\d)/.exec(Ft)[1]),Ht=$t>=1):-1!==Ft.indexOf("OpenGL ES")&&($t=parseFloat(/^OpenGL ES (\d)/.exec(Ft)[1]),Ht=$t>=2);let xt=null,jt={};const tn=new Ri,Nn=new Ri;function on(Mt,jn,Bn){const Dr=new Uint8Array(4),Vn=h.createTexture();h.bindTexture(Mt,Vn),h.texParameteri(Mt,10241,9728),h.texParameteri(Mt,10240,9728);for(let oi=0;oi<Bn;oi++)h.texImage2D(jn+oi,0,6408,1,1,0,6408,5121,Dr);return Vn}const mr={};function Vr(Mt){!0!==j[Mt]&&(h.enable(Mt),j[Mt]=!0)}function Lr(Mt){!1!==j[Mt]&&(h.disable(Mt),j[Mt]=!1)}mr[3553]=on(3553,3553,1),mr[34067]=on(34067,34069,6),D.setClear(0,0,0,1),k.setClear(1),P.setClear(0),Vr(2929),k.setFunc(dr),Ji(!1),Co(I),Vr(2884),Ho(Ae);const Mi={[ct]:32774,[st]:32778,[dt]:32779};if(m)Mi[kt]=32775,Mi[It]=32776;else{const Mt=l.get("EXT_blend_minmax");null!==Mt&&(Mi[kt]=Mt.MIN_EXT,Mi[It]=Mt.MAX_EXT)}const _i={[At]:0,[Bt]:1,[Ut]:768,[Te]:770,[kn]:776,[Xt]:774,[gt]:772,[sn]:769,[ye]:771,[an]:775,[Et]:773};function Ho(Mt,jn,Bn,Dr,Vn,oi,si,Zr){if(Mt!==Ae){if(!1===U&&(Vr(3042),U=!0),Mt===Ke)Vn=Vn||jn,oi=oi||Bn,si=si||Dr,(jn!==ee||Vn!==ie)&&(h.blendEquationSeparate(Mi[jn],Mi[Vn]),ee=jn,ie=Vn),(Bn!==ue||Dr!==de||oi!==q||si!==ke)&&(h.blendFuncSeparate(_i[Bn],_i[Dr],_i[oi],_i[si]),ue=Bn,de=Dr,q=oi,ke=si),G=Mt,_e=null;else if(Mt!==G||Zr!==_e){if((ee!==ct||ie!==ct)&&(h.blendEquation(32774),ee=ct,ie=ct),Zr)switch(Mt){case Ve:h.blendFuncSeparate(1,771,1,771);break;case Qe:h.blendFunc(1,1);break;case qe:h.blendFuncSeparate(0,0,769,771);break;case Ne:h.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Mt)}else switch(Mt){case Ve:h.blendFuncSeparate(770,771,1,771);break;case Qe:h.blendFunc(770,1);break;case qe:h.blendFunc(0,769);break;case Ne:h.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Mt)}ue=null,de=null,q=null,ke=null,G=Mt,_e=Zr}}else!0===U&&(Lr(3042),U=!1)}function Ji(Mt){We!==Mt&&(h.frontFace(Mt?2304:2305),We=Mt)}function Co(Mt){Mt!==A?(Vr(2884),Mt!==Ee&&h.cullFace(Mt===I?1029:Mt===N?1028:1032)):Lr(2884),Ee=Mt}function bi(Mt,jn,Bn){Mt?(Vr(32823),($e!==jn||lt!==Bn)&&(h.polygonOffset(jn,Bn),$e=jn,lt=Bn)):Lr(32823)}function Ln(Mt){void 0===Mt&&(Mt=33984+Dt-1),xt!==Mt&&(h.activeTexture(Mt),xt=Mt)}return{buffers:{color:D,depth:k,stencil:P},enable:Vr,disable:Lr,useProgram:function oo(Mt){return B!==Mt&&(h.useProgram(Mt),B=Mt,!0)},setBlending:Ho,setMaterial:function fn(Mt,jn){Mt.side===ce?Lr(2884):Vr(2884);let Bn=Mt.side===K;jn&&(Bn=!Bn),Ji(Bn),Mt.blending===Ve&&!1===Mt.transparent?Ho(Ae):Ho(Mt.blending,Mt.blendEquation,Mt.blendSrc,Mt.blendDst,Mt.blendEquationAlpha,Mt.blendSrcAlpha,Mt.blendDstAlpha,Mt.premultipliedAlpha),k.setFunc(Mt.depthFunc),k.setTest(Mt.depthTest),k.setMask(Mt.depthWrite),D.setMask(Mt.colorWrite);const Dr=Mt.stencilWrite;P.setTest(Dr),Dr&&(P.setMask(Mt.stencilWriteMask),P.setFunc(Mt.stencilFunc,Mt.stencilRef,Mt.stencilFuncMask),P.setOp(Mt.stencilFail,Mt.stencilZFail,Mt.stencilZPass)),bi(Mt.polygonOffset,Mt.polygonOffsetFactor,Mt.polygonOffsetUnits)},setFlipSided:Ji,setCullFace:Co,setLineWidth:function Eo(Mt){Mt!==Re&&(Ht&&h.lineWidth(Mt),Re=Mt)},setPolygonOffset:bi,setScissorTest:function Bo(Mt){Mt?Vr(3089):Lr(3089)},activeTexture:Ln,bindTexture:function Yn(Mt,jn){null===xt&&Ln();let Bn=jt[xt];void 0===Bn&&(Bn={type:void 0,texture:void 0},jt[xt]=Bn),(Bn.type!==Mt||Bn.texture!==jn)&&(h.bindTexture(Mt,jn||mr[Mt]),Bn.type=Mt,Bn.texture=jn)},unbindTexture:function ur(){const Mt=jt[xt];void 0!==Mt&&void 0!==Mt.type&&(h.bindTexture(Mt.type,null),Mt.type=void 0,Mt.texture=void 0)},compressedTexImage2D:function Xr(){try{h.compressedTexImage2D.apply(h,arguments)}catch(Mt){console.error("THREE.WebGLState:",Mt)}},texImage2D:function Rr(){try{h.texImage2D.apply(h,arguments)}catch(Mt){console.error("THREE.WebGLState:",Mt)}},texImage3D:function rt(){try{h.texImage3D.apply(h,arguments)}catch(Mt){console.error("THREE.WebGLState:",Mt)}},scissor:function Ge(Mt){!1===tn.equals(Mt)&&(h.scissor(Mt.x,Mt.y,Mt.z,Mt.w),tn.copy(Mt))},viewport:function wn(Mt){!1===Nn.equals(Mt)&&(h.viewport(Mt.x,Mt.y,Mt.z,Mt.w),Nn.copy(Mt))},reset:function On(){h.disable(3042),h.disable(2884),h.disable(2929),h.disable(32823),h.disable(3089),h.disable(2960),h.blendEquation(32774),h.blendFunc(1,0),h.blendFuncSeparate(1,0,1,0),h.colorMask(!0,!0,!0,!0),h.clearColor(0,0,0,0),h.depthMask(!0),h.depthFunc(513),h.clearDepth(1),h.stencilMask(4294967295),h.stencilFunc(519,0,4294967295),h.stencilOp(7680,7680,7680),h.clearStencil(0),h.cullFace(1029),h.frontFace(2305),h.polygonOffset(0,0),h.activeTexture(33984),h.useProgram(null),h.lineWidth(1),h.scissor(0,0,h.canvas.width,h.canvas.height),h.viewport(0,0,h.canvas.width,h.canvas.height),j={},xt=null,jt={},B=null,U=!1,G=null,ee=null,ue=null,de=null,ie=null,q=null,ke=null,_e=!1,We=null,Ee=null,Re=null,$e=null,lt=null,D.reset(),k.reset(),P.reset()}}}function lP(h,l,d,m,y,_,x){const D=y.isWebGL2,k=y.maxTextures,P=y.maxCubemapSize,j=y.maxTextureSize,B=y.maxSamples,U=new WeakMap;let G,ee=!1;try{ee="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(rt){}function ue(rt,Ge){return ee?new OffscreenCanvas(rt,Ge):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function de(rt,Ge,wn,On){let Mt=1;if((rt.width>On||rt.height>On)&&(Mt=On/Math.max(rt.width,rt.height)),Mt<1||!0===Ge){if("undefined"!=typeof HTMLImageElement&&rt instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&rt instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&rt instanceof ImageBitmap){const jn=Ge?An.floorPowerOfTwo:Math.floor,Bn=jn(Mt*rt.width),Dr=jn(Mt*rt.height);void 0===G&&(G=ue(Bn,Dr));const Vn=wn?ue(Bn,Dr):G;return Vn.width=Bn,Vn.height=Dr,Vn.getContext("2d").drawImage(rt,0,0,Bn,Dr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+rt.width+"x"+rt.height+") to ("+Bn+"x"+Dr+")."),Vn}return"data"in rt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+rt.width+"x"+rt.height+")."),rt}return rt}function ie(rt){return An.isPowerOfTwo(rt.width)&&An.isPowerOfTwo(rt.height)}function ke(rt,Ge){return rt.generateMipmaps&&Ge&&rt.minFilter!==rr&&rt.minFilter!==Er}function _e(rt,Ge,wn,On){h.generateMipmap(rt),m.get(Ge).__maxMipLevel=Math.log2(Math.max(wn,On))}function We(rt,Ge,wn){if(!1===D)return Ge;if(null!==rt){if(void 0!==h[rt])return h[rt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+rt+"'")}let On=Ge;return 6403===Ge&&(5126===wn&&(On=33326),5131===wn&&(On=33325),5121===wn&&(On=33321)),6407===Ge&&(5126===wn&&(On=34837),5131===wn&&(On=34843),5121===wn&&(On=32849)),6408===Ge&&(5126===wn&&(On=34836),5131===wn&&(On=34842),5121===wn&&(On=32856)),(33325===On||33326===On||34842===On||34836===On)&&l.get("EXT_color_buffer_float"),On}function Ee(rt){return rt===rr||rt===_r||rt===Kn?9728:9729}function Re(rt){const Ge=rt.target;Ge.removeEventListener("dispose",Re),function lt(rt){const Ge=m.get(rt);void 0!==Ge.__webglInit&&(h.deleteTexture(Ge.__webglTexture),m.remove(rt))}(Ge),Ge.isVideoTexture&&U.delete(Ge),x.memory.textures--}function $e(rt){const Ge=rt.target;Ge.removeEventListener("dispose",$e),function Dt(rt){const Ge=rt.texture,wn=m.get(rt),On=m.get(Ge);if(rt){if(void 0!==On.__webglTexture&&h.deleteTexture(On.__webglTexture),rt.depthTexture&&rt.depthTexture.dispose(),rt.isWebGLCubeRenderTarget)for(let Mt=0;Mt<6;Mt++)h.deleteFramebuffer(wn.__webglFramebuffer[Mt]),wn.__webglDepthbuffer&&h.deleteRenderbuffer(wn.__webglDepthbuffer[Mt]);else h.deleteFramebuffer(wn.__webglFramebuffer),wn.__webglDepthbuffer&&h.deleteRenderbuffer(wn.__webglDepthbuffer),wn.__webglMultisampledFramebuffer&&h.deleteFramebuffer(wn.__webglMultisampledFramebuffer),wn.__webglColorRenderbuffer&&h.deleteRenderbuffer(wn.__webglColorRenderbuffer),wn.__webglDepthRenderbuffer&&h.deleteRenderbuffer(wn.__webglDepthRenderbuffer);m.remove(Ge),m.remove(rt)}}(Ge),x.memory.textures--}let Ht=0;function xt(rt,Ge){const wn=m.get(rt);if(rt.isVideoTexture&&function Ln(rt){const Ge=x.render.frame;U.get(rt)!==Ge&&(U.set(rt,Ge),rt.update())}(rt),rt.version>0&&wn.__version!==rt.version){const On=rt.image;if(void 0===On)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==On.complete)return void oo(wn,rt,Ge);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}d.activeTexture(33984+Ge),d.bindTexture(3553,wn.__webglTexture)}function Nn(rt,Ge){const wn=m.get(rt);rt.version>0&&wn.__version!==rt.version?function Mi(rt,Ge,wn){if(6!==Ge.image.length)return;Lr(rt,Ge),d.activeTexture(33984+wn),d.bindTexture(34067,rt.__webglTexture),h.pixelStorei(37440,Ge.flipY),h.pixelStorei(37441,Ge.premultiplyAlpha),h.pixelStorei(3317,Ge.unpackAlignment),h.pixelStorei(37443,0);const On=Ge&&(Ge.isCompressedTexture||Ge.image[0].isCompressedTexture),Mt=Ge.image[0]&&Ge.image[0].isDataTexture,jn=[];for(let ti=0;ti<6;ti++)jn[ti]=On||Mt?Mt?Ge.image[ti].image:Ge.image[ti]:de(Ge.image[ti],!1,!0,P);const Bn=jn[0],Dr=ie(Bn)||D,Vn=_.convert(Ge.format),oi=_.convert(Ge.type),si=We(Ge.internalFormat,Vn,oi);let Zr;if(Vr(34067,Ge,Dr),On){for(let ti=0;ti<6;ti++){Zr=jn[ti].mipmaps;for(let ni=0;ni<Zr.length;ni++){const as=Zr[ni];Ge.format!==Io&&Ge.format!==Vs?null!==Vn?d.compressedTexImage2D(34069+ti,ni,si,as.width,as.height,0,as.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):d.texImage2D(34069+ti,ni,si,as.width,as.height,0,Vn,oi,as.data)}}rt.__maxMipLevel=Zr.length-1}else{Zr=Ge.mipmaps;for(let ti=0;ti<6;ti++)if(Mt){d.texImage2D(34069+ti,0,si,jn[ti].width,jn[ti].height,0,Vn,oi,jn[ti].data);for(let ni=0;ni<Zr.length;ni++){const gu=Zr[ni].image[ti].image;d.texImage2D(34069+ti,ni+1,si,gu.width,gu.height,0,Vn,oi,gu.data)}}else{d.texImage2D(34069+ti,0,si,Vn,oi,jn[ti]);for(let ni=0;ni<Zr.length;ni++)d.texImage2D(34069+ti,ni+1,si,Vn,oi,Zr[ni].image[ti])}rt.__maxMipLevel=Zr.length}ke(Ge,Dr)&&_e(34067,Ge,Bn.width,Bn.height),rt.__version=Ge.version,Ge.onUpdate&&Ge.onUpdate(Ge)}(wn,rt,Ge):(d.activeTexture(33984+Ge),d.bindTexture(34067,wn.__webglTexture))}const on={[Lt]:10497,[Sn]:33071,[lr]:33648},mr={[rr]:9728,[_r]:9984,[Kn]:9986,[Er]:9729,[Jo]:9985,[Oi]:9987};function Vr(rt,Ge,wn){if(wn?(h.texParameteri(rt,10242,on[Ge.wrapS]),h.texParameteri(rt,10243,on[Ge.wrapT]),(32879===rt||35866===rt)&&h.texParameteri(rt,32882,on[Ge.wrapR]),h.texParameteri(rt,10240,mr[Ge.magFilter]),h.texParameteri(rt,10241,mr[Ge.minFilter])):(h.texParameteri(rt,10242,33071),h.texParameteri(rt,10243,33071),(32879===rt||35866===rt)&&h.texParameteri(rt,32882,33071),(Ge.wrapS!==Sn||Ge.wrapT!==Sn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),h.texParameteri(rt,10240,Ee(Ge.magFilter)),h.texParameteri(rt,10241,Ee(Ge.minFilter)),Ge.minFilter!==rr&&Ge.minFilter!==Er&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===l.has("EXT_texture_filter_anisotropic")){const On=l.get("EXT_texture_filter_anisotropic");if(Ge.type===rl&&!1===l.has("OES_texture_float_linear")||!1===D&&Ge.type===zl&&!1===l.has("OES_texture_half_float_linear"))return;(Ge.anisotropy>1||m.get(Ge).__currentAnisotropy)&&(h.texParameterf(rt,On.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ge.anisotropy,y.getMaxAnisotropy())),m.get(Ge).__currentAnisotropy=Ge.anisotropy)}}function Lr(rt,Ge){void 0===rt.__webglInit&&(rt.__webglInit=!0,Ge.addEventListener("dispose",Re),rt.__webglTexture=h.createTexture(),x.memory.textures++)}function oo(rt,Ge,wn){let On=3553;Ge.isDataTexture2DArray&&(On=35866),Ge.isDataTexture3D&&(On=32879),Lr(rt,Ge),d.activeTexture(33984+wn),d.bindTexture(On,rt.__webglTexture),h.pixelStorei(37440,Ge.flipY),h.pixelStorei(37441,Ge.premultiplyAlpha),h.pixelStorei(3317,Ge.unpackAlignment),h.pixelStorei(37443,0);const Mt=function q(rt){return!D&&(rt.wrapS!==Sn||rt.wrapT!==Sn||rt.minFilter!==rr&&rt.minFilter!==Er)}(Ge)&&!1===ie(Ge.image),jn=de(Ge.image,Mt,!1,j),Bn=ie(jn)||D,Dr=_.convert(Ge.format);let si,Vn=_.convert(Ge.type),oi=We(Ge.internalFormat,Dr,Vn);Vr(On,Ge,Bn);const Zr=Ge.mipmaps;if(Ge.isDepthTexture)oi=6402,D?oi=Ge.type===rl?36012:Ge.type===vl?33190:Ge.type===ir?35056:33189:Ge.type===rl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ge.format===Bc&&6402===oi&&Ge.type!==ao&&Ge.type!==vl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ge.type=ao,Vn=_.convert(Ge.type)),Ge.format===_s&&6402===oi&&(oi=34041,Ge.type!==ir&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ge.type=ir,Vn=_.convert(Ge.type))),d.texImage2D(3553,0,oi,jn.width,jn.height,0,Dr,Vn,null);else if(Ge.isDataTexture)if(Zr.length>0&&Bn){for(let ti=0,ni=Zr.length;ti<ni;ti++)si=Zr[ti],d.texImage2D(3553,ti,oi,si.width,si.height,0,Dr,Vn,si.data);Ge.generateMipmaps=!1,rt.__maxMipLevel=Zr.length-1}else d.texImage2D(3553,0,oi,jn.width,jn.height,0,Dr,Vn,jn.data),rt.__maxMipLevel=0;else if(Ge.isCompressedTexture){for(let ti=0,ni=Zr.length;ti<ni;ti++)si=Zr[ti],Ge.format!==Io&&Ge.format!==Vs?null!==Dr?d.compressedTexImage2D(3553,ti,oi,si.width,si.height,0,si.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):d.texImage2D(3553,ti,oi,si.width,si.height,0,Dr,Vn,si.data);rt.__maxMipLevel=Zr.length-1}else if(Ge.isDataTexture2DArray)d.texImage3D(35866,0,oi,jn.width,jn.height,jn.depth,0,Dr,Vn,jn.data),rt.__maxMipLevel=0;else if(Ge.isDataTexture3D)d.texImage3D(32879,0,oi,jn.width,jn.height,jn.depth,0,Dr,Vn,jn.data),rt.__maxMipLevel=0;else if(Zr.length>0&&Bn){for(let ti=0,ni=Zr.length;ti<ni;ti++)si=Zr[ti],d.texImage2D(3553,ti,oi,Dr,Vn,si);Ge.generateMipmaps=!1,rt.__maxMipLevel=Zr.length-1}else d.texImage2D(3553,0,oi,Dr,Vn,jn),rt.__maxMipLevel=0;ke(Ge,Bn)&&_e(On,Ge,jn.width,jn.height),rt.__version=Ge.version,Ge.onUpdate&&Ge.onUpdate(Ge)}function _i(rt,Ge,wn,On){const Mt=Ge.texture,jn=_.convert(Mt.format),Bn=_.convert(Mt.type),Dr=We(Mt.internalFormat,jn,Bn);32879===On||35866===On?d.texImage3D(On,0,Dr,Ge.width,Ge.height,Ge.depth,0,jn,Bn,null):d.texImage2D(On,0,Dr,Ge.width,Ge.height,0,jn,Bn,null),h.bindFramebuffer(36160,rt),h.framebufferTexture2D(36160,wn,On,m.get(Mt).__webglTexture,0),h.bindFramebuffer(36160,null)}function Ho(rt,Ge,wn){if(h.bindRenderbuffer(36161,rt),Ge.depthBuffer&&!Ge.stencilBuffer){let On=33189;if(wn){const Mt=Ge.depthTexture;Mt&&Mt.isDepthTexture&&(Mt.type===rl?On=36012:Mt.type===vl&&(On=33190));const jn=Bo(Ge);h.renderbufferStorageMultisample(36161,jn,On,Ge.width,Ge.height)}else h.renderbufferStorage(36161,On,Ge.width,Ge.height);h.framebufferRenderbuffer(36160,36096,36161,rt)}else if(Ge.depthBuffer&&Ge.stencilBuffer){if(wn){const On=Bo(Ge);h.renderbufferStorageMultisample(36161,On,35056,Ge.width,Ge.height)}else h.renderbufferStorage(36161,34041,Ge.width,Ge.height);h.framebufferRenderbuffer(36160,33306,36161,rt)}else{const On=Ge.texture,Mt=_.convert(On.format),jn=_.convert(On.type),Bn=We(On.internalFormat,Mt,jn);if(wn){const Dr=Bo(Ge);h.renderbufferStorageMultisample(36161,Dr,Bn,Ge.width,Ge.height)}else h.renderbufferStorage(36161,Bn,Ge.width,Ge.height)}h.bindRenderbuffer(36161,null)}function Bo(rt){return D&&rt.isWebGLMultisampleRenderTarget?Math.min(B,rt.samples):0}let Yn=!1,ur=!1;this.allocateTextureUnit=function Ft(){const rt=Ht;return rt>=k&&console.warn("THREE.WebGLTextures: Trying to use "+rt+" texture units while this GPU supports only "+k),Ht+=1,rt},this.resetTextureUnits=function $t(){Ht=0},this.setTexture2D=xt,this.setTexture2DArray=function jt(rt,Ge){const wn=m.get(rt);rt.version>0&&wn.__version!==rt.version?oo(wn,rt,Ge):(d.activeTexture(33984+Ge),d.bindTexture(35866,wn.__webglTexture))},this.setTexture3D=function tn(rt,Ge){const wn=m.get(rt);rt.version>0&&wn.__version!==rt.version?oo(wn,rt,Ge):(d.activeTexture(33984+Ge),d.bindTexture(32879,wn.__webglTexture))},this.setTextureCube=Nn,this.setupRenderTarget=function Co(rt){const Ge=rt.texture,wn=m.get(rt),On=m.get(Ge);rt.addEventListener("dispose",$e),On.__webglTexture=h.createTexture(),x.memory.textures++;const Mt=!0===rt.isWebGLCubeRenderTarget,jn=!0===rt.isWebGLMultisampleRenderTarget,Bn=Ge.isDataTexture3D||Ge.isDataTexture2DArray,Dr=ie(rt)||D;if(D&&Ge.format===Vs&&(Ge.type===rl||Ge.type===zl)&&(Ge.format=Io,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Mt){wn.__webglFramebuffer=[];for(let Vn=0;Vn<6;Vn++)wn.__webglFramebuffer[Vn]=h.createFramebuffer()}else if(wn.__webglFramebuffer=h.createFramebuffer(),jn)if(D){wn.__webglMultisampledFramebuffer=h.createFramebuffer(),wn.__webglColorRenderbuffer=h.createRenderbuffer(),h.bindRenderbuffer(36161,wn.__webglColorRenderbuffer);const Vn=_.convert(Ge.format),oi=_.convert(Ge.type),si=We(Ge.internalFormat,Vn,oi),Zr=Bo(rt);h.renderbufferStorageMultisample(36161,Zr,si,rt.width,rt.height),h.bindFramebuffer(36160,wn.__webglMultisampledFramebuffer),h.framebufferRenderbuffer(36160,36064,36161,wn.__webglColorRenderbuffer),h.bindRenderbuffer(36161,null),rt.depthBuffer&&(wn.__webglDepthRenderbuffer=h.createRenderbuffer(),Ho(wn.__webglDepthRenderbuffer,rt,!0)),h.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Mt){d.bindTexture(34067,On.__webglTexture),Vr(34067,Ge,Dr);for(let Vn=0;Vn<6;Vn++)_i(wn.__webglFramebuffer[Vn],rt,36064,34069+Vn);ke(Ge,Dr)&&_e(34067,Ge,rt.width,rt.height),d.bindTexture(34067,null)}else{let Vn=3553;Bn&&(D?Vn=Ge.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),d.bindTexture(Vn,On.__webglTexture),Vr(Vn,Ge,Dr),_i(wn.__webglFramebuffer,rt,36064,Vn),ke(Ge,Dr)&&_e(3553,Ge,rt.width,rt.height),d.bindTexture(3553,null)}rt.depthBuffer&&function Ji(rt){const Ge=m.get(rt),wn=!0===rt.isWebGLCubeRenderTarget;if(rt.depthTexture){if(wn)throw new Error("target.depthTexture not supported in Cube render targets");!function fn(rt,Ge){if(Ge&&Ge.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(h.bindFramebuffer(36160,rt),!Ge.depthTexture||!Ge.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!m.get(Ge.depthTexture).__webglTexture||Ge.depthTexture.image.width!==Ge.width||Ge.depthTexture.image.height!==Ge.height)&&(Ge.depthTexture.image.width=Ge.width,Ge.depthTexture.image.height=Ge.height,Ge.depthTexture.needsUpdate=!0),xt(Ge.depthTexture,0);const On=m.get(Ge.depthTexture).__webglTexture;if(Ge.depthTexture.format===Bc)h.framebufferTexture2D(36160,36096,3553,On,0);else{if(Ge.depthTexture.format!==_s)throw new Error("Unknown depthTexture format");h.framebufferTexture2D(36160,33306,3553,On,0)}}(Ge.__webglFramebuffer,rt)}else if(wn){Ge.__webglDepthbuffer=[];for(let On=0;On<6;On++)h.bindFramebuffer(36160,Ge.__webglFramebuffer[On]),Ge.__webglDepthbuffer[On]=h.createRenderbuffer(),Ho(Ge.__webglDepthbuffer[On],rt,!1)}else h.bindFramebuffer(36160,Ge.__webglFramebuffer),Ge.__webglDepthbuffer=h.createRenderbuffer(),Ho(Ge.__webglDepthbuffer,rt,!1);h.bindFramebuffer(36160,null)}(rt)},this.updateRenderTargetMipmap=function Eo(rt){const Ge=rt.texture;if(ke(Ge,ie(rt)||D)){const On=rt.isWebGLCubeRenderTarget?34067:3553,Mt=m.get(Ge).__webglTexture;d.bindTexture(On,Mt),_e(On,Ge,rt.width,rt.height),d.bindTexture(On,null)}},this.updateMultisampleRenderTarget=function bi(rt){if(rt.isWebGLMultisampleRenderTarget)if(D){const Ge=m.get(rt);h.bindFramebuffer(36008,Ge.__webglMultisampledFramebuffer),h.bindFramebuffer(36009,Ge.__webglFramebuffer);const wn=rt.width,On=rt.height;let Mt=16384;rt.depthBuffer&&(Mt|=256),rt.stencilBuffer&&(Mt|=1024),h.blitFramebuffer(0,0,wn,On,0,0,wn,On,Mt,9728),h.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function Xr(rt,Ge){rt&&rt.isWebGLRenderTarget&&(!1===Yn&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Yn=!0),rt=rt.texture),xt(rt,Ge)},this.safeSetTextureCube=function Rr(rt,Ge){rt&&rt.isWebGLCubeRenderTarget&&(!1===ur&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ur=!0),rt=rt.texture),Nn(rt,Ge)}}function A0(h,l,d){const m=d.isWebGL2;return{convert:function y(_){let x;if(_===nl)return 5121;if(_===Ap)return 32819;if(_===Hc)return 32820;if(_===bf)return 33635;if(_===Bs)return 5120;if(_===ds)return 5122;if(_===ao)return 5123;if(_===oa)return 5124;if(_===vl)return 5125;if(_===rl)return 5126;if(_===zl)return m?5131:(x=l.get("OES_texture_half_float"),null!==x?x.HALF_FLOAT_OES:null);if(_===Sh)return 6406;if(_===Vs)return 6407;if(_===Io)return 6408;if(_===Rs)return 6409;if(_===go)return 6410;if(_===Bc)return 6402;if(_===_s)return 34041;if(_===_l)return 6403;if(_===jl)return 36244;if(_===fs)return 33319;if(_===Wi)return 33320;if(_===Ul)return 36248;if(_===yi)return 36249;if(_===Mu||_===yo||_===Dd||_===Qo){if(x=l.get("WEBGL_compressed_texture_s3tc"),null===x)return null;if(_===Mu)return x.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===yo)return x.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===Dd)return x.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===Qo)return x.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(_===tc||_===Vc||_===Ad||_===xu){if(x=l.get("WEBGL_compressed_texture_pvrtc"),null===x)return null;if(_===tc)return x.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===Vc)return x.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===Ad)return x.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===xu)return x.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===zc)return x=l.get("WEBGL_compressed_texture_etc1"),null!==x?x.COMPRESSED_RGB_ETC1_WEBGL:null;if((_===eu||_===Od)&&(x=l.get("WEBGL_compressed_texture_etc"),null!==x)){if(_===eu)return x.COMPRESSED_RGB8_ETC2;if(_===Od)return x.COMPRESSED_RGBA8_ETC2_EAC}return _===Mh||_===jc||_===wf||_===kd||_===Sf||_===Op||_===Dg||_===is||_===bl||_===wl||_===tu||_===ko||_===Mf||_===lo||_===xh||_===Ii||_===kr||_===Sl||_===Pd||_===pn||_===Uc||_===di||_===Vi||_===Ag||_===Zv||_===bs||_===nu||_===ba?(x=l.get("WEBGL_compressed_texture_astc"),null!==x?_:null):_===Cu?(x=l.get("EXT_texture_compression_bptc"),null!==x?_:null):_===ir?m?34042:(x=l.get("WEBGL_depth_texture"),null!==x?x.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function O0(h=[]){ks.call(this),this.cameras=h}Zp.prototype.isMeshDistanceMaterial=!0,O0.prototype=Object.assign(Object.create(ks.prototype),{constructor:O0,isArrayCamera:!0});class qp extends $r{constructor(){super(),this.type="Group"}}function oy(){this._targetRay=null,this._grip=null,this._hand=null}function Jp(h,l){const d=this;let m=null,y=1,_=null,x="local-floor",D=null;const k=[],P=new Map,j=new ks;j.layers.enable(1),j.viewport=new Ri;const B=new ks;B.layers.enable(2),B.viewport=new Ri;const U=[j,B],G=new O0;G.layers.enable(1),G.layers.enable(2);let ee=null,ue=null;function de(Dt){const Ht=P.get(Dt.inputSource);Ht&&Ht.dispatchEvent({type:Dt.type,data:Dt.inputSource})}function ie(){P.forEach(function(Dt,Ht){Dt.disconnect(Ht)}),P.clear(),ee=null,ue=null,h.setFramebuffer(null),h.setRenderTarget(h.getRenderTarget()),lt.stop(),d.isPresenting=!1,d.dispatchEvent({type:"sessionend"})}function q(Dt){const Ht=m.inputSources;for(let $t=0;$t<k.length;$t++)P.set(Ht[$t],k[$t]);for(let $t=0;$t<Dt.removed.length;$t++){const Ft=Dt.removed[$t],xt=P.get(Ft);xt&&(xt.dispatchEvent({type:"disconnected",data:Ft}),P.delete(Ft))}for(let $t=0;$t<Dt.added.length;$t++){const Ft=Dt.added[$t],xt=P.get(Ft);xt&&xt.dispatchEvent({type:"connected",data:Ft})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(Dt){let Ht=k[Dt];return void 0===Ht&&(Ht=new oy,k[Dt]=Ht),Ht.getTargetRaySpace()},this.getControllerGrip=function(Dt){let Ht=k[Dt];return void 0===Ht&&(Ht=new oy,k[Dt]=Ht),Ht.getGripSpace()},this.getHand=function(Dt){let Ht=k[Dt];return void 0===Ht&&(Ht=new oy,k[Dt]=Ht),Ht.getHandSpace()},this.setFramebufferScaleFactor=function(Dt){y=Dt,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Dt){x=Dt,!0===d.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _},this.getSession=function(){return m},this.setSession=function(){var Dt=(0,O.Z)(function*(Ht){if(m=Ht,null!==m){m.addEventListener("select",de),m.addEventListener("selectstart",de),m.addEventListener("selectend",de),m.addEventListener("squeeze",de),m.addEventListener("squeezestart",de),m.addEventListener("squeezeend",de),m.addEventListener("end",ie),m.addEventListener("inputsourceschange",q);const $t=l.getContextAttributes();!0!==$t.xrCompatible&&(yield l.makeXRCompatible());const xt=new XRWebGLLayer(m,l,{antialias:$t.antialias,alpha:$t.alpha,depth:$t.depth,stencil:$t.stencil,framebufferScaleFactor:y});m.updateRenderState({baseLayer:xt}),_=yield m.requestReferenceSpace(x),lt.setContext(m),lt.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}});return function(Ht){return Dt.apply(this,arguments)}}();const ke=new De,_e=new De;function Ee(Dt,Ht){null===Ht?Dt.matrixWorld.copy(Dt.matrix):Dt.matrixWorld.multiplyMatrices(Ht.matrixWorld,Dt.matrix),Dt.matrixWorldInverse.copy(Dt.matrixWorld).invert()}this.getCamera=function(Dt){G.near=B.near=j.near=Dt.near,G.far=B.far=j.far=Dt.far,(ee!==G.near||ue!==G.far)&&(m.updateRenderState({depthNear:G.near,depthFar:G.far}),ee=G.near,ue=G.far);const Ht=Dt.parent,$t=G.cameras;Ee(G,Ht);for(let xt=0;xt<$t.length;xt++)Ee($t[xt],Ht);Dt.matrixWorld.copy(G.matrixWorld),Dt.matrix.copy(G.matrix),Dt.matrix.decompose(Dt.position,Dt.quaternion,Dt.scale);const Ft=Dt.children;for(let xt=0,jt=Ft.length;xt<jt;xt++)Ft[xt].updateMatrixWorld(!0);return 2===$t.length?function We(Dt,Ht,$t){ke.setFromMatrixPosition(Ht.matrixWorld),_e.setFromMatrixPosition($t.matrixWorld);const Ft=ke.distanceTo(_e),xt=Ht.projectionMatrix.elements,jt=$t.projectionMatrix.elements,tn=xt[14]/(xt[10]-1),Nn=xt[14]/(xt[10]+1),on=(xt[9]+1)/xt[5],mr=(xt[9]-1)/xt[5],Vr=(xt[8]-1)/xt[0],Lr=(jt[8]+1)/jt[0],oo=tn*Vr,Mi=tn*Lr,_i=Ft/(-Vr+Lr),Ho=_i*-Vr;Ht.matrixWorld.decompose(Dt.position,Dt.quaternion,Dt.scale),Dt.translateX(Ho),Dt.translateZ(_i),Dt.matrixWorld.compose(Dt.position,Dt.quaternion,Dt.scale),Dt.matrixWorldInverse.copy(Dt.matrixWorld).invert();const fn=tn+_i,Ji=Nn+_i;Dt.projectionMatrix.makePerspective(oo-Ho,Mi+(Ft-Ho),on*Nn/Ji*fn,mr*Nn/Ji*fn,fn,Ji)}(G,j,B):G.projectionMatrix.copy(j.projectionMatrix),G};let Re=null;const lt=new Up;lt.setAnimationLoop(function $e(Dt,Ht){if(D=Ht.getViewerPose(_),null!==D){const Ft=D.views,xt=m.renderState.baseLayer;h.setFramebuffer(xt.framebuffer);let jt=!1;Ft.length!==G.cameras.length&&(G.cameras.length=0,jt=!0);for(let tn=0;tn<Ft.length;tn++){const Nn=Ft[tn],on=xt.getViewport(Nn),mr=U[tn];mr.matrix.fromArray(Nn.transform.matrix),mr.projectionMatrix.fromArray(Nn.projectionMatrix),mr.viewport.set(on.x,on.y,on.width,on.height),0===tn&&G.matrix.copy(mr.matrix),!0===jt&&G.cameras.push(mr)}}const $t=m.inputSources;for(let Ft=0;Ft<k.length;Ft++)k[Ft].update($t[Ft],Ht,_);Re&&Re(Dt,Ht)}),this.setAnimationLoop=function(Dt){Re=Dt},this.dispose=function(){}}function VB(h){function m(ie,q){ie.opacity.value=q.opacity,q.color&&ie.diffuse.value.copy(q.color),q.emissive&&ie.emissive.value.copy(q.emissive).multiplyScalar(q.emissiveIntensity),q.map&&(ie.map.value=q.map),q.alphaMap&&(ie.alphaMap.value=q.alphaMap),q.specularMap&&(ie.specularMap.value=q.specularMap);const ke=h.get(q).envMap;if(ke){ie.envMap.value=ke,ie.flipEnvMap.value=ke.isCubeTexture&&ke._needsFlipEnvMap?-1:1,ie.reflectivity.value=q.reflectivity,ie.refractionRatio.value=q.refractionRatio;const Ee=h.get(ke).__maxMipLevel;void 0!==Ee&&(ie.maxMipLevel.value=Ee)}let _e,We;q.lightMap&&(ie.lightMap.value=q.lightMap,ie.lightMapIntensity.value=q.lightMapIntensity),q.aoMap&&(ie.aoMap.value=q.aoMap,ie.aoMapIntensity.value=q.aoMapIntensity),q.map?_e=q.map:q.specularMap?_e=q.specularMap:q.displacementMap?_e=q.displacementMap:q.normalMap?_e=q.normalMap:q.bumpMap?_e=q.bumpMap:q.roughnessMap?_e=q.roughnessMap:q.metalnessMap?_e=q.metalnessMap:q.alphaMap?_e=q.alphaMap:q.emissiveMap?_e=q.emissiveMap:q.clearcoatMap?_e=q.clearcoatMap:q.clearcoatNormalMap?_e=q.clearcoatNormalMap:q.clearcoatRoughnessMap&&(_e=q.clearcoatRoughnessMap),void 0!==_e&&(_e.isWebGLRenderTarget&&(_e=_e.texture),!0===_e.matrixAutoUpdate&&_e.updateMatrix(),ie.uvTransform.value.copy(_e.matrix)),q.aoMap?We=q.aoMap:q.lightMap&&(We=q.lightMap),void 0!==We&&(We.isWebGLRenderTarget&&(We=We.texture),!0===We.matrixAutoUpdate&&We.updateMatrix(),ie.uv2Transform.value.copy(We.matrix))}function B(ie,q){ie.roughness.value=q.roughness,ie.metalness.value=q.metalness,q.roughnessMap&&(ie.roughnessMap.value=q.roughnessMap),q.metalnessMap&&(ie.metalnessMap.value=q.metalnessMap),q.emissiveMap&&(ie.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ie.bumpMap.value=q.bumpMap,ie.bumpScale.value=q.bumpScale,q.side===K&&(ie.bumpScale.value*=-1)),q.normalMap&&(ie.normalMap.value=q.normalMap,ie.normalScale.value.copy(q.normalScale),q.side===K&&ie.normalScale.value.negate()),q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias),h.get(q).envMap&&(ie.envMapIntensity.value=q.envMapIntensity)}return{refreshFogUniforms:function l(ie,q){ie.fogColor.value.copy(q.color),q.isFog?(ie.fogNear.value=q.near,ie.fogFar.value=q.far):q.isFogExp2&&(ie.fogDensity.value=q.density)},refreshMaterialUniforms:function d(ie,q,ke,_e){q.isMeshBasicMaterial?m(ie,q):q.isMeshLambertMaterial?(m(ie,q),function k(ie,q){q.emissiveMap&&(ie.emissiveMap.value=q.emissiveMap)}(ie,q)):q.isMeshToonMaterial?(m(ie,q),function j(ie,q){q.gradientMap&&(ie.gradientMap.value=q.gradientMap),q.emissiveMap&&(ie.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ie.bumpMap.value=q.bumpMap,ie.bumpScale.value=q.bumpScale,q.side===K&&(ie.bumpScale.value*=-1)),q.normalMap&&(ie.normalMap.value=q.normalMap,ie.normalScale.value.copy(q.normalScale),q.side===K&&ie.normalScale.value.negate()),q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias)}(ie,q)):q.isMeshPhongMaterial?(m(ie,q),function P(ie,q){ie.specular.value.copy(q.specular),ie.shininess.value=Math.max(q.shininess,1e-4),q.emissiveMap&&(ie.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ie.bumpMap.value=q.bumpMap,ie.bumpScale.value=q.bumpScale,q.side===K&&(ie.bumpScale.value*=-1)),q.normalMap&&(ie.normalMap.value=q.normalMap,ie.normalScale.value.copy(q.normalScale),q.side===K&&ie.normalScale.value.negate()),q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias)}(ie,q)):q.isMeshStandardMaterial?(m(ie,q),q.isMeshPhysicalMaterial?function U(ie,q){B(ie,q),ie.reflectivity.value=q.reflectivity,ie.clearcoat.value=q.clearcoat,ie.clearcoatRoughness.value=q.clearcoatRoughness,q.sheen&&ie.sheen.value.copy(q.sheen),q.clearcoatMap&&(ie.clearcoatMap.value=q.clearcoatMap),q.clearcoatRoughnessMap&&(ie.clearcoatRoughnessMap.value=q.clearcoatRoughnessMap),q.clearcoatNormalMap&&(ie.clearcoatNormalScale.value.copy(q.clearcoatNormalScale),ie.clearcoatNormalMap.value=q.clearcoatNormalMap,q.side===K&&ie.clearcoatNormalScale.value.negate()),ie.transmission.value=q.transmission,q.transmissionMap&&(ie.transmissionMap.value=q.transmissionMap)}(ie,q):B(ie,q)):q.isMeshMatcapMaterial?(m(ie,q),function G(ie,q){q.matcap&&(ie.matcap.value=q.matcap),q.bumpMap&&(ie.bumpMap.value=q.bumpMap,ie.bumpScale.value=q.bumpScale,q.side===K&&(ie.bumpScale.value*=-1)),q.normalMap&&(ie.normalMap.value=q.normalMap,ie.normalScale.value.copy(q.normalScale),q.side===K&&ie.normalScale.value.negate()),q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias)}(ie,q)):q.isMeshDepthMaterial?(m(ie,q),function ee(ie,q){q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias)}(ie,q)):q.isMeshDistanceMaterial?(m(ie,q),function ue(ie,q){q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias),ie.referencePosition.value.copy(q.referencePosition),ie.nearDistance.value=q.nearDistance,ie.farDistance.value=q.farDistance}(ie,q)):q.isMeshNormalMaterial?(m(ie,q),function de(ie,q){q.bumpMap&&(ie.bumpMap.value=q.bumpMap,ie.bumpScale.value=q.bumpScale,q.side===K&&(ie.bumpScale.value*=-1)),q.normalMap&&(ie.normalMap.value=q.normalMap,ie.normalScale.value.copy(q.normalScale),q.side===K&&ie.normalScale.value.negate()),q.displacementMap&&(ie.displacementMap.value=q.displacementMap,ie.displacementScale.value=q.displacementScale,ie.displacementBias.value=q.displacementBias)}(ie,q)):q.isLineBasicMaterial?(function y(ie,q){ie.diffuse.value.copy(q.color),ie.opacity.value=q.opacity}(ie,q),q.isLineDashedMaterial&&function _(ie,q){ie.dashSize.value=q.dashSize,ie.totalSize.value=q.dashSize+q.gapSize,ie.scale.value=q.scale}(ie,q)):q.isPointsMaterial?function x(ie,q,ke,_e){let We;ie.diffuse.value.copy(q.color),ie.opacity.value=q.opacity,ie.size.value=q.size*ke,ie.scale.value=.5*_e,q.map&&(ie.map.value=q.map),q.alphaMap&&(ie.alphaMap.value=q.alphaMap),q.map?We=q.map:q.alphaMap&&(We=q.alphaMap),void 0!==We&&(!0===We.matrixAutoUpdate&&We.updateMatrix(),ie.uvTransform.value.copy(We.matrix))}(ie,q,ke,_e):q.isSpriteMaterial?function D(ie,q){let ke;ie.diffuse.value.copy(q.color),ie.opacity.value=q.opacity,ie.rotation.value=q.rotation,q.map&&(ie.map.value=q.map),q.alphaMap&&(ie.alphaMap.value=q.alphaMap),q.map?ke=q.map:q.alphaMap&&(ke=q.alphaMap),void 0!==ke&&(!0===ke.matrixAutoUpdate&&ke.updateMatrix(),ie.uvTransform.value.copy(ke.matrix))}(ie,q):q.isShadowMaterial?(ie.color.value.copy(q.color),ie.opacity.value=q.opacity):q.isShaderMaterial&&(q.uniformsNeedUpdate=!1)}}}function ss(h){const l=void 0!==(h=h||{}).canvas?h.canvas:function zB(){const h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return h.style.display="block",h}(),d=void 0!==h.context?h.context:null,m=void 0!==h.alpha&&h.alpha,y=void 0===h.depth||h.depth,_=void 0===h.stencil||h.stencil,x=void 0!==h.antialias&&h.antialias,D=void 0===h.premultipliedAlpha||h.premultipliedAlpha,k=void 0!==h.preserveDrawingBuffer&&h.preserveDrawingBuffer,P=void 0!==h.powerPreference?h.powerPreference:"default",j=void 0!==h.failIfMajorPerformanceCaveat&&h.failIfMajorPerformanceCaveat;let B=null,U=null;const G=[],ee=[];this.domElement=l,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=hs,this.physicallyCorrectLights=!1,this.toneMapping=Qr,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const ue=this;let de=!1,ie=null,q=0,ke=0,_e=null,We=null,Ee=-1,Re=null;const $e=new Ri,lt=new Ri;let Dt=null,Ht=l.width,$t=l.height,Ft=1,xt=null,jt=null;const tn=new Ri(0,0,Ht,$t),Nn=new Ri(0,0,Ht,$t);let on=!1;const mr=new Ih;let Vr=!1,Lr=!1;const oo=new Br,Mi=new De,_i={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ho(){return null===_e?Ft:1}let Co,Eo,bi,Bo,Ln,Yn,ur,Xr,Rr,rt,Ge,wn,On,Mt,jn,Bn,Dr,Vn,oi,si,Zr,fn=d;function Ji(Ue,nn){for(let Zt=0;Zt<Ue.length;Zt++){const or=l.getContext(Ue[Zt],nn);if(null!==or)return or}return null}try{const Ue={alpha:m,depth:y,stencil:_,antialias:x,premultipliedAlpha:D,preserveDrawingBuffer:k,powerPreference:P,failIfMajorPerformanceCaveat:j};if(l.addEventListener("webglcontextlost",gu,!1),l.addEventListener("webglcontextrestored",qP,!1),null===fn){const nn=["webgl2","webgl","experimental-webgl"];if(!0===ue.isWebGL1Renderer&&nn.shift(),fn=Ji(nn,Ue),null===fn)throw Ji(nn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===fn.getShaderPrecisionFormat&&(fn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}function ti(){Co=new h$(fn),Eo=new ry(fn,Co,h),Co.init(Eo),si=new A0(fn,Co,Eo),bi=new Vh(fn,Co,Eo),bi.scissor(lt.copy(Nn).multiplyScalar(Ft).floor()),bi.viewport($e.copy(tn).multiplyScalar(Ft).floor()),Bo=new p$(fn),Ln=new iP,Yn=new lP(fn,Co,bi,Ln,Eo,si,Bo),ur=new sB(ue),Xr=new uT(fn,Eo),Zr=new iB(fn,Co,Xr,Eo),Rr=new Fk(fn,Xr,Bo,Zr),rt=new M0(fn,Rr,Xr,Bo),Dr=new cB(fn),jn=new v_(Ln),Ge=new rP(ue,ur,Co,Eo,Zr,jn),wn=new VB(Ln),On=new IT(Ln),Mt=new HB(Co,Eo),Bn=new Nk(ue,ur,bi,rt,D),Vn=new oB(fn,Co,Bo,Eo),oi=new aB(fn,Co,Bo,Eo),Bo.programs=Ge.programs,ue.capabilities=Eo,ue.extensions=Co,ue.properties=Ln,ue.renderLists=On,ue.state=bi,ue.info=Bo}ti();const ni=new Jp(ue,fn);this.xr=ni;const as=new x_(ue,rt,Eo.maxTextureSize);function gu(Ue){Ue.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),de=!0}function qP(){console.log("THREE.WebGLRenderer: Context Restored."),de=!1,ti()}function z1(Ue){const nn=Ue.target;nn.removeEventListener("dispose",z1),function BV(Ue){j1(Ue),Ln.remove(Ue)}(nn)}function j1(Ue){const nn=Ln.get(Ue).program;void 0!==nn&&Ge.releaseProgram(nn)}this.shadowMap=as,this.getContext=function(){return fn},this.getContextAttributes=function(){return fn.getContextAttributes()},this.forceContextLoss=function(){const Ue=Co.get("WEBGL_lose_context");Ue&&Ue.loseContext()},this.forceContextRestore=function(){const Ue=Co.get("WEBGL_lose_context");Ue&&Ue.restoreContext()},this.getPixelRatio=function(){return Ft},this.setPixelRatio=function(Ue){void 0!==Ue&&(Ft=Ue,this.setSize(Ht,$t,!1))},this.getSize=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Ue=new bn),Ue.set(Ht,$t)},this.setSize=function(Ue,nn,Zt){ni.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ht=Ue,$t=nn,l.width=Math.floor(Ue*Ft),l.height=Math.floor(nn*Ft),!1!==Zt&&(l.style.width=Ue+"px",l.style.height=nn+"px"),this.setViewport(0,0,Ue,nn))},this.getDrawingBufferSize=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Ue=new bn),Ue.set(Ht*Ft,$t*Ft).floor()},this.setDrawingBufferSize=function(Ue,nn,Zt){Ht=Ue,$t=nn,Ft=Zt,l.width=Math.floor(Ue*Zt),l.height=Math.floor(nn*Zt),this.setViewport(0,0,Ue,nn)},this.getCurrentViewport=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Ue=new Ri),Ue.copy($e)},this.getViewport=function(Ue){return Ue.copy(tn)},this.setViewport=function(Ue,nn,Zt,un){Ue.isVector4?tn.set(Ue.x,Ue.y,Ue.z,Ue.w):tn.set(Ue,nn,Zt,un),bi.viewport($e.copy(tn).multiplyScalar(Ft).floor())},this.getScissor=function(Ue){return Ue.copy(Nn)},this.setScissor=function(Ue,nn,Zt,un){Ue.isVector4?Nn.set(Ue.x,Ue.y,Ue.z,Ue.w):Nn.set(Ue,nn,Zt,un),bi.scissor(lt.copy(Nn).multiplyScalar(Ft).floor())},this.getScissorTest=function(){return on},this.setScissorTest=function(Ue){bi.setScissorTest(on=Ue)},this.setOpaqueSort=function(Ue){xt=Ue},this.setTransparentSort=function(Ue){jt=Ue},this.getClearColor=function(Ue){return void 0===Ue&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),Ue=new xr),Ue.copy(Bn.getClearColor())},this.setClearColor=function(){Bn.setClearColor.apply(Bn,arguments)},this.getClearAlpha=function(){return Bn.getClearAlpha()},this.setClearAlpha=function(){Bn.setClearAlpha.apply(Bn,arguments)},this.clear=function(Ue,nn,Zt){let un=0;(void 0===Ue||Ue)&&(un|=16384),(void 0===nn||nn)&&(un|=256),(void 0===Zt||Zt)&&(un|=1024),fn.clear(un)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){l.removeEventListener("webglcontextlost",gu,!1),l.removeEventListener("webglcontextrestored",qP,!1),On.dispose(),Mt.dispose(),Ln.dispose(),ur.dispose(),rt.dispose(),Zr.dispose(),ni.dispose(),yu.stop()},this.renderBufferImmediate=function(Ue,nn){Zr.initAttributes();const Zt=Ln.get(Ue);Ue.hasPositions&&!Zt.position&&(Zt.position=fn.createBuffer()),Ue.hasNormals&&!Zt.normal&&(Zt.normal=fn.createBuffer()),Ue.hasUvs&&!Zt.uv&&(Zt.uv=fn.createBuffer()),Ue.hasColors&&!Zt.color&&(Zt.color=fn.createBuffer());const un=nn.getAttributes();Ue.hasPositions&&(fn.bindBuffer(34962,Zt.position),fn.bufferData(34962,Ue.positionArray,35048),Zr.enableAttribute(un.position),fn.vertexAttribPointer(un.position,3,5126,!1,0,0)),Ue.hasNormals&&(fn.bindBuffer(34962,Zt.normal),fn.bufferData(34962,Ue.normalArray,35048),Zr.enableAttribute(un.normal),fn.vertexAttribPointer(un.normal,3,5126,!1,0,0)),Ue.hasUvs&&(fn.bindBuffer(34962,Zt.uv),fn.bufferData(34962,Ue.uvArray,35048),Zr.enableAttribute(un.uv),fn.vertexAttribPointer(un.uv,2,5126,!1,0,0)),Ue.hasColors&&(fn.bindBuffer(34962,Zt.color),fn.bufferData(34962,Ue.colorArray,35048),Zr.enableAttribute(un.color),fn.vertexAttribPointer(un.color,3,5126,!1,0,0)),Zr.disableUnusedAttributes(),fn.drawArrays(4,0,Ue.count),Ue.count=0},this.renderBufferDirect=function(Ue,nn,Zt,un,or,$i){null===nn&&(nn=_i);const gi=or.isMesh&&or.matrixWorld.determinant()<0,Hi=Sc(Ue,nn,un,or);bi.setMaterial(un,gi);let Yi=Zt.index;const Ns=Zt.attributes.position;if(null===Yi){if(void 0===Ns||0===Ns.count)return}else if(0===Yi.count)return;let ls=1;!0===un.wireframe&&(Yi=Rr.getWireframeAttribute(Zt),ls=2),(un.morphTargets||un.morphNormals)&&Dr.update(or,Zt,un,Hi),Zr.setup(or,un,Hi,Zt,Yi);let xi,Xo=Vn;null!==Yi&&(xi=Xr.get(Yi),Xo=oi,Xo.setIndex(xi));const Mc=null!==Yi?Yi.count:Ns.count,Xn=Zt.drawRange.start*ls,ud=Zt.drawRange.count*ls,_o=null!==$i?$i.start*ls:0,HS=null!==$i?$i.count*ls:1/0,Zl=Math.max(Xn,_o),zy=Math.min(Mc,Xn+ud,_o+HS)-1,gm=Math.max(0,zy-Zl+1);if(0!==gm){if(or.isMesh)!0===un.wireframe?(bi.setLineWidth(un.wireframeLinewidth*Ho()),Xo.setMode(1)):Xo.setMode(4);else if(or.isLine){let jy=un.linewidth;void 0===jy&&(jy=1),bi.setLineWidth(jy*Ho()),Xo.setMode(or.isLineSegments?1:or.isLineLoop?2:3)}else or.isPoints?Xo.setMode(0):or.isSprite&&Xo.setMode(4);if(or.isInstancedMesh)Xo.renderInstances(Zl,gm,or.count);else if(Zt.isInstancedBufferGeometry){const jy=Math.min(Zt.instanceCount,Zt._maxInstanceCount);Xo.renderInstances(Zl,gm,jy)}else Xo.render(Zl,gm)}},this.compile=function(Ue,nn){U=Mt.get(Ue),U.init(),Ue.traverseVisible(function(un){un.isLight&&un.layers.test(nn.layers)&&(U.pushLight(un),un.castShadow&&U.pushShadow(un))}),U.setupLights();const Zt=new WeakMap;Ue.traverse(function(un){const or=un.material;if(or)if(Array.isArray(or))for(let $i=0;$i<or.length;$i++){const gi=or[$i];!1===Zt.has(gi)&&(Ra(gi,Ue,un),Zt.set(gi))}else!1===Zt.has(or)&&(Ra(or,Ue,un),Zt.set(or))})};let wc=null;const yu=new Up;function JP(Ue,nn,Zt,un){if(!1===Ue.visible)return;if(Ue.layers.test(nn.layers))if(Ue.isGroup)Zt=Ue.renderOrder;else if(Ue.isLOD)!0===Ue.autoUpdate&&Ue.update(nn);else if(Ue.isLight)U.pushLight(Ue),Ue.castShadow&&U.pushShadow(Ue);else if(Ue.isSprite){if(!Ue.frustumCulled||mr.intersectsSprite(Ue)){un&&Mi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(oo);const gi=rt.update(Ue),Hi=Ue.material;Hi.visible&&B.push(Ue,gi,Hi,Zt,Mi.z,null)}}else if(Ue.isImmediateRenderObject)un&&Mi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(oo),B.push(Ue,null,Ue.material,Zt,Mi.z,null);else if((Ue.isMesh||Ue.isLine||Ue.isPoints)&&(Ue.isSkinnedMesh&&Ue.skeleton.frame!==Bo.render.frame&&(Ue.skeleton.update(),Ue.skeleton.frame=Bo.render.frame),!Ue.frustumCulled||mr.intersectsObject(Ue))){un&&Mi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(oo);const gi=rt.update(Ue),Hi=Ue.material;if(Array.isArray(Hi)){const Yi=gi.groups;for(let Ns=0,ls=Yi.length;Ns<ls;Ns++){const xi=Yi[Ns],Xo=Hi[xi.materialIndex];Xo&&Xo.visible&&B.push(Ue,gi,Xo,Zt,Mi.z,xi)}}else Hi.visible&&B.push(Ue,gi,Hi,Zt,Mi.z,null)}const $i=Ue.children;for(let gi=0,Hi=$i.length;gi<Hi;gi++)JP($i[gi],nn,Zt,un)}function QP(Ue,nn,Zt){const un=!0===nn.isScene?nn.overrideMaterial:null;for(let or=0,$i=Ue.length;or<$i;or++){const gi=Ue[or],Hi=gi.object,Yi=gi.geometry,Ns=null===un?gi.material:un,ls=gi.group;if(Zt.isArrayCamera){const xi=Zt.cameras;for(let Xo=0,Mc=xi.length;Xo<Mc;Xo++){const Xn=xi[Xo];Hi.layers.test(Xn.layers)&&(bi.viewport($e.copy(Xn.viewport)),U.setupLightsView(Xn),ld(Hi,nn,Xn,Yi,Ns,ls))}}else ld(Hi,nn,Zt,Yi,Ns,ls)}}function ld(Ue,nn,Zt,un,or,$i){if(Ue.onBeforeRender(ue,nn,Zt,un,or,$i),Ue.modelViewMatrix.multiplyMatrices(Zt.matrixWorldInverse,Ue.matrixWorld),Ue.normalMatrix.getNormalMatrix(Ue.modelViewMatrix),Ue.isImmediateRenderObject){const gi=Sc(Zt,nn,or,Ue);bi.setMaterial(or),Zr.reset(),function H$(Ue,nn){Ue.render(function(Zt){ue.renderBufferImmediate(Zt,nn)})}(Ue,gi)}else ue.renderBufferDirect(Zt,nn,un,or,Ue,$i);Ue.onAfterRender(ue,nn,Zt,un,or,$i)}function Ra(Ue,nn,Zt){!0!==nn.isScene&&(nn=_i);const un=Ln.get(Ue),or=U.state.lights,gi=or.state.version,Hi=Ge.getParameters(Ue,or.state,U.state.shadowsArray,nn,Zt),Yi=Ge.getProgramCacheKey(Hi);let Ns=un.program,ls=!0;if(un.environment=Ue.isMeshStandardMaterial?nn.environment:null,un.fog=nn.fog,un.envMap=ur.get(Ue.envMap||un.environment),void 0===Ns)Ue.addEventListener("dispose",z1);else if(Ns.cacheKey!==Yi)j1(Ue);else if(un.lightsStateVersion!==gi)ls=!1;else{if(void 0!==Hi.shaderID)return;ls=!1}ls&&(Hi.uniforms=Ge.getUniforms(Ue),Ue.onBeforeCompile(Hi,ue),Ns=Ge.acquireProgram(Hi,Yi),un.program=Ns,un.uniforms=Hi.uniforms,un.outputEncoding=Hi.outputEncoding);const xi=un.uniforms;(!Ue.isShaderMaterial&&!Ue.isRawShaderMaterial||!0===Ue.clipping)&&(un.numClippingPlanes=jn.numPlanes,un.numIntersection=jn.numIntersection,xi.clippingPlanes=jn.uniform),un.needsLights=function tL(Ue){return Ue.isMeshLambertMaterial||Ue.isMeshToonMaterial||Ue.isMeshPhongMaterial||Ue.isMeshStandardMaterial||Ue.isShadowMaterial||Ue.isShaderMaterial&&!0===Ue.lights}(Ue),un.lightsStateVersion=gi,un.needsLights&&(xi.ambientLightColor.value=or.state.ambient,xi.lightProbe.value=or.state.probe,xi.directionalLights.value=or.state.directional,xi.directionalLightShadows.value=or.state.directionalShadow,xi.spotLights.value=or.state.spot,xi.spotLightShadows.value=or.state.spotShadow,xi.rectAreaLights.value=or.state.rectArea,xi.ltc_1.value=or.state.rectAreaLTC1,xi.ltc_2.value=or.state.rectAreaLTC2,xi.pointLights.value=or.state.point,xi.pointLightShadows.value=or.state.pointShadow,xi.hemisphereLights.value=or.state.hemi,xi.directionalShadowMap.value=or.state.directionalShadowMap,xi.directionalShadowMatrix.value=or.state.directionalShadowMatrix,xi.spotShadowMap.value=or.state.spotShadowMap,xi.spotShadowMatrix.value=or.state.spotShadowMatrix,xi.pointShadowMap.value=or.state.pointShadowMap,xi.pointShadowMatrix.value=or.state.pointShadowMatrix);const Xo=un.program.getUniforms(),Mc=Kd.seqWithValue(Xo.seq,xi);un.uniformsList=Mc}function Sc(Ue,nn,Zt,un){!0!==nn.isScene&&(nn=_i),Yn.resetTextureUnits();const or=nn.fog,$i=Zt.isMeshStandardMaterial?nn.environment:null,gi=null===_e?ue.outputEncoding:_e.texture.encoding,Hi=ur.get(Zt.envMap||$i),Yi=Ln.get(Zt),Ns=U.state.lights;!0!==Vr||!0!==Lr&&Ue===Re||jn.setState(Zt,Ue,Ue===Re&&Zt.id===Ee),Zt.version===Yi.__version?(Zt.fog&&Yi.fog!==or||Yi.environment!==$i||Yi.needsLights&&Yi.lightsStateVersion!==Ns.state.version||void 0!==Yi.numClippingPlanes&&(Yi.numClippingPlanes!==jn.numPlanes||Yi.numIntersection!==jn.numIntersection)||Yi.outputEncoding!==gi||Yi.envMap!==Hi)&&Ra(Zt,nn,un):(Ra(Zt,nn,un),Yi.__version=Zt.version);let ls=!1,xi=!1,Xo=!1;const Mc=Yi.program,Xn=Mc.getUniforms(),ud=Yi.uniforms;if(bi.useProgram(Mc.program)&&(ls=!0,xi=!0,Xo=!0),Zt.id!==Ee&&(Ee=Zt.id,xi=!0),ls||Re!==Ue){if(Xn.setValue(fn,"projectionMatrix",Ue.projectionMatrix),Eo.logarithmicDepthBuffer&&Xn.setValue(fn,"logDepthBufFC",2/(Math.log(Ue.far+1)/Math.LN2)),Re!==Ue&&(Re=Ue,xi=!0,Xo=!0),Zt.isShaderMaterial||Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshStandardMaterial||Zt.envMap){const _o=Xn.map.cameraPosition;void 0!==_o&&_o.setValue(fn,Mi.setFromMatrixPosition(Ue.matrixWorld))}(Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshLambertMaterial||Zt.isMeshBasicMaterial||Zt.isMeshStandardMaterial||Zt.isShaderMaterial)&&Xn.setValue(fn,"isOrthographic",!0===Ue.isOrthographicCamera),(Zt.isMeshPhongMaterial||Zt.isMeshToonMaterial||Zt.isMeshLambertMaterial||Zt.isMeshBasicMaterial||Zt.isMeshStandardMaterial||Zt.isShaderMaterial||Zt.isShadowMaterial||Zt.skinning)&&Xn.setValue(fn,"viewMatrix",Ue.matrixWorldInverse)}if(Zt.skinning){Xn.setOptional(fn,un,"bindMatrix"),Xn.setOptional(fn,un,"bindMatrixInverse");const _o=un.skeleton;if(_o){const HS=_o.bones;if(Eo.floatVertexTextures){if(null===_o.boneTexture){let Zl=Math.sqrt(4*HS.length);Zl=An.ceilPowerOfTwo(Zl),Zl=Math.max(Zl,4);const zy=new Float32Array(Zl*Zl*4);zy.set(_o.boneMatrices);const gm=new Gl(zy,Zl,Zl,Io,rl);_o.boneMatrices=zy,_o.boneTexture=gm,_o.boneTextureSize=Zl}Xn.setValue(fn,"boneTexture",_o.boneTexture,Yn),Xn.setValue(fn,"boneTextureSize",_o.boneTextureSize)}else Xn.setOptional(fn,_o,"boneMatrices")}}return(xi||Yi.receiveShadow!==un.receiveShadow)&&(Yi.receiveShadow=un.receiveShadow,Xn.setValue(fn,"receiveShadow",un.receiveShadow)),xi&&(Xn.setValue(fn,"toneMappingExposure",ue.toneMappingExposure),Yi.needsLights&&function eL(Ue,nn){Ue.ambientLightColor.needsUpdate=nn,Ue.lightProbe.needsUpdate=nn,Ue.directionalLights.needsUpdate=nn,Ue.directionalLightShadows.needsUpdate=nn,Ue.pointLights.needsUpdate=nn,Ue.pointLightShadows.needsUpdate=nn,Ue.spotLights.needsUpdate=nn,Ue.spotLightShadows.needsUpdate=nn,Ue.rectAreaLights.needsUpdate=nn,Ue.hemisphereLights.needsUpdate=nn}(ud,Xo),or&&Zt.fog&&wn.refreshFogUniforms(ud,or),wn.refreshMaterialUniforms(ud,Zt,Ft,$t),Kd.upload(fn,Yi.uniformsList,ud,Yn)),Zt.isShaderMaterial&&!0===Zt.uniformsNeedUpdate&&(Kd.upload(fn,Yi.uniformsList,ud,Yn),Zt.uniformsNeedUpdate=!1),Zt.isSpriteMaterial&&Xn.setValue(fn,"center",un.center),Xn.setValue(fn,"modelViewMatrix",un.modelViewMatrix),Xn.setValue(fn,"normalMatrix",un.normalMatrix),Xn.setValue(fn,"modelMatrix",un.matrixWorld),Mc}yu.setAnimationLoop(function ha(Ue){ni.isPresenting||wc&&wc(Ue)}),"undefined"!=typeof window&&yu.setContext(window),this.setAnimationLoop=function(Ue){wc=Ue,ni.setAnimationLoop(Ue),null===Ue?yu.stop():yu.start()},this.render=function(Ue,nn){let Zt,un;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Zt=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),un=arguments[3]),void 0!==nn&&!0!==nn.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===de)return;Zr.resetDefaultState(),Ee=-1,Re=null,!0===Ue.autoUpdate&&Ue.updateMatrixWorld(),null===nn.parent&&nn.updateMatrixWorld(),!0===ni.enabled&&!0===ni.isPresenting&&(nn=ni.getCamera(nn)),!0===Ue.isScene&&Ue.onBeforeRender(ue,Ue,nn,Zt||_e),U=Mt.get(Ue,ee.length),U.init(),ee.push(U),oo.multiplyMatrices(nn.projectionMatrix,nn.matrixWorldInverse),mr.setFromProjectionMatrix(oo),Lr=this.localClippingEnabled,Vr=jn.init(this.clippingPlanes,Lr,nn),B=On.get(Ue,G.length),B.init(),G.push(B),JP(Ue,nn,0,ue.sortObjects),B.finish(),!0===ue.sortObjects&&B.sort(xt,jt),!0===Vr&&jn.beginShadows();const or=U.state.shadowsArray;as.render(or,Ue,nn),U.setupLights(),U.setupLightsView(nn),!0===Vr&&jn.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==Zt&&this.setRenderTarget(Zt),Bn.render(B,Ue,nn,un);const $i=B.opaque,gi=B.transparent;$i.length>0&&QP($i,Ue,nn),gi.length>0&&QP(gi,Ue,nn),!0===Ue.isScene&&Ue.onAfterRender(ue,Ue,nn),null!==_e&&(Yn.updateRenderTargetMipmap(_e),Yn.updateMultisampleRenderTarget(_e)),bi.buffers.depth.setTest(!0),bi.buffers.depth.setMask(!0),bi.buffers.color.setMask(!0),bi.setPolygonOffset(!1),ee.pop(),U=ee.length>0?ee[ee.length-1]:null,G.pop(),B=G.length>0?G[G.length-1]:null},this.setFramebuffer=function(Ue){ie!==Ue&&null===_e&&fn.bindFramebuffer(36160,Ue),ie=Ue},this.getActiveCubeFace=function(){return q},this.getActiveMipmapLevel=function(){return ke},this.getRenderTarget=function(){return _e},this.setRenderTarget=function(Ue,nn=0,Zt=0){_e=Ue,q=nn,ke=Zt,Ue&&void 0===Ln.get(Ue).__webglFramebuffer&&Yn.setupRenderTarget(Ue);let un=ie,or=!1,$i=!1;if(Ue){const gi=Ue.texture;(gi.isDataTexture3D||gi.isDataTexture2DArray)&&($i=!0);const Hi=Ln.get(Ue).__webglFramebuffer;Ue.isWebGLCubeRenderTarget?(un=Hi[nn],or=!0):un=Ue.isWebGLMultisampleRenderTarget?Ln.get(Ue).__webglMultisampledFramebuffer:Hi,$e.copy(Ue.viewport),lt.copy(Ue.scissor),Dt=Ue.scissorTest}else $e.copy(tn).multiplyScalar(Ft).floor(),lt.copy(Nn).multiplyScalar(Ft).floor(),Dt=on;if(We!==un&&(fn.bindFramebuffer(36160,un),We=un),bi.viewport($e),bi.scissor(lt),bi.setScissorTest(Dt),or){const gi=Ln.get(Ue.texture);fn.framebufferTexture2D(36160,36064,34069+nn,gi.__webglTexture,Zt)}else if($i){const gi=Ln.get(Ue.texture);fn.framebufferTextureLayer(36160,36064,gi.__webglTexture,Zt||0,nn||0)}},this.readRenderTargetPixels=function(Ue,nn,Zt,un,or,$i,gi){if(!Ue||!Ue.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Hi=Ln.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&void 0!==gi&&(Hi=Hi[gi]),Hi){let Yi=!1;Hi!==We&&(fn.bindFramebuffer(36160,Hi),Yi=!0);try{const Ns=Ue.texture,ls=Ns.format,xi=Ns.type;if(ls!==Io&&si.convert(ls)!==fn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Xo=xi===zl&&(Co.has("EXT_color_buffer_half_float")||Eo.isWebGL2&&Co.has("EXT_color_buffer_float"));if(!(xi===nl||si.convert(xi)===fn.getParameter(35738)||xi===rl&&(Eo.isWebGL2||Co.has("OES_texture_float")||Co.has("WEBGL_color_buffer_float"))||Xo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===fn.checkFramebufferStatus(36160)?nn>=0&&nn<=Ue.width-un&&Zt>=0&&Zt<=Ue.height-or&&fn.readPixels(nn,Zt,un,or,si.convert(ls),si.convert(xi),$i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Yi&&fn.bindFramebuffer(36160,We)}}},this.copyFramebufferToTexture=function(Ue,nn,Zt=0){const un=Math.pow(2,-Zt),or=Math.floor(nn.image.width*un),$i=Math.floor(nn.image.height*un),gi=si.convert(nn.format);Yn.setTexture2D(nn,0),fn.copyTexImage2D(3553,Zt,gi,Ue.x,Ue.y,or,$i,0),bi.unbindTexture()},this.copyTextureToTexture=function(Ue,nn,Zt,un=0){const or=nn.image.width,$i=nn.image.height,gi=si.convert(Zt.format),Hi=si.convert(Zt.type);Yn.setTexture2D(Zt,0),fn.pixelStorei(37440,Zt.flipY),fn.pixelStorei(37441,Zt.premultiplyAlpha),fn.pixelStorei(3317,Zt.unpackAlignment),nn.isDataTexture?fn.texSubImage2D(3553,un,Ue.x,Ue.y,or,$i,gi,Hi,nn.image.data):nn.isCompressedTexture?fn.compressedTexSubImage2D(3553,un,Ue.x,Ue.y,nn.mipmaps[0].width,nn.mipmaps[0].height,gi,nn.mipmaps[0].data):fn.texSubImage2D(3553,un,Ue.x,Ue.y,gi,Hi,nn.image),0===un&&Zt.generateMipmaps&&fn.generateMipmap(3553),bi.unbindTexture()},this.copyTextureToTexture3D=function(Ue,nn,Zt,un,or=0){if(ue.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const{width:$i,height:gi,data:Hi}=Zt.image,Yi=si.convert(un.format),Ns=si.convert(un.type);let ls;if(un.isDataTexture3D)Yn.setTexture3D(un,0),ls=32879;else{if(!un.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Yn.setTexture2DArray(un,0),ls=35866}fn.pixelStorei(37440,un.flipY),fn.pixelStorei(37441,un.premultiplyAlpha),fn.pixelStorei(3317,un.unpackAlignment);const xi=fn.getParameter(3314),Xo=fn.getParameter(32878),Mc=fn.getParameter(3316),Xn=fn.getParameter(3315),ud=fn.getParameter(32877);fn.pixelStorei(3314,$i),fn.pixelStorei(32878,gi),fn.pixelStorei(3316,Ue.min.x),fn.pixelStorei(3315,Ue.min.y),fn.pixelStorei(32877,Ue.min.z),fn.texSubImage3D(ls,or,nn.x,nn.y,nn.z,Ue.max.x-Ue.min.x+1,Ue.max.y-Ue.min.y+1,Ue.max.z-Ue.min.z+1,Yi,Ns,Hi),fn.pixelStorei(3314,xi),fn.pixelStorei(32878,Xo),fn.pixelStorei(3316,Mc),fn.pixelStorei(3315,Xn),fn.pixelStorei(32877,ud),0===or&&un.generateMipmaps&&fn.generateMipmap(ls),bi.unbindTexture()},this.initTexture=function(Ue){Yn.setTexture2D(Ue,0),bi.unbindTexture()},this.resetState=function(){bi.reset(),Zr.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}qp.prototype.isGroup=!0,Object.assign(oy.prototype,{constructor:oy,getHandSpace:function(){return null===this._hand&&(this._hand=new qp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new qp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new qp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(h){return null!==this._targetRay&&this._targetRay.dispatchEvent(h),null!==this._grip&&this._grip.dispatchEvent(h),null!==this._hand&&this._hand.dispatchEvent(h),this},disconnect:function(h){return this.dispatchEvent({type:"disconnected",data:h}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(h,l,d){let m=null,y=null,_=null;const x=this._targetRay,D=this._grip,k=this._hand;if(h&&"visible-blurred"!==l.session.visibilityState)if(k&&h.hand){_=!0;for(const ee of h.hand.values()){const ue=l.getJointPose(ee,d);if(void 0===k.joints[ee.jointName]){const ie=new qp;ie.matrixAutoUpdate=!1,ie.visible=!1,k.joints[ee.jointName]=ie,k.add(ie)}const de=k.joints[ee.jointName];null!==ue&&(de.matrix.fromArray(ue.transform.matrix),de.matrix.decompose(de.position,de.rotation,de.scale),de.jointRadius=ue.radius),de.visible=null!==ue}const B=k.joints["index-finger-tip"].position.distanceTo(k.joints["thumb-tip"].position),U=.02,G=.005;k.inputState.pinching&&B>U+G?(k.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:h.handedness,target:this})):!k.inputState.pinching&&B<=U-G&&(k.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:h.handedness,target:this}))}else null!==x&&(m=l.getPose(h.targetRaySpace,d),null!==m&&(x.matrix.fromArray(m.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale))),null!==D&&h.gripSpace&&(y=l.getPose(h.gripSpace,d),null!==y&&(D.matrix.fromArray(y.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)));return null!==x&&(x.visible=null!==m),null!==D&&(D.visible=null!==y),null!==k&&(k.visible=null!==_),this}}),Object.assign(Jp.prototype,rc.prototype);class uP extends ss{}uP.prototype.isWebGL1Renderer=!0;class Qp{constructor(l,d){this.name="",this.color=new xr(l),this.density=void 0!==d?d:25e-5}clone(){return new Qp(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Qp.prototype.isFogExp2=!0;class C_{constructor(l,d,m){this.name="",this.color=new xr(l),this.near=void 0!==d?d:1,this.far=void 0!==m?m:1e3}clone(){return new C_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}C_.prototype.isFog=!0;class E_ extends $r{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(l,d){return super.copy(l,d),null!==l.background&&(this.background=l.background.clone()),null!==l.environment&&(this.environment=l.environment.clone()),null!==l.fog&&(this.fog=l.fog.clone()),null!==l.overrideMaterial&&(this.overrideMaterial=l.overrideMaterial.clone()),this.autoUpdate=l.autoUpdate,this.matrixAutoUpdate=l.matrixAutoUpdate,this}toJSON(l){const d=super.toJSON(l);return null!==this.background&&(d.object.background=this.background.toJSON(l)),null!==this.environment&&(d.object.environment=this.environment.toJSON(l)),null!==this.fog&&(d.object.fog=this.fog.toJSON()),d}}function fu(h,l){this.array=h,this.stride=l,this.count=void 0!==h?h.length/l:0,this.usage=Ef,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=An.generateUUID()}E_.prototype.isScene=!0,Object.defineProperty(fu.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(fu.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(h){return this.usage=h,this},copy:function(h){return this.array=new h.array.constructor(h.array),this.count=h.count,this.stride=h.stride,this.usage=h.usage,this},copyAt:function(h,l,d){h*=this.stride,d*=l.stride;for(let m=0,y=this.stride;m<y;m++)this.array[h+m]=l.array[d+m];return this},set:function(h,l=0){return this.array.set(h,l),this},clone:function(h){void 0===h.arrayBuffers&&(h.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=An.generateUUID()),void 0===h.arrayBuffers[this.array.buffer._uuid]&&(h.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const d=new fu(new this.array.constructor(h.arrayBuffers[this.array.buffer._uuid]),this.stride);return d.setUsage(this.usage),d},onUpload:function(h){return this.onUploadCallback=h,this},toJSON:function(h){return void 0===h.arrayBuffers&&(h.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=An.generateUUID()),void 0===h.arrayBuffers[this.array.buffer._uuid]&&(h.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const zh=new De;function em(h,l,d,m){this.name="",this.data=h,this.itemSize=l,this.offset=d,this.normalized=!0===m}Object.defineProperties(em.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(h){this.data.needsUpdate=h}}}),Object.assign(em.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(h){for(let l=0,d=this.data.count;l<d;l++)zh.x=this.getX(l),zh.y=this.getY(l),zh.z=this.getZ(l),zh.applyMatrix4(h),this.setXYZ(l,zh.x,zh.y,zh.z);return this},setX:function(h,l){return this.data.array[h*this.data.stride+this.offset]=l,this},setY:function(h,l){return this.data.array[h*this.data.stride+this.offset+1]=l,this},setZ:function(h,l){return this.data.array[h*this.data.stride+this.offset+2]=l,this},setW:function(h,l){return this.data.array[h*this.data.stride+this.offset+3]=l,this},getX:function(h){return this.data.array[h*this.data.stride+this.offset]},getY:function(h){return this.data.array[h*this.data.stride+this.offset+1]},getZ:function(h){return this.data.array[h*this.data.stride+this.offset+2]},getW:function(h){return this.data.array[h*this.data.stride+this.offset+3]},setXY:function(h,l,d){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this},setXYZ:function(h,l,d,m){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this.data.array[h+2]=m,this},setXYZW:function(h,l,d,m,y){return this.data.array[(h=h*this.data.stride+this.offset)+0]=l,this.data.array[h+1]=d,this.data.array[h+2]=m,this.data.array[h+3]=y,this},clone:function(h){if(void 0===h){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)l.push(this.data.array[m+y])}return new Kr(new this.array.constructor(l),this.itemSize,this.normalized)}return void 0===h.interleavedBuffers&&(h.interleavedBuffers={}),void 0===h.interleavedBuffers[this.data.uuid]&&(h.interleavedBuffers[this.data.uuid]=this.data.clone(h)),new em(h.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(h){if(void 0===h){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const l=[];for(let d=0;d<this.count;d++){const m=d*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)l.push(this.data.array[m+y])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:l,normalized:this.normalized}}return void 0===h.interleavedBuffers&&(h.interleavedBuffers={}),void 0===h.interleavedBuffers[this.data.uuid]&&(h.interleavedBuffers[this.data.uuid]=this.data.toJSON(h)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});class k0 extends $o{constructor(l){super(),this.type="SpriteMaterial",this.color=new xr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.rotation=l.rotation,this.sizeAttenuation=l.sizeAttenuation,this}}let gc;k0.prototype.isSpriteMaterial=!0;const T_=new De,nd=new De,mi=new De,sy=new bn,P0=new bn,ay=new Br,yc=new De,R_=new De,L0=new De,jh=new bn,HT=new bn,I0=new bn;class N0 extends $r{constructor(l){if(super(),this.type="Sprite",void 0===gc){gc=new fr;const m=new fu(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);gc.setIndex([0,1,2,0,2,3]),gc.setAttribute("position",new em(m,3,0,!1)),gc.setAttribute("uv",new em(m,2,3,!1))}this.geometry=gc,this.material=void 0!==l?l:new k0,this.center=new bn(.5,.5)}raycast(l,d){null===l.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nd.setFromMatrixScale(this.matrixWorld),ay.copy(l.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(l.camera.matrixWorldInverse,this.matrixWorld),mi.setFromMatrixPosition(this.modelViewMatrix),l.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&nd.multiplyScalar(-mi.z);const m=this.material.rotation;let y,_;0!==m&&(_=Math.cos(m),y=Math.sin(m));const x=this.center;F0(yc.set(-.5,-.5,0),mi,x,nd,y,_),F0(R_.set(.5,-.5,0),mi,x,nd,y,_),F0(L0.set(.5,.5,0),mi,x,nd,y,_),jh.set(0,0),HT.set(1,0),I0.set(1,1);let D=l.ray.intersectTriangle(yc,R_,L0,!1,T_);if(null===D&&(F0(R_.set(-.5,.5,0),mi,x,nd,y,_),HT.set(0,1),D=l.ray.intersectTriangle(yc,L0,R_,!1,T_),null===D))return;const k=l.ray.origin.distanceTo(T_);k<l.near||k>l.far||d.push({distance:k,point:T_.clone(),uv:os.getUV(T_,yc,R_,L0,jh,HT,I0,new bn),face:null,object:this})}copy(l){return super.copy(l),void 0!==l.center&&this.center.copy(l.center),this.material=l.material,this}}function F0(h,l,d,m,y,_){sy.subVectors(h,d).addScalar(.5).multiply(m),void 0!==y?(P0.x=_*sy.x-y*sy.y,P0.y=y*sy.x+_*sy.y):P0.copy(sy),h.copy(l),h.x+=P0.x,h.y+=P0.y,h.applyMatrix4(ay)}N0.prototype.isSprite=!0;const ly=new De,jB=new De;class cP extends $r{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(l){super.copy(l,!1);const d=l.levels;for(let m=0,y=d.length;m<y;m++){const _=d[m];this.addLevel(_.object.clone(),_.distance)}return this.autoUpdate=l.autoUpdate,this}addLevel(l,d=0){d=Math.abs(d);const m=this.levels;let y;for(y=0;y<m.length&&!(d<m[y].distance);y++);return m.splice(y,0,{distance:d,object:l}),this.add(l),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(l){const d=this.levels;if(d.length>0){let m,y;for(m=1,y=d.length;m<y&&!(l<d[m].distance);m++);return d[m-1].object}return null}raycast(l,d){if(this.levels.length>0){ly.setFromMatrixPosition(this.matrixWorld);const y=l.ray.origin.distanceTo(ly);this.getObjectForDistance(y).raycast(l,d)}}update(l){const d=this.levels;if(d.length>1){ly.setFromMatrixPosition(l.matrixWorld),jB.setFromMatrixPosition(this.matrixWorld);const m=ly.distanceTo(jB)/l.zoom;let y,_;for(d[0].object.visible=!0,y=1,_=d.length;y<_&&m>=d[y].distance;y++)d[y-1].object.visible=!1,d[y].object.visible=!0;for(this._currentLevel=y-1;y<_;y++)d[y].object.visible=!1}}toJSON(l){const d=super.toJSON(l);!1===this.autoUpdate&&(d.object.autoUpdate=!1),d.object.levels=[];const m=this.levels;for(let y=0,_=m.length;y<_;y++){const x=m[y];d.object.levels.push({object:x.object.uuid,distance:x.distance})}return d}}const H0=new De,UB=new Ri,WB=new Ri,S$=new De,YB=new Br;function B0(h,l){dn.call(this,h,l),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Br,this.bindMatrixInverse=new Br}function D_(){$r.call(this),this.type="Bone"}B0.prototype=Object.assign(Object.create(dn.prototype),{constructor:B0,isSkinnedMesh:!0,copy:function(h){return dn.prototype.copy.call(this,h),this.bindMode=h.bindMode,this.bindMatrix.copy(h.bindMatrix),this.bindMatrixInverse.copy(h.bindMatrixInverse),this.skeleton=h.skeleton,this},bind:function(h,l){this.skeleton=h,void 0===l&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),l=this.matrixWorld),this.bindMatrix.copy(l),this.bindMatrixInverse.copy(l).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const h=new Ri,l=this.geometry.attributes.skinWeight;for(let d=0,m=l.count;d<m;d++){h.x=l.getX(d),h.y=l.getY(d),h.z=l.getZ(d),h.w=l.getW(d);const y=1/h.manhattanLength();y!==1/0?h.multiplyScalar(y):h.set(1,0,0,0),l.setXYZW(d,h.x,h.y,h.z,h.w)}},updateMatrixWorld:function(h){dn.prototype.updateMatrixWorld.call(this,h),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(h,l){const d=this.skeleton,m=this.geometry;UB.fromBufferAttribute(m.attributes.skinIndex,h),WB.fromBufferAttribute(m.attributes.skinWeight,h),H0.fromBufferAttribute(m.attributes.position,h).applyMatrix4(this.bindMatrix),l.set(0,0,0);for(let y=0;y<4;y++){const _=WB.getComponent(y);if(0!==_){const x=UB.getComponent(y);YB.multiplyMatrices(d.bones[x].matrixWorld,d.boneInverses[x]),l.addScaledVector(S$.copy(H0).applyMatrix4(YB),_)}}return l.applyMatrix4(this.bindMatrixInverse)}}),D_.prototype=Object.assign(Object.create($r.prototype),{constructor:D_,isBone:!0});const BT=new Br,VT=new Br;class uy{constructor(l=[],d=[]){this.uuid=An.generateUUID(),this.bones=l.slice(0),this.boneInverses=d,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const l=this.bones,d=this.boneInverses;if(this.boneMatrices=new Float32Array(16*l.length),0===d.length)this.calculateInverses();else if(l.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let m=0,y=this.bones.length;m<y;m++)this.boneInverses.push(new Br)}}calculateInverses(){this.boneInverses.length=0;for(let l=0,d=this.bones.length;l<d;l++){const m=new Br;this.bones[l]&&m.copy(this.bones[l].matrixWorld).invert(),this.boneInverses.push(m)}}pose(){for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&m.matrixWorld.copy(this.boneInverses[l]).invert()}for(let l=0,d=this.bones.length;l<d;l++){const m=this.bones[l];m&&(m.parent&&m.parent.isBone?(m.matrix.copy(m.parent.matrixWorld).invert(),m.matrix.multiply(m.matrixWorld)):m.matrix.copy(m.matrixWorld),m.matrix.decompose(m.position,m.quaternion,m.scale))}}update(){const l=this.bones,d=this.boneInverses,m=this.boneMatrices,y=this.boneTexture;for(let _=0,x=l.length;_<x;_++)BT.multiplyMatrices(l[_]?l[_].matrixWorld:VT,d[_]),BT.toArray(m,16*_);null!==y&&(y.needsUpdate=!0)}clone(){return new uy(this.bones,this.boneInverses)}getBoneByName(l){for(let d=0,m=this.bones.length;d<m;d++){const y=this.bones[d];if(y.name===l)return y}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(l,d){this.uuid=l.uuid;for(let m=0,y=l.bones.length;m<y;m++){const _=l.bones[m];let x=d[_];void 0===x&&(console.warn("THREE.Skeleton: No bone found with UUID:",_),x=new D_),this.bones.push(x),this.boneInverses.push((new Br).fromArray(l.boneInverses[m]))}return this.init(),this}toJSON(){const l={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};l.uuid=this.uuid;const d=this.bones,m=this.boneInverses;for(let y=0,_=d.length;y<_;y++)l.bones.push(d[y].uuid),l.boneInverses.push(m[y].toArray());return l}}const zT=new Br,jT=new Br,cy=[],A_=new dn;function dy(h,l,d){dn.call(this,h,l),this.instanceMatrix=new Kr(new Float32Array(16*d),16),this.instanceColor=null,this.count=d,this.frustumCulled=!1}dy.prototype=Object.assign(Object.create(dn.prototype),{constructor:dy,isInstancedMesh:!0,copy:function(h){return dn.prototype.copy.call(this,h),this.instanceMatrix.copy(h.instanceMatrix),null!==h.instanceColor&&(this.instanceColor=h.instanceColor.clone()),this.count=h.count,this},getColorAt:function(h,l){l.fromArray(this.instanceColor.array,3*h)},getMatrixAt:function(h,l){l.fromArray(this.instanceMatrix.array,16*h)},raycast:function(h,l){const d=this.matrixWorld,m=this.count;if(A_.geometry=this.geometry,A_.material=this.material,void 0!==A_.material)for(let y=0;y<m;y++){this.getMatrixAt(y,zT),jT.multiplyMatrices(d,zT),A_.matrixWorld=jT,A_.raycast(h,cy);for(let _=0,x=cy.length;_<x;_++){const D=cy[_];D.instanceId=y,D.object=this,l.push(D)}cy.length=0}},setColorAt:function(h,l){null===this.instanceColor&&(this.instanceColor=new Kr(new Float32Array(3*this.count),3)),l.toArray(this.instanceColor.array,3*h)},setMatrixAt:function(h,l){l.toArray(this.instanceMatrix.array,16*h)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class gs extends $o{constructor(l){super(),this.type="LineBasicMaterial",this.color=new xr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.linewidth=l.linewidth,this.linecap=l.linecap,this.linejoin=l.linejoin,this.morphTargets=l.morphTargets,this}}gs.prototype.isLineBasicMaterial=!0;const dP=new De,fP=new De,hP=new Br,V0=new Bd,z0=new Cl;function rd(h=new fr,l=new gs){$r.call(this),this.type="Line",this.geometry=h,this.material=l,this.updateMorphTargets()}rd.prototype=Object.assign(Object.create($r.prototype),{constructor:rd,isLine:!0,copy:function(h){return $r.prototype.copy.call(this,h),this.material=h.material,this.geometry=h.geometry,this},computeLineDistances:function(){const h=this.geometry;if(h.isBufferGeometry)if(null===h.index){const l=h.attributes.position,d=[0];for(let m=1,y=l.count;m<y;m++)dP.fromBufferAttribute(l,m-1),fP.fromBufferAttribute(l,m),d[m]=d[m-1],d[m]+=dP.distanceTo(fP);h.setAttribute("lineDistance",new yn(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else h.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(h,l){const d=this.geometry,m=this.matrixWorld,y=h.params.Line.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),z0.copy(d.boundingSphere),z0.applyMatrix4(m),z0.radius+=y,!1===h.ray.intersectsSphere(z0))return;hP.copy(m).invert(),V0.copy(h.ray).applyMatrix4(hP);const _=y/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_,D=new De,k=new De,P=new De,j=new De,B=this.isLineSegments?2:1;if(d.isBufferGeometry){const U=d.index,ee=d.attributes.position;if(null!==U){const ue=U.array;for(let de=0,ie=ue.length-1;de<ie;de+=B){const ke=ue[de+1];if(D.fromBufferAttribute(ee,ue[de]),k.fromBufferAttribute(ee,ke),V0.distanceSqToSegment(D,k,j,P)>x)continue;j.applyMatrix4(this.matrixWorld);const We=h.ray.origin.distanceTo(j);We<h.near||We>h.far||l.push({distance:We,point:P.clone().applyMatrix4(this.matrixWorld),index:de,face:null,faceIndex:null,object:this})}}else for(let ue=0,de=ee.count-1;ue<de;ue+=B){if(D.fromBufferAttribute(ee,ue),k.fromBufferAttribute(ee,ue+1),V0.distanceSqToSegment(D,k,j,P)>x)continue;j.applyMatrix4(this.matrixWorld);const q=h.ray.origin.distanceTo(j);q<h.near||q>h.far||l.push({distance:q,point:P.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}else d.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,_=m.length;y<_;y++){const x=m[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=y}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const pP=new De,mP=new De;function ul(h,l){rd.call(this,h,l),this.type="LineSegments"}ul.prototype=Object.assign(Object.create(rd.prototype),{constructor:ul,isLineSegments:!0,computeLineDistances:function(){const h=this.geometry;if(h.isBufferGeometry)if(null===h.index){const l=h.attributes.position,d=[];for(let m=0,y=l.count;m<y;m+=2)pP.fromBufferAttribute(l,m),mP.fromBufferAttribute(l,m+1),d[m]=0===m?0:d[m-1],d[m+1]=d[m]+pP.distanceTo(mP);h.setAttribute("lineDistance",new yn(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else h.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});class UT extends rd{constructor(l,d){super(l,d),this.type="LineLoop"}}UT.prototype.isLineLoop=!0;class tm extends $o{constructor(l){super(),this.type="PointsMaterial",this.color=new xr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.alphaMap=l.alphaMap,this.size=l.size,this.sizeAttenuation=l.sizeAttenuation,this.morphTargets=l.morphTargets,this}}tm.prototype.isPointsMaterial=!0;const gP=new Br,j0=new Bd,U0=new Cl,W0=new De;function fa(h=new fr,l=new tm){$r.call(this),this.type="Points",this.geometry=h,this.material=l,this.updateMorphTargets()}function Y0(h,l,d,m,y,_,x){const D=j0.distanceSqToPoint(h);if(D<d){const k=new De;j0.closestPointToPoint(h,k),k.applyMatrix4(m);const P=y.ray.origin.distanceTo(k);if(P<y.near||P>y.far)return;_.push({distance:P,distanceToRay:Math.sqrt(D),point:k,index:l,face:null,object:x})}}fa.prototype=Object.assign(Object.create($r.prototype),{constructor:fa,isPoints:!0,copy:function(h){return $r.prototype.copy.call(this,h),this.material=h.material,this.geometry=h.geometry,this},raycast:function(h,l){const d=this.geometry,m=this.matrixWorld,y=h.params.Points.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),U0.copy(d.boundingSphere),U0.applyMatrix4(m),U0.radius+=y,!1===h.ray.intersectsSphere(U0))return;gP.copy(m).invert(),j0.copy(h.ray).applyMatrix4(gP);const _=y/((this.scale.x+this.scale.y+this.scale.z)/3),x=_*_;if(d.isBufferGeometry){const D=d.index,P=d.attributes.position;if(null!==D){const j=D.array;for(let B=0,U=j.length;B<U;B++){const G=j[B];W0.fromBufferAttribute(P,G),Y0(W0,G,x,m,h,l,this)}}else for(let j=0,B=P.count;j<B;j++)W0.fromBufferAttribute(P,j),Y0(W0,j,x,m,h,l,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const h=this.geometry;if(h.isBufferGeometry){const l=h.morphAttributes,d=Object.keys(l);if(d.length>0){const m=l[d[0]];if(void 0!==m){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,_=m.length;y<_;y++){const x=m[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=y}}}}else{const l=h.morphTargets;void 0!==l&&l.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});class WT extends vo{constructor(l,d,m,y,_,x,D,k,P){super(l,d,m,y,_,x,D,k,P),this.format=void 0!==D?D:Vs,this.minFilter=void 0!==x?x:Er,this.magFilter=void 0!==_?_:Er,this.generateMipmaps=!1;const j=this;"requestVideoFrameCallback"in l&&l.requestVideoFrameCallback(function B(){j.needsUpdate=!0,l.requestVideoFrameCallback(B)})}clone(){return new this.constructor(this.image).copy(this)}update(){const l=this.image;"requestVideoFrameCallback"in l==0&&l.readyState>=l.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}WT.prototype.isVideoTexture=!0;class O_ extends vo{constructor(l,d,m,y,_,x,D,k,P,j,B,U){super(null,x,D,k,P,j,y,_,B,U),this.image={width:d,height:m},this.mipmaps=l,this.flipY=!1,this.generateMipmaps=!1}}O_.prototype.isCompressedTexture=!0;class cl extends vo{constructor(l,d,m,y,_,x,D,k,P){super(l,d,m,y,_,x,D,k,P),this.needsUpdate=!0}}cl.prototype.isCanvasTexture=!0;class fy extends vo{constructor(l,d,m,y,_,x,D,k,P,j){if((j=void 0!==j?j:Bc)!==Bc&&j!==_s)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===m&&j===Bc&&(m=ao),void 0===m&&j===_s&&(m=ir),super(null,y,_,x,D,k,j,m,P),this.image={width:l,height:d},this.magFilter=void 0!==D?D:rr,this.minFilter=void 0!==k?k:rr,this.flipY=!1,this.generateMipmaps=!1}}fy.prototype.isDepthTexture=!0;class hy extends fr{constructor(l=1,d=8,m=0,y=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:l,segments:d,thetaStart:m,thetaLength:y},d=Math.max(3,d);const _=[],x=[],D=[],k=[],P=new De,j=new bn;x.push(0,0,0),D.push(0,0,1),k.push(.5,.5);for(let B=0,U=3;B<=d;B++,U+=3){const G=m+B/d*y;P.x=l*Math.cos(G),P.y=l*Math.sin(G),x.push(P.x,P.y,P.z),D.push(0,0,1),j.x=(x[U]/l+1)/2,j.y=(x[U+1]/l+1)/2,k.push(j.x,j.y)}for(let B=1;B<=d;B++)_.push(B,B+1,0);this.setIndex(_),this.setAttribute("position",new yn(x,3)),this.setAttribute("normal",new yn(D,3)),this.setAttribute("uv",new yn(k,2))}}class py extends fr{constructor(l=1,d=1,m=1,y=8,_=1,x=!1,D=0,k=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:l,radiusBottom:d,height:m,radialSegments:y,heightSegments:_,openEnded:x,thetaStart:D,thetaLength:k};const P=this;y=Math.floor(y),_=Math.floor(_);const j=[],B=[],U=[],G=[];let ee=0;const ue=[],de=m/2;let ie=0;function ke(_e){const We=ee,Ee=new bn,Re=new De;let $e=0;const lt=!0===_e?l:d,Dt=!0===_e?1:-1;for(let $t=1;$t<=y;$t++)B.push(0,de*Dt,0),U.push(0,Dt,0),G.push(.5,.5),ee++;const Ht=ee;for(let $t=0;$t<=y;$t++){const xt=$t/y*k+D,jt=Math.cos(xt),tn=Math.sin(xt);Re.x=lt*tn,Re.y=de*Dt,Re.z=lt*jt,B.push(Re.x,Re.y,Re.z),U.push(0,Dt,0),Ee.x=.5*jt+.5,Ee.y=.5*tn*Dt+.5,G.push(Ee.x,Ee.y),ee++}for(let $t=0;$t<y;$t++){const Ft=We+$t,xt=Ht+$t;!0===_e?j.push(xt,xt+1,Ft):j.push(xt+1,xt,Ft),$e+=3}P.addGroup(ie,$e,!0===_e?1:2),ie+=$e}(function q(){const _e=new De,We=new De;let Ee=0;const Re=(d-l)/m;for(let $e=0;$e<=_;$e++){const lt=[],Dt=$e/_,Ht=Dt*(d-l)+l;for(let $t=0;$t<=y;$t++){const Ft=$t/y,xt=Ft*k+D,jt=Math.sin(xt),tn=Math.cos(xt);We.x=Ht*jt,We.y=-Dt*m+de,We.z=Ht*tn,B.push(We.x,We.y,We.z),_e.set(jt,Re,tn).normalize(),U.push(_e.x,_e.y,_e.z),G.push(Ft,1-Dt),lt.push(ee++)}ue.push(lt)}for(let $e=0;$e<y;$e++)for(let lt=0;lt<_;lt++){const Ht=ue[lt+1][$e],$t=ue[lt+1][$e+1],Ft=ue[lt][$e+1];j.push(ue[lt][$e],Ht,Ft),j.push(Ht,$t,Ft),Ee+=6}P.addGroup(ie,Ee,0),ie+=Ee})(),!1===x&&(l>0&&ke(!0),d>0&&ke(!1)),this.setIndex(j),this.setAttribute("position",new yn(B,3)),this.setAttribute("normal",new yn(U,3)),this.setAttribute("uv",new yn(G,2))}}class G0 extends py{constructor(l=1,d=1,m=8,y=1,_=!1,x=0,D=2*Math.PI){super(0,l,d,m,y,_,x,D),this.type="ConeGeometry",this.parameters={radius:l,height:d,radialSegments:m,heightSegments:y,openEnded:_,thetaStart:x,thetaLength:D}}}class zf extends fr{constructor(l,d,m=1,y=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:l,indices:d,radius:m,detail:y};const _=[],x=[];function k(q,ke,_e,We){const Ee=We+1,Re=[];for(let $e=0;$e<=Ee;$e++){Re[$e]=[];const lt=q.clone().lerp(_e,$e/Ee),Dt=ke.clone().lerp(_e,$e/Ee),Ht=Ee-$e;for(let $t=0;$t<=Ht;$t++)Re[$e][$t]=0===$t&&$e===Ee?lt:lt.clone().lerp(Dt,$t/Ht)}for(let $e=0;$e<Ee;$e++)for(let lt=0;lt<2*(Ee-$e)-1;lt++){const Dt=Math.floor(lt/2);lt%2==0?(U(Re[$e][Dt+1]),U(Re[$e+1][Dt]),U(Re[$e][Dt])):(U(Re[$e][Dt+1]),U(Re[$e+1][Dt+1]),U(Re[$e+1][Dt]))}}function U(q){_.push(q.x,q.y,q.z)}function G(q,ke){const _e=3*q;ke.x=l[_e+0],ke.y=l[_e+1],ke.z=l[_e+2]}function ue(q,ke,_e,We){We<0&&1===q.x&&(x[ke]=q.x-1),0===_e.x&&0===_e.z&&(x[ke]=We/2/Math.PI+.5)}function de(q){return Math.atan2(q.z,-q.x)}function ie(q){return Math.atan2(-q.y,Math.sqrt(q.x*q.x+q.z*q.z))}(function D(q){const ke=new De,_e=new De,We=new De;for(let Ee=0;Ee<d.length;Ee+=3)G(d[Ee+0],ke),G(d[Ee+1],_e),G(d[Ee+2],We),k(ke,_e,We,q)})(y),function P(q){const ke=new De;for(let _e=0;_e<_.length;_e+=3)ke.x=_[_e+0],ke.y=_[_e+1],ke.z=_[_e+2],ke.normalize().multiplyScalar(q),_[_e+0]=ke.x,_[_e+1]=ke.y,_[_e+2]=ke.z}(m),function j(){const q=new De;for(let ke=0;ke<_.length;ke+=3){q.x=_[ke+0],q.y=_[ke+1],q.z=_[ke+2];const _e=de(q)/2/Math.PI+.5,We=ie(q)/Math.PI+.5;x.push(_e,1-We)}(function ee(){const q=new De,ke=new De,_e=new De,We=new De,Ee=new bn,Re=new bn,$e=new bn;for(let lt=0,Dt=0;lt<_.length;lt+=9,Dt+=6){q.set(_[lt+0],_[lt+1],_[lt+2]),ke.set(_[lt+3],_[lt+4],_[lt+5]),_e.set(_[lt+6],_[lt+7],_[lt+8]),Ee.set(x[Dt+0],x[Dt+1]),Re.set(x[Dt+2],x[Dt+3]),$e.set(x[Dt+4],x[Dt+5]),We.copy(q).add(ke).add(_e).divideScalar(3);const Ht=de(We);ue(Ee,Dt+0,q,Ht),ue(Re,Dt+2,ke,Ht),ue($e,Dt+4,_e,Ht)}})(),function B(){for(let q=0;q<x.length;q+=6){const ke=x[q+0],_e=x[q+2],We=x[q+4],Ee=Math.max(ke,_e,We),Re=Math.min(ke,_e,We);Ee>.9&&Re<.1&&(ke<.2&&(x[q+0]+=1),_e<.2&&(x[q+2]+=1),We<.2&&(x[q+4]+=1))}}()}(),this.setAttribute("position",new yn(_,3)),this.setAttribute("normal",new yn(_.slice(),3)),this.setAttribute("uv",new yn(x,2)),0===y?this.computeVertexNormals():this.normalizeNormals()}}class $0 extends zf{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2,y=1/m;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-y,-m,0,-y,m,0,y,-m,0,y,m,-y,-m,0,-y,m,0,y,-m,0,y,m,0,-m,0,-y,m,0,-y,-m,0,y,m,0,y],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],l,d),this.type="DodecahedronGeometry",this.parameters={radius:l,detail:d}}}const k_=new De,K0=new De,X0=new De,Z0=new os;class YT extends fr{constructor(l,d){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:d},d=void 0!==d?d:1,!0===l.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const y=Math.pow(10,4),_=Math.cos(An.DEG2RAD*d),x=l.getIndex(),D=l.getAttribute("position"),k=x?x.count:D.count,P=[0,0,0],j=["a","b","c"],B=new Array(3),U={},G=[];for(let ee=0;ee<k;ee+=3){x?(P[0]=x.getX(ee),P[1]=x.getX(ee+1),P[2]=x.getX(ee+2)):(P[0]=ee,P[1]=ee+1,P[2]=ee+2);const{a:ue,b:de,c:ie}=Z0;if(ue.fromBufferAttribute(D,P[0]),de.fromBufferAttribute(D,P[1]),ie.fromBufferAttribute(D,P[2]),Z0.getNormal(X0),B[0]=`${Math.round(ue.x*y)},${Math.round(ue.y*y)},${Math.round(ue.z*y)}`,B[1]=`${Math.round(de.x*y)},${Math.round(de.y*y)},${Math.round(de.z*y)}`,B[2]=`${Math.round(ie.x*y)},${Math.round(ie.y*y)},${Math.round(ie.z*y)}`,B[0]!==B[1]&&B[1]!==B[2]&&B[2]!==B[0])for(let q=0;q<3;q++){const ke=(q+1)%3,_e=B[q],We=B[ke],Ee=Z0[j[q]],Re=Z0[j[ke]],$e=`${_e}_${We}`,lt=`${We}_${_e}`;lt in U&&U[lt]?(X0.dot(U[lt].normal)<=_&&(G.push(Ee.x,Ee.y,Ee.z),G.push(Re.x,Re.y,Re.z)),U[lt]=null):$e in U||(U[$e]={index0:P[q],index1:P[ke],normal:X0.clone()})}}for(const ee in U)if(U[ee]){const{index0:ue,index1:de}=U[ee];k_.fromBufferAttribute(D,ue),K0.fromBufferAttribute(D,de),G.push(k_.x,k_.y,k_.z),G.push(K0.x,K0.y,K0.z)}this.setAttribute("position",new yn(G,3))}}function GT(h,l,d,m,y){let _,x;if(y===function XB(h,l,d,m){let y=0;for(let _=l,x=d-m;_<d;_+=m)y+=(h[x]-h[_])*(h[_+1]+h[x+1]),x=_;return y}(h,l,d,m)>0)for(_=l;_<d;_+=m)x=_P(_,h[_],h[_+1],x);else for(_=d-m;_>=l;_-=m)x=_P(_,h[_],h[_+1],x);return x&&I_(x,x.next)&&(nm(x),x=x.next),x}function Uh(h,l){if(!h)return h;l||(l=h);let m,d=h;do{if(m=!1,d.steiner||!I_(d,d.next)&&0!==Ps(d.prev,d,d.next))d=d.next;else{if(nm(d),d=l=d.prev,d===d.next)break;m=!0}}while(m||d!==l);return l}function P_(h,l,d,m,y,_,x){if(!h)return;!x&&_&&function $T(h,l,d,m){let y=h;do{null===y.z&&(y.z=XT(y.x,y.y,l,d,m)),y.prevZ=y.prev,y.nextZ=y.next,y=y.next}while(y!==h);y.prevZ.nextZ=null,y.prevZ=null,function KT(h){let l,d,m,y,_,x,D,k,P=1;do{for(d=h,h=null,_=null,x=0;d;){for(x++,m=d,D=0,l=0;l<P&&(D++,m=m.nextZ,m);l++);for(k=P;D>0||k>0&&m;)0!==D&&(0===k||!m||d.z<=m.z)?(y=d,d=d.nextZ,D--):(y=m,m=m.nextZ,k--),_?_.nextZ=y:h=y,y.prevZ=_,_=y;d=m}_.nextZ=null,P*=2}while(x>1)}(y)}(h,m,y,_);let k,P,D=h;for(;h.prev!==h.next;)if(k=h.prev,P=h.next,_?jf(h,m,y,_):my(h))l.push(k.i/d),l.push(h.i/d),l.push(P.i/d),nm(h),h=P.next,D=P.next;else if((h=P)===D){x?1===x?P_(h=$B(Uh(h),l,d),l,d,m,y,_,2):2===x&&KB(h,l,d,m,y,_):P_(Uh(h),l,d,m,y,_,1);break}}function my(h){const l=h.prev,d=h,m=h.next;if(Ps(l,d,m)>=0)return!1;let y=h.next.next;for(;y!==h.prev;){if(gy(l.x,l.y,d.x,d.y,m.x,m.y,y.x,y.y)&&Ps(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function jf(h,l,d,m){const y=h.prev,_=h,x=h.next;if(Ps(y,_,x)>=0)return!1;const P=y.x>_.x?y.x>x.x?y.x:x.x:_.x>x.x?_.x:x.x,j=y.y>_.y?y.y>x.y?y.y:x.y:_.y>x.y?_.y:x.y,B=XT(y.x<_.x?y.x<x.x?y.x:x.x:_.x<x.x?_.x:x.x,y.y<_.y?y.y<x.y?y.y:x.y:_.y<x.y?_.y:x.y,l,d,m),U=XT(P,j,l,d,m);let G=h.prevZ,ee=h.nextZ;for(;G&&G.z>=B&&ee&&ee.z<=U;){if(G!==h.prev&&G!==h.next&&gy(y.x,y.y,_.x,_.y,x.x,x.y,G.x,G.y)&&Ps(G.prev,G,G.next)>=0||(G=G.prevZ,ee!==h.prev&&ee!==h.next&&gy(y.x,y.y,_.x,_.y,x.x,x.y,ee.x,ee.y)&&Ps(ee.prev,ee,ee.next)>=0))return!1;ee=ee.nextZ}for(;G&&G.z>=B;){if(G!==h.prev&&G!==h.next&&gy(y.x,y.y,_.x,_.y,x.x,x.y,G.x,G.y)&&Ps(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;ee&&ee.z<=U;){if(ee!==h.prev&&ee!==h.next&&gy(y.x,y.y,_.x,_.y,x.x,x.y,ee.x,ee.y)&&Ps(ee.prev,ee,ee.next)>=0)return!1;ee=ee.nextZ}return!0}function $B(h,l,d){let m=h;do{const y=m.prev,_=m.next.next;!I_(y,_)&&q0(y,m,m.next,_)&&Xd(y,_)&&Xd(_,y)&&(l.push(y.i/d),l.push(m.i/d),l.push(_.i/d),nm(m),nm(m.next),m=h=_),m=m.next}while(m!==h);return Uh(m)}function KB(h,l,d,m,y,_){let x=h;do{let D=x.next.next;for(;D!==x.prev;){if(x.i!==D.i&&L_(x,D)){let k=qT(x,D);return x=Uh(x,x.next),k=Uh(k,k.next),P_(x,l,d,m,y,_),void P_(k,l,d,m,y,_)}D=D.next}x=x.next}while(x!==h)}function x$(h,l){return h.x-l.x}function yP(h,l){if(l=function C$(h,l){let d=l;const m=h.x,y=h.y;let x,_=-1/0;do{if(y<=d.y&&y>=d.next.y&&d.next.y!==d.y){const U=d.x+(y-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(U<=m&&U>_){if(_=U,U===m){if(y===d.y)return d;if(y===d.next.y)return d.next}x=d.x<d.next.x?d:d.next}}d=d.next}while(d!==l);if(!x)return null;if(m===_)return x;const D=x,k=x.x,P=x.y;let B,j=1/0;d=x;do{m>=d.x&&d.x>=k&&m!==d.x&&gy(y<P?m:_,y,k,P,y<P?_:m,y,d.x,d.y)&&(B=Math.abs(y-d.y)/(m-d.x),Xd(d,h)&&(B<j||B===j&&(d.x>x.x||d.x===x.x&&hu(x,d)))&&(x=d,j=B)),d=d.next}while(d!==D);return x}(h,l),l){const d=qT(l,h);Uh(l,l.next),Uh(d,d.next)}}function hu(h,l){return Ps(h.prev,h,l.prev)<0&&Ps(l.next,h,h.next)<0}function XT(h,l,d,m,y){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=32767*(h-d)*y)|h<<8))|h<<4))|h<<2))|h<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-m)*y)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function vP(h){let l=h,d=h;do{(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next}while(l!==h);return d}function gy(h,l,d,m,y,_,x,D){return(y-x)*(l-D)-(h-x)*(_-D)>=0&&(h-x)*(m-D)-(d-x)*(l-D)>=0&&(d-x)*(_-D)-(y-x)*(m-D)>=0}function L_(h,l){return h.next.i!==l.i&&h.prev.i!==l.i&&!function E$(h,l){let d=h;do{if(d.i!==h.i&&d.next.i!==h.i&&d.i!==l.i&&d.next.i!==l.i&&q0(d,d.next,h,l))return!0;d=d.next}while(d!==h);return!1}(h,l)&&(Xd(h,l)&&Xd(l,h)&&function ZT(h,l){let d=h,m=!1;const y=(h.x+l.x)/2,_=(h.y+l.y)/2;do{d.y>_!=d.next.y>_&&d.next.y!==d.y&&y<(d.next.x-d.x)*(_-d.y)/(d.next.y-d.y)+d.x&&(m=!m),d=d.next}while(d!==h);return m}(h,l)&&(Ps(h.prev,h,l.prev)||Ps(h,l.prev,l))||I_(h,l)&&Ps(h.prev,h,h.next)>0&&Ps(l.prev,l,l.next)>0)}function Ps(h,l,d){return(l.y-h.y)*(d.x-l.x)-(l.x-h.x)*(d.y-l.y)}function I_(h,l){return h.x===l.x&&h.y===l.y}function q0(h,l,d,m){const y=N_(Ps(h,l,d)),_=N_(Ps(h,l,m)),x=N_(Ps(d,m,h)),D=N_(Ps(d,m,l));return!!(y!==_&&x!==D||0===y&&yy(h,d,l)||0===_&&yy(h,m,l)||0===x&&yy(d,h,m)||0===D&&yy(d,l,m))}function yy(h,l,d){return l.x<=Math.max(h.x,d.x)&&l.x>=Math.min(h.x,d.x)&&l.y<=Math.max(h.y,d.y)&&l.y>=Math.min(h.y,d.y)}function N_(h){return h>0?1:h<0?-1:0}function Xd(h,l){return Ps(h.prev,h,h.next)<0?Ps(h,l,h.next)>=0&&Ps(h,h.prev,l)>=0:Ps(h,l,h.prev)<0||Ps(h,h.next,l)<0}function qT(h,l){const d=new JT(h.i,h.x,h.y),m=new JT(l.i,l.x,l.y),y=h.next,_=l.prev;return h.next=l,l.prev=h,d.next=y,y.prev=d,m.next=d,d.prev=m,_.next=m,m.prev=_,m}function _P(h,l,d,m){const y=new JT(h,l,d);return m?(y.next=m.next,y.prev=m,m.next.prev=y,m.next=y):(y.prev=y,y.next=y),y}function nm(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function JT(h,l,d){this.i=h,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Uf={area:function(h){const l=h.length;let d=0;for(let m=l-1,y=0;y<l;m=y++)d+=h[m].x*h[y].y-h[y].x*h[m].y;return.5*d},isClockWise:function(h){return Uf.area(h)<0},triangulateShape:function(h,l){const d=[],m=[],y=[];bP(h),wP(d,h);let _=h.length;l.forEach(bP);for(let D=0;D<l.length;D++)m.push(_),_+=l[D].length,wP(d,l[D]);const x=function(h,l,d){d=d||2;const m=l&&l.length,y=m?l[0]*d:h.length;let _=GT(h,0,y,d,!0);const x=[];if(!_||_.next===_.prev)return x;let D,k,P,j,B,U,G;if(m&&(_=function M$(h,l,d,m){const y=[];let _,x,D,k,P;for(_=0,x=l.length;_<x;_++)D=l[_]*m,k=_<x-1?l[_+1]*m:h.length,P=GT(h,D,k,m,!1),P===P.next&&(P.steiner=!0),y.push(vP(P));for(y.sort(x$),_=0;_<y.length;_++)yP(y[_],d),d=Uh(d,d.next);return d}(h,l,_,d)),h.length>80*d){D=P=h[0],k=j=h[1];for(let ee=d;ee<y;ee+=d)B=h[ee],U=h[ee+1],B<D&&(D=B),U<k&&(k=U),B>P&&(P=B),U>j&&(j=U);G=Math.max(P-D,j-k),G=0!==G?1/G:0}return P_(_,x,d,D,k,G),x}(d,m);for(let D=0;D<x.length;D+=3)y.push(x.slice(D,D+3));return y}};function bP(h){const l=h.length;l>2&&h[l-1].equals(h[0])&&h.pop()}function wP(h,l){for(let d=0;d<l.length;d++)h.push(l[d].x),h.push(l[d].y)}class Wf extends fr{constructor(l,d){super(),this.type="ExtrudeGeometry",this.parameters={shapes:l,options:d},l=Array.isArray(l)?l:[l];const m=this,y=[],_=[];for(let D=0,k=l.length;D<k;D++)x(l[D]);function x(D){const k=[],P=void 0!==d.curveSegments?d.curveSegments:12,j=void 0!==d.steps?d.steps:1;let B=void 0!==d.depth?d.depth:100,U=void 0===d.bevelEnabled||d.bevelEnabled,G=void 0!==d.bevelThickness?d.bevelThickness:6,ee=void 0!==d.bevelSize?d.bevelSize:G-2,ue=void 0!==d.bevelOffset?d.bevelOffset:0,de=void 0!==d.bevelSegments?d.bevelSegments:3;const ie=d.extrudePath,q=void 0!==d.UVGenerator?d.UVGenerator:SP;void 0!==d.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),B=d.amount);let ke,We,Ee,Re,$e,_e=!1;ie&&(ke=ie.getSpacedPoints(j),_e=!0,U=!1,We=ie.computeFrenetFrames(j,!1),Ee=new De,Re=new De,$e=new De),U||(de=0,G=0,ee=0,ue=0);const lt=D.extractPoints(P);let Dt=lt.shape;const Ht=lt.holes;if(!Uf.isClockWise(Dt)){Dt=Dt.reverse();for(let Ln=0,Yn=Ht.length;Ln<Yn;Ln++){const ur=Ht[Ln];Uf.isClockWise(ur)&&(Ht[Ln]=ur.reverse())}}const Ft=Uf.triangulateShape(Dt,Ht),xt=Dt;for(let Ln=0,Yn=Ht.length;Ln<Yn;Ln++)Dt=Dt.concat(Ht[Ln]);function jt(Ln,Yn,ur){return Yn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Yn.clone().multiplyScalar(ur).add(Ln)}const tn=Dt.length,Nn=Ft.length;function on(Ln,Yn,ur){let Xr,Rr,rt;const Ge=Ln.x-Yn.x,wn=Ln.y-Yn.y,On=ur.x-Ln.x,Mt=ur.y-Ln.y,jn=Ge*Ge+wn*wn;if(Math.abs(Ge*Mt-wn*On)>Number.EPSILON){const Dr=Math.sqrt(jn),Vn=Math.sqrt(On*On+Mt*Mt),oi=Yn.x-wn/Dr,si=Yn.y+Ge/Dr,ni=((ur.x-Mt/Vn-oi)*Mt-(ur.y+On/Vn-si)*On)/(Ge*Mt-wn*On);Xr=oi+Ge*ni-Ln.x,Rr=si+wn*ni-Ln.y;const as=Xr*Xr+Rr*Rr;if(as<=2)return new bn(Xr,Rr);rt=Math.sqrt(as/2)}else{let Dr=!1;Ge>Number.EPSILON?On>Number.EPSILON&&(Dr=!0):Ge<-Number.EPSILON?On<-Number.EPSILON&&(Dr=!0):Math.sign(wn)===Math.sign(Mt)&&(Dr=!0),Dr?(Xr=-wn,Rr=Ge,rt=Math.sqrt(jn)):(Xr=Ge,Rr=wn,rt=Math.sqrt(jn/2))}return new bn(Xr/rt,Rr/rt)}const mr=[];for(let Ln=0,Yn=xt.length,ur=Yn-1,Xr=Ln+1;Ln<Yn;Ln++,ur++,Xr++)ur===Yn&&(ur=0),Xr===Yn&&(Xr=0),mr[Ln]=on(xt[Ln],xt[ur],xt[Xr]);const Vr=[];let Lr,oo=mr.concat();for(let Ln=0,Yn=Ht.length;Ln<Yn;Ln++){const ur=Ht[Ln];Lr=[];for(let Xr=0,Rr=ur.length,rt=Rr-1,Ge=Xr+1;Xr<Rr;Xr++,rt++,Ge++)rt===Rr&&(rt=0),Ge===Rr&&(Ge=0),Lr[Xr]=on(ur[Xr],ur[rt],ur[Ge]);Vr.push(Lr),oo=oo.concat(Lr)}for(let Ln=0;Ln<de;Ln++){const Yn=Ln/de,ur=G*Math.cos(Yn*Math.PI/2),Xr=ee*Math.sin(Yn*Math.PI/2)+ue;for(let Rr=0,rt=xt.length;Rr<rt;Rr++){const Ge=jt(xt[Rr],mr[Rr],Xr);Ji(Ge.x,Ge.y,-ur)}for(let Rr=0,rt=Ht.length;Rr<rt;Rr++){const Ge=Ht[Rr];Lr=Vr[Rr];for(let wn=0,On=Ge.length;wn<On;wn++){const Mt=jt(Ge[wn],Lr[wn],Xr);Ji(Mt.x,Mt.y,-ur)}}}const Mi=ee+ue;for(let Ln=0;Ln<tn;Ln++){const Yn=U?jt(Dt[Ln],oo[Ln],Mi):Dt[Ln];_e?(Re.copy(We.normals[0]).multiplyScalar(Yn.x),Ee.copy(We.binormals[0]).multiplyScalar(Yn.y),$e.copy(ke[0]).add(Re).add(Ee),Ji($e.x,$e.y,$e.z)):Ji(Yn.x,Yn.y,0)}for(let Ln=1;Ln<=j;Ln++)for(let Yn=0;Yn<tn;Yn++){const ur=U?jt(Dt[Yn],oo[Yn],Mi):Dt[Yn];_e?(Re.copy(We.normals[Ln]).multiplyScalar(ur.x),Ee.copy(We.binormals[Ln]).multiplyScalar(ur.y),$e.copy(ke[Ln]).add(Re).add(Ee),Ji($e.x,$e.y,$e.z)):Ji(ur.x,ur.y,B/j*Ln)}for(let Ln=de-1;Ln>=0;Ln--){const Yn=Ln/de,ur=G*Math.cos(Yn*Math.PI/2),Xr=ee*Math.sin(Yn*Math.PI/2)+ue;for(let Rr=0,rt=xt.length;Rr<rt;Rr++){const Ge=jt(xt[Rr],mr[Rr],Xr);Ji(Ge.x,Ge.y,B+ur)}for(let Rr=0,rt=Ht.length;Rr<rt;Rr++){const Ge=Ht[Rr];Lr=Vr[Rr];for(let wn=0,On=Ge.length;wn<On;wn++){const Mt=jt(Ge[wn],Lr[wn],Xr);_e?Ji(Mt.x,Mt.y+ke[j-1].y,ke[j-1].x+ur):Ji(Mt.x,Mt.y,B+ur)}}}function fn(Ln,Yn){let ur=Ln.length;for(;--ur>=0;){const Xr=ur;let Rr=ur-1;Rr<0&&(Rr=Ln.length-1);for(let rt=0,Ge=j+2*de;rt<Ge;rt++){const wn=tn*rt,On=tn*(rt+1);Eo(Yn+Xr+wn,Yn+Rr+wn,Yn+Rr+On,Yn+Xr+On)}}}function Ji(Ln,Yn,ur){k.push(Ln),k.push(Yn),k.push(ur)}function Co(Ln,Yn,ur){bi(Ln),bi(Yn),bi(ur);const Xr=y.length/3,Rr=q.generateTopUV(m,y,Xr-3,Xr-2,Xr-1);Bo(Rr[0]),Bo(Rr[1]),Bo(Rr[2])}function Eo(Ln,Yn,ur,Xr){bi(Ln),bi(Yn),bi(Xr),bi(Yn),bi(ur),bi(Xr);const Rr=y.length/3,rt=q.generateSideWallUV(m,y,Rr-6,Rr-3,Rr-2,Rr-1);Bo(rt[0]),Bo(rt[1]),Bo(rt[3]),Bo(rt[1]),Bo(rt[2]),Bo(rt[3])}function bi(Ln){y.push(k[3*Ln+0]),y.push(k[3*Ln+1]),y.push(k[3*Ln+2])}function Bo(Ln){_.push(Ln.x),_.push(Ln.y)}(function _i(){const Ln=y.length/3;if(U){let Yn=0,ur=tn*Yn;for(let Xr=0;Xr<Nn;Xr++){const Rr=Ft[Xr];Co(Rr[2]+ur,Rr[1]+ur,Rr[0]+ur)}Yn=j+2*de,ur=tn*Yn;for(let Xr=0;Xr<Nn;Xr++){const Rr=Ft[Xr];Co(Rr[0]+ur,Rr[1]+ur,Rr[2]+ur)}}else{for(let Yn=0;Yn<Nn;Yn++){const ur=Ft[Yn];Co(ur[2],ur[1],ur[0])}for(let Yn=0;Yn<Nn;Yn++){const ur=Ft[Yn];Co(ur[0]+tn*j,ur[1]+tn*j,ur[2]+tn*j)}}m.addGroup(Ln,y.length/3-Ln,0)})(),function Ho(){const Ln=y.length/3;let Yn=0;fn(xt,Yn),Yn+=xt.length;for(let ur=0,Xr=Ht.length;ur<Xr;ur++){const Rr=Ht[ur];fn(Rr,Yn),Yn+=Rr.length}m.addGroup(Ln,y.length/3-Ln,1)}()}this.setAttribute("position",new yn(y,3)),this.setAttribute("uv",new yn(_,2)),this.computeVertexNormals()}toJSON(){const l=fr.prototype.toJSON.call(this);return function QT(h,l,d){if(d.shapes=[],Array.isArray(h))for(let m=0,y=h.length;m<y;m++)d.shapes.push(h[m].uuid);else d.shapes.push(h.uuid);return void 0!==l.extrudePath&&(d.options.extrudePath=l.extrudePath.toJSON()),d}(this.parameters.shapes,this.parameters.options,l)}}const SP={generateTopUV:function(h,l,d,m,y){const D=l[3*m],k=l[3*m+1],P=l[3*y],j=l[3*y+1];return[new bn(l[3*d],l[3*d+1]),new bn(D,k),new bn(P,j)]},generateSideWallUV:function(h,l,d,m,y,_){const x=l[3*d],D=l[3*d+1],k=l[3*d+2],P=l[3*m],j=l[3*m+1],B=l[3*m+2],U=l[3*y],G=l[3*y+1],ee=l[3*y+2],ue=l[3*_],de=l[3*_+1],ie=l[3*_+2];return Math.abs(D-j)<.01?[new bn(x,1-k),new bn(P,1-B),new bn(U,1-ee),new bn(ue,1-ie)]:[new bn(D,1-k),new bn(j,1-B),new bn(G,1-ee),new bn(de,1-ie)]}};class F_ extends zf{constructor(l=1,d=0){const m=(1+Math.sqrt(5))/2;super([-1,m,0,1,m,0,-1,-m,0,1,-m,0,0,-1,m,0,1,m,0,-1,-m,0,1,-m,m,0,-1,m,0,1,-m,0,-1,-m,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l,d),this.type="IcosahedronGeometry",this.parameters={radius:l,detail:d}}}class vy extends fr{constructor(l,d=12,m=0,y=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:l,segments:d,phiStart:m,phiLength:y},d=Math.floor(d),y=An.clamp(y,0,2*Math.PI);const _=[],x=[],D=[],k=1/d,P=new De,j=new bn;for(let B=0;B<=d;B++){const U=m+B*k*y,G=Math.sin(U),ee=Math.cos(U);for(let ue=0;ue<=l.length-1;ue++)P.x=l[ue].x*G,P.y=l[ue].y,P.z=l[ue].x*ee,x.push(P.x,P.y,P.z),j.x=B/d,j.y=ue/(l.length-1),D.push(j.x,j.y)}for(let B=0;B<d;B++)for(let U=0;U<l.length-1;U++){const G=U+B*l.length,ue=G+l.length,de=G+l.length+1,ie=G+1;_.push(G,ue,ie),_.push(ue,de,ie)}if(this.setIndex(_),this.setAttribute("position",new yn(x,3)),this.setAttribute("uv",new yn(D,2)),this.computeVertexNormals(),y===2*Math.PI){const B=this.attributes.normal.array,U=new De,G=new De,ee=new De,ue=d*l.length*3;for(let de=0,ie=0;de<l.length;de++,ie+=3)U.x=B[ie+0],U.y=B[ie+1],U.z=B[ie+2],G.x=B[ue+ie+0],G.y=B[ue+ie+1],G.z=B[ue+ie+2],ee.addVectors(U,G).normalize(),B[ie+0]=B[ue+ie+0]=ee.x,B[ie+1]=B[ue+ie+1]=ee.y,B[ie+2]=B[ue+ie+2]=ee.z}}}class H_ extends zf{constructor(l=1,d=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],l,d),this.type="OctahedronGeometry",this.parameters={radius:l,detail:d}}}function rm(h,l,d){fr.call(this),this.type="ParametricGeometry",this.parameters={func:h,slices:l,stacks:d};const m=[],y=[],_=[],x=[],D=1e-5,k=new De,P=new De,j=new De,B=new De,U=new De;h.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const G=l+1;for(let ee=0;ee<=d;ee++){const ue=ee/d;for(let de=0;de<=l;de++){const ie=de/l;h(ie,ue,P),y.push(P.x,P.y,P.z),ie-D>=0?(h(ie-D,ue,j),B.subVectors(P,j)):(h(ie+D,ue,j),B.subVectors(j,P)),ue-D>=0?(h(ie,ue-D,j),U.subVectors(P,j)):(h(ie,ue+D,j),U.subVectors(j,P)),k.crossVectors(B,U).normalize(),_.push(k.x,k.y,k.z),x.push(ie,ue)}}for(let ee=0;ee<d;ee++)for(let ue=0;ue<l;ue++){const ie=ee*G+ue+1,q=(ee+1)*G+ue+1,ke=(ee+1)*G+ue;m.push(ee*G+ue,ie,ke),m.push(ie,q,ke)}this.setIndex(m),this.setAttribute("position",new yn(y,3)),this.setAttribute("normal",new yn(_,3)),this.setAttribute("uv",new yn(x,2))}(rm.prototype=Object.create(fr.prototype)).constructor=rm;class B_ extends fr{constructor(l=.5,d=1,m=8,y=1,_=0,x=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:l,outerRadius:d,thetaSegments:m,phiSegments:y,thetaStart:_,thetaLength:x},m=Math.max(3,m);const D=[],k=[],P=[],j=[];let B=l;const U=(d-l)/(y=Math.max(1,y)),G=new De,ee=new bn;for(let ue=0;ue<=y;ue++){for(let de=0;de<=m;de++){const ie=_+de/m*x;G.x=B*Math.cos(ie),G.y=B*Math.sin(ie),k.push(G.x,G.y,G.z),P.push(0,0,1),ee.x=(G.x/d+1)/2,ee.y=(G.y/d+1)/2,j.push(ee.x,ee.y)}B+=U}for(let ue=0;ue<y;ue++){const de=ue*(m+1);for(let ie=0;ie<m;ie++){const q=ie+de,_e=q+m+1,We=q+m+2,Ee=q+1;D.push(q,_e,Ee),D.push(_e,We,Ee)}}this.setIndex(D),this.setAttribute("position",new yn(k,3)),this.setAttribute("normal",new yn(P,3)),this.setAttribute("uv",new yn(j,2))}}class _y extends fr{constructor(l,d=12){super(),this.type="ShapeGeometry",this.parameters={shapes:l,curveSegments:d};const m=[],y=[],_=[],x=[];let D=0,k=0;if(!1===Array.isArray(l))P(l);else for(let j=0;j<l.length;j++)P(l[j]),this.addGroup(D,k,j),D+=k,k=0;function P(j){const B=y.length/3,U=j.extractPoints(d);let G=U.shape;const ee=U.holes;!1===Uf.isClockWise(G)&&(G=G.reverse());for(let de=0,ie=ee.length;de<ie;de++){const q=ee[de];!0===Uf.isClockWise(q)&&(ee[de]=q.reverse())}const ue=Uf.triangulateShape(G,ee);for(let de=0,ie=ee.length;de<ie;de++)G=G.concat(ee[de]);for(let de=0,ie=G.length;de<ie;de++){const q=G[de];y.push(q.x,q.y,0),_.push(0,0,1),x.push(q.x,q.y)}for(let de=0,ie=ue.length;de<ie;de++){const q=ue[de];m.push(q[0]+B,q[1]+B,q[2]+B),k+=3}}this.setIndex(m),this.setAttribute("position",new yn(y,3)),this.setAttribute("normal",new yn(_,3)),this.setAttribute("uv",new yn(x,2))}toJSON(){const l=fr.prototype.toJSON.call(this);return function im(h,l){if(l.shapes=[],Array.isArray(h))for(let d=0,m=h.length;d<m;d++)l.shapes.push(h[d].uuid);else l.shapes.push(h.uuid);return l}(this.parameters.shapes,l)}}class by extends fr{constructor(l=1,d=8,m=6,y=0,_=2*Math.PI,x=0,D=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:l,widthSegments:d,heightSegments:m,phiStart:y,phiLength:_,thetaStart:x,thetaLength:D},d=Math.max(3,Math.floor(d)),m=Math.max(2,Math.floor(m));const k=Math.min(x+D,Math.PI);let P=0;const j=[],B=new De,U=new De,G=[],ee=[],ue=[],de=[];for(let ie=0;ie<=m;ie++){const q=[],ke=ie/m;let _e=0;0==ie&&0==x?_e=.5/d:ie==m&&k==Math.PI&&(_e=-.5/d);for(let We=0;We<=d;We++){const Ee=We/d;B.x=-l*Math.cos(y+Ee*_)*Math.sin(x+ke*D),B.y=l*Math.cos(x+ke*D),B.z=l*Math.sin(y+Ee*_)*Math.sin(x+ke*D),ee.push(B.x,B.y,B.z),U.copy(B).normalize(),ue.push(U.x,U.y,U.z),de.push(Ee+_e,1-ke),q.push(P++)}j.push(q)}for(let ie=0;ie<m;ie++)for(let q=0;q<d;q++){const ke=j[ie][q+1],_e=j[ie][q],We=j[ie+1][q],Ee=j[ie+1][q+1];(0!==ie||x>0)&&G.push(ke,_e,Ee),(ie!==m-1||k<Math.PI)&&G.push(_e,We,Ee)}this.setIndex(G),this.setAttribute("position",new yn(ee,3)),this.setAttribute("normal",new yn(ue,3)),this.setAttribute("uv",new yn(de,2))}}class V_ extends zf{constructor(l=1,d=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],l,d),this.type="TetrahedronGeometry",this.parameters={radius:l,detail:d}}}class J0 extends Wf{constructor(l,d={}){const m=d.font;if(!m||!m.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new fr;const y=m.generateShapes(l,d.size);d.depth=void 0!==d.height?d.height:50,void 0===d.bevelThickness&&(d.bevelThickness=10),void 0===d.bevelSize&&(d.bevelSize=8),void 0===d.bevelEnabled&&(d.bevelEnabled=!1),super(y,d),this.type="TextGeometry"}}class e1 extends fr{constructor(l=1,d=.4,m=8,y=6,_=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:l,tube:d,radialSegments:m,tubularSegments:y,arc:_},m=Math.floor(m),y=Math.floor(y);const x=[],D=[],k=[],P=[],j=new De,B=new De,U=new De;for(let G=0;G<=m;G++)for(let ee=0;ee<=y;ee++){const ue=ee/y*_,de=G/m*Math.PI*2;B.x=(l+d*Math.cos(de))*Math.cos(ue),B.y=(l+d*Math.cos(de))*Math.sin(ue),B.z=d*Math.sin(de),D.push(B.x,B.y,B.z),j.x=l*Math.cos(ue),j.y=l*Math.sin(ue),U.subVectors(B,j).normalize(),k.push(U.x,U.y,U.z),P.push(ee/y),P.push(G/m)}for(let G=1;G<=m;G++)for(let ee=1;ee<=y;ee++){const de=(y+1)*(G-1)+ee-1,ie=(y+1)*(G-1)+ee,q=(y+1)*G+ee;x.push((y+1)*G+ee-1,de,q),x.push(de,ie,q)}this.setIndex(x),this.setAttribute("position",new yn(D,3)),this.setAttribute("normal",new yn(k,3)),this.setAttribute("uv",new yn(P,2))}}class om extends fr{constructor(l=1,d=.4,m=64,y=8,_=2,x=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:l,tube:d,tubularSegments:m,radialSegments:y,p:_,q:x},m=Math.floor(m),y=Math.floor(y);const D=[],k=[],P=[],j=[],B=new De,U=new De,G=new De,ee=new De,ue=new De,de=new De,ie=new De;for(let ke=0;ke<=m;++ke){const _e=ke/m*_*Math.PI*2;q(_e,_,x,l,G),q(_e+.01,_,x,l,ee),de.subVectors(ee,G),ie.addVectors(ee,G),ue.crossVectors(de,ie),ie.crossVectors(ue,de),ue.normalize(),ie.normalize();for(let We=0;We<=y;++We){const Ee=We/y*Math.PI*2,Re=-d*Math.cos(Ee),$e=d*Math.sin(Ee);B.x=G.x+(Re*ie.x+$e*ue.x),B.y=G.y+(Re*ie.y+$e*ue.y),B.z=G.z+(Re*ie.z+$e*ue.z),k.push(B.x,B.y,B.z),U.subVectors(B,G).normalize(),P.push(U.x,U.y,U.z),j.push(ke/m),j.push(We/y)}}for(let ke=1;ke<=m;ke++)for(let _e=1;_e<=y;_e++){const Ee=(y+1)*ke+(_e-1),Re=(y+1)*ke+_e,$e=(y+1)*(ke-1)+_e;D.push((y+1)*(ke-1)+(_e-1),Ee,$e),D.push(Ee,Re,$e)}function q(ke,_e,We,Ee,Re){const $e=Math.cos(ke),lt=Math.sin(ke),Dt=We/_e*ke,Ht=Math.cos(Dt);Re.x=Ee*(2+Ht)*.5*$e,Re.y=Ee*(2+Ht)*lt*.5,Re.z=Ee*Math.sin(Dt)*.5}this.setIndex(D),this.setAttribute("position",new yn(k,3)),this.setAttribute("normal",new yn(P,3)),this.setAttribute("uv",new yn(j,2))}}class Q0 extends fr{constructor(l,d=64,m=1,y=8,_=!1){super(),this.type="TubeGeometry",this.parameters={path:l,tubularSegments:d,radius:m,radialSegments:y,closed:_};const x=l.computeFrenetFrames(d,_);this.tangents=x.tangents,this.normals=x.normals,this.binormals=x.binormals;const D=new De,k=new De,P=new bn;let j=new De;const B=[],U=[],G=[],ee=[];function de(ke){j=l.getPointAt(ke/d,j);const _e=x.normals[ke],We=x.binormals[ke];for(let Ee=0;Ee<=y;Ee++){const Re=Ee/y*Math.PI*2,$e=Math.sin(Re),lt=-Math.cos(Re);k.x=lt*_e.x+$e*We.x,k.y=lt*_e.y+$e*We.y,k.z=lt*_e.z+$e*We.z,k.normalize(),U.push(k.x,k.y,k.z),D.x=j.x+m*k.x,D.y=j.y+m*k.y,D.z=j.z+m*k.z,B.push(D.x,D.y,D.z)}}(function ue(){for(let ke=0;ke<d;ke++)de(ke);de(!1===_?d:0),function q(){for(let ke=0;ke<=d;ke++)for(let _e=0;_e<=y;_e++)P.x=ke/d,P.y=_e/y,G.push(P.x,P.y)}(),function ie(){for(let ke=1;ke<=d;ke++)for(let _e=1;_e<=y;_e++){const Ee=(y+1)*ke+(_e-1),Re=(y+1)*ke+_e,$e=(y+1)*(ke-1)+_e;ee.push((y+1)*(ke-1)+(_e-1),Ee,$e),ee.push(Ee,Re,$e)}}()})(),this.setIndex(ee),this.setAttribute("position",new yn(B,3)),this.setAttribute("normal",new yn(U,3)),this.setAttribute("uv",new yn(G,2))}toJSON(){const l=fr.prototype.toJSON.call(this);return l.path=this.parameters.path.toJSON(),l}}class eS extends fr{constructor(l){if(super(),this.type="WireframeGeometry",!0===l.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const d=[],m=[0,0],y={},_=new De;if(null!==l.index){const x=l.attributes.position,D=l.index;let k=l.groups;0===k.length&&(k=[{start:0,count:D.count,materialIndex:0}]);for(let P=0,j=k.length;P<j;++P){const B=k[P],U=B.start;for(let ee=U,ue=U+B.count;ee<ue;ee+=3)for(let de=0;de<3;de++){const ie=D.getX(ee+de),q=D.getX(ee+(de+1)%3);m[0]=Math.min(ie,q),m[1]=Math.max(ie,q);const ke=m[0]+","+m[1];void 0===y[ke]&&(y[ke]={index1:m[0],index2:m[1]})}}for(const P in y){const j=y[P];_.fromBufferAttribute(x,j.index1),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,j.index2),d.push(_.x,_.y,_.z)}}else{const x=l.attributes.position;for(let D=0,k=x.count/3;D<k;D++)for(let P=0;P<3;P++)_.fromBufferAttribute(x,3*D+P),d.push(_.x,_.y,_.z),_.fromBufferAttribute(x,3*D+(P+1)%3),d.push(_.x,_.y,_.z)}this.setAttribute("position",new yn(d,3))}}var Rl=Object.freeze({__proto__:null,BoxGeometry:fc,BoxBufferGeometry:fc,CircleGeometry:hy,CircleBufferGeometry:hy,ConeGeometry:G0,ConeBufferGeometry:G0,CylinderGeometry:py,CylinderBufferGeometry:py,DodecahedronGeometry:$0,DodecahedronBufferGeometry:$0,EdgesGeometry:YT,ExtrudeGeometry:Wf,ExtrudeBufferGeometry:Wf,IcosahedronGeometry:F_,IcosahedronBufferGeometry:F_,LatheGeometry:vy,LatheBufferGeometry:vy,OctahedronGeometry:H_,OctahedronBufferGeometry:H_,ParametricGeometry:rm,ParametricBufferGeometry:rm,PlaneGeometry:Wp,PlaneBufferGeometry:Wp,PolyhedronGeometry:zf,PolyhedronBufferGeometry:zf,RingGeometry:B_,RingBufferGeometry:B_,ShapeGeometry:_y,ShapeBufferGeometry:_y,SphereGeometry:by,SphereBufferGeometry:by,TetrahedronGeometry:V_,TetrahedronBufferGeometry:V_,TextGeometry:J0,TextBufferGeometry:J0,TorusGeometry:e1,TorusBufferGeometry:e1,TorusKnotGeometry:om,TorusKnotBufferGeometry:om,TubeGeometry:Q0,TubeBufferGeometry:Q0,WireframeGeometry:eS});class tS extends $o{constructor(l){super(),this.type="ShadowMaterial",this.color=new xr(0),this.transparent=!0,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this}}tS.prototype.isShadowMaterial=!0;class Wh extends ll{constructor(l){super(l),this.type="RawShaderMaterial"}}function id(h){$o.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ni,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(h)}function od(h){id.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new bn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(l){this.reflectivity=An.clamp(2.5*(l-1)/(l+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(h)}Wh.prototype.isRawShaderMaterial=!0,(id.prototype=Object.create($o.prototype)).constructor=id,id.prototype.isMeshStandardMaterial=!0,id.prototype.copy=function(h){return $o.prototype.copy.call(this,h),this.defines={STANDARD:""},this.color.copy(h.color),this.roughness=h.roughness,this.metalness=h.metalness,this.map=h.map,this.lightMap=h.lightMap,this.lightMapIntensity=h.lightMapIntensity,this.aoMap=h.aoMap,this.aoMapIntensity=h.aoMapIntensity,this.emissive.copy(h.emissive),this.emissiveMap=h.emissiveMap,this.emissiveIntensity=h.emissiveIntensity,this.bumpMap=h.bumpMap,this.bumpScale=h.bumpScale,this.normalMap=h.normalMap,this.normalMapType=h.normalMapType,this.normalScale.copy(h.normalScale),this.displacementMap=h.displacementMap,this.displacementScale=h.displacementScale,this.displacementBias=h.displacementBias,this.roughnessMap=h.roughnessMap,this.metalnessMap=h.metalnessMap,this.alphaMap=h.alphaMap,this.envMap=h.envMap,this.envMapIntensity=h.envMapIntensity,this.refractionRatio=h.refractionRatio,this.wireframe=h.wireframe,this.wireframeLinewidth=h.wireframeLinewidth,this.wireframeLinecap=h.wireframeLinecap,this.wireframeLinejoin=h.wireframeLinejoin,this.skinning=h.skinning,this.morphTargets=h.morphTargets,this.morphNormals=h.morphNormals,this.flatShading=h.flatShading,this.vertexTangents=h.vertexTangents,this},(od.prototype=Object.create(id.prototype)).constructor=od,od.prototype.isMeshPhysicalMaterial=!0,od.prototype.copy=function(h){return id.prototype.copy.call(this,h),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=h.clearcoat,this.clearcoatMap=h.clearcoatMap,this.clearcoatRoughness=h.clearcoatRoughness,this.clearcoatRoughnessMap=h.clearcoatRoughnessMap,this.clearcoatNormalMap=h.clearcoatNormalMap,this.clearcoatNormalScale.copy(h.clearcoatNormalScale),this.reflectivity=h.reflectivity,this.sheen=h.sheen?(this.sheen||new xr).copy(h.sheen):null,this.transmission=h.transmission,this.transmissionMap=h.transmissionMap,this};class sm extends $o{constructor(l){super(),this.type="MeshPhongMaterial",this.color=new xr(16777215),this.specular=new xr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ni,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ci,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.specular.copy(l.specular),this.shininess=l.shininess,this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}sm.prototype.isMeshPhongMaterial=!0;class nS extends $o{constructor(l){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ni,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.gradientMap=l.gradientMap,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}nS.prototype.isMeshToonMaterial=!0;class z_ extends $o{constructor(l){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ni,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}z_.prototype.isMeshNormalMaterial=!0;class rS extends $o{constructor(l){super(),this.type="MeshLambertMaterial",this.color=new xr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ci,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(l)}copy(l){return super.copy(l),this.color.copy(l.color),this.map=l.map,this.lightMap=l.lightMap,this.lightMapIntensity=l.lightMapIntensity,this.aoMap=l.aoMap,this.aoMapIntensity=l.aoMapIntensity,this.emissive.copy(l.emissive),this.emissiveMap=l.emissiveMap,this.emissiveIntensity=l.emissiveIntensity,this.specularMap=l.specularMap,this.alphaMap=l.alphaMap,this.envMap=l.envMap,this.combine=l.combine,this.reflectivity=l.reflectivity,this.refractionRatio=l.refractionRatio,this.wireframe=l.wireframe,this.wireframeLinewidth=l.wireframeLinewidth,this.wireframeLinecap=l.wireframeLinecap,this.wireframeLinejoin=l.wireframeLinejoin,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this}}rS.prototype.isMeshLambertMaterial=!0;class j_ extends $o{constructor(l){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ni,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(l)}copy(l){return super.copy(l),this.defines={MATCAP:""},this.color.copy(l.color),this.matcap=l.matcap,this.map=l.map,this.bumpMap=l.bumpMap,this.bumpScale=l.bumpScale,this.normalMap=l.normalMap,this.normalMapType=l.normalMapType,this.normalScale.copy(l.normalScale),this.displacementMap=l.displacementMap,this.displacementScale=l.displacementScale,this.displacementBias=l.displacementBias,this.alphaMap=l.alphaMap,this.skinning=l.skinning,this.morphTargets=l.morphTargets,this.morphNormals=l.morphNormals,this.flatShading=l.flatShading,this}}j_.prototype.isMeshMatcapMaterial=!0;class am extends gs{constructor(l){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(l)}copy(l){return super.copy(l),this.scale=l.scale,this.dashSize=l.dashSize,this.gapSize=l.gapSize,this}}am.prototype.isLineDashedMaterial=!0;var ZB=Object.freeze({__proto__:null,ShadowMaterial:tS,SpriteMaterial:k0,RawShaderMaterial:Wh,ShaderMaterial:ll,PointsMaterial:tm,MeshPhysicalMaterial:od,MeshStandardMaterial:id,MeshPhongMaterial:sm,MeshToonMaterial:nS,MeshNormalMaterial:z_,MeshLambertMaterial:rS,MeshDepthMaterial:iy,MeshDistanceMaterial:Zp,MeshBasicMaterial:su,MeshMatcapMaterial:j_,LineDashedMaterial:am,LineBasicMaterial:gs,Material:$o});const ys={arraySlice:function(h,l,d){return ys.isTypedArray(h)?new h.constructor(h.subarray(l,void 0!==d?d:h.length)):h.slice(l,d)},convertArray:function(h,l,d){return!h||!d&&h.constructor===l?h:"number"==typeof l.BYTES_PER_ELEMENT?new l(h):Array.prototype.slice.call(h)},isTypedArray:function(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)},getKeyframeOrder:function(h){const d=h.length,m=new Array(d);for(let y=0;y!==d;++y)m[y]=y;return m.sort(function l(y,_){return h[y]-h[_]}),m},sortedArray:function(h,l,d){const m=h.length,y=new h.constructor(m);for(let _=0,x=0;x!==m;++_){const D=d[_]*l;for(let k=0;k!==l;++k)y[x++]=h[D+k]}return y},flattenJSON:function(h,l,d,m){let y=1,_=h[0];for(;void 0!==_&&void 0===_[m];)_=h[y++];if(void 0===_)return;let x=_[m];if(void 0!==x)if(Array.isArray(x))do{x=_[m],void 0!==x&&(l.push(_.time),d.push.apply(d,x)),_=h[y++]}while(void 0!==_);else if(void 0!==x.toArray)do{x=_[m],void 0!==x&&(l.push(_.time),x.toArray(d,d.length)),_=h[y++]}while(void 0!==_);else do{x=_[m],void 0!==x&&(l.push(_.time),d.push(x)),_=h[y++]}while(void 0!==_)},subclip:function(h,l,d,m,y=30){const _=h.clone();_.name=l;const x=[];for(let k=0;k<_.tracks.length;++k){const P=_.tracks[k],j=P.getValueSize(),B=[],U=[];for(let G=0;G<P.times.length;++G){const ee=P.times[G]*y;if(!(ee<d||ee>=m)){B.push(P.times[G]);for(let ue=0;ue<j;++ue)U.push(P.values[G*j+ue])}}0!==B.length&&(P.times=ys.convertArray(B,P.times.constructor),P.values=ys.convertArray(U,P.values.constructor),x.push(P))}_.tracks=x;let D=1/0;for(let k=0;k<_.tracks.length;++k)D>_.tracks[k].times[0]&&(D=_.tracks[k].times[0]);for(let k=0;k<_.tracks.length;++k)_.tracks[k].shift(-1*D);return _.resetDuration(),_},makeClipAdditive:function(h,l=0,d=h,m=30){m<=0&&(m=30);const y=d.tracks.length,_=l/m;for(let x=0;x<y;++x){const D=d.tracks[x],k=D.ValueTypeName;if("bool"===k||"string"===k)continue;const P=h.tracks.find(function(ie){return ie.name===D.name&&ie.ValueTypeName===k});if(void 0===P)continue;let j=0;const B=D.getValueSize();D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(j=B/3);let U=0;const G=P.getValueSize();P.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(U=G/3);const ee=D.times.length-1;let ue;if(_<=D.times[0])ue=ys.arraySlice(D.values,j,B-j);else if(_>=D.times[ee]){const ie=ee*B+j;ue=ys.arraySlice(D.values,ie,ie+B-j)}else{const ie=D.createInterpolant(),q=j,ke=B-j;ie.evaluate(_),ue=ys.arraySlice(ie.resultBuffer,q,ke)}"quaternion"===k&&(new pi).fromArray(ue).normalize().conjugate().toArray(ue);const de=P.times.length;for(let ie=0;ie<de;++ie){const q=ie*G+U;if("quaternion"===k)pi.multiplyQuaternionsFlat(P.values,q,ue,0,P.values,q);else{const ke=G-2*U;for(let _e=0;_e<ke;++_e)P.values[q+_e]-=ue[_e]}}}return h.blendMode=Th,h}};function ku(h,l,d,m){this.parameterPositions=h,this._cachedIndex=0,this.resultBuffer=void 0!==m?m:new l.constructor(d),this.sampleValues=l,this.valueSize=d}function iS(h,l,d,m){ku.call(this,h,l,d,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function wy(h,l,d,m){ku.call(this,h,l,d,m)}function Sy(h,l,d,m){ku.call(this,h,l,d,m)}Object.assign(ku.prototype,{evaluate:function(h){const l=this.parameterPositions;let d=this._cachedIndex,m=l[d],y=l[d-1];e:{t:{let _;n:{r:if(!(h<m)){for(let x=d+2;;){if(void 0===m){if(h<y)break r;return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,h,y)}if(d===x)break;if(y=m,m=l[++d],h<m)break t}_=l.length;break n}if(h>=y)break e;{const x=l[1];h<x&&(d=2,y=x);for(let D=d-2;;){if(void 0===y)return this._cachedIndex=0,this.beforeStart_(0,h,m);if(d===D)break;if(m=y,y=l[--d-1],h>=y)break t}_=d,d=0}}for(;d<_;){const x=d+_>>>1;h<l[x]?_=x:d=x+1}if(m=l[d],y=l[d-1],void 0===y)return this._cachedIndex=0,this.beforeStart_(0,h,m);if(void 0===m)return d=l.length,this._cachedIndex=d,this.afterEnd_(d-1,y,h)}this._cachedIndex=d,this.intervalChanged_(d,y,m)}return this.interpolate_(d,y,h,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(h){const l=this.resultBuffer,d=this.sampleValues,m=this.valueSize,y=h*m;for(let _=0;_!==m;++_)l[_]=d[y+_];return l},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ku.prototype,{beforeStart_:ku.prototype.copySampleValue_,afterEnd_:ku.prototype.copySampleValue_}),iS.prototype=Object.assign(Object.create(ku.prototype),{constructor:iS,DefaultSettings_:{endingStart:nc,endingEnd:nc},intervalChanged_:function(h,l,d){const m=this.parameterPositions;let y=h-2,_=h+1,x=m[y],D=m[_];if(void 0===x)switch(this.getSettings_().endingStart){case Id:y=h,x=2*l-d;break;case il:y=m.length-2,x=l+m[y]-m[y+1];break;default:y=h,x=d}if(void 0===D)switch(this.getSettings_().endingEnd){case Id:_=h,D=2*d-l;break;case il:_=1,D=d+m[1]-m[0];break;default:_=h-1,D=l}const k=.5*(d-l),P=this.valueSize;this._weightPrev=k/(l-x),this._weightNext=k/(D-d),this._offsetPrev=y*P,this._offsetNext=_*P},interpolate_:function(h,l,d,m){const y=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=h*x,k=D-x,P=this._offsetPrev,j=this._offsetNext,B=this._weightPrev,U=this._weightNext,G=(d-l)/(m-l),ee=G*G,ue=ee*G,de=-B*ue+2*B*ee-B*G,ie=(1+B)*ue+(-1.5-2*B)*ee+(-.5+B)*G+1,q=(-1-U)*ue+(1.5+U)*ee+.5*G,ke=U*ue-U*ee;for(let _e=0;_e!==x;++_e)y[_e]=de*_[P+_e]+ie*_[k+_e]+q*_[D+_e]+ke*_[j+_e];return y}}),wy.prototype=Object.assign(Object.create(ku.prototype),{constructor:wy,interpolate_:function(h,l,d,m){const y=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=h*x,k=D-x,P=(d-l)/(m-l),j=1-P;for(let B=0;B!==x;++B)y[B]=_[k+B]*j+_[D+B]*P;return y}}),Sy.prototype=Object.assign(Object.create(ku.prototype),{constructor:Sy,interpolate_:function(h){return this.copySampleValue_(h-1)}});class vc{constructor(l,d,m,y){if(void 0===l)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===d||0===d.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+l);this.name=l,this.times=ys.convertArray(d,this.TimeBufferType),this.values=ys.convertArray(m,this.ValueBufferType),this.setInterpolation(y||this.DefaultInterpolation)}static toJSON(l){const d=l.constructor;let m;if(d.toJSON!==this.toJSON)m=d.toJSON(l);else{m={name:l.name,times:ys.convertArray(l.times,Array),values:ys.convertArray(l.values,Array)};const y=l.getInterpolation();y!==l.DefaultInterpolation&&(m.interpolation=y)}return m.type=l.ValueTypeName,m}InterpolantFactoryMethodDiscrete(l){return new Sy(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodLinear(l){return new wy(this.times,this.values,this.getValueSize(),l)}InterpolantFactoryMethodSmooth(l){return new iS(this.times,this.values,this.getValueSize(),l)}setInterpolation(l){let d;switch(l){case Fa:d=this.InterpolantFactoryMethodDiscrete;break;case Eh:d=this.InterpolantFactoryMethodLinear;break;case Ld:d=this.InterpolantFactoryMethodSmooth}if(void 0===d){const m="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(l===this.DefaultInterpolation)throw new Error(m);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",m),this}return this.createInterpolant=d,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fa;case this.InterpolantFactoryMethodLinear:return Eh;case this.InterpolantFactoryMethodSmooth:return Ld}}getValueSize(){return this.values.length/this.times.length}shift(l){if(0!==l){const d=this.times;for(let m=0,y=d.length;m!==y;++m)d[m]+=l}return this}scale(l){if(1!==l){const d=this.times;for(let m=0,y=d.length;m!==y;++m)d[m]*=l}return this}trim(l,d){const m=this.times,y=m.length;let _=0,x=y-1;for(;_!==y&&m[_]<l;)++_;for(;-1!==x&&m[x]>d;)--x;if(++x,0!==_||x!==y){_>=x&&(x=Math.max(x,1),_=x-1);const D=this.getValueSize();this.times=ys.arraySlice(m,_,x),this.values=ys.arraySlice(this.values,_*D,x*D)}return this}validate(){let l=!0;const d=this.getValueSize();d-Math.floor(d)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),l=!1);const m=this.times,y=this.values,_=m.length;0===_&&(console.error("THREE.KeyframeTrack: Track is empty.",this),l=!1);let x=null;for(let D=0;D!==_;D++){const k=m[D];if("number"==typeof k&&isNaN(k)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,D,k),l=!1;break}if(null!==x&&x>k){console.error("THREE.KeyframeTrack: Out of order keys.",this,D,k,x),l=!1;break}x=k}if(void 0!==y&&ys.isTypedArray(y))for(let D=0,k=y.length;D!==k;++D){const P=y[D];if(isNaN(P)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,D,P),l=!1;break}}return l}optimize(){const l=ys.arraySlice(this.times),d=ys.arraySlice(this.values),m=this.getValueSize(),y=this.getInterpolation()===Ld,_=l.length-1;let x=1;for(let D=1;D<_;++D){let k=!1;const P=l[D];if(P!==l[D+1]&&(1!==D||P!==l[0]))if(y)k=!0;else{const B=D*m,U=B-m,G=B+m;for(let ee=0;ee!==m;++ee){const ue=d[B+ee];if(ue!==d[U+ee]||ue!==d[G+ee]){k=!0;break}}}if(k){if(D!==x){l[x]=l[D];const B=D*m,U=x*m;for(let G=0;G!==m;++G)d[U+G]=d[B+G]}++x}}if(_>0){l[x]=l[_];for(let D=_*m,k=x*m,P=0;P!==m;++P)d[k+P]=d[D+P];++x}return x!==l.length?(this.times=ys.arraySlice(l,0,x),this.values=ys.arraySlice(d,0,x*m)):(this.times=l,this.values=d),this}clone(){const l=ys.arraySlice(this.times,0),d=ys.arraySlice(this.values,0),y=new(0,this.constructor)(this.name,l,d);return y.createInterpolant=this.createInterpolant,y}}vc.prototype.TimeBufferType=Float32Array,vc.prototype.ValueBufferType=Float32Array,vc.prototype.DefaultInterpolation=Eh;class My extends vc{}My.prototype.ValueTypeName="bool",My.prototype.ValueBufferType=Array,My.prototype.DefaultInterpolation=Fa,My.prototype.InterpolantFactoryMethodLinear=void 0,My.prototype.InterpolantFactoryMethodSmooth=void 0;class oS extends vc{}oS.prototype.ValueTypeName="color";class U_ extends vc{}function W_(h,l,d,m){ku.call(this,h,l,d,m)}U_.prototype.ValueTypeName="number",W_.prototype=Object.assign(Object.create(ku.prototype),{constructor:W_,interpolate_:function(h,l,d,m){const y=this.resultBuffer,_=this.sampleValues,x=this.valueSize,D=(d-l)/(m-l);let k=h*x;for(let P=k+x;k!==P;k+=4)pi.slerpFlat(y,0,_,k-x,_,k,D);return y}});class xy extends vc{InterpolantFactoryMethodLinear(l){return new W_(this.times,this.values,this.getValueSize(),l)}}xy.prototype.ValueTypeName="quaternion",xy.prototype.DefaultInterpolation=Eh,xy.prototype.InterpolantFactoryMethodSmooth=void 0;class lm extends vc{}lm.prototype.ValueTypeName="string",lm.prototype.ValueBufferType=Array,lm.prototype.DefaultInterpolation=Fa,lm.prototype.InterpolantFactoryMethodLinear=void 0,lm.prototype.InterpolantFactoryMethodSmooth=void 0;class $l extends vc{}$l.prototype.ValueTypeName="vector";class Y_{constructor(l,d=-1,m,y=xf){this.name=l,this.tracks=m,this.duration=d,this.blendMode=y,this.uuid=An.generateUUID(),this.duration<0&&this.resetDuration()}static parse(l){const d=[],m=l.tracks,y=1/(l.fps||1);for(let x=0,D=m.length;x!==D;++x)d.push(qB(m[x]).scale(y));const _=new this(l.name,l.duration,d,l.blendMode);return _.uuid=l.uuid,_}static toJSON(l){const d=[],m=l.tracks,y={name:l.name,duration:l.duration,tracks:d,uuid:l.uuid,blendMode:l.blendMode};for(let _=0,x=m.length;_!==x;++_)d.push(vc.toJSON(m[_]));return y}static CreateFromMorphTargetSequence(l,d,m,y){const _=d.length,x=[];for(let D=0;D<_;D++){let k=[],P=[];k.push((D+_-1)%_,D,(D+1)%_),P.push(0,1,0);const j=ys.getKeyframeOrder(k);k=ys.sortedArray(k,1,j),P=ys.sortedArray(P,1,j),!y&&0===k[0]&&(k.push(_),P.push(P[0])),x.push(new U_(".morphTargetInfluences["+d[D].name+"]",k,P).scale(1/m))}return new this(l,-1,x)}static findByName(l,d){let m=l;if(!Array.isArray(l)){const y=l;m=y.geometry&&y.geometry.animations||y.animations}for(let y=0;y<m.length;y++)if(m[y].name===d)return m[y];return null}static CreateClipsFromMorphTargetSequences(l,d,m){const y={},_=/^([\w-]*?)([\d]+)$/;for(let D=0,k=l.length;D<k;D++){const P=l[D],j=P.name.match(_);if(j&&j.length>1){const B=j[1];let U=y[B];U||(y[B]=U=[]),U.push(P)}}const x=[];for(const D in y)x.push(this.CreateFromMorphTargetSequence(D,y[D],d,m));return x}static parseAnimation(l,d){if(!l)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const m=function(B,U,G,ee,ue){if(0!==G.length){const de=[],ie=[];ys.flattenJSON(G,de,ie,ee),0!==de.length&&ue.push(new B(U,de,ie))}},y=[],_=l.name||"default",x=l.fps||30,D=l.blendMode;let k=l.length||-1;const P=l.hierarchy||[];for(let B=0;B<P.length;B++){const U=P[B].keys;if(U&&0!==U.length)if(U[0].morphTargets){const G={};let ee;for(ee=0;ee<U.length;ee++)if(U[ee].morphTargets)for(let ue=0;ue<U[ee].morphTargets.length;ue++)G[U[ee].morphTargets[ue]]=-1;for(const ue in G){const de=[],ie=[];for(let q=0;q!==U[ee].morphTargets.length;++q){const ke=U[ee];de.push(ke.time),ie.push(ke.morphTarget===ue?1:0)}y.push(new U_(".morphTargetInfluence["+ue+"]",de,ie))}k=G.length*(x||1)}else{const G=".bones["+d[B].name+"]";m($l,G+".position",U,"pos",y),m(xy,G+".quaternion",U,"rot",y),m($l,G+".scale",U,"scl",y)}}return 0===y.length?null:new this(_,k,y,D)}resetDuration(){let d=0;for(let m=0,y=this.tracks.length;m!==y;++m){const _=this.tracks[m];d=Math.max(d,_.times[_.times.length-1])}return this.duration=d,this}trim(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].trim(0,this.duration);return this}validate(){let l=!0;for(let d=0;d<this.tracks.length;d++)l=l&&this.tracks[d].validate();return l}optimize(){for(let l=0;l<this.tracks.length;l++)this.tracks[l].optimize();return this}clone(){const l=[];for(let d=0;d<this.tracks.length;d++)l.push(this.tracks[d].clone());return new this.constructor(this.name,this.duration,l,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qB(h){if(void 0===h.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const l=function MP(h){switch(h.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return U_;case"vector":case"vector2":case"vector3":case"vector4":return $l;case"color":return oS;case"quaternion":return xy;case"bool":case"boolean":return My;case"string":return lm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+h)}(h.type);if(void 0===h.times){const d=[],m=[];ys.flattenJSON(h.keys,d,m,"value"),h.times=d,h.values=m}return void 0!==l.parse?l.parse(h):new l(h.name,h.times,h.values,h.interpolation)}const um={enabled:!1,files:{},add:function(h,l){!1!==this.enabled&&(this.files[h]=l)},get:function(h){if(!1!==this.enabled)return this.files[h]},remove:function(h){delete this.files[h]},clear:function(){this.files={}}};function t1(h,l,d){const m=this;let D,y=!1,_=0,x=0;const k=[];this.onStart=void 0,this.onLoad=h,this.onProgress=l,this.onError=d,this.itemStart=function(P){x++,!1===y&&void 0!==m.onStart&&m.onStart(P,_,x),y=!0},this.itemEnd=function(P){_++,void 0!==m.onProgress&&m.onProgress(P,_,x),_===x&&(y=!1,void 0!==m.onLoad&&m.onLoad())},this.itemError=function(P){void 0!==m.onError&&m.onError(P)},this.resolveURL=function(P){return D?D(P):P},this.setURLModifier=function(P){return D=P,this},this.addHandler=function(P,j){return k.push(P,j),this},this.removeHandler=function(P){const j=k.indexOf(P);return-1!==j&&k.splice(j,2),this},this.getHandler=function(P){for(let j=0,B=k.length;j<B;j+=2){const U=k[j],G=k[j+1];if(U.global&&(U.lastIndex=0),U.test(P))return G}return null}}const xP=new t1;function Ls(h){this.manager=void 0!==h?h:xP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Ls.prototype,{load:function(){},loadAsync:function(h,l){const d=this;return new Promise(function(m,y){d.load(h,m,l,y)})},parse:function(){},setCrossOrigin:function(h){return this.crossOrigin=h,this},setWithCredentials:function(h){return this.withCredentials=h,this},setPath:function(h){return this.path=h,this},setResourcePath:function(h){return this.resourcePath=h,this},setRequestHeader:function(h){return this.requestHeader=h,this}});const sd={};function _c(h){Ls.call(this,h)}_c.prototype=Object.assign(Object.create(Ls.prototype),{constructor:_c,load:function(h,l,d,m){void 0===h&&(h=""),void 0!==this.path&&(h=this.path+h),h=this.manager.resolveURL(h);const y=this,_=um.get(h);if(void 0!==_)return y.manager.itemStart(h),setTimeout(function(){l&&l(_),y.manager.itemEnd(h)},0),_;if(void 0!==sd[h])return void sd[h].push({onLoad:l,onProgress:d,onError:m});const D=h.match(/^data:(.*?)(;base64)?,(.*)$/);let k;if(D){const P=D[1],j=!!D[2];let B=D[3];B=decodeURIComponent(B),j&&(B=atob(B));try{let U;const G=(this.responseType||"").toLowerCase();switch(G){case"arraybuffer":case"blob":const ee=new Uint8Array(B.length);for(let de=0;de<B.length;de++)ee[de]=B.charCodeAt(de);U="blob"===G?new Blob([ee.buffer],{type:P}):ee.buffer;break;case"document":U=(new DOMParser).parseFromString(B,P);break;case"json":U=JSON.parse(B);break;default:U=B}setTimeout(function(){l&&l(U),y.manager.itemEnd(h)},0)}catch(U){setTimeout(function(){m&&m(U),y.manager.itemError(h),y.manager.itemEnd(h)},0)}}else{sd[h]=[],sd[h].push({onLoad:l,onProgress:d,onError:m}),k=new XMLHttpRequest,k.open("GET",h,!0),k.addEventListener("load",function(P){const j=this.response,B=sd[h];if(delete sd[h],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),um.add(h,j);for(let U=0,G=B.length;U<G;U++){const ee=B[U];ee.onLoad&&ee.onLoad(j)}y.manager.itemEnd(h)}else{for(let U=0,G=B.length;U<G;U++){const ee=B[U];ee.onError&&ee.onError(P)}y.manager.itemError(h),y.manager.itemEnd(h)}},!1),k.addEventListener("progress",function(P){const j=sd[h];for(let B=0,U=j.length;B<U;B++){const G=j[B];G.onProgress&&G.onProgress(P)}},!1),k.addEventListener("error",function(P){const j=sd[h];delete sd[h];for(let B=0,U=j.length;B<U;B++){const G=j[B];G.onError&&G.onError(P)}y.manager.itemError(h),y.manager.itemEnd(h)},!1),k.addEventListener("abort",function(P){const j=sd[h];delete sd[h];for(let B=0,U=j.length;B<U;B++){const G=j[B];G.onError&&G.onError(P)}y.manager.itemError(h),y.manager.itemEnd(h)},!1),void 0!==this.responseType&&(k.responseType=this.responseType),void 0!==this.withCredentials&&(k.withCredentials=this.withCredentials),k.overrideMimeType&&k.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const P in this.requestHeader)k.setRequestHeader(P,this.requestHeader[P]);k.send(null)}return y.manager.itemStart(h),k},setResponseType:function(h){return this.responseType=h,this},setMimeType:function(h){return this.mimeType=h,this}});class JB extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=this,x=new _c(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){y?y(k):console.error(k),_.manager.itemError(l)}},m,y)}parse(l){const d=[];for(let m=0;m<l.length;m++){const y=Y_.parse(l[m]);d.push(y)}return d}}function Si(h){Ls.call(this,h)}Si.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Si,load:function(h,l,d,m){const y=this,_=[],x=new O_,D=new _c(this.manager);D.setPath(this.path),D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setWithCredentials(y.withCredentials);let k=0;function P(j){D.load(h[j],function(B){const U=y.parse(B,!0);_[j]={width:U.width,height:U.height,format:U.format,mipmaps:U.mipmaps},k+=1,6===k&&(1===U.mipmapCount&&(x.minFilter=Er),x.image=_,x.format=U.format,x.needsUpdate=!0,l&&l(x))},d,m)}if(Array.isArray(h))for(let j=0,B=h.length;j<B;++j)P(j);else D.load(h,function(j){const B=y.parse(j,!0);if(B.isCubemap){const U=B.mipmaps.length/B.mipmapCount;for(let G=0;G<U;G++){_[G]={mipmaps:[]};for(let ee=0;ee<B.mipmapCount;ee++)_[G].mipmaps.push(B.mipmaps[G*B.mipmapCount+ee]),_[G].format=B.format,_[G].width=B.width,_[G].height=B.height}x.image=_}else x.image.width=B.width,x.image.height=B.height,x.mipmaps=B.mipmaps;1===B.mipmapCount&&(x.minFilter=Er),x.format=B.format,x.needsUpdate=!0,l&&l(x)},d,m);return x}});class Fr extends Ls{constructor(l){super(l)}load(l,d,m,y){void 0!==this.path&&(l=this.path+l),l=this.manager.resolveURL(l);const _=this,x=um.get(l);if(void 0!==x)return _.manager.itemStart(l),setTimeout(function(){d&&d(x),_.manager.itemEnd(l)},0),x;const D=document.createElementNS("http://www.w3.org/1999/xhtml","img");function k(){D.removeEventListener("load",k,!1),D.removeEventListener("error",P,!1),um.add(l,this),d&&d(this),_.manager.itemEnd(l)}function P(j){D.removeEventListener("load",k,!1),D.removeEventListener("error",P,!1),y&&y(j),_.manager.itemError(l),_.manager.itemEnd(l)}return D.addEventListener("load",k,!1),D.addEventListener("error",P,!1),"data:"!==l.substr(0,5)&&void 0!==this.crossOrigin&&(D.crossOrigin=this.crossOrigin),_.manager.itemStart(l),D.src=l,D}}class n1 extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=new Nf,x=new Fr(this.manager);x.setCrossOrigin(this.crossOrigin),x.setPath(this.path);let D=0;function k(P){x.load(l[P],function(j){_.images[P]=j,D++,6===D&&(_.needsUpdate=!0,d&&d(_))},void 0,y)}for(let P=0;P<l.length;++P)k(P);return _}}function G_(h){Ls.call(this,h)}function sS(h){Ls.call(this,h)}function Kl(){this.type="Curve",this.arcLengthDivisions=200}G_.prototype=Object.assign(Object.create(Ls.prototype),{constructor:G_,load:function(h,l,d,m){const y=this,_=new Gl,x=new _c(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(y.withCredentials),x.load(h,function(D){const k=y.parse(D);!k||(void 0!==k.image?_.image=k.image:void 0!==k.data&&(_.image.width=k.width,_.image.height=k.height,_.image.data=k.data),_.wrapS=void 0!==k.wrapS?k.wrapS:Sn,_.wrapT=void 0!==k.wrapT?k.wrapT:Sn,_.magFilter=void 0!==k.magFilter?k.magFilter:Er,_.minFilter=void 0!==k.minFilter?k.minFilter:Er,_.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.encoding&&(_.encoding=k.encoding),void 0!==k.flipY&&(_.flipY=k.flipY),void 0!==k.format&&(_.format=k.format),void 0!==k.type&&(_.type=k.type),void 0!==k.mipmaps&&(_.mipmaps=k.mipmaps,_.minFilter=Oi),1===k.mipmapCount&&(_.minFilter=Er),_.needsUpdate=!0,l&&l(_,k))},d,m),_}}),sS.prototype=Object.assign(Object.create(Ls.prototype),{constructor:sS,load:function(h,l,d,m){const y=new vo,_=new Fr(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(h,function(x){y.image=x;const D=h.search(/\.jpe?g($|\?)/i)>0||0===h.search(/^data\:image\/jpeg/);y.format=D?Vs:Io,y.needsUpdate=!0,void 0!==l&&l(y)},d,m),y}}),Object.assign(Kl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(h,l){const d=this.getUtoTmapping(h);return this.getPoint(d,l)},getPoints:function(h=5){const l=[];for(let d=0;d<=h;d++)l.push(this.getPoint(d/h));return l},getSpacedPoints:function(h=5){const l=[];for(let d=0;d<=h;d++)l.push(this.getPointAt(d/h));return l},getLength:function(){const h=this.getLengths();return h[h.length-1]},getLengths:function(h){if(void 0===h&&(h=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===h+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const l=[];let d,m=this.getPoint(0),y=0;l.push(0);for(let _=1;_<=h;_++)d=this.getPoint(_/h),y+=d.distanceTo(m),l.push(y),m=d;return this.cacheArcLengths=l,l},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(h,l){const d=this.getLengths();let m=0;const y=d.length;let _;_=l||h*d[y-1];let k,x=0,D=y-1;for(;x<=D;)if(m=Math.floor(x+(D-x)/2),k=d[m]-_,k<0)x=m+1;else{if(!(k>0)){D=m;break}D=m-1}if(m=D,d[m]===_)return m/(y-1);const P=d[m];return(m+(_-P)/(d[m+1]-P))/(y-1)},getTangent:function(h,l){let m=h-1e-4,y=h+1e-4;m<0&&(m=0),y>1&&(y=1);const _=this.getPoint(m),x=this.getPoint(y),D=l||(_.isVector2?new bn:new De);return D.copy(x).sub(_).normalize(),D},getTangentAt:function(h,l){const d=this.getUtoTmapping(h);return this.getTangent(d,l)},computeFrenetFrames:function(h,l){const d=new De,m=[],y=[],_=[],x=new De,D=new Br;for(let U=0;U<=h;U++)m[U]=this.getTangentAt(U/h,new De),m[U].normalize();y[0]=new De,_[0]=new De;let k=Number.MAX_VALUE;const P=Math.abs(m[0].x),j=Math.abs(m[0].y),B=Math.abs(m[0].z);P<=k&&(k=P,d.set(1,0,0)),j<=k&&(k=j,d.set(0,1,0)),B<=k&&d.set(0,0,1),x.crossVectors(m[0],d).normalize(),y[0].crossVectors(m[0],x),_[0].crossVectors(m[0],y[0]);for(let U=1;U<=h;U++){if(y[U]=y[U-1].clone(),_[U]=_[U-1].clone(),x.crossVectors(m[U-1],m[U]),x.length()>Number.EPSILON){x.normalize();const G=Math.acos(An.clamp(m[U-1].dot(m[U]),-1,1));y[U].applyMatrix4(D.makeRotationAxis(x,G))}_[U].crossVectors(m[U],y[U])}if(!0===l){let U=Math.acos(An.clamp(y[0].dot(y[h]),-1,1));U/=h,m[0].dot(x.crossVectors(y[0],y[h]))>0&&(U=-U);for(let G=1;G<=h;G++)y[G].applyMatrix4(D.makeRotationAxis(m[G],U*G)),_[G].crossVectors(m[G],y[G])}return{tangents:m,normals:y,binormals:_}},clone:function(){return(new this.constructor).copy(this)},copy:function(h){return this.arcLengthDivisions=h.arcLengthDivisions,this},toJSON:function(){const h={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return h.arcLengthDivisions=this.arcLengthDivisions,h.type=this.type,h},fromJSON:function(h){return this.arcLengthDivisions=h.arcLengthDivisions,this}});class Cy extends Kl{constructor(l=0,d=0,m=1,y=1,_=0,x=2*Math.PI,D=!1,k=0){super(),this.type="EllipseCurve",this.aX=l,this.aY=d,this.xRadius=m,this.yRadius=y,this.aStartAngle=_,this.aEndAngle=x,this.aClockwise=D,this.aRotation=k}getPoint(l,d){const m=d||new bn,y=2*Math.PI;let _=this.aEndAngle-this.aStartAngle;const x=Math.abs(_)<Number.EPSILON;for(;_<0;)_+=y;for(;_>y;)_-=y;_<Number.EPSILON&&(_=x?0:y),!0===this.aClockwise&&!x&&(_===y?_=-y:_-=y);const D=this.aStartAngle+l*_;let k=this.aX+this.xRadius*Math.cos(D),P=this.aY+this.yRadius*Math.sin(D);if(0!==this.aRotation){const j=Math.cos(this.aRotation),B=Math.sin(this.aRotation),U=k-this.aX,G=P-this.aY;k=U*j-G*B+this.aX,P=U*B+G*j+this.aY}return m.set(k,P)}copy(l){return super.copy(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}toJSON(){const l=super.toJSON();return l.aX=this.aX,l.aY=this.aY,l.xRadius=this.xRadius,l.yRadius=this.yRadius,l.aStartAngle=this.aStartAngle,l.aEndAngle=this.aEndAngle,l.aClockwise=this.aClockwise,l.aRotation=this.aRotation,l}fromJSON(l){return super.fromJSON(l),this.aX=l.aX,this.aY=l.aY,this.xRadius=l.xRadius,this.yRadius=l.yRadius,this.aStartAngle=l.aStartAngle,this.aEndAngle=l.aEndAngle,this.aClockwise=l.aClockwise,this.aRotation=l.aRotation,this}}Cy.prototype.isEllipseCurve=!0;class r1 extends Cy{constructor(l,d,m,y,_,x){super(l,d,m,m,y,_,x),this.type="ArcCurve"}}function aS(){let h=0,l=0,d=0,m=0;function y(_,x,D,k){h=_,l=D,d=-3*_+3*x-2*D-k,m=2*_-2*x+D+k}return{initCatmullRom:function(_,x,D,k,P){y(x,D,P*(D-_),P*(k-x))},initNonuniformCatmullRom:function(_,x,D,k,P,j,B){let U=(x-_)/P-(D-_)/(P+j)+(D-x)/j,G=(D-x)/j-(k-x)/(j+B)+(k-D)/B;U*=j,G*=j,y(x,D,U,G)},calc:function(_){const x=_*_;return h+l*_+d*x+m*(x*_)}}}r1.prototype.isArcCurve=!0;const lS=new De,o1=new aS,CP=new aS,uS=new aS;class cS extends Kl{constructor(l=[],d=!1,m="centripetal",y=.5){super(),this.type="CatmullRomCurve3",this.points=l,this.closed=d,this.curveType=m,this.tension=y}getPoint(l,d=new De){const m=d,y=this.points,_=y.length,x=(_-(this.closed?0:1))*l;let P,j,D=Math.floor(x),k=x-D;this.closed?D+=D>0?0:(Math.floor(Math.abs(D)/_)+1)*_:0===k&&D===_-1&&(D=_-2,k=1),this.closed||D>0?P=y[(D-1)%_]:(lS.subVectors(y[0],y[1]).add(y[0]),P=lS);const B=y[D%_],U=y[(D+1)%_];if(this.closed||D+2<_?j=y[(D+2)%_]:(lS.subVectors(y[_-1],y[_-2]).add(y[_-1]),j=lS),"centripetal"===this.curveType||"chordal"===this.curveType){const G="chordal"===this.curveType?.5:.25;let ee=Math.pow(P.distanceToSquared(B),G),ue=Math.pow(B.distanceToSquared(U),G),de=Math.pow(U.distanceToSquared(j),G);ue<1e-4&&(ue=1),ee<1e-4&&(ee=ue),de<1e-4&&(de=ue),o1.initNonuniformCatmullRom(P.x,B.x,U.x,j.x,ee,ue,de),CP.initNonuniformCatmullRom(P.y,B.y,U.y,j.y,ee,ue,de),uS.initNonuniformCatmullRom(P.z,B.z,U.z,j.z,ee,ue,de)}else"catmullrom"===this.curveType&&(o1.initCatmullRom(P.x,B.x,U.x,j.x,this.tension),CP.initCatmullRom(P.y,B.y,U.y,j.y,this.tension),uS.initCatmullRom(P.z,B.z,U.z,j.z,this.tension));return m.set(o1.calc(k),CP.calc(k),uS.calc(k)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l.closed=this.closed,l.curveType=this.curveType,l.tension=this.tension,l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const y=l.points[d];this.points.push((new De).fromArray(y))}return this.closed=l.closed,this.curveType=l.curveType,this.tension=l.tension,this}}function Xs(h,l,d,m,y){const _=.5*(m-l),x=.5*(y-d),D=h*h;return(2*d-2*m+_+x)*(h*D)+(-3*d+3*m-2*_-x)*D+_*h+d}function $_(h,l,d,m){return function QB(h,l){const d=1-h;return d*d*l}(h,l)+function s1(h,l){return 2*(1-h)*h*l}(h,d)+function a1(h,l){return h*h*l}(h,m)}function Ey(h,l,d,m,y){return function T$(h,l){const d=1-h;return d*d*d*l}(h,l)+function R$(h,l){const d=1-h;return 3*d*d*h*l}(h,d)+function D$(h,l){return 3*(1-h)*h*h*l}(h,m)+function eV(h,l){return h*h*h*l}(h,y)}cS.prototype.isCatmullRomCurve3=!0;class l1 extends Kl{constructor(l=new bn,d=new bn,m=new bn,y=new bn){super(),this.type="CubicBezierCurve",this.v0=l,this.v1=d,this.v2=m,this.v3=y}getPoint(l,d=new bn){const m=d,y=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(Ey(l,y.x,_.x,x.x,D.x),Ey(l,y.y,_.y,x.y,D.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}l1.prototype.isCubicBezierCurve=!0;class u1 extends Kl{constructor(l=new De,d=new De,m=new De,y=new De){super(),this.type="CubicBezierCurve3",this.v0=l,this.v1=d,this.v2=m,this.v3=y}getPoint(l,d=new De){const m=d,y=this.v0,_=this.v1,x=this.v2,D=this.v3;return m.set(Ey(l,y.x,_.x,x.x,D.x),Ey(l,y.y,_.y,x.y,D.y),Ey(l,y.z,_.z,x.z,D.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this.v3.copy(l.v3),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l.v3=this.v3.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this.v3.fromArray(l.v3),this}}u1.prototype.isCubicBezierCurve3=!0;class Zd extends Kl{constructor(l=new bn,d=new bn){super(),this.type="LineCurve",this.v1=l,this.v2=d}getPoint(l,d=new bn){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}getTangent(l,d){const m=d||new bn;return m.copy(this.v2).sub(this.v1).normalize(),m}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}Zd.prototype.isLineCurve=!0;class EP extends Kl{constructor(l=new De,d=new De){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=l,this.v2=d}getPoint(l,d=new De){const m=d;return 1===l?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(l).add(this.v1)),m}getPointAt(l,d){return this.getPoint(l,d)}copy(l){return super.copy(l),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}class K_ extends Kl{constructor(l=new bn,d=new bn,m=new bn){super(),this.type="QuadraticBezierCurve",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new bn){const m=d,y=this.v0,_=this.v1,x=this.v2;return m.set($_(l,y.x,_.x,x.x),$_(l,y.y,_.y,x.y)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}K_.prototype.isQuadraticBezierCurve=!0;class Ty extends Kl{constructor(l=new De,d=new De,m=new De){super(),this.type="QuadraticBezierCurve3",this.v0=l,this.v1=d,this.v2=m}getPoint(l,d=new De){const m=d,y=this.v0,_=this.v1,x=this.v2;return m.set($_(l,y.x,_.x,x.x),$_(l,y.y,_.y,x.y),$_(l,y.z,_.z,x.z)),m}copy(l){return super.copy(l),this.v0.copy(l.v0),this.v1.copy(l.v1),this.v2.copy(l.v2),this}toJSON(){const l=super.toJSON();return l.v0=this.v0.toArray(),l.v1=this.v1.toArray(),l.v2=this.v2.toArray(),l}fromJSON(l){return super.fromJSON(l),this.v0.fromArray(l.v0),this.v1.fromArray(l.v1),this.v2.fromArray(l.v2),this}}Ty.prototype.isQuadraticBezierCurve3=!0;class dS extends Kl{constructor(l=[]){super(),this.type="SplineCurve",this.points=l}getPoint(l,d=new bn){const m=d,y=this.points,_=(y.length-1)*l,x=Math.floor(_),D=_-x,k=y[0===x?x:x-1],P=y[x],j=y[x>y.length-2?y.length-1:x+1],B=y[x>y.length-3?y.length-1:x+2];return m.set(Xs(D,k.x,P.x,j.x,B.x),Xs(D,k.y,P.y,j.y,B.y)),m}copy(l){super.copy(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++)this.points.push(l.points[d].clone());return this}toJSON(){const l=super.toJSON();l.points=[];for(let d=0,m=this.points.length;d<m;d++)l.points.push(this.points[d].toArray());return l}fromJSON(l){super.fromJSON(l),this.points=[];for(let d=0,m=l.points.length;d<m;d++){const y=l.points[d];this.points.push((new bn).fromArray(y))}return this}}dS.prototype.isSplineCurve=!0;var fS=Object.freeze({__proto__:null,ArcCurve:r1,CatmullRomCurve3:cS,CubicBezierCurve:l1,CubicBezierCurve3:u1,EllipseCurve:Cy,LineCurve:Zd,LineCurve3:EP,QuadraticBezierCurve:K_,QuadraticBezierCurve3:Ty,SplineCurve:dS});class TP extends Kl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(l){this.curves.push(l)}closePath(){const l=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);l.equals(d)||this.curves.push(new Zd(d,l))}getPoint(l){const d=l*this.getLength(),m=this.getCurveLengths();let y=0;for(;y<m.length;){if(m[y]>=d){const _=m[y]-d,x=this.curves[y],D=x.getLength();return x.getPointAt(0===D?0:1-_/D)}y++}return null}getLength(){const l=this.getCurveLengths();return l[l.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const l=[];let d=0;for(let m=0,y=this.curves.length;m<y;m++)d+=this.curves[m].getLength(),l.push(d);return this.cacheLengths=l,l}getSpacedPoints(l=40){const d=[];for(let m=0;m<=l;m++)d.push(this.getPoint(m/l));return this.autoClose&&d.push(d[0]),d}getPoints(l=12){const d=[];let m;for(let y=0,_=this.curves;y<_.length;y++){const x=_[y],k=x.getPoints(x&&x.isEllipseCurve?2*l:x&&(x.isLineCurve||x.isLineCurve3)?1:x&&x.isSplineCurve?l*x.points.length:l);for(let P=0;P<k.length;P++){const j=k[P];m&&m.equals(j)||(d.push(j),m=j)}}return this.autoClose&&d.length>1&&!d[d.length-1].equals(d[0])&&d.push(d[0]),d}copy(l){super.copy(l),this.curves=[];for(let d=0,m=l.curves.length;d<m;d++)this.curves.push(l.curves[d].clone());return this.autoClose=l.autoClose,this}toJSON(){const l=super.toJSON();l.autoClose=this.autoClose,l.curves=[];for(let d=0,m=this.curves.length;d<m;d++)l.curves.push(this.curves[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.autoClose=l.autoClose,this.curves=[];for(let d=0,m=l.curves.length;d<m;d++){const y=l.curves[d];this.curves.push((new fS[y.type]).fromJSON(y))}return this}}class X_ extends TP{constructor(l){super(),this.type="Path",this.currentPoint=new bn,l&&this.setFromPoints(l)}setFromPoints(l){this.moveTo(l[0].x,l[0].y);for(let d=1,m=l.length;d<m;d++)this.lineTo(l[d].x,l[d].y);return this}moveTo(l,d){return this.currentPoint.set(l,d),this}lineTo(l,d){const m=new Zd(this.currentPoint.clone(),new bn(l,d));return this.curves.push(m),this.currentPoint.set(l,d),this}quadraticCurveTo(l,d,m,y){const _=new K_(this.currentPoint.clone(),new bn(l,d),new bn(m,y));return this.curves.push(_),this.currentPoint.set(m,y),this}bezierCurveTo(l,d,m,y,_,x){const D=new l1(this.currentPoint.clone(),new bn(l,d),new bn(m,y),new bn(_,x));return this.curves.push(D),this.currentPoint.set(_,x),this}splineThru(l){const d=[this.currentPoint.clone()].concat(l),m=new dS(d);return this.curves.push(m),this.currentPoint.copy(l[l.length-1]),this}arc(l,d,m,y,_,x){return this.absarc(l+this.currentPoint.x,d+this.currentPoint.y,m,y,_,x),this}absarc(l,d,m,y,_,x){return this.absellipse(l,d,m,m,y,_,x),this}ellipse(l,d,m,y,_,x,D,k){return this.absellipse(l+this.currentPoint.x,d+this.currentPoint.y,m,y,_,x,D,k),this}absellipse(l,d,m,y,_,x,D,k){const P=new Cy(l,d,m,y,_,x,D,k);if(this.curves.length>0){const B=P.getPoint(0);B.equals(this.currentPoint)||this.lineTo(B.x,B.y)}this.curves.push(P);const j=P.getPoint(1);return this.currentPoint.copy(j),this}copy(l){return super.copy(l),this.currentPoint.copy(l.currentPoint),this}toJSON(){const l=super.toJSON();return l.currentPoint=this.currentPoint.toArray(),l}fromJSON(l){return super.fromJSON(l),this.currentPoint.fromArray(l.currentPoint),this}}class Yh extends X_{constructor(l){super(l),this.uuid=An.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(l){const d=[];for(let m=0,y=this.holes.length;m<y;m++)d[m]=this.holes[m].getPoints(l);return d}extractPoints(l){return{shape:this.getPoints(l),holes:this.getPointsHoles(l)}}copy(l){super.copy(l),this.holes=[];for(let d=0,m=l.holes.length;d<m;d++)this.holes.push(l.holes[d].clone());return this}toJSON(){const l=super.toJSON();l.uuid=this.uuid,l.holes=[];for(let d=0,m=this.holes.length;d<m;d++)l.holes.push(this.holes[d].toJSON());return l}fromJSON(l){super.fromJSON(l),this.uuid=l.uuid,this.holes=[];for(let d=0,m=l.holes.length;d<m;d++){const y=l.holes[d];this.holes.push((new X_).fromJSON(y))}return this}}class ad extends $r{constructor(l,d=1){super(),this.type="Light",this.color=new xr(l),this.intensity=d}copy(l){return super.copy(l),this.color.copy(l.color),this.intensity=l.intensity,this}toJSON(l){const d=super.toJSON(l);return d.object.color=this.color.getHex(),d.object.intensity=this.intensity,void 0!==this.groundColor&&(d.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(d.object.distance=this.distance),void 0!==this.angle&&(d.object.angle=this.angle),void 0!==this.decay&&(d.object.decay=this.decay),void 0!==this.penumbra&&(d.object.penumbra=this.penumbra),void 0!==this.shadow&&(d.object.shadow=this.shadow.toJSON()),d}}ad.prototype.isLight=!0;class c1 extends ad{constructor(l,d,m){super(l,m),this.type="HemisphereLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.groundColor=new xr(d)}copy(l){return ad.prototype.copy.call(this,l),this.groundColor.copy(l.groundColor),this}}c1.prototype.isHemisphereLight=!0;const d1=new Br,RP=new De,f1=new De;class hS{constructor(l){this.camera=l,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new bn(512,512),this.map=null,this.mapPass=null,this.matrix=new Br,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ih,this._frameExtents=new bn(1,1),this._viewportCount=1,this._viewports=[new Ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(l){const d=this.camera,m=this.matrix;RP.setFromMatrixPosition(l.matrixWorld),d.position.copy(RP),f1.setFromMatrixPosition(l.target.matrixWorld),d.lookAt(f1),d.updateMatrixWorld(),d1.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(d1),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(d.projectionMatrix),m.multiply(d.matrixWorldInverse)}getViewport(l){return this._viewports[l]}getFrameExtents(){return this._frameExtents}copy(l){return this.camera=l.camera.clone(),this.bias=l.bias,this.radius=l.radius,this.mapSize.copy(l.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const l={};return 0!==this.bias&&(l.bias=this.bias),0!==this.normalBias&&(l.normalBias=this.normalBias),1!==this.radius&&(l.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(l.mapSize=this.mapSize.toArray()),l.camera=this.camera.toJSON(!1).object,delete l.camera.matrix,l}}class pS extends hS{constructor(){super(new ks(50,1,.5,500)),this.focus=1}updateMatrices(l){const d=this.camera,m=2*An.RAD2DEG*l.angle*this.focus,y=this.mapSize.width/this.mapSize.height,_=l.distance||d.far;(m!==d.fov||y!==d.aspect||_!==d.far)&&(d.fov=m,d.aspect=y,d.far=_,d.updateProjectionMatrix()),super.updateMatrices(l)}}pS.prototype.isSpotLightShadow=!0;class DP extends ad{constructor(l,d,m=0,y=Math.PI/3,_=0,x=1){super(l,d),this.type="SpotLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.target=new $r,this.distance=m,this.angle=y,this.penumbra=_,this.decay=x,this.shadow=new pS}get power(){return this.intensity*Math.PI}set power(l){this.intensity=l/Math.PI}copy(l){return super.copy(l),this.distance=l.distance,this.angle=l.angle,this.penumbra=l.penumbra,this.decay=l.decay,this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}DP.prototype.isSpotLight=!0;const mS=new Br,Z_=new De,AP=new De;class Le extends hS{constructor(){super(new ks(90,1,.5,500)),this._frameExtents=new bn(4,2),this._viewportCount=6,this._viewports=[new Ri(2,1,1,1),new Ri(0,1,1,1),new Ri(3,1,1,1),new Ri(1,1,1,1),new Ri(3,0,1,1),new Ri(1,0,1,1)],this._cubeDirections=[new De(1,0,0),new De(-1,0,0),new De(0,0,1),new De(0,0,-1),new De(0,1,0),new De(0,-1,0)],this._cubeUps=[new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,1,0),new De(0,0,1),new De(0,0,-1)]}updateMatrices(l,d=0){const m=this.camera,y=this.matrix;Z_.setFromMatrixPosition(l.matrixWorld),m.position.copy(Z_),AP.copy(m.position),AP.add(this._cubeDirections[d]),m.up.copy(this._cubeUps[d]),m.lookAt(AP),m.updateMatrixWorld(),y.makeTranslation(-Z_.x,-Z_.y,-Z_.z),mS.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mS)}}Le.prototype.isPointLightShadow=!0;class cm extends ad{constructor(l,d,m=0,y=1){super(l,d),this.type="PointLight",this.distance=m,this.decay=y,this.shadow=new Le}get power(){return 4*this.intensity*Math.PI}set power(l){this.intensity=l/(4*Math.PI)}copy(l){return super.copy(l),this.distance=l.distance,this.decay=l.decay,this.shadow=l.shadow.clone(),this}}cm.prototype.isPointLight=!0;class Ry extends qc{constructor(l=-1,d=1,m=1,y=-1,_=.1,x=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=l,this.right=d,this.top=m,this.bottom=y,this.near=_,this.far=x,this.updateProjectionMatrix()}copy(l,d){return super.copy(l,d),this.left=l.left,this.right=l.right,this.top=l.top,this.bottom=l.bottom,this.near=l.near,this.far=l.far,this.zoom=l.zoom,this.view=null===l.view?null:Object.assign({},l.view),this}setViewOffset(l,d,m,y,_,x){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=l,this.view.fullHeight=d,this.view.offsetX=m,this.view.offsetY=y,this.view.width=_,this.view.height=x,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const l=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,y=(this.top+this.bottom)/2;let _=m-l,x=m+l,D=y+d,k=y-d;if(null!==this.view&&this.view.enabled){const P=(this.right-this.left)/this.view.fullWidth/this.zoom,j=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_+=P*this.view.offsetX,x=_+P*this.view.width,D-=j*this.view.offsetY,k=D-j*this.view.height}this.projectionMatrix.makeOrthographic(_,x,D,k,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(l){const d=$r.prototype.toJSON.call(this,l);return d.object.zoom=this.zoom,d.object.left=this.left,d.object.right=this.right,d.object.top=this.top,d.object.bottom=this.bottom,d.object.near=this.near,d.object.far=this.far,null!==this.view&&(d.object.view=Object.assign({},this.view)),d}}Ry.prototype.isOrthographicCamera=!0;class q_ extends hS{constructor(){super(new Ry(-5,5,5,-5,.5,500))}}q_.prototype.isDirectionalLightShadow=!0;class Pu extends ad{constructor(l,d){super(l,d),this.type="DirectionalLight",this.position.copy($r.DefaultUp),this.updateMatrix(),this.target=new $r,this.shadow=new q_}copy(l){return super.copy(l),this.target=l.target.clone(),this.shadow=l.shadow.clone(),this}}Pu.prototype.isDirectionalLight=!0;class gS extends ad{constructor(l,d){super(l,d),this.type="AmbientLight"}}gS.prototype.isAmbientLight=!0;class h1 extends ad{constructor(l,d,m=10,y=10){super(l,d),this.type="RectAreaLight",this.width=m,this.height=y}copy(l){return super.copy(l),this.width=l.width,this.height=l.height,this}toJSON(l){const d=super.toJSON(l);return d.object.width=this.width,d.object.height=this.height,d}}h1.prototype.isRectAreaLight=!0;class J_{constructor(){this.coefficients=[];for(let l=0;l<9;l++)this.coefficients.push(new De)}set(l){for(let d=0;d<9;d++)this.coefficients[d].copy(l[d]);return this}zero(){for(let l=0;l<9;l++)this.coefficients[l].set(0,0,0);return this}getAt(l,d){const m=l.x,y=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.282095),d.addScaledVector(x[1],.488603*y),d.addScaledVector(x[2],.488603*_),d.addScaledVector(x[3],.488603*m),d.addScaledVector(x[4],m*y*1.092548),d.addScaledVector(x[5],y*_*1.092548),d.addScaledVector(x[6],.315392*(3*_*_-1)),d.addScaledVector(x[7],m*_*1.092548),d.addScaledVector(x[8],.546274*(m*m-y*y)),d}getIrradianceAt(l,d){const m=l.x,y=l.y,_=l.z,x=this.coefficients;return d.copy(x[0]).multiplyScalar(.886227),d.addScaledVector(x[1],1.023328*y),d.addScaledVector(x[2],1.023328*_),d.addScaledVector(x[3],1.023328*m),d.addScaledVector(x[4],.858086*m*y),d.addScaledVector(x[5],.858086*y*_),d.addScaledVector(x[6],.743125*_*_-.247708),d.addScaledVector(x[7],.858086*m*_),d.addScaledVector(x[8],.429043*(m*m-y*y)),d}add(l){for(let d=0;d<9;d++)this.coefficients[d].add(l.coefficients[d]);return this}addScaledSH(l,d){for(let m=0;m<9;m++)this.coefficients[m].addScaledVector(l.coefficients[m],d);return this}scale(l){for(let d=0;d<9;d++)this.coefficients[d].multiplyScalar(l);return this}lerp(l,d){for(let m=0;m<9;m++)this.coefficients[m].lerp(l.coefficients[m],d);return this}equals(l){for(let d=0;d<9;d++)if(!this.coefficients[d].equals(l.coefficients[d]))return!1;return!0}copy(l){return this.set(l.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(l,d=0){const m=this.coefficients;for(let y=0;y<9;y++)m[y].fromArray(l,d+3*y);return this}toArray(l=[],d=0){const m=this.coefficients;for(let y=0;y<9;y++)m[y].toArray(l,d+3*y);return l}static getBasisAt(l,d){const m=l.x,y=l.y,_=l.z;d[0]=.282095,d[1]=.488603*y,d[2]=.488603*_,d[3]=.488603*m,d[4]=1.092548*m*y,d[5]=1.092548*y*_,d[6]=.315392*(3*_*_-1),d[7]=1.092548*m*_,d[8]=.546274*(m*m-y*y)}}J_.prototype.isSphericalHarmonics3=!0;class Lu extends ad{constructor(l=new J_,d=1){super(void 0,d),this.sh=l}copy(l){return super.copy(l),this.sh.copy(l.sh),this}fromJSON(l){return this.intensity=l.intensity,this.sh.fromArray(l.sh),this}toJSON(l){const d=super.toJSON(l);return d.object.sh=this.sh.toArray(),d}}Lu.prototype.isLightProbe=!0;class yS extends Ls{constructor(l){super(l),this.textures={}}load(l,d,m,y){const _=this,x=new _c(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){y?y(k):console.error(k),_.manager.itemError(l)}},m,y)}parse(l){const d=this.textures;function m(_){return void 0===d[_]&&console.warn("THREE.MaterialLoader: Undefined texture",_),d[_]}const y=new ZB[l.type];if(void 0!==l.uuid&&(y.uuid=l.uuid),void 0!==l.name&&(y.name=l.name),void 0!==l.color&&void 0!==y.color&&y.color.setHex(l.color),void 0!==l.roughness&&(y.roughness=l.roughness),void 0!==l.metalness&&(y.metalness=l.metalness),void 0!==l.sheen&&(y.sheen=(new xr).setHex(l.sheen)),void 0!==l.emissive&&void 0!==y.emissive&&y.emissive.setHex(l.emissive),void 0!==l.specular&&void 0!==y.specular&&y.specular.setHex(l.specular),void 0!==l.shininess&&(y.shininess=l.shininess),void 0!==l.clearcoat&&(y.clearcoat=l.clearcoat),void 0!==l.clearcoatRoughness&&(y.clearcoatRoughness=l.clearcoatRoughness),void 0!==l.fog&&(y.fog=l.fog),void 0!==l.flatShading&&(y.flatShading=l.flatShading),void 0!==l.blending&&(y.blending=l.blending),void 0!==l.combine&&(y.combine=l.combine),void 0!==l.side&&(y.side=l.side),void 0!==l.opacity&&(y.opacity=l.opacity),void 0!==l.transparent&&(y.transparent=l.transparent),void 0!==l.alphaTest&&(y.alphaTest=l.alphaTest),void 0!==l.depthTest&&(y.depthTest=l.depthTest),void 0!==l.depthWrite&&(y.depthWrite=l.depthWrite),void 0!==l.colorWrite&&(y.colorWrite=l.colorWrite),void 0!==l.stencilWrite&&(y.stencilWrite=l.stencilWrite),void 0!==l.stencilWriteMask&&(y.stencilWriteMask=l.stencilWriteMask),void 0!==l.stencilFunc&&(y.stencilFunc=l.stencilFunc),void 0!==l.stencilRef&&(y.stencilRef=l.stencilRef),void 0!==l.stencilFuncMask&&(y.stencilFuncMask=l.stencilFuncMask),void 0!==l.stencilFail&&(y.stencilFail=l.stencilFail),void 0!==l.stencilZFail&&(y.stencilZFail=l.stencilZFail),void 0!==l.stencilZPass&&(y.stencilZPass=l.stencilZPass),void 0!==l.wireframe&&(y.wireframe=l.wireframe),void 0!==l.wireframeLinewidth&&(y.wireframeLinewidth=l.wireframeLinewidth),void 0!==l.wireframeLinecap&&(y.wireframeLinecap=l.wireframeLinecap),void 0!==l.wireframeLinejoin&&(y.wireframeLinejoin=l.wireframeLinejoin),void 0!==l.rotation&&(y.rotation=l.rotation),1!==l.linewidth&&(y.linewidth=l.linewidth),void 0!==l.dashSize&&(y.dashSize=l.dashSize),void 0!==l.gapSize&&(y.gapSize=l.gapSize),void 0!==l.scale&&(y.scale=l.scale),void 0!==l.polygonOffset&&(y.polygonOffset=l.polygonOffset),void 0!==l.polygonOffsetFactor&&(y.polygonOffsetFactor=l.polygonOffsetFactor),void 0!==l.polygonOffsetUnits&&(y.polygonOffsetUnits=l.polygonOffsetUnits),void 0!==l.skinning&&(y.skinning=l.skinning),void 0!==l.morphTargets&&(y.morphTargets=l.morphTargets),void 0!==l.morphNormals&&(y.morphNormals=l.morphNormals),void 0!==l.dithering&&(y.dithering=l.dithering),void 0!==l.vertexTangents&&(y.vertexTangents=l.vertexTangents),void 0!==l.visible&&(y.visible=l.visible),void 0!==l.toneMapped&&(y.toneMapped=l.toneMapped),void 0!==l.userData&&(y.userData=l.userData),void 0!==l.vertexColors&&(y.vertexColors="number"==typeof l.vertexColors?l.vertexColors>0:l.vertexColors),void 0!==l.uniforms)for(const _ in l.uniforms){const x=l.uniforms[_];switch(y.uniforms[_]={},x.type){case"t":y.uniforms[_].value=m(x.value);break;case"c":y.uniforms[_].value=(new xr).setHex(x.value);break;case"v2":y.uniforms[_].value=(new bn).fromArray(x.value);break;case"v3":y.uniforms[_].value=(new De).fromArray(x.value);break;case"v4":y.uniforms[_].value=(new Ri).fromArray(x.value);break;case"m3":y.uniforms[_].value=(new zs).fromArray(x.value);break;case"m4":y.uniforms[_].value=(new Br).fromArray(x.value);break;default:y.uniforms[_].value=x.value}}if(void 0!==l.defines&&(y.defines=l.defines),void 0!==l.vertexShader&&(y.vertexShader=l.vertexShader),void 0!==l.fragmentShader&&(y.fragmentShader=l.fragmentShader),void 0!==l.extensions)for(const _ in l.extensions)y.extensions[_]=l.extensions[_];if(void 0!==l.shading&&(y.flatShading=1===l.shading),void 0!==l.size&&(y.size=l.size),void 0!==l.sizeAttenuation&&(y.sizeAttenuation=l.sizeAttenuation),void 0!==l.map&&(y.map=m(l.map)),void 0!==l.matcap&&(y.matcap=m(l.matcap)),void 0!==l.alphaMap&&(y.alphaMap=m(l.alphaMap)),void 0!==l.bumpMap&&(y.bumpMap=m(l.bumpMap)),void 0!==l.bumpScale&&(y.bumpScale=l.bumpScale),void 0!==l.normalMap&&(y.normalMap=m(l.normalMap)),void 0!==l.normalMapType&&(y.normalMapType=l.normalMapType),void 0!==l.normalScale){let _=l.normalScale;!1===Array.isArray(_)&&(_=[_,_]),y.normalScale=(new bn).fromArray(_)}return void 0!==l.displacementMap&&(y.displacementMap=m(l.displacementMap)),void 0!==l.displacementScale&&(y.displacementScale=l.displacementScale),void 0!==l.displacementBias&&(y.displacementBias=l.displacementBias),void 0!==l.roughnessMap&&(y.roughnessMap=m(l.roughnessMap)),void 0!==l.metalnessMap&&(y.metalnessMap=m(l.metalnessMap)),void 0!==l.emissiveMap&&(y.emissiveMap=m(l.emissiveMap)),void 0!==l.emissiveIntensity&&(y.emissiveIntensity=l.emissiveIntensity),void 0!==l.specularMap&&(y.specularMap=m(l.specularMap)),void 0!==l.envMap&&(y.envMap=m(l.envMap)),void 0!==l.envMapIntensity&&(y.envMapIntensity=l.envMapIntensity),void 0!==l.reflectivity&&(y.reflectivity=l.reflectivity),void 0!==l.refractionRatio&&(y.refractionRatio=l.refractionRatio),void 0!==l.lightMap&&(y.lightMap=m(l.lightMap)),void 0!==l.lightMapIntensity&&(y.lightMapIntensity=l.lightMapIntensity),void 0!==l.aoMap&&(y.aoMap=m(l.aoMap)),void 0!==l.aoMapIntensity&&(y.aoMapIntensity=l.aoMapIntensity),void 0!==l.gradientMap&&(y.gradientMap=m(l.gradientMap)),void 0!==l.clearcoatMap&&(y.clearcoatMap=m(l.clearcoatMap)),void 0!==l.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap=m(l.clearcoatRoughnessMap)),void 0!==l.clearcoatNormalMap&&(y.clearcoatNormalMap=m(l.clearcoatNormalMap)),void 0!==l.clearcoatNormalScale&&(y.clearcoatNormalScale=(new bn).fromArray(l.clearcoatNormalScale)),void 0!==l.transmission&&(y.transmission=l.transmission),void 0!==l.transmissionMap&&(y.transmissionMap=m(l.transmissionMap)),y}setTextures(l){return this.textures=l,this}}const vS={decodeText:function(h){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(h);let l="";for(let d=0,m=h.length;d<m;d++)l+=String.fromCharCode(h[d]);try{return decodeURIComponent(escape(l))}catch(d){return l}},extractUrlBase:function(h){const l=h.lastIndexOf("/");return-1===l?"./":h.substr(0,l+1)}};function dm(){fr.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function p1(h,l,d,m){"number"==typeof d&&(m=d,d=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Kr.call(this,h,l,d),this.meshPerAttribute=m||1}dm.prototype=Object.assign(Object.create(fr.prototype),{constructor:dm,isInstancedBufferGeometry:!0,copy:function(h){return fr.prototype.copy.call(this,h),this.instanceCount=h.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const h=fr.prototype.toJSON.call(this);return h.instanceCount=this.instanceCount,h.isInstancedBufferGeometry=!0,h}}),p1.prototype=Object.assign(Object.create(Kr.prototype),{constructor:p1,isInstancedBufferAttribute:!0,copy:function(h){return Kr.prototype.copy.call(this,h),this.meshPerAttribute=h.meshPerAttribute,this},toJSON:function(){const h=Kr.prototype.toJSON.call(this);return h.meshPerAttribute=this.meshPerAttribute,h.isInstancedBufferAttribute=!0,h}});class m1 extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=this,x=new _c(_.manager);x.setPath(_.path),x.setRequestHeader(_.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){try{d(_.parse(JSON.parse(D)))}catch(k){y?y(k):console.error(k),_.manager.itemError(l)}},m,y)}parse(l){const d={},m={};function y(G,ee){if(void 0!==d[ee])return d[ee];const de=G.interleavedBuffers[ee],ie=function _(G,ee){if(void 0!==m[ee])return m[ee];const ie=new Uint32Array(G.arrayBuffers[ee]).buffer;return m[ee]=ie,ie}(G,de.buffer),ke=new fu(zp(de.type,ie),de.stride);return ke.uuid=de.uuid,d[ee]=ke,ke}const x=l.isInstancedBufferGeometry?new dm:new fr,D=l.data.index;if(void 0!==D){const G=zp(D.type,D.array);x.setIndex(new Kr(G,1))}const k=l.data.attributes;for(const G in k){const ee=k[G];let ue;if(ee.isInterleavedBufferAttribute)ue=new em(y(l.data,ee.data),ee.itemSize,ee.offset,ee.normalized);else{const de=zp(ee.type,ee.array);ue=new(ee.isInstancedBufferAttribute?p1:Kr)(de,ee.itemSize,ee.normalized)}void 0!==ee.name&&(ue.name=ee.name),x.setAttribute(G,ue)}const P=l.data.morphAttributes;if(P)for(const G in P){const ee=P[G],ue=[];for(let de=0,ie=ee.length;de<ie;de++){const q=ee[de];let ke;ke=q.isInterleavedBufferAttribute?new em(y(l.data,q.data),q.itemSize,q.offset,q.normalized):new Kr(zp(q.type,q.array),q.itemSize,q.normalized),void 0!==q.name&&(ke.name=q.name),ue.push(ke)}x.morphAttributes[G]=ue}l.data.morphTargetsRelative&&(x.morphTargetsRelative=!0);const B=l.data.groups||l.data.drawcalls||l.data.offsets;if(void 0!==B)for(let G=0,ee=B.length;G!==ee;++G){const ue=B[G];x.addGroup(ue.start,ue.count,ue.materialIndex)}const U=l.data.boundingSphere;if(void 0!==U){const G=new De;void 0!==U.center&&G.fromArray(U.center),x.boundingSphere=new Cl(G,U.radius)}return l.name&&(x.name=l.name),l.userData&&(x.userData=l.userData),x}}class A$ extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=this,x=""===this.path?vS.extractUrlBase(l):this.path;this.resourcePath=this.resourcePath||x;const D=new _c(this.manager);D.setPath(this.path),D.setRequestHeader(this.requestHeader),D.setWithCredentials(this.withCredentials),D.load(l,function(k){let P=null;try{P=JSON.parse(k)}catch(B){return void 0!==y&&y(B),void console.error("THREE:ObjectLoader: Can't parse "+l+".",B.message)}const j=P.metadata;void 0!==j&&void 0!==j.type&&"geometry"!==j.type.toLowerCase()?_.parse(P,d):console.error("THREE.ObjectLoader: Can't load "+l)},m,y)}parse(l,d){const m=this.parseAnimations(l.animations),y=this.parseShapes(l.shapes),_=this.parseGeometries(l.geometries,y),x=this.parseImages(l.images,function(){void 0!==d&&d(P)}),D=this.parseTextures(l.textures,x),k=this.parseMaterials(l.materials,D),P=this.parseObject(l.object,_,k,m),j=this.parseSkeletons(l.skeletons,P);if(this.bindSkeletons(P,j),void 0!==d){let B=!1;for(const U in x)if(x[U]instanceof HTMLImageElement){B=!0;break}!1===B&&d(P)}return P}parseShapes(l){const d={};if(void 0!==l)for(let m=0,y=l.length;m<y;m++){const _=(new Yh).fromJSON(l[m]);d[_.uuid]=_}return d}parseSkeletons(l,d){const m={},y={};if(d.traverse(function(_){_.isBone&&(y[_.uuid]=_)}),void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=(new uy).fromJSON(l[_],y);m[D.uuid]=D}return m}parseGeometries(l,d){const m={};let y;if(void 0!==l){const _=new m1;for(let x=0,D=l.length;x<D;x++){let k;const P=l[x];switch(P.type){case"PlaneGeometry":case"PlaneBufferGeometry":k=new Rl[P.type](P.width,P.height,P.widthSegments,P.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":k=new Rl[P.type](P.width,P.height,P.depth,P.widthSegments,P.heightSegments,P.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new Rl[P.type](P.radius,P.segments,P.thetaStart,P.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new Rl[P.type](P.radiusTop,P.radiusBottom,P.height,P.radialSegments,P.heightSegments,P.openEnded,P.thetaStart,P.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new Rl[P.type](P.radius,P.height,P.radialSegments,P.heightSegments,P.openEnded,P.thetaStart,P.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new Rl[P.type](P.radius,P.widthSegments,P.heightSegments,P.phiStart,P.phiLength,P.thetaStart,P.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new Rl[P.type](P.radius,P.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new Rl[P.type](P.innerRadius,P.outerRadius,P.thetaSegments,P.phiSegments,P.thetaStart,P.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new Rl[P.type](P.radius,P.tube,P.radialSegments,P.tubularSegments,P.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new Rl[P.type](P.radius,P.tube,P.tubularSegments,P.radialSegments,P.p,P.q);break;case"TubeGeometry":case"TubeBufferGeometry":k=new Rl[P.type]((new fS[P.path.type]).fromJSON(P.path),P.tubularSegments,P.radius,P.radialSegments,P.closed);break;case"LatheGeometry":case"LatheBufferGeometry":k=new Rl[P.type](P.points,P.segments,P.phiStart,P.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new Rl[P.type](P.vertices,P.indices,P.radius,P.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":y=[];for(let B=0,U=P.shapes.length;B<U;B++)y.push(d[P.shapes[B]]);k=new Rl[P.type](y,P.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":y=[];for(let B=0,U=P.shapes.length;B<U;B++)y.push(d[P.shapes[B]]);const j=P.options.extrudePath;void 0!==j&&(P.options.extrudePath=(new fS[j.type]).fromJSON(j)),k=new Rl[P.type](y,P.options);break;case"BufferGeometry":case"InstancedBufferGeometry":k=_.parse(P);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+P.type+'"');continue}k.uuid=P.uuid,void 0!==P.name&&(k.name=P.name),!0===k.isBufferGeometry&&void 0!==P.userData&&(k.userData=P.userData),m[P.uuid]=k}}return m}parseMaterials(l,d){const m={},y={};if(void 0!==l){const _=new yS;_.setTextures(d);for(let x=0,D=l.length;x<D;x++){const k=l[x];if("MultiMaterial"===k.type){const P=[];for(let j=0;j<k.materials.length;j++){const B=k.materials[j];void 0===m[B.uuid]&&(m[B.uuid]=_.parse(B)),P.push(m[B.uuid])}y[k.uuid]=P}else void 0===m[k.uuid]&&(m[k.uuid]=_.parse(k)),y[k.uuid]=m[k.uuid]}}return y}parseAnimations(l){const d={};if(void 0!==l)for(let m=0;m<l.length;m++){const _=Y_.parse(l[m]);d[_.uuid]=_}return d}parseImages(l,d){const m=this,y={};let _;function D(k){if("string"==typeof k){const P=k;return function x(k){return m.manager.itemStart(k),_.load(k,function(){m.manager.itemEnd(k)},void 0,function(){m.manager.itemError(k),m.manager.itemEnd(k)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(P)?P:m.resourcePath+P)}return k.data?{data:zp(k.type,k.data),width:k.width,height:k.height}:null}if(void 0!==l&&l.length>0){const k=new t1(d);_=new Fr(k),_.setCrossOrigin(this.crossOrigin);for(let P=0,j=l.length;P<j;P++){const B=l[P],U=B.url;if(Array.isArray(U)){y[B.uuid]=[];for(let G=0,ee=U.length;G<ee;G++){const de=D(U[G]);null!==de&&(de instanceof HTMLImageElement?y[B.uuid].push(de):y[B.uuid].push(new Gl(de.data,de.width,de.height)))}}else{const G=D(B.url);null!==G&&(y[B.uuid]=G)}}}return y}parseTextures(l,d){function m(_,x){return"number"==typeof _?_:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",_),x[_])}const y={};if(void 0!==l)for(let _=0,x=l.length;_<x;_++){const D=l[_];let k;void 0===D.image&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),void 0===d[D.image]&&console.warn("THREE.ObjectLoader: Undefined image",D.image);const P=d[D.image];Array.isArray(P)?(k=new Nf(P),6===P.length&&(k.needsUpdate=!0)):(k=P&&P.data?new Gl(P.data,P.width,P.height):new vo(P),P&&(k.needsUpdate=!0)),k.uuid=D.uuid,void 0!==D.name&&(k.name=D.name),void 0!==D.mapping&&(k.mapping=m(D.mapping,_S)),void 0!==D.offset&&k.offset.fromArray(D.offset),void 0!==D.repeat&&k.repeat.fromArray(D.repeat),void 0!==D.center&&k.center.fromArray(D.center),void 0!==D.rotation&&(k.rotation=D.rotation),void 0!==D.wrap&&(k.wrapS=m(D.wrap[0],Q_),k.wrapT=m(D.wrap[1],Q_)),void 0!==D.format&&(k.format=D.format),void 0!==D.type&&(k.type=D.type),void 0!==D.encoding&&(k.encoding=D.encoding),void 0!==D.minFilter&&(k.minFilter=m(D.minFilter,bS)),void 0!==D.magFilter&&(k.magFilter=m(D.magFilter,bS)),void 0!==D.anisotropy&&(k.anisotropy=D.anisotropy),void 0!==D.flipY&&(k.flipY=D.flipY),void 0!==D.premultiplyAlpha&&(k.premultiplyAlpha=D.premultiplyAlpha),void 0!==D.unpackAlignment&&(k.unpackAlignment=D.unpackAlignment),y[D.uuid]=k}return y}parseObject(l,d,m,y){let _,k,P;function x(j){return void 0===d[j]&&console.warn("THREE.ObjectLoader: Undefined geometry",j),d[j]}function D(j){if(void 0!==j){if(Array.isArray(j)){const B=[];for(let U=0,G=j.length;U<G;U++){const ee=j[U];void 0===m[ee]&&console.warn("THREE.ObjectLoader: Undefined material",ee),B.push(m[ee])}return B}return void 0===m[j]&&console.warn("THREE.ObjectLoader: Undefined material",j),m[j]}}switch(l.type){case"Scene":_=new E_,void 0!==l.background&&Number.isInteger(l.background)&&(_.background=new xr(l.background)),void 0!==l.fog&&("Fog"===l.fog.type?_.fog=new C_(l.fog.color,l.fog.near,l.fog.far):"FogExp2"===l.fog.type&&(_.fog=new Qp(l.fog.color,l.fog.density)));break;case"PerspectiveCamera":_=new ks(l.fov,l.aspect,l.near,l.far),void 0!==l.focus&&(_.focus=l.focus),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.filmGauge&&(_.filmGauge=l.filmGauge),void 0!==l.filmOffset&&(_.filmOffset=l.filmOffset),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"OrthographicCamera":_=new Ry(l.left,l.right,l.top,l.bottom,l.near,l.far),void 0!==l.zoom&&(_.zoom=l.zoom),void 0!==l.view&&(_.view=Object.assign({},l.view));break;case"AmbientLight":_=new gS(l.color,l.intensity);break;case"DirectionalLight":_=new Pu(l.color,l.intensity);break;case"PointLight":_=new cm(l.color,l.intensity,l.distance,l.decay);break;case"RectAreaLight":_=new h1(l.color,l.intensity,l.width,l.height);break;case"SpotLight":_=new DP(l.color,l.intensity,l.distance,l.angle,l.penumbra,l.decay);break;case"HemisphereLight":_=new c1(l.color,l.groundColor,l.intensity);break;case"LightProbe":_=(new Lu).fromJSON(l);break;case"SkinnedMesh":k=x(l.geometry),P=D(l.material),_=new B0(k,P),void 0!==l.bindMode&&(_.bindMode=l.bindMode),void 0!==l.bindMatrix&&_.bindMatrix.fromArray(l.bindMatrix),void 0!==l.skeleton&&(_.skeleton=l.skeleton);break;case"Mesh":k=x(l.geometry),P=D(l.material),_=new dn(k,P);break;case"InstancedMesh":k=x(l.geometry),P=D(l.material);const B=l.instanceMatrix;_=new dy(k,P,l.count),_.instanceMatrix=new Kr(new Float32Array(B.array),16);break;case"LOD":_=new cP;break;case"Line":_=new rd(x(l.geometry),D(l.material));break;case"LineLoop":_=new UT(x(l.geometry),D(l.material));break;case"LineSegments":_=new ul(x(l.geometry),D(l.material));break;case"PointCloud":case"Points":_=new fa(x(l.geometry),D(l.material));break;case"Sprite":_=new N0(D(l.material));break;case"Group":_=new qp;break;case"Bone":_=new D_;break;default:_=new $r}if(_.uuid=l.uuid,void 0!==l.name&&(_.name=l.name),void 0!==l.matrix?(_.matrix.fromArray(l.matrix),void 0!==l.matrixAutoUpdate&&(_.matrixAutoUpdate=l.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(void 0!==l.position&&_.position.fromArray(l.position),void 0!==l.rotation&&_.rotation.fromArray(l.rotation),void 0!==l.quaternion&&_.quaternion.fromArray(l.quaternion),void 0!==l.scale&&_.scale.fromArray(l.scale)),void 0!==l.castShadow&&(_.castShadow=l.castShadow),void 0!==l.receiveShadow&&(_.receiveShadow=l.receiveShadow),l.shadow&&(void 0!==l.shadow.bias&&(_.shadow.bias=l.shadow.bias),void 0!==l.shadow.normalBias&&(_.shadow.normalBias=l.shadow.normalBias),void 0!==l.shadow.radius&&(_.shadow.radius=l.shadow.radius),void 0!==l.shadow.mapSize&&_.shadow.mapSize.fromArray(l.shadow.mapSize),void 0!==l.shadow.camera&&(_.shadow.camera=this.parseObject(l.shadow.camera))),void 0!==l.visible&&(_.visible=l.visible),void 0!==l.frustumCulled&&(_.frustumCulled=l.frustumCulled),void 0!==l.renderOrder&&(_.renderOrder=l.renderOrder),void 0!==l.userData&&(_.userData=l.userData),void 0!==l.layers&&(_.layers.mask=l.layers),void 0!==l.children){const j=l.children;for(let B=0;B<j.length;B++)_.add(this.parseObject(j[B],d,m,y))}if(void 0!==l.animations){const j=l.animations;for(let B=0;B<j.length;B++)_.animations.push(y[j[B]])}if("LOD"===l.type){void 0!==l.autoUpdate&&(_.autoUpdate=l.autoUpdate);const j=l.levels;for(let B=0;B<j.length;B++){const U=j[B],G=_.getObjectByProperty("uuid",U.object);void 0!==G&&_.addLevel(G,U.distance)}}return _}bindSkeletons(l,d){0!==Object.keys(d).length&&l.traverse(function(m){if(!0===m.isSkinnedMesh&&void 0!==m.skeleton){const y=d[m.skeleton];void 0===y?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",m.skeleton):m.bind(y,m.bindMatrix)}})}setTexturePath(l){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(l)}}const _S={UVMapping:it,CubeReflectionMapping:Ot,CubeRefractionMapping:St,EquirectangularReflectionMapping:pt,EquirectangularRefractionMapping:et,CubeUVReflectionMapping:Ze,CubeUVRefractionMapping:ht},Q_={RepeatWrapping:Lt,ClampToEdgeWrapping:Sn,MirroredRepeatWrapping:lr},bS={NearestFilter:rr,NearestMipmapNearestFilter:_r,NearestMipmapLinearFilter:Kn,LinearFilter:Er,LinearMipmapNearestFilter:Jo,LinearMipmapLinearFilter:Oi};function eb(h){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ls.call(this,h),this.options={premultiplyAlpha:"none"}}eb.prototype=Object.assign(Object.create(Ls.prototype),{constructor:eb,isImageBitmapLoader:!0,setOptions:function(l){return this.options=l,this},load:function(h,l,d,m){void 0===h&&(h=""),void 0!==this.path&&(h=this.path+h),h=this.manager.resolveURL(h);const y=this,_=um.get(h);if(void 0!==_)return y.manager.itemStart(h),setTimeout(function(){l&&l(_),y.manager.itemEnd(h)},0),_;const x={};x.credentials="anonymous"===this.crossOrigin?"same-origin":"include",x.headers=this.requestHeader,fetch(h,x).then(function(D){return D.blob()}).then(function(D){return createImageBitmap(D,Object.assign(y.options,{colorSpaceConversion:"none"}))}).then(function(D){um.add(h,D),l&&l(D),y.manager.itemEnd(h)}).catch(function(D){m&&m(D),y.manager.itemError(h),y.manager.itemEnd(h)}),y.manager.itemStart(h)}});class wS{constructor(){this.type="ShapePath",this.color=new xr,this.subPaths=[],this.currentPath=null}moveTo(l,d){return this.currentPath=new X_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(l,d),this}lineTo(l,d){return this.currentPath.lineTo(l,d),this}quadraticCurveTo(l,d,m,y){return this.currentPath.quadraticCurveTo(l,d,m,y),this}bezierCurveTo(l,d,m,y,_,x){return this.currentPath.bezierCurveTo(l,d,m,y,_,x),this}splineThru(l){return this.currentPath.splineThru(l),this}toShapes(l,d){function m(q){const ke=[];for(let _e=0,We=q.length;_e<We;_e++){const Ee=q[_e],Re=new Yh;Re.curves=Ee.curves,ke.push(Re)}return ke}function y(q,ke){const _e=ke.length;let We=!1;for(let Ee=_e-1,Re=0;Re<_e;Ee=Re++){let $e=ke[Ee],lt=ke[Re],Dt=lt.x-$e.x,Ht=lt.y-$e.y;if(Math.abs(Ht)>Number.EPSILON){if(Ht<0&&($e=ke[Re],Dt=-Dt,lt=ke[Ee],Ht=-Ht),q.y<$e.y||q.y>lt.y)continue;if(q.y===$e.y){if(q.x===$e.x)return!0}else{const $t=Ht*(q.x-$e.x)-Dt*(q.y-$e.y);if(0===$t)return!0;if($t<0)continue;We=!We}}else{if(q.y!==$e.y)continue;if(lt.x<=q.x&&q.x<=$e.x||$e.x<=q.x&&q.x<=lt.x)return!0}}return We}const _=Uf.isClockWise,x=this.subPaths;if(0===x.length)return[];if(!0===d)return m(x);let D,k,P;const j=[];if(1===x.length)return k=x[0],P=new Yh,P.curves=k.curves,j.push(P),j;let B=!_(x[0].getPoints());B=l?!B:B;const U=[],G=[];let de,ie,ee=[],ue=0;G[ue]=void 0,ee[ue]=[];for(let q=0,ke=x.length;q<ke;q++)k=x[q],de=k.getPoints(),D=_(de),D=l?!D:D,D?(!B&&G[ue]&&ue++,G[ue]={s:new Yh,p:de},G[ue].s.curves=k.curves,B&&ue++,ee[ue]=[]):ee[ue].push({h:k,p:de[0]});if(!G[0])return m(x);if(G.length>1){let q=!1;const ke=[];for(let _e=0,We=G.length;_e<We;_e++)U[_e]=[];for(let _e=0,We=G.length;_e<We;_e++){const Ee=ee[_e];for(let Re=0;Re<Ee.length;Re++){const $e=Ee[Re];let lt=!0;for(let Dt=0;Dt<G.length;Dt++)y($e.p,G[Dt].p)&&(_e!==Dt&&ke.push({froms:_e,tos:Dt,hole:Re}),lt?(lt=!1,U[Dt].push($e)):q=!0);lt&&U[_e].push($e)}}ke.length>0&&(q||(ee=U))}for(let q=0,ke=G.length;q<ke;q++){P=G[q].s,j.push(P),ie=ee[q];for(let _e=0,We=ie.length;_e<We;_e++)P.holes.push(ie[_e].h)}return j}}class OP{constructor(l){this.type="Font",this.data=l}generateShapes(l,d=100){const m=[],y=function tV(h,l,d){const m=Array.from(h),y=l/d.resolution,_=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*y,x=[];let D=0,k=0;for(let P=0;P<m.length;P++){const j=m[P];if("\n"===j)D=0,k-=_;else{const B=nV(j,y,D,k,d);D+=B.offsetX,x.push(B.path)}}return x}(l,d,this.data);for(let _=0,x=y.length;_<x;_++)Array.prototype.push.apply(m,y[_].toShapes());return m}}function nV(h,l,d,m,y){const _=y.glyphs[h]||y.glyphs["?"];if(!_)return void console.error('THREE.Font: character "'+h+'" does not exists in font family '+y.familyName+".");const x=new wS;let D,k,P,j,B,U,G,ee;if(_.o){const ue=_._cachedOutline||(_._cachedOutline=_.o.split(" "));for(let de=0,ie=ue.length;de<ie;)switch(ue[de++]){case"m":D=ue[de++]*l+d,k=ue[de++]*l+m,x.moveTo(D,k);break;case"l":D=ue[de++]*l+d,k=ue[de++]*l+m,x.lineTo(D,k);break;case"q":P=ue[de++]*l+d,j=ue[de++]*l+m,B=ue[de++]*l+d,U=ue[de++]*l+m,x.quadraticCurveTo(B,U,P,j);break;case"b":P=ue[de++]*l+d,j=ue[de++]*l+m,B=ue[de++]*l+d,U=ue[de++]*l+m,G=ue[de++]*l+d,ee=ue[de++]*l+m,x.bezierCurveTo(B,U,G,ee,P,j)}}return{offsetX:_.ha*l,path:x}}OP.prototype.isFont=!0;class rV extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=this,x=new _c(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(_.withCredentials),x.load(l,function(D){let k;try{k=JSON.parse(D)}catch(j){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(D.substring(65,D.length-2))}const P=_.parse(k);d&&d(P)},m,y)}parse(l){return new OP(l)}}let SS;const MS={getContext:function(){return void 0===SS&&(SS=new(window.AudioContext||window.webkitAudioContext)),SS},setContext:function(h){SS=h}};class iV extends Ls{constructor(l){super(l)}load(l,d,m,y){const _=this,x=new _c(this.manager);x.setResponseType("arraybuffer"),x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(l,function(D){try{const k=D.slice(0);MS.getContext().decodeAudioData(k,function(j){d(j)})}catch(k){y?y(k):console.error(k),_.manager.itemError(l)}},m,y)}}class kP extends Lu{constructor(l,d,m=1){super(void 0,m);const y=(new xr).set(l),_=(new xr).set(d),x=new De(y.r,y.g,y.b),D=new De(_.r,_.g,_.b),k=Math.sqrt(Math.PI),P=k*Math.sqrt(.75);this.sh.coefficients[0].copy(x).add(D).multiplyScalar(k),this.sh.coefficients[1].copy(x).sub(D).multiplyScalar(P)}}kP.prototype.isHemisphereLightProbe=!0;class oV extends Lu{constructor(l,d=1){super(void 0,d);const m=(new xr).set(l);this.sh.coefficients[0].set(m.r,m.g,m.b).multiplyScalar(2*Math.sqrt(Math.PI))}}oV.prototype.isAmbientLightProbe=!0;const g1=new Br,y1=new Br;class sV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ks,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ks,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(l){const d=this._cache;if(d.focus!==l.focus||d.fov!==l.fov||d.aspect!==l.aspect*this.aspect||d.near!==l.near||d.far!==l.far||d.zoom!==l.zoom||d.eyeSep!==this.eyeSep){d.focus=l.focus,d.fov=l.fov,d.aspect=l.aspect*this.aspect,d.near=l.near,d.far=l.far,d.zoom=l.zoom,d.eyeSep=this.eyeSep;const y=l.projectionMatrix.clone(),_=d.eyeSep/2,x=_*d.near/d.focus,D=d.near*Math.tan(An.DEG2RAD*d.fov*.5)/d.zoom;let k,P;y1.elements[12]=-_,g1.elements[12]=_,k=-D*d.aspect+x,P=D*d.aspect+x,y.elements[0]=2*d.near/(P-k),y.elements[8]=(P+k)/(P-k),this.cameraL.projectionMatrix.copy(y),k=-D*d.aspect-x,P=D*d.aspect-x,y.elements[0]=2*d.near/(P-k),y.elements[8]=(P+k)/(P-k),this.cameraR.projectionMatrix.copy(y)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(y1),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(g1)}}class xS{constructor(l){this.autoStart=void 0===l||l,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let l=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const d=aV();l=(d-this.oldTime)/1e3,this.oldTime=d,this.elapsedTime+=l}return l}}function aV(){return("undefined"==typeof performance?Date:performance).now()}const Dy=new De,lV=new pi,O$=new De,Ay=new De;class k$ extends $r{constructor(){super(),this.type="AudioListener",this.context=MS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xS}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(l){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=l,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}updateMatrixWorld(l){super.updateMatrixWorld(l);const d=this.context.listener,m=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Dy,lV,O$),Ay.set(0,0,-1).applyQuaternion(lV),d.positionX){const y=this.context.currentTime+this.timeDelta;d.positionX.linearRampToValueAtTime(Dy.x,y),d.positionY.linearRampToValueAtTime(Dy.y,y),d.positionZ.linearRampToValueAtTime(Dy.z,y),d.forwardX.linearRampToValueAtTime(Ay.x,y),d.forwardY.linearRampToValueAtTime(Ay.y,y),d.forwardZ.linearRampToValueAtTime(Ay.z,y),d.upX.linearRampToValueAtTime(m.x,y),d.upY.linearRampToValueAtTime(m.y,y),d.upZ.linearRampToValueAtTime(m.z,y)}else d.setPosition(Dy.x,Dy.y,Dy.z),d.setOrientation(Ay.x,Ay.y,Ay.z,m.x,m.y,m.z)}}class PP extends $r{constructor(l){super(),this.type="Audio",this.listener=l,this.context=l.context,this.gain=this.context.createGain(),this.gain.connect(l.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(l){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=l,this.connect(),this}setMediaElementSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(l),this.connect(),this}setMediaStreamSource(l){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(l),this.connect(),this}setBuffer(l){return this.buffer=l,this.sourceType="buffer",this.autoplay&&this.play(),this}play(l=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+l;const d=this.context.createBufferSource();return d.buffer=this.buffer,d.loop=this.loop,d.loopStart=this.loopStart,d.loopEnd=this.loopEnd,d.onended=this.onEnded.bind(this),d.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=d,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].connect(this.filters[l]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let l=1,d=this.filters.length;l<d;l++)this.filters[l-1].disconnect(this.filters[l]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(l){return l||(l=[]),!0===this._connected?(this.disconnect(),this.filters=l.slice(),this.connect()):this.filters=l.slice(),this}setDetune(l){if(this.detune=l,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(l){return this.setFilters(l?[l]:[])}setPlaybackRate(l){if(!1!==this.hasPlaybackControl)return this.playbackRate=l,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(l){if(!1!==this.hasPlaybackControl)return this.loop=l,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(l){return this.loopStart=l,this}setLoopEnd(l){return this.loopEnd=l,this}getVolume(){return this.gain.gain.value}setVolume(l){return this.gain.gain.setTargetAtTime(l,this.context.currentTime,.01),this}}const Oy=new De,uV=new pi,P$=new De,pu=new De;class v1 extends PP{constructor(l){super(l),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(l){return this.panner.refDistance=l,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(l){return this.panner.rolloffFactor=l,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(l){return this.panner.distanceModel=l,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(l){return this.panner.maxDistance=l,this}setDirectionalCone(l,d,m){return this.panner.coneInnerAngle=l,this.panner.coneOuterAngle=d,this.panner.coneOuterGain=m,this}updateMatrixWorld(l){if(super.updateMatrixWorld(l),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Oy,uV,P$),pu.set(0,0,1).applyQuaternion(uV);const d=this.panner;if(d.positionX){const m=this.context.currentTime+this.listener.timeDelta;d.positionX.linearRampToValueAtTime(Oy.x,m),d.positionY.linearRampToValueAtTime(Oy.y,m),d.positionZ.linearRampToValueAtTime(Oy.z,m),d.orientationX.linearRampToValueAtTime(pu.x,m),d.orientationY.linearRampToValueAtTime(pu.y,m),d.orientationZ.linearRampToValueAtTime(pu.z,m)}else d.setPosition(Oy.x,Oy.y,Oy.z),d.setOrientation(pu.x,pu.y,pu.z)}}class LP{constructor(l,d=2048){this.analyser=l.context.createAnalyser(),this.analyser.fftSize=d,this.data=new Uint8Array(this.analyser.frequencyBinCount),l.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let l=0;const d=this.getFrequencyData();for(let m=0;m<d.length;m++)l+=d[m];return l/d.length}}class _1{constructor(l,d,m){let y,_,x;switch(this.binding=l,this.valueSize=m,d){case"quaternion":y=this._slerp,_=this._slerpAdditive,x=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*m),this._workIndex=5;break;case"string":case"bool":y=this._select,_=this._select,x=this._setAdditiveIdentityOther,this.buffer=new Array(5*m);break;default:y=this._lerp,_=this._lerpAdditive,x=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*m)}this._mixBufferRegion=y,this._mixBufferRegionAdditive=_,this._setIdentity=x,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(l,d){const m=this.buffer,y=this.valueSize,_=l*y+y;let x=this.cumulativeWeight;if(0===x){for(let D=0;D!==y;++D)m[_+D]=m[D];x=d}else x+=d,this._mixBufferRegion(m,_,0,d/x,y);this.cumulativeWeight=x}accumulateAdditive(l){const d=this.buffer,m=this.valueSize,y=m*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(d,y,0,l,m),this.cumulativeWeightAdditive+=l}apply(l){const d=this.valueSize,m=this.buffer,y=l*d+d,_=this.cumulativeWeight,x=this.cumulativeWeightAdditive,D=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,_<1&&this._mixBufferRegion(m,y,d*this._origIndex,1-_,d),x>0&&this._mixBufferRegionAdditive(m,y,this._addIndex*d,1,d);for(let k=d,P=d+d;k!==P;++k)if(m[k]!==m[k+d]){D.setValue(m,y);break}}saveOriginalState(){const d=this.buffer,m=this.valueSize,y=m*this._origIndex;this.binding.getValue(d,y);for(let _=m,x=y;_!==x;++_)d[_]=d[y+_%m];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const l=this._addIndex*this.valueSize,d=l+this.valueSize;for(let m=l;m<d;m++)this.buffer[m]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const l=this._origIndex*this.valueSize,d=this._addIndex*this.valueSize;for(let m=0;m<this.valueSize;m++)this.buffer[d+m]=this.buffer[l+m]}_select(l,d,m,y,_){if(y>=.5)for(let x=0;x!==_;++x)l[d+x]=l[m+x]}_slerp(l,d,m,y){pi.slerpFlat(l,d,l,d,l,m,y)}_slerpAdditive(l,d,m,y,_){const x=this._workIndex*_;pi.multiplyQuaternionsFlat(l,x,l,d,l,m),pi.slerpFlat(l,d,l,d,l,x,y)}_lerp(l,d,m,y,_){const x=1-y;for(let D=0;D!==_;++D){const k=d+D;l[k]=l[k]*x+l[m+D]*y}}_lerpAdditive(l,d,m,y,_){for(let x=0;x!==_;++x){const D=d+x;l[D]=l[D]+l[m+x]*y}}}const tb="\\[\\]\\.:\\/",IP=new RegExp("["+tb+"]","g"),nb="[^"+tb+"]",cV="[^"+tb.replace("\\.","")+"]",Gh=/((?:WC+[\/:])*)/.source.replace("WC",nb),NP=/(WCOD+)?/.source.replace("WCOD",cV),dV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nb),b1=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nb),fV=new RegExp("^"+Gh+NP+dV+b1+"$"),FP=["material","materials","bones"];function HP(h,l,d){const m=d||Dl.parseTrackName(l);this._targetGroup=h,this._bindings=h.subscribe_(l,m)}function Dl(h,l,d){this.path=l,this.parsedPath=d||Dl.parseTrackName(l),this.node=Dl.findNode(h,this.parsedPath.nodeName)||h,this.rootNode=h}Object.assign(HP.prototype,{getValue:function(h,l){this.bind();const m=this._bindings[this._targetGroup.nCachedObjects_];void 0!==m&&m.getValue(h,l)},setValue:function(h,l){const d=this._bindings;for(let m=this._targetGroup.nCachedObjects_,y=d.length;m!==y;++m)d[m].setValue(h,l)},bind:function(){const h=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=h.length;l!==d;++l)h[l].bind()},unbind:function(){const h=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=h.length;l!==d;++l)h[l].unbind()}}),Object.assign(Dl,{Composite:HP,create:function(h,l,d){return h&&h.isAnimationObjectGroup?new Dl.Composite(h,l,d):new Dl(h,l,d)},sanitizeNodeName:function(h){return h.replace(/\s/g,"_").replace(IP,"")},parseTrackName:function(h){const l=fV.exec(h);if(!l)throw new Error("PropertyBinding: Cannot parse trackName: "+h);const d={nodeName:l[2],objectName:l[3],objectIndex:l[4],propertyName:l[5],propertyIndex:l[6]},m=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==m&&-1!==m){const y=d.nodeName.substring(m+1);-1!==FP.indexOf(y)&&(d.nodeName=d.nodeName.substring(0,m),d.objectName=y)}if(null===d.propertyName||0===d.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+h);return d},findNode:function(h,l){if(!l||""===l||"."===l||-1===l||l===h.name||l===h.uuid)return h;if(h.skeleton){const d=h.skeleton.getBoneByName(l);if(void 0!==d)return d}if(h.children){const d=function(y){for(let _=0;_<y.length;_++){const x=y[_];if(x.name===l||x.uuid===l)return x;const D=d(x.children);if(D)return D}return null},m=d(h.children);if(m)return m}return null}}),Object.assign(Dl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(l,d){l[d]=this.node[this.propertyName]},function(l,d){const m=this.resolvedProperty;for(let y=0,_=m.length;y!==_;++y)l[d++]=m[y]},function(l,d){l[d]=this.resolvedProperty[this.propertyIndex]},function(l,d){this.resolvedProperty.toArray(l,d)}],SetterByBindingTypeAndVersioning:[[function(l,d){this.targetObject[this.propertyName]=l[d]},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.targetObject[this.propertyName]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){const m=this.resolvedProperty;for(let y=0,_=m.length;y!==_;++y)m[y]=l[d++]},function(l,d){const m=this.resolvedProperty;for(let y=0,_=m.length;y!==_;++y)m[y]=l[d++];this.targetObject.needsUpdate=!0},function(l,d){const m=this.resolvedProperty;for(let y=0,_=m.length;y!==_;++y)m[y]=l[d++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty[this.propertyIndex]=l[d]},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty[this.propertyIndex]=l[d],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(l,d){this.resolvedProperty.fromArray(l,d)},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.needsUpdate=!0},function(l,d){this.resolvedProperty.fromArray(l,d),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(l,d){this.bind(),this.getValue(l,d)},setValue:function(l,d){this.bind(),this.setValue(l,d)},bind:function(){let h=this.node;const l=this.parsedPath,d=l.objectName,m=l.propertyName;let y=l.propertyIndex;if(h||(h=Dl.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=h),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!h)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(d){let k=l.objectIndex;switch(d){case"materials":if(!h.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!h.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);h=h.material.materials;break;case"bones":if(!h.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);h=h.skeleton.bones;for(let P=0;P<h.length;P++)if(h[P].name===k){k=P;break}break;default:if(void 0===h[d])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);h=h[d]}if(void 0!==k){if(void 0===h[k])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,h);h=h[k]}}const _=h[m];if(void 0===_)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l.nodeName+"."+m+" but it wasn't found.",h);let x=this.Versioning.None;this.targetObject=h,void 0!==h.needsUpdate?x=this.Versioning.NeedsUpdate:void 0!==h.matrixWorldNeedsUpdate&&(x=this.Versioning.MatrixWorldNeedsUpdate);let D=this.BindingType.Direct;if(void 0!==y){if("morphTargetInfluences"===m){if(!h.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!h.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!h.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==h.morphTargetDictionary[y]&&(y=h.morphTargetDictionary[y])}D=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=y}else void 0!==_.fromArray&&void 0!==_.toArray?(D=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(D=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=m;this.getValue=this.GetterByBindingType[D],this.setValue=this.SetterByBindingTypeAndVersioning[D][x]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Dl.prototype,{_getValue_unbound:Dl.prototype.getValue,_setValue_unbound:Dl.prototype.setValue});class rb{constructor(){this.uuid=An.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const l={};this._indicesByUUID=l;for(let m=0,y=arguments.length;m!==y;++m)l[arguments[m].uuid]=m;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}add(){const l=this._objects,d=this._indicesByUUID,m=this._paths,y=this._parsedPaths,_=this._bindings,x=_.length;let D,k=l.length,P=this.nCachedObjects_;for(let j=0,B=arguments.length;j!==B;++j){const U=arguments[j],G=U.uuid;let ee=d[G];if(void 0===ee){ee=k++,d[G]=ee,l.push(U);for(let ue=0,de=x;ue!==de;++ue)_[ue].push(new Dl(U,m[ue],y[ue]))}else if(ee<P){D=l[ee];const ue=--P,de=l[ue];d[de.uuid]=ee,l[ee]=de,d[G]=ue,l[ue]=U;for(let ie=0,q=x;ie!==q;++ie){const ke=_[ie];let We=ke[ee];ke[ee]=ke[ue],void 0===We&&(We=new Dl(U,m[ie],y[ie])),ke[ue]=We}}else l[ee]!==D&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=P}remove(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,y=m.length;let _=this.nCachedObjects_;for(let x=0,D=arguments.length;x!==D;++x){const k=arguments[x],P=k.uuid,j=d[P];if(void 0!==j&&j>=_){const B=_++,U=l[B];d[U.uuid]=j,l[j]=U,d[P]=B,l[B]=k;for(let G=0,ee=y;G!==ee;++G){const ue=m[G],ie=ue[j];ue[j]=ue[B],ue[B]=ie}}}this.nCachedObjects_=_}uncache(){const l=this._objects,d=this._indicesByUUID,m=this._bindings,y=m.length;let _=this.nCachedObjects_,x=l.length;for(let D=0,k=arguments.length;D!==k;++D){const j=arguments[D].uuid,B=d[j];if(void 0!==B)if(delete d[j],B<_){const U=--_,G=l[U],ee=--x,ue=l[ee];d[G.uuid]=B,l[B]=G,d[ue.uuid]=U,l[U]=ue,l.pop();for(let de=0,ie=y;de!==ie;++de){const q=m[de],_e=q[ee];q[B]=q[U],q[U]=_e,q.pop()}}else{const U=--x,G=l[U];U>0&&(d[G.uuid]=B),l[B]=G,l.pop();for(let ee=0,ue=y;ee!==ue;++ee){const de=m[ee];de[B]=de[U],de.pop()}}}this.nCachedObjects_=_}subscribe_(l,d){const m=this._bindingsIndicesByPath;let y=m[l];const _=this._bindings;if(void 0!==y)return _[y];const x=this._paths,D=this._parsedPaths,k=this._objects,j=this.nCachedObjects_,B=new Array(k.length);y=_.length,m[l]=y,x.push(l),D.push(d),_.push(B);for(let U=j,G=k.length;U!==G;++U)B[U]=new Dl(k[U],l,d);return B}unsubscribe_(l){const d=this._bindingsIndicesByPath,m=d[l];if(void 0!==m){const y=this._paths,_=this._parsedPaths,x=this._bindings,D=x.length-1,k=x[D];d[l[D]]=m,x[m]=k,x.pop(),_[m]=_[D],_.pop(),y[m]=y[D],y.pop()}}}rb.prototype.isAnimationObjectGroup=!0;class ky{constructor(l,d,m=null,y=d.blendMode){this._mixer=l,this._clip=d,this._localRoot=m,this.blendMode=y;const _=d.tracks,x=_.length,D=new Array(x),k={endingStart:nc,endingEnd:nc};for(let P=0;P!==x;++P){const j=_[P].createInterpolant(null);D[P]=j,j.settings=k}this._interpolantSettings=k,this._interpolants=D,this._propertyBindings=new Array(x),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ch,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(l){return this._startTime=l,this}setLoop(l,d){return this.loop=l,this.repetitions=d,this}setEffectiveWeight(l){return this.weight=l,this._effectiveWeight=this.enabled?l:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(l){return this._scheduleFading(l,0,1)}fadeOut(l){return this._scheduleFading(l,1,0)}crossFadeFrom(l,d,m){if(l.fadeOut(d),this.fadeIn(d),m){const y=this._clip.duration,_=l._clip.duration,D=y/_;l.warp(1,_/y,d),this.warp(D,1,d)}return this}crossFadeTo(l,d,m){return l.crossFadeFrom(this,d,m)}stopFading(){const l=this._weightInterpolant;return null!==l&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}setEffectiveTimeScale(l){return this.timeScale=l,this._effectiveTimeScale=this.paused?0:l,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(l){return this.timeScale=this._clip.duration/l,this.stopWarping()}syncWith(l){return this.time=l.time,this.timeScale=l.timeScale,this.stopWarping()}halt(l){return this.warp(this._effectiveTimeScale,0,l)}warp(l,d,m){const y=this._mixer,_=y.time,x=this.timeScale;let D=this._timeScaleInterpolant;null===D&&(D=y._lendControlInterpolant(),this._timeScaleInterpolant=D);const k=D.parameterPositions,P=D.sampleValues;return k[0]=_,k[1]=_+m,P[0]=l/x,P[1]=d/x,this}stopWarping(){const l=this._timeScaleInterpolant;return null!==l&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(l)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(l,d,m,y){if(!this.enabled)return void this._updateWeight(l);const _=this._startTime;if(null!==_){const k=(l-_)*m;if(k<0||0===m)return;this._startTime=null,d=m*k}d*=this._updateTimeScale(l);const x=this._updateTime(d),D=this._updateWeight(l);if(D>0){const k=this._interpolants,P=this._propertyBindings;if(this.blendMode===Th)for(let j=0,B=k.length;j!==B;++j)k[j].evaluate(x),P[j].accumulateAdditive(D);else for(let j=0,B=k.length;j!==B;++j)k[j].evaluate(x),P[j].accumulate(y,D)}}_updateWeight(l){let d=0;if(this.enabled){d=this.weight;const m=this._weightInterpolant;if(null!==m){const y=m.evaluate(l)[0];d*=y,l>m.parameterPositions[1]&&(this.stopFading(),0===y&&(this.enabled=!1))}}return this._effectiveWeight=d,d}_updateTimeScale(l){let d=0;if(!this.paused){d=this.timeScale;const m=this._timeScaleInterpolant;null!==m&&(d*=m.evaluate(l)[0],l>m.parameterPositions[1]&&(this.stopWarping(),0===d?this.paused=!0:this.timeScale=d))}return this._effectiveTimeScale=d,d}_updateTime(l){const d=this._clip.duration,m=this.loop;let y=this.time+l,_=this._loopCount;const x=m===kg;if(0===l)return-1===_?y:x&&1==(1&_)?d-y:y;if(m===Og){-1===_&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(y>=d)y=d;else{if(!(y<0)){this.time=y;break e}y=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=y,this._mixer.dispatchEvent({type:"finished",action:this,direction:l<0?-1:1})}}else{if(-1===_&&(l>=0?(_=0,this._setEndings(!0,0===this.repetitions,x)):this._setEndings(0===this.repetitions,!0,x)),y>=d||y<0){const D=Math.floor(y/d);y-=d*D,_+=Math.abs(D);const k=this.repetitions-_;if(k<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,y=l>0?d:0,this.time=y,this._mixer.dispatchEvent({type:"finished",action:this,direction:l>0?1:-1});else{if(1===k){const P=l<0;this._setEndings(P,!P,x)}else this._setEndings(!1,!1,x);this._loopCount=_,this.time=y,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:D})}}else this.time=y;if(x&&1==(1&_))return d-y}return y}_setEndings(l,d,m){const y=this._interpolantSettings;m?(y.endingStart=Id,y.endingEnd=Id):(y.endingStart=l?this.zeroSlopeAtStart?Id:nc:il,y.endingEnd=d?this.zeroSlopeAtEnd?Id:nc:il)}_scheduleFading(l,d,m){const y=this._mixer,_=y.time;let x=this._weightInterpolant;null===x&&(x=y._lendControlInterpolant(),this._weightInterpolant=x);const D=x.parameterPositions,k=x.sampleValues;return D[0]=_,k[0]=d,D[1]=_+l,k[1]=m,this}}class CS extends rc{constructor(l){super(),this._root=l,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(l,d){const m=l._localRoot||this._root,y=l._clip.tracks,_=y.length,x=l._propertyBindings,D=l._interpolants,k=m.uuid,P=this._bindingsByRootAndName;let j=P[k];void 0===j&&(j={},P[k]=j);for(let B=0;B!==_;++B){const U=y[B],G=U.name;let ee=j[G];if(void 0!==ee)x[B]=ee;else{if(ee=x[B],void 0!==ee){null===ee._cacheIndex&&(++ee.referenceCount,this._addInactiveBinding(ee,k,G));continue}ee=new _1(Dl.create(m,G,d&&d._propertyBindings[B].binding.parsedPath),U.ValueTypeName,U.getValueSize()),++ee.referenceCount,this._addInactiveBinding(ee,k,G),x[B]=ee}D[B].resultBuffer=ee.buffer}}_activateAction(l){if(!this._isActiveAction(l)){if(null===l._cacheIndex){const m=(l._localRoot||this._root).uuid,y=l._clip.uuid,_=this._actionsByClip[y];this._bindAction(l,_&&_.knownActions[0]),this._addInactiveAction(l,y,m)}const d=l._propertyBindings;for(let m=0,y=d.length;m!==y;++m){const _=d[m];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(l)}}_deactivateAction(l){if(this._isActiveAction(l)){const d=l._propertyBindings;for(let m=0,y=d.length;m!==y;++m){const _=d[m];0==--_.useCount&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(l)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const l=this;this.stats={actions:{get total(){return l._actions.length},get inUse(){return l._nActiveActions}},bindings:{get total(){return l._bindings.length},get inUse(){return l._nActiveBindings}},controlInterpolants:{get total(){return l._controlInterpolants.length},get inUse(){return l._nActiveControlInterpolants}}}}_isActiveAction(l){const d=l._cacheIndex;return null!==d&&d<this._nActiveActions}_addInactiveAction(l,d,m){const y=this._actions,_=this._actionsByClip;let x=_[d];if(void 0===x)x={knownActions:[l],actionByRoot:{}},l._byClipCacheIndex=0,_[d]=x;else{const D=x.knownActions;l._byClipCacheIndex=D.length,D.push(l)}l._cacheIndex=y.length,y.push(l),x.actionByRoot[m]=l}_removeInactiveAction(l){const d=this._actions,m=d[d.length-1],y=l._cacheIndex;m._cacheIndex=y,d[y]=m,d.pop(),l._cacheIndex=null;const _=l._clip.uuid,x=this._actionsByClip,D=x[_],k=D.knownActions,P=k[k.length-1],j=l._byClipCacheIndex;P._byClipCacheIndex=j,k[j]=P,k.pop(),l._byClipCacheIndex=null,delete D.actionByRoot[(l._localRoot||this._root).uuid],0===k.length&&delete x[_],this._removeInactiveBindingsForAction(l)}_removeInactiveBindingsForAction(l){const d=l._propertyBindings;for(let m=0,y=d.length;m!==y;++m){const _=d[m];0==--_.referenceCount&&this._removeInactiveBinding(_)}}_lendAction(l){const d=this._actions,m=l._cacheIndex,y=this._nActiveActions++,_=d[y];l._cacheIndex=y,d[y]=l,_._cacheIndex=m,d[m]=_}_takeBackAction(l){const d=this._actions,m=l._cacheIndex,y=--this._nActiveActions,_=d[y];l._cacheIndex=y,d[y]=l,_._cacheIndex=m,d[m]=_}_addInactiveBinding(l,d,m){const y=this._bindingsByRootAndName,_=this._bindings;let x=y[d];void 0===x&&(x={},y[d]=x),x[m]=l,l._cacheIndex=_.length,_.push(l)}_removeInactiveBinding(l){const d=this._bindings,m=l.binding,y=m.rootNode.uuid,_=m.path,x=this._bindingsByRootAndName,D=x[y],k=d[d.length-1],P=l._cacheIndex;k._cacheIndex=P,d[P]=k,d.pop(),delete D[_],0===Object.keys(D).length&&delete x[y]}_lendBinding(l){const d=this._bindings,m=l._cacheIndex,y=this._nActiveBindings++,_=d[y];l._cacheIndex=y,d[y]=l,_._cacheIndex=m,d[m]=_}_takeBackBinding(l){const d=this._bindings,m=l._cacheIndex,y=--this._nActiveBindings,_=d[y];l._cacheIndex=y,d[y]=l,_._cacheIndex=m,d[m]=_}_lendControlInterpolant(){const l=this._controlInterpolants,d=this._nActiveControlInterpolants++;let m=l[d];return void 0===m&&(m=new wy(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),m.__cacheIndex=d,l[d]=m),m}_takeBackControlInterpolant(l){const d=this._controlInterpolants,m=l.__cacheIndex,y=--this._nActiveControlInterpolants,_=d[y];l.__cacheIndex=y,d[y]=l,_.__cacheIndex=m,d[m]=_}clipAction(l,d,m){const y=d||this._root,_=y.uuid;let x="string"==typeof l?Y_.findByName(y,l):l;const D=null!==x?x.uuid:l,k=this._actionsByClip[D];let P=null;if(void 0===m&&(m=null!==x?x.blendMode:xf),void 0!==k){const B=k.actionByRoot[_];if(void 0!==B&&B.blendMode===m)return B;P=k.knownActions[0],null===x&&(x=P._clip)}if(null===x)return null;const j=new ky(this,x,d,m);return this._bindAction(j,P),this._addInactiveAction(j,D,_),j}existingAction(l,d){const m=d||this._root,y=m.uuid,_="string"==typeof l?Y_.findByName(m,l):l,D=this._actionsByClip[_?_.uuid:l];return void 0!==D&&D.actionByRoot[y]||null}stopAllAction(){const l=this._actions;for(let m=this._nActiveActions-1;m>=0;--m)l[m].stop();return this}update(l){const d=this._actions,m=this._nActiveActions,y=this.time+=l*=this.timeScale,_=Math.sign(l),x=this._accuIndex^=1;for(let P=0;P!==m;++P)d[P]._update(y,l,_,x);const D=this._bindings,k=this._nActiveBindings;for(let P=0;P!==k;++P)D[P].apply(x);return this}setTime(l){this.time=0;for(let d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(l)}getRoot(){return this._root}uncacheClip(l){const d=this._actions,m=l.uuid,y=this._actionsByClip,_=y[m];if(void 0!==_){const x=_.knownActions;for(let D=0,k=x.length;D!==k;++D){const P=x[D];this._deactivateAction(P);const j=P._cacheIndex,B=d[d.length-1];P._cacheIndex=null,P._byClipCacheIndex=null,B._cacheIndex=j,d[j]=B,d.pop(),this._removeInactiveBindingsForAction(P)}delete y[m]}}uncacheRoot(l){const d=l.uuid,m=this._actionsByClip;for(const x in m){const k=m[x].actionByRoot[d];void 0!==k&&(this._deactivateAction(k),this._removeInactiveAction(k))}const _=this._bindingsByRootAndName[d];if(void 0!==_)for(const x in _){const D=_[x];D.restoreOriginalState(),this._removeInactiveBinding(D)}}uncacheAction(l,d){const m=this.existingAction(l,d);null!==m&&(this._deactivateAction(m),this._removeInactiveAction(m))}}CS.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Yf{constructor(l){"string"==typeof l&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),l=arguments[1]),this.value=l}clone(){return new Yf(void 0===this.value.clone?this.value:this.value.clone())}}function Py(h,l,d){fu.call(this,h,l),this.meshPerAttribute=d||1}function fm(h,l,d,m,y){this.buffer=h,this.type=l,this.itemSize=d,this.elementSize=m,this.count=y,this.version=0}function w1(h,l,d=0,m=1/0){this.ray=new Bd(h,l),this.near=d,this.far=m,this.camera=null,this.layers=new f0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function S1(h,l){return h.distance-l.distance}function ES(h,l,d,m){if(h.layers.test(l.layers)&&h.raycast(l,d),!0===m){const y=h.children;for(let _=0,x=y.length;_<x;_++)ES(y[_],l,d,!0)}}Py.prototype=Object.assign(Object.create(fu.prototype),{constructor:Py,isInstancedInterleavedBuffer:!0,copy:function(h){return fu.prototype.copy.call(this,h),this.meshPerAttribute=h.meshPerAttribute,this},clone:function(h){const l=fu.prototype.clone.call(this,h);return l.meshPerAttribute=this.meshPerAttribute,l},toJSON:function(h){const l=fu.prototype.toJSON.call(this,h);return l.isInstancedInterleavedBuffer=!0,l.meshPerAttribute=this.meshPerAttribute,l}}),Object.defineProperty(fm.prototype,"needsUpdate",{set:function(h){!0===h&&this.version++}}),Object.assign(fm.prototype,{isGLBufferAttribute:!0,setBuffer:function(h){return this.buffer=h,this},setType:function(h,l){return this.type=h,this.elementSize=l,this},setItemSize:function(h){return this.itemSize=h,this},setCount:function(h){return this.count=h,this}}),Object.assign(w1.prototype,{set:function(h,l){this.ray.set(h,l)},setFromCamera:function(h,l){l&&l.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(l.matrixWorld),this.ray.direction.set(h.x,h.y,.5).unproject(l).sub(this.ray.origin).normalize(),this.camera=l):l&&l.isOrthographicCamera?(this.ray.origin.set(h.x,h.y,(l.near+l.far)/(l.near-l.far)).unproject(l),this.ray.direction.set(0,0,-1).transformDirection(l.matrixWorld),this.camera=l):console.error("THREE.Raycaster: Unsupported camera type: "+l.type)},intersectObject:function(h,l=!1,d=[]){return ES(h,this,d,l),d.sort(S1),d},intersectObjects:function(h,l=!1,d=[]){for(let m=0,y=h.length;m<y;m++)ES(h[m],this,d,l);return d.sort(S1),d}});class M1{constructor(l=1,d=0,m=0){return this.radius=l,this.phi=d,this.theta=m,this}set(l,d,m){return this.radius=l,this.phi=d,this.theta=m,this}copy(l){return this.radius=l.radius,this.phi=l.phi,this.theta=l.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+d*d+m*m),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(l,m),this.phi=Math.acos(An.clamp(d/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class x1{constructor(l=1,d=0,m=0){return this.radius=l,this.theta=d,this.y=m,this}set(l,d,m){return this.radius=l,this.theta=d,this.y=m,this}copy(l){return this.radius=l.radius,this.theta=l.theta,this.y=l.y,this}setFromVector3(l){return this.setFromCartesianCoords(l.x,l.y,l.z)}setFromCartesianCoords(l,d,m){return this.radius=Math.sqrt(l*l+m*m),this.theta=Math.atan2(l,m),this.y=d,this}clone(){return(new this.constructor).copy(this)}}const C1=new bn;class $h{constructor(l=new bn(1/0,1/0),d=new bn(-1/0,-1/0)){this.min=l,this.max=d}set(l,d){return this.min.copy(l),this.max.copy(d),this}setFromPoints(l){this.makeEmpty();for(let d=0,m=l.length;d<m;d++)this.expandByPoint(l[d]);return this}setFromCenterAndSize(l,d){const m=C1.copy(d).multiplyScalar(.5);return this.min.copy(l).sub(m),this.max.copy(l).add(m),this}clone(){return(new this.constructor).copy(this)}copy(l){return this.min.copy(l.min),this.max.copy(l.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(l){return void 0===l&&(console.warn("THREE.Box2: .getCenter() target is now required"),l=new bn),this.isEmpty()?l.set(0,0):l.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(l){return void 0===l&&(console.warn("THREE.Box2: .getSize() target is now required"),l=new bn),this.isEmpty()?l.set(0,0):l.subVectors(this.max,this.min)}expandByPoint(l){return this.min.min(l),this.max.max(l),this}expandByVector(l){return this.min.sub(l),this.max.add(l),this}expandByScalar(l){return this.min.addScalar(-l),this.max.addScalar(l),this}containsPoint(l){return!(l.x<this.min.x||l.x>this.max.x||l.y<this.min.y||l.y>this.max.y)}containsBox(l){return this.min.x<=l.min.x&&l.max.x<=this.max.x&&this.min.y<=l.min.y&&l.max.y<=this.max.y}getParameter(l,d){return void 0===d&&(console.warn("THREE.Box2: .getParameter() target is now required"),d=new bn),d.set((l.x-this.min.x)/(this.max.x-this.min.x),(l.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(l){return!(l.max.x<this.min.x||l.min.x>this.max.x||l.max.y<this.min.y||l.min.y>this.max.y)}clampPoint(l,d){return void 0===d&&(console.warn("THREE.Box2: .clampPoint() target is now required"),d=new bn),d.copy(l).clamp(this.min,this.max)}distanceToPoint(l){return C1.copy(l).clamp(this.min,this.max).sub(l).length()}intersect(l){return this.min.max(l.min),this.max.min(l.max),this}union(l){return this.min.min(l.min),this.max.max(l.max),this}translate(l){return this.min.add(l),this.max.add(l),this}equals(l){return l.min.equals(this.min)&&l.max.equals(this.max)}}$h.prototype.isBox2=!0;const BP=new De,E1=new De;class VP{constructor(l=new De,d=new De){this.start=l,this.end=d}set(l,d){return this.start.copy(l),this.end.copy(d),this}copy(l){return this.start.copy(l.start),this.end.copy(l.end),this}getCenter(l){return void 0===l&&(console.warn("THREE.Line3: .getCenter() target is now required"),l=new De),l.addVectors(this.start,this.end).multiplyScalar(.5)}delta(l){return void 0===l&&(console.warn("THREE.Line3: .delta() target is now required"),l=new De),l.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(l,d){return void 0===d&&(console.warn("THREE.Line3: .at() target is now required"),d=new De),this.delta(d).multiplyScalar(l).add(this.start)}closestPointToPointParameter(l,d){BP.subVectors(l,this.start),E1.subVectors(this.end,this.start);const m=E1.dot(E1);let _=E1.dot(BP)/m;return d&&(_=An.clamp(_,0,1)),_}closestPointToPoint(l,d,m){const y=this.closestPointToPointParameter(l,d);return void 0===m&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),m=new De),this.delta(m).multiplyScalar(y).add(this.start)}applyMatrix4(l){return this.start.applyMatrix4(l),this.end.applyMatrix4(l),this}equals(l){return l.start.equals(this.start)&&l.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}function Ly(h){$r.call(this),this.material=h,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(Ly.prototype=Object.create($r.prototype)).constructor=Ly,Ly.prototype.isImmediateRenderObject=!0;const zP=new De;class jP extends $r{constructor(l,d){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=d;const m=new fr,y=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let x=0,D=1,k=32;x<k;x++,D++){const P=x/k*Math.PI*2,j=D/k*Math.PI*2;y.push(Math.cos(P),Math.sin(P),1,Math.cos(j),Math.sin(j),1)}m.setAttribute("position",new yn(y,3));const _=new gs({fog:!1,toneMapped:!1});this.cone=new ul(m,_),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const l=this.light.distance?this.light.distance:1e3,d=l*Math.tan(this.light.angle);this.cone.scale.set(d,d,l),zP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zP),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Gf=new De,TS=new Br,Xl=new Br;class T1 extends ul{constructor(l){const d=UP(l),m=new fr,y=[],_=[],x=new xr(0,0,1),D=new xr(0,1,0);for(let P=0;P<d.length;P++){const j=d[P];j.parent&&j.parent.isBone&&(y.push(0,0,0),y.push(0,0,0),_.push(x.r,x.g,x.b),_.push(D.r,D.g,D.b))}m.setAttribute("position",new yn(y,3)),m.setAttribute("color",new yn(_,3)),super(m,new gs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=l,this.bones=d,this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(l){const d=this.bones,m=this.geometry,y=m.getAttribute("position");Xl.copy(this.root.matrixWorld).invert();for(let _=0,x=0;_<d.length;_++){const D=d[_];D.parent&&D.parent.isBone&&(TS.multiplyMatrices(Xl,D.matrixWorld),Gf.setFromMatrixPosition(TS),y.setXYZ(x,Gf.x,Gf.y,Gf.z),TS.multiplyMatrices(Xl,D.parent.matrixWorld),Gf.setFromMatrixPosition(TS),y.setXYZ(x+1,Gf.x,Gf.y,Gf.z),x+=2)}m.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(l)}}function UP(h){const l=[];h&&h.isBone&&l.push(h);for(let d=0;d<h.children.length;d++)l.push.apply(l,UP(h.children[d]));return l}class L$ extends dn{constructor(l,d,m){super(new by(d,4,2),new su({wireframe:!0,fog:!1,toneMapped:!1})),this.light=l,this.light.updateMatrixWorld(),this.color=m,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hV=new De,RS=new xr,R1=new xr;class pV extends $r{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m;const y=new H_(d);y.rotateY(.5*Math.PI),this.material=new su({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const _=y.getAttribute("position"),x=new Float32Array(3*_.count);y.setAttribute("color",new Kr(x,3)),this.add(new dn(y,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const l=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const d=l.geometry.getAttribute("color");RS.copy(this.light.color),R1.copy(this.light.groundColor);for(let m=0,y=d.count;m<y;m++){const _=m<y/2?RS:R1;d.setXYZ(m,_.r,_.g,_.b)}d.needsUpdate=!0}l.lookAt(hV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class WP extends ul{constructor(l=10,d=10,m=4473924,y=8947848){m=new xr(m),y=new xr(y);const _=d/2,x=l/d,D=l/2,k=[],P=[];for(let U=0,G=0,ee=-D;U<=d;U++,ee+=x){k.push(-D,0,ee,D,0,ee),k.push(ee,0,-D,ee,0,D);const ue=U===_?m:y;ue.toArray(P,G),G+=3,ue.toArray(P,G),G+=3,ue.toArray(P,G),G+=3,ue.toArray(P,G),G+=3}const j=new fr;j.setAttribute("position",new yn(k,3)),j.setAttribute("color",new yn(P,3)),super(j,new gs({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class mV extends ul{constructor(l=10,d=16,m=8,y=64,_=4473924,x=8947848){_=new xr(_),x=new xr(x);const D=[],k=[];for(let B=0;B<=d;B++){const U=B/d*(2*Math.PI),G=Math.sin(U)*l,ee=Math.cos(U)*l;D.push(0,0,0),D.push(G,0,ee);const ue=1&B?_:x;k.push(ue.r,ue.g,ue.b),k.push(ue.r,ue.g,ue.b)}for(let B=0;B<=m;B++){const U=1&B?_:x,G=l-l/m*B;for(let ee=0;ee<y;ee++){let ue=ee/y*(2*Math.PI),de=Math.sin(ue)*G,ie=Math.cos(ue)*G;D.push(de,0,ie),k.push(U.r,U.g,U.b),ue=(ee+1)/y*(2*Math.PI),de=Math.sin(ue)*G,ie=Math.cos(ue)*G,D.push(de,0,ie),k.push(U.r,U.g,U.b)}}const P=new fr;P.setAttribute("position",new yn(D,3)),P.setAttribute("color",new yn(k,3)),super(P,new gs({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const D1=new De,DS=new De,A1=new De;class gV extends $r{constructor(l,d,m){super(),this.light=l,this.light.updateMatrixWorld(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,void 0===d&&(d=1);let y=new fr;y.setAttribute("position",new yn([-d,d,0,d,d,0,d,-d,0,-d,-d,0,-d,d,0],3));const _=new gs({fog:!1,toneMapped:!1});this.lightPlane=new rd(y,_),this.add(this.lightPlane),y=new fr,y.setAttribute("position",new yn([0,0,0,0,0,1],3)),this.targetLine=new rd(y,_),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){D1.setFromMatrixPosition(this.light.matrixWorld),DS.setFromMatrixPosition(this.light.target.matrixWorld),A1.subVectors(DS,D1),this.lightPlane.lookAt(DS),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(DS),this.targetLine.scale.z=A1.length()}}const AS=new De,Is=new qc;class YP extends ul{constructor(l){const d=new fr,m=new gs({color:16777215,vertexColors:!0,toneMapped:!1}),y=[],_=[],x={},D=new xr(16755200),k=new xr(16711680),P=new xr(43775),j=new xr(16777215),B=new xr(3355443);function U(ee,ue,de){G(ee,de),G(ue,de)}function G(ee,ue){y.push(0,0,0),_.push(ue.r,ue.g,ue.b),void 0===x[ee]&&(x[ee]=[]),x[ee].push(y.length/3-1)}U("n1","n2",D),U("n2","n4",D),U("n4","n3",D),U("n3","n1",D),U("f1","f2",D),U("f2","f4",D),U("f4","f3",D),U("f3","f1",D),U("n1","f1",D),U("n2","f2",D),U("n3","f3",D),U("n4","f4",D),U("p","n1",k),U("p","n2",k),U("p","n3",k),U("p","n4",k),U("u1","u2",P),U("u2","u3",P),U("u3","u1",P),U("c","t",j),U("p","c",B),U("cn1","cn2",B),U("cn3","cn4",B),U("cf1","cf2",B),U("cf3","cf4",B),d.setAttribute("position",new yn(y,3)),d.setAttribute("color",new yn(_,3)),super(d,m),this.type="CameraHelper",this.camera=l,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=l.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=x,this.update()}update(){const l=this.geometry,d=this.pointMap;Is.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Zs("c",d,l,Is,0,0,-1),Zs("t",d,l,Is,0,0,1),Zs("n1",d,l,Is,-1,-1,-1),Zs("n2",d,l,Is,1,-1,-1),Zs("n3",d,l,Is,-1,1,-1),Zs("n4",d,l,Is,1,1,-1),Zs("f1",d,l,Is,-1,-1,1),Zs("f2",d,l,Is,1,-1,1),Zs("f3",d,l,Is,-1,1,1),Zs("f4",d,l,Is,1,1,1),Zs("u1",d,l,Is,.7,1.1,-1),Zs("u2",d,l,Is,-.7,1.1,-1),Zs("u3",d,l,Is,0,2,-1),Zs("cf1",d,l,Is,-1,0,1),Zs("cf2",d,l,Is,1,0,1),Zs("cf3",d,l,Is,0,-1,1),Zs("cf4",d,l,Is,0,1,1),Zs("cn1",d,l,Is,-1,0,-1),Zs("cn2",d,l,Is,1,0,-1),Zs("cn3",d,l,Is,0,-1,-1),Zs("cn4",d,l,Is,0,1,-1),l.getAttribute("position").needsUpdate=!0}}function Zs(h,l,d,m,y,_,x){AS.set(y,_,x).unproject(m);const D=l[h];if(void 0!==D){const k=d.getAttribute("position");for(let P=0,j=D.length;P<j;P++)k.setXYZ(D[P],AS.x,AS.y,AS.z)}}const Iu=new xl;class OS extends ul{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),y=new Float32Array(24),_=new fr;_.setIndex(new Kr(m,1)),_.setAttribute("position",new Kr(y,3)),super(_,new gs({color:d,toneMapped:!1})),this.object=l,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(l){if(void 0!==l&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Iu.setFromObject(this.object),Iu.isEmpty())return;const d=Iu.min,m=Iu.max,y=this.geometry.attributes.position,_=y.array;_[0]=m.x,_[1]=m.y,_[2]=m.z,_[3]=d.x,_[4]=m.y,_[5]=m.z,_[6]=d.x,_[7]=d.y,_[8]=m.z,_[9]=m.x,_[10]=d.y,_[11]=m.z,_[12]=m.x,_[13]=m.y,_[14]=d.z,_[15]=d.x,_[16]=m.y,_[17]=d.z,_[18]=d.x,_[19]=d.y,_[20]=d.z,_[21]=m.x,_[22]=d.y,_[23]=d.z,y.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(l){return this.object=l,this.update(),this}copy(l){return ul.prototype.copy.call(this,l),this.object=l.object,this}}class yV extends ul{constructor(l,d=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=new fr;_.setIndex(new Kr(m,1)),_.setAttribute("position",new yn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(_,new gs({color:d,toneMapped:!1})),this.box=l,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(l){const d=this.box;d.isEmpty()||(d.getCenter(this.position),d.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(l))}}class vV extends rd{constructor(l,d=1,m=16776960){const y=m,x=new fr;x.setAttribute("position",new yn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),x.computeBoundingSphere(),super(x,new gs({color:y,toneMapped:!1})),this.type="PlaneHelper",this.plane=l,this.size=d;const k=new fr;k.setAttribute("position",new yn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),k.computeBoundingSphere(),this.add(new dn(k,new su({color:y,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(l){let d=-this.plane.constant;Math.abs(d)<1e-8&&(d=1e-8),this.scale.set(.5*this.size,.5*this.size,d),this.children[0].material.side=d<0?K:fe,this.lookAt(this.plane.normal),super.updateMatrixWorld(l)}}const _V=new De;let ib,O1;class bV extends $r{constructor(l=new De(0,0,1),d=new De(0,0,0),m=1,y=16776960,_=.2*m,x=.2*_){super(),this.type="ArrowHelper",void 0===ib&&(ib=new fr,ib.setAttribute("position",new yn([0,0,0,0,1,0],3)),O1=new py(0,.5,1,5,1),O1.translate(0,-.5,0)),this.position.copy(d),this.line=new rd(ib,new gs({color:y,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dn(O1,new su({color:y,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(l),this.setLength(m,_,x)}setDirection(l){if(l.y>.99999)this.quaternion.set(0,0,0,1);else if(l.y<-.99999)this.quaternion.set(1,0,0,0);else{_V.set(l.z,0,-l.x).normalize();const d=Math.acos(l.y);this.quaternion.setFromAxisAngle(_V,d)}}setLength(l,d=.2*l,m=.2*d){this.line.scale.set(1,Math.max(1e-4,l-d),1),this.line.updateMatrix(),this.cone.scale.set(m,d,m),this.cone.position.y=l,this.cone.updateMatrix()}setColor(l){this.line.material.color.set(l),this.cone.material.color.set(l)}copy(l){return super.copy(l,!1),this.line.copy(l.line),this.cone.copy(l.cone),this}}class GP extends ul{constructor(l=1){const d=[0,0,0,l,0,0,0,0,0,0,l,0,0,0,0,0,0,l],y=new fr;y.setAttribute("position",new yn(d,3)),y.setAttribute("color",new yn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(y,new gs({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const kS=new Float32Array(1),wV=new Int32Array(kS.buffer),SV={toHalfFloat:function(h){kS[0]=h;const l=wV[0];let d=l>>16&32768,m=l>>12&2047;const y=l>>23&255;return y<103?d:y>142?(d|=31744,d|=(255==y?0:1)&&8388607&l,d):y<113?(m|=2048,d|=(m>>114-y)+(m>>113-y&1),d):(d|=y-112<<10|m>>1,d+=1&m,d)}},Jd=Math.pow(2,8),k1=[.125,.215,.35,.446,.526,.582],PS=5+k1.length,Kf={[hs]:0,[Wc]:1,[gn]:2,[ei]:3,[Pr]:4,[wt]:5,[Nd]:6},Iy=new su({side:K,depthWrite:!1,depthTest:!1}),P1=new dn(new fc,Iy),$P=new Ry,{_lodPlanes:ob,_sizeLods:L1,_sigmas:sb}=N1(),I1=new xr;let LS=null;const Xf=(1+Math.sqrt(5))/2,mu=1/Xf,ab=[new De(1,1,1),new De(-1,1,1),new De(1,1,-1),new De(-1,1,-1),new De(0,Xf,mu),new De(0,Xf,-mu),new De(mu,0,Xf),new De(-mu,0,Xf),new De(Xf,mu,0),new De(-Xf,mu,0)];function lb(h){const l=Math.max(h.r,h.g,h.b),d=Math.min(Math.max(Math.ceil(Math.log2(l)),-128),127);return h.multiplyScalar(Math.pow(2,-d)),(d+128)/255}class ub{constructor(l){this._renderer=l,this._pingPongRenderTarget=null,this._blurMaterial=function xV(h){const l=new Float32Array(h),d=new De(0,1,0);return new Wh({name:"SphericalGaussianBlur",defines:{n:h},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:l},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d},inputEncoding:{value:Kf[hs]},outputEncoding:{value:Kf[hs]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Ae,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(l,d=0,m=.1,y=100){LS=this._renderer.getRenderTarget();const _=this._allocateTargets();return this._sceneToCubeUV(l,m,y,_),d>0&&this._blur(_,0,0,d),this._applyPMREM(_),this._cleanup(_),_}fromEquirectangular(l){return this._fromTexture(l)}fromCubemap(l){return this._fromTexture(l)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=KP(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Ny(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let l=0;l<ob.length;l++)ob[l].dispose()}_cleanup(l){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(LS),l.scissorTest=!1,IS(l,0,0,l.width,l.height)}_fromTexture(l){LS=this._renderer.getRenderTarget();const d=this._allocateTargets(l);return this._textureToCubeUV(l,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(l){const d={magFilter:rr,minFilter:rr,generateMipmaps:!1,type:nl,format:Rd,encoding:(h=l,void 0===h||h.type!==nl||h.encoding!==hs&&h.encoding!==Wc&&h.encoding!==Nd?gn:l.encoding),depthBuffer:!1},m=F1(d);var h;return m.depthBuffer=!l,this._pingPongRenderTarget=F1(d),m}_compileMaterial(l){const d=new dn(ob[0],l);this._renderer.compile(d,$P)}_sceneToCubeUV(l,d,m,y){const D=new ks(90,1,d,m),k=[1,-1,1,1,1,1],P=[1,1,1,-1,-1,-1],j=this._renderer,B=j.autoClear,U=j.outputEncoding,G=j.toneMapping;j.getClearColor(I1),j.toneMapping=Qr,j.outputEncoding=hs,j.autoClear=!1;let ee=!1;const ue=l.background;if(ue){if(ue.isColor){Iy.color.copy(ue).convertSRGBToLinear(),l.background=null;const de=lb(Iy.color);Iy.opacity=de,ee=!0}}else{Iy.color.copy(I1).convertSRGBToLinear();const de=lb(Iy.color);Iy.opacity=de,ee=!0}for(let de=0;de<6;de++){const ie=de%3;0==ie?(D.up.set(0,k[de],0),D.lookAt(P[de],0,0)):1==ie?(D.up.set(0,0,k[de]),D.lookAt(0,P[de],0)):(D.up.set(0,k[de],0),D.lookAt(0,0,P[de])),IS(y,ie*Jd,de>2?Jd:0,Jd,Jd),j.setRenderTarget(y),ee&&j.render(P1,D),j.render(l,D)}j.toneMapping=G,j.outputEncoding=U,j.autoClear=B}_textureToCubeUV(l,d){const m=this._renderer;l.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=KP()):null==this._equirectShader&&(this._equirectShader=Ny());const y=l.isCubeTexture?this._cubemapShader:this._equirectShader,_=new dn(ob[0],y),x=y.uniforms;x.envMap.value=l,l.isCubeTexture||x.texelSize.value.set(1/l.image.width,1/l.image.height),x.inputEncoding.value=Kf[l.encoding],x.outputEncoding.value=Kf[d.texture.encoding],IS(d,0,0,3*Jd,2*Jd),m.setRenderTarget(d),m.render(_,$P)}_applyPMREM(l){const d=this._renderer,m=d.autoClear;d.autoClear=!1;for(let y=1;y<PS;y++){const _=Math.sqrt(sb[y]*sb[y]-sb[y-1]*sb[y-1]);this._blur(l,y-1,y,_,ab[(y-1)%ab.length])}d.autoClear=m}_blur(l,d,m,y,_){const x=this._pingPongRenderTarget;this._halfBlur(l,x,d,m,y,"latitudinal",_),this._halfBlur(x,l,m,m,y,"longitudinal",_)}_halfBlur(l,d,m,y,_,x,D){const k=this._renderer,P=this._blurMaterial;"latitudinal"!==x&&"longitudinal"!==x&&console.error("blur direction must be either latitudinal or longitudinal!");const B=new dn(ob[y],P),U=P.uniforms,G=L1[m]-1,ee=isFinite(_)?Math.PI/(2*G):2*Math.PI/39,ue=_/ee,de=isFinite(_)?1+Math.floor(3*ue):20;de>20&&console.warn(`sigmaRadians, ${_}, is too large and will clip, as it requested ${de} samples when the maximum is set to 20`);const ie=[];let q=0;for(let Ee=0;Ee<20;++Ee){const Re=Ee/ue,$e=Math.exp(-Re*Re/2);ie.push($e),0==Ee?q+=$e:Ee<de&&(q+=2*$e)}for(let Ee=0;Ee<ie.length;Ee++)ie[Ee]=ie[Ee]/q;U.envMap.value=l.texture,U.samples.value=de,U.weights.value=ie,U.latitudinal.value="latitudinal"===x,D&&(U.poleAxis.value=D),U.dTheta.value=ee,U.mipInt.value=8-m,U.inputEncoding.value=Kf[l.texture.encoding],U.outputEncoding.value=Kf[l.texture.encoding];const ke=L1[y];IS(d,3*Math.max(0,Jd-2*ke),(0===y?0:2*Jd)+2*ke*(y>4?y-8+4:0),3*ke,2*ke),k.setRenderTarget(d),k.render(B,$P)}}function N1(){const h=[],l=[],d=[];let m=8;for(let y=0;y<PS;y++){const _=Math.pow(2,m);l.push(_);let x=1/_;y>4?x=k1[y-8+4-1]:0==y&&(x=0),d.push(x);const D=1/(_-1),k=-D/2,P=1+D/2,j=[k,k,P,k,P,P,k,k,P,P,k,P],B=6,U=6,G=3,ee=2,ue=1,de=new Float32Array(G*U*B),ie=new Float32Array(ee*U*B),q=new Float32Array(ue*U*B);for(let _e=0;_e<B;_e++){const We=_e%3*2/3-1,Ee=_e>2?0:-1;de.set([We,Ee,0,We+2/3,Ee,0,We+2/3,Ee+1,0,We,Ee,0,We+2/3,Ee+1,0,We,Ee+1,0],G*U*_e),ie.set(j,ee*U*_e),q.set([_e,_e,_e,_e,_e,_e],ue*U*_e)}const ke=new fr;ke.setAttribute("position",new Kr(de,G)),ke.setAttribute("uv",new Kr(ie,ee)),ke.setAttribute("faceIndex",new Kr(q,ue)),h.push(ke),m>4&&m--}return{_lodPlanes:h,_sizeLods:l,_sigmas:d}}function F1(h){const l=new ru(3*Jd,3*Jd,h);return l.texture.mapping=Ze,l.texture.name="PMREM.cubeUv",l.scissorTest=!0,l}function IS(h,l,d,m,y){h.viewport.set(l,d,m,y),h.scissor.set(l,d,m,y)}function Ny(){const h=new bn(1,1);return new Wh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:h},inputEncoding:{value:Kf[hs]},outputEncoding:{value:Kf[hs]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Ae,depthTest:!1,depthWrite:!1})}function KP(){return new Wh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Kf[hs]},outputEncoding:{value:Kf[hs]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:Ae,depthTest:!1,depthWrite:!1})}const I$=0,CV=1,EV=0,TV=1,RV=2;function N$(h){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),h}function ZP(h=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),h.isMultiMaterial=!0,h.materials=h,h.clone=function(){return h.slice()},h}function wr(h,l){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new fa(h,l)}function DV(h){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new N0(h)}function B1(h,l){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new fa(h,l)}function AV(h){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new tm(h)}function OV(h){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new tm(h)}function kV(h){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new tm(h)}function PV(h,l,d){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new De(h,l,d)}function LV(h,l){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Kr(h,l).setUsage(Ml)}function IV(h,l){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new uc(h,l)}function NS(h,l){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ca(h,l)}function pm(h,l){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Oh(h,l)}function F$(h,l){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new jd(h,l)}function cb(h,l){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Af(h,l)}function NV(h,l){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new au(h,l)}function FV(h,l){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ud(h,l)}function V1(h,l){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new yn(h,l)}function HV(h,l){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new kh(h,l)}function Qd(h){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new GP(h)}function db(h,l){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new OS(h,l)}function Al(h,l){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ul(new YT(h.geometry),new gs({color:void 0!==l?l:16777215}))}function mm(h,l){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ul(new eS(h.geometry),new gs({color:void 0!==l?l:16777215}))}function FS(h){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new _c(h)}function bc(h){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new G_(h)}function ts(h,l,d){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new da(h,d)}function Fy(){console.error("THREE.CanvasRenderer has been removed")}function Hy(){console.error("THREE.JSONLoader has been removed.")}Kl.create=function(h,l){return console.log("THREE.Curve.create() has been deprecated"),h.prototype=Object.create(Kl.prototype),h.prototype.constructor=h,h.prototype.getPoint=l,h},X_.prototype.fromPoints=function(h){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(h)},WP.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},T1.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ls.prototype.extractUrlBase=function(h){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),vS.extractUrlBase(h)},Ls.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},$h.prototype.center=function(h){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(h)},$h.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},$h.prototype.isIntersectionBox=function(h){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},$h.prototype.size=function(h){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(h)},xl.prototype.center=function(h){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(h)},xl.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},xl.prototype.isIntersectionBox=function(h){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},xl.prototype.isIntersectionSphere=function(h){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(h)},xl.prototype.size=function(h){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(h)},Cl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Ih.prototype.setFromMatrix=function(h){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(h)},VP.prototype.center=function(h){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(h)},An.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},An.nearestPowerOfTwo=function(h){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),An.floorPowerOfTwo(h)},An.nextPowerOfTwo=function(h){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),An.ceilPowerOfTwo(h)},zs.prototype.flattenToArrayOffset=function(h,l){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(h,l)},zs.prototype.multiplyVector3=function(h){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),h.applyMatrix3(this)},zs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},zs.prototype.applyToBufferAttribute=function(h){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),h.applyMatrix3(this)},zs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},zs.prototype.getInverse=function(h){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(h).invert()},Br.prototype.extractPosition=function(h){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(h)},Br.prototype.flattenToArrayOffset=function(h,l){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(h,l)},Br.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new De).setFromMatrixColumn(this,3)},Br.prototype.setRotationFromQuaternion=function(h){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(h)},Br.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Br.prototype.multiplyVector3=function(h){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Br.prototype.multiplyVector4=function(h){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Br.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Br.prototype.rotateAxis=function(h){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),h.transformDirection(this)},Br.prototype.crossVector=function(h){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Br.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Br.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Br.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Br.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Br.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Br.prototype.applyToBufferAttribute=function(h){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),h.applyMatrix4(this)},Br.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Br.prototype.makeFrustum=function(h,l,d,m,y,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(h,l,m,d,y,_)},Br.prototype.getInverse=function(h){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(h).invert()},ac.prototype.isIntersectionLine=function(h){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(h)},pi.prototype.multiplyVector3=function(h){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),h.applyQuaternion(this)},pi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Bd.prototype.isIntersectionBox=function(h){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(h)},Bd.prototype.isIntersectionPlane=function(h){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(h)},Bd.prototype.isIntersectionSphere=function(h){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(h)},os.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},os.prototype.barycoordFromPoint=function(h,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(h,l)},os.prototype.midpoint=function(h){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(h)},os.prototypenormal=function(h){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(h)},os.prototype.plane=function(h){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(h)},os.barycoordFromPoint=function(h,l,d,m,y){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),os.getBarycoord(h,l,d,m,y)},os.normal=function(h,l,d,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),os.getNormal(h,l,d,m)},Yh.prototype.extractAllPoints=function(h){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(h)},Yh.prototype.extrude=function(h){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Wf(this,h)},Yh.prototype.makeGeometry=function(h){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _y(this,h)},bn.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},bn.prototype.distanceToManhattan=function(h){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(h)},bn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},De.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},De.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},De.prototype.getPositionFromMatrix=function(h){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(h)},De.prototype.getScaleFromMatrix=function(h){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(h)},De.prototype.getColumnFromMatrix=function(h,l){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(l,h)},De.prototype.applyProjection=function(h){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(h)},De.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},De.prototype.distanceToManhattan=function(h){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(h)},De.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ri.prototype.fromAttribute=function(h,l,d){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(h,l,d)},Ri.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$r.prototype.getChildByName=function(h){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(h)},$r.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},$r.prototype.translate=function(h,l){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(l,h)},$r.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},$r.prototype.applyMatrix=function(h){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(h)},Object.defineProperties($r.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(h){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=h}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),dn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(dn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Pg},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(cP.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(uy.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),B0.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Kl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(h){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=h}}),ks.prototype.setLens=function(h,l){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==l&&(this.filmGauge=l),this.setFocalLength(h)},Object.defineProperties(ad.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(h){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=h}},shadowCameraLeft:{set:function(h){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=h}},shadowCameraRight:{set:function(h){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=h}},shadowCameraTop:{set:function(h){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=h}},shadowCameraBottom:{set:function(h){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=h}},shadowCameraNear:{set:function(h){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=h}},shadowCameraFar:{set:function(h){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=h}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(h){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=h}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(h){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=h}},shadowMapHeight:{set:function(h){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=h}}}),Object.defineProperties(Kr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ml},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ml)}}}),Kr.prototype.setDynamic=function(h){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===h?Ml:Ef),this},Kr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Kr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},fr.prototype.addIndex=function(h){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(h)},fr.prototype.addAttribute=function(h,l){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),l&&l.isBufferAttribute||l&&l.isInterleavedBufferAttribute?"index"===h?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(l),this):this.setAttribute(h,l):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(h,new Kr(arguments[1],arguments[2])))},fr.prototype.addDrawCall=function(h,l,d){void 0!==d&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(h,l)},fr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},fr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},fr.prototype.removeAttribute=function(h){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(h)},fr.prototype.applyMatrix=function(h){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(h)},Object.defineProperties(fr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(dm.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(h){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=h}}}),Object.defineProperties(w1.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(h){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=h}}}),Object.defineProperties(fu.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Ml},set:function(h){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(h)}}}),fu.prototype.setDynamic=function(h){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===h?Ml:Ef),this},fu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Wf.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Wf.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Wf.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},E_.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(Yf.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties($o.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new xr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(h){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=h===we}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(h){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=h}}}),Object.defineProperties(sm.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(od.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(h){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=h}}}),Object.defineProperties(ll.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(h){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=h}}}),ss.prototype.clearTarget=function(h,l,d,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(h),this.clear(l,d,m)},ss.prototype.animate=function(h){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(h)},ss.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ss.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ss.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ss.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ss.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ss.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ss.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ss.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ss.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ss.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ss.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ss.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ss.prototype.enableScissorTest=function(h){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(h)},ss.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ss.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ss.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ss.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ss.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ss.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ss.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ss.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ss.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ss.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ss.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(h){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=h}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(h){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=h}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(h){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===h?Wc:hs}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(x_.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ru.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(h){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=h}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(h){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=h}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(h){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=h}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(h){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=h}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(h){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=h}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(h){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=h}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(h){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=h}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(h){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=h}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(h){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=h}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(h){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=h}}}),Object.defineProperties(PP.prototype,{load:{value:function(h){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const l=this;return(new iV).load(h,function(m){l.setBuffer(m)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),LP.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},jg.prototype.updateCubeMap=function(h,l){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(h,l)},jg.prototype.clear=function(h,l,d,m){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(h,l,d,m)},js.crossOrigin=void 0,js.loadTexture=function(h,l,d,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const y=new sS;y.setCrossOrigin(this.crossOrigin);const _=y.load(h,d,void 0,m);return l&&(_.mapping=l),_},js.loadTextureCube=function(h,l,d,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const y=new n1;y.setCrossOrigin(this.crossOrigin);const _=y.load(h,d,void 0,m);return l&&(_.mapping=l),_},js.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},js.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const By={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Vy(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S)},8120:function(Z){Z.exports=function(){"use strict";function ae(et){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ze){return typeof Ze}:function(Ze){return Ze&&"function"==typeof Symbol&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze})(et)}function b(et,Ze){return(b=Object.setPrototypeOf||function(Lt,Sn){return Lt.__proto__=Sn,Lt})(et,Ze)}function O(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(et){return!1}}function S(et,Ze,ht){return(S=O()?Reflect.construct:function(Sn,lr,rr){var _r=[null];_r.push.apply(_r,lr);var Kn=new(Function.bind.apply(Sn,_r));return rr&&b(Kn,rr.prototype),Kn}).apply(null,arguments)}function R(et){return function E(et){if(Array.isArray(et))return N(et)}(et)||function A(et){if("undefined"!=typeof Symbol&&null!=et[Symbol.iterator]||null!=et["@@iterator"])return Array.from(et)}(et)||function I(et,Ze){if(et){if("string"==typeof et)return N(et,Ze);var ht=Object.prototype.toString.call(et).slice(8,-1);if("Object"===ht&&et.constructor&&(ht=et.constructor.name),"Map"===ht||"Set"===ht)return Array.from(et);if("Arguments"===ht||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return N(et,Ze)}}(et)||function W(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(et,Ze){(null==Ze||Ze>et.length)&&(Ze=et.length);for(var ht=0,Lt=new Array(Ze);ht<Ze;ht++)Lt[ht]=et[ht];return Lt}var $=Object.hasOwnProperty,te=Object.setPrototypeOf,se=Object.isFrozen,oe=Object.getPrototypeOf,fe=Object.getOwnPropertyDescriptor,K=Object.freeze,ce=Object.seal,we=Object.create,Fe="undefined"!=typeof Reflect&&Reflect,Ae=Fe.apply,Ve=Fe.construct;Ae||(Ae=function(Ze,ht,Lt){return Ze.apply(ht,Lt)}),K||(K=function(Ze){return Ze}),ce||(ce=function(Ze){return Ze}),Ve||(Ve=function(Ze,ht){return S(Ze,R(ht))});var Qe=Ut(Array.prototype.forEach),qe=Ut(Array.prototype.pop),Ne=Ut(Array.prototype.push),Ke=Ut(String.prototype.toLowerCase),ct=Ut(String.prototype.toString),st=Ut(String.prototype.match),dt=Ut(String.prototype.replace),kt=Ut(String.prototype.indexOf),It=Ut(String.prototype.trim),At=Ut(RegExp.prototype.test),Bt=function sn(et){return function(){for(var Ze=arguments.length,ht=new Array(Ze),Lt=0;Lt<Ze;Lt++)ht[Lt]=arguments[Lt];return Ve(et,ht)}}(TypeError);function Ut(et){return function(Ze){for(var ht=arguments.length,Lt=new Array(ht>1?ht-1:0),Sn=1;Sn<ht;Sn++)Lt[Sn-1]=arguments[Sn];return Ae(et,Ze,Lt)}}function Te(et,Ze,ht){var Lt;ht=null!==(Lt=ht)&&void 0!==Lt?Lt:Ke,te&&te(et,null);for(var Sn=Ze.length;Sn--;){var lr=Ze[Sn];if("string"==typeof lr){var rr=ht(lr);rr!==lr&&(se(Ze)||(Ze[Sn]=rr),lr=rr)}et[lr]=!0}return et}function ye(et){var ht,Ze=we(null);for(ht in et)!0===Ae($,et,[ht])&&(Ze[ht]=et[ht]);return Ze}function gt(et,Ze){for(;null!==et;){var ht=fe(et,Ze);if(ht){if(ht.get)return Ut(ht.get);if("function"==typeof ht.value)return Ut(ht.value)}et=oe(et)}return function Lt(Sn){return console.warn("fallback value for",Sn),null}}var Et=K(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xt=K(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),an=K(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kn=K(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pt=K(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),zn=K(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vr=K(["#text"]),dr=K(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$n=K(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ur=K(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vn=K(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qt=ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ci=ce(/<%[\w\W]*|[\w\W]*%>/gm),ii=ce(/\${[\w\W]*}/gm),li=ce(/^data-[\-\w.\u00B7-\uFFFF]/),Qr=ce(/^aria-[\-\w]+$/),zr=ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xe=ce(/^(?:\w+script|data):/i),Pe=ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nt=ce(/^html$/i),Ct=ce(/^[a-z][a-z\d]*(-[a-z\d]+)+$/i),it=function(){return"undefined"==typeof window?null:window},Ot=function(Ze,ht){if("object"!==ae(Ze)||"function"!=typeof Ze.createPolicy)return null;var Lt=null,Sn="data-tt-policy-suffix";ht.currentScript&&ht.currentScript.hasAttribute(Sn)&&(Lt=ht.currentScript.getAttribute(Sn));var lr="dompurify"+(Lt?"#"+Lt:"");try{return Ze.createPolicy(lr,{createHTML:function(_r){return _r},createScriptURL:function(_r){return _r}})}catch(rr){return console.warn("TrustedTypes policy "+lr+" could not be created."),null}};return function St(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it(),Ze=function(wt){return St(wt)};if(Ze.version="2.4.8",Ze.removed=[],!et||!et.document||9!==et.document.nodeType)return Ze.isSupported=!1,Ze;var ht=et.document,Lt=et.document,Sn=et.DocumentFragment,lr=et.HTMLTemplateElement,rr=et.Node,_r=et.Element,Mr=et.NodeFilter,Kn=et.NamedNodeMap,Zn=void 0===Kn?et.NamedNodeMap||et.MozNamedAttrMap:Kn,Er=et.HTMLFormElement,Jo=et.DOMParser,Na=et.trustedTypes,Oi=_r.prototype,tl=gt(Oi,"cloneNode"),nl=gt(Oi,"nextSibling"),Bs=gt(Oi,"childNodes"),ds=gt(Oi,"parentNode");if("function"==typeof lr){var ao=Lt.createElement("template");ao.content&&ao.content.ownerDocument&&(Lt=ao.content.ownerDocument)}var oa=Ot(Na,ht),vl=oa?oa.createHTML(""):"",zl=Lt.implementation,Ap=Lt.createNodeIterator,Hc=Lt.createDocumentFragment,bf=Lt.getElementsByTagName,ir=ht.importNode,Sh={};try{Sh=ye(Lt).documentMode?Lt.documentMode:{}}catch(Pr){}var Vs={};Ze.isSupported="function"==typeof ds&&zl&&void 0!==zl.createHTMLDocument&&9!==Sh;var Vi,bs,Io=Qt,Rs=ci,go=ii,Rd=li,Bc=Qr,_s=xe,_l=Pe,jl=Ct,fs=zr,Wi=null,Ul=Te({},[].concat(R(Et),R(Xt),R(an),R(Pt),R(vr))),yi=null,Mu=Te({},[].concat(R(dr),R($n),R(Ur),R(vn))),yo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Dd=null,Qo=null,tc=!0,Vc=!0,Ad=!1,xu=!0,zc=!1,eu=!1,Od=!1,Mh=!1,jc=!1,wf=!1,kd=!1,Sf=!0,Op=!1,Dg="user-content-",is=!0,bl=!1,wl={},tu=null,ko=Te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Mf=null,lo=Te({},["audio","video","img","source","image","track"]),Cu=null,xh=Te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ii="http://www.w3.org/1998/Math/MathML",kr="http://www.w3.org/2000/svg",Sl="http://www.w3.org/1999/xhtml",Pd=Sl,pn=!1,Uc=null,di=Te({},[Ii,kr,Sl],ct),Ag=["application/xhtml+xml","text/html"],Zv="text/html",nu=null,ba=Lt.createElement("form"),Og=function(wt){return wt instanceof RegExp||wt instanceof Function},Ch=function(wt){nu&&nu===wt||((!wt||"object"!==ae(wt))&&(wt={}),wt=ye(wt),Vi=Vi=-1===Ag.indexOf(wt.PARSER_MEDIA_TYPE)?Zv:wt.PARSER_MEDIA_TYPE,bs="application/xhtml+xml"===Vi?ct:Ke,Wi="ALLOWED_TAGS"in wt?Te({},wt.ALLOWED_TAGS,bs):Ul,yi="ALLOWED_ATTR"in wt?Te({},wt.ALLOWED_ATTR,bs):Mu,Uc="ALLOWED_NAMESPACES"in wt?Te({},wt.ALLOWED_NAMESPACES,ct):di,Cu="ADD_URI_SAFE_ATTR"in wt?Te(ye(xh),wt.ADD_URI_SAFE_ATTR,bs):xh,Mf="ADD_DATA_URI_TAGS"in wt?Te(ye(lo),wt.ADD_DATA_URI_TAGS,bs):lo,tu="FORBID_CONTENTS"in wt?Te({},wt.FORBID_CONTENTS,bs):ko,Dd="FORBID_TAGS"in wt?Te({},wt.FORBID_TAGS,bs):{},Qo="FORBID_ATTR"in wt?Te({},wt.FORBID_ATTR,bs):{},wl="USE_PROFILES"in wt&&wt.USE_PROFILES,tc=!1!==wt.ALLOW_ARIA_ATTR,Vc=!1!==wt.ALLOW_DATA_ATTR,Ad=wt.ALLOW_UNKNOWN_PROTOCOLS||!1,xu=!1!==wt.ALLOW_SELF_CLOSE_IN_ATTR,zc=wt.SAFE_FOR_TEMPLATES||!1,eu=wt.WHOLE_DOCUMENT||!1,jc=wt.RETURN_DOM||!1,wf=wt.RETURN_DOM_FRAGMENT||!1,kd=wt.RETURN_TRUSTED_TYPE||!1,Mh=wt.FORCE_BODY||!1,Sf=!1!==wt.SANITIZE_DOM,Op=wt.SANITIZE_NAMED_PROPS||!1,is=!1!==wt.KEEP_CONTENT,bl=wt.IN_PLACE||!1,fs=wt.ALLOWED_URI_REGEXP||fs,Pd=wt.NAMESPACE||Sl,yo=wt.CUSTOM_ELEMENT_HANDLING||{},wt.CUSTOM_ELEMENT_HANDLING&&Og(wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yo.tagNameCheck=wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&Og(wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yo.attributeNameCheck=wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(yo.allowCustomizedBuiltInElements=wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zc&&(Vc=!1),wf&&(jc=!0),wl&&(Wi=Te({},R(vr)),yi=[],!0===wl.html&&(Te(Wi,Et),Te(yi,dr)),!0===wl.svg&&(Te(Wi,Xt),Te(yi,$n),Te(yi,vn)),!0===wl.svgFilters&&(Te(Wi,an),Te(yi,$n),Te(yi,vn)),!0===wl.mathMl&&(Te(Wi,Pt),Te(yi,Ur),Te(yi,vn))),wt.ADD_TAGS&&(Wi===Ul&&(Wi=ye(Wi)),Te(Wi,wt.ADD_TAGS,bs)),wt.ADD_ATTR&&(yi===Mu&&(yi=ye(yi)),Te(yi,wt.ADD_ATTR,bs)),wt.ADD_URI_SAFE_ATTR&&Te(Cu,wt.ADD_URI_SAFE_ATTR,bs),wt.FORBID_CONTENTS&&(tu===ko&&(tu=ye(tu)),Te(tu,wt.FORBID_CONTENTS,bs)),is&&(Wi["#text"]=!0),eu&&Te(Wi,["html","head","body"]),Wi.table&&(Te(Wi,["tbody"]),delete Dd.tbody),K&&K(wt),nu=wt)},kg=Te({},["mi","mo","mn","ms","mtext"]),Fa=Te({},["foreignobject","desc","title","annotation-xml"]),Eh=Te({},["title","style","font","a","script"]),Ld=Te({},Xt);Te(Ld,an),Te(Ld,kn);var nc=Te({},Pt);Te(nc,zn);var Id=function(wt){var Pn=ds(wt);(!Pn||!Pn.tagName)&&(Pn={namespaceURI:Pd,tagName:"template"});var tr=Ke(wt.tagName),Ni=Ke(Pn.tagName);return!!Uc[wt.namespaceURI]&&(wt.namespaceURI===kr?Pn.namespaceURI===Sl?"svg"===tr:Pn.namespaceURI===Ii?"svg"===tr&&("annotation-xml"===Ni||kg[Ni]):Boolean(Ld[tr]):wt.namespaceURI===Ii?Pn.namespaceURI===Sl?"math"===tr:Pn.namespaceURI===kr?"math"===tr&&Fa[Ni]:Boolean(nc[tr]):wt.namespaceURI===Sl?!(Pn.namespaceURI===kr&&!Fa[Ni]||Pn.namespaceURI===Ii&&!kg[Ni])&&!nc[tr]&&(Eh[tr]||!Ld[tr]):!("application/xhtml+xml"!==Vi||!Uc[wt.namespaceURI]))},il=function(wt){Ne(Ze.removed,{element:wt});try{wt.parentNode.removeChild(wt)}catch(Pn){try{wt.outerHTML=vl}catch(tr){wt.remove()}}},xf=function(wt,Pn){try{Ne(Ze.removed,{attribute:Pn.getAttributeNode(wt),from:Pn})}catch(tr){Ne(Ze.removed,{attribute:null,from:Pn})}if(Pn.removeAttribute(wt),"is"===wt&&!yi[wt])if(jc||wf)try{il(Pn)}catch(tr){}else try{Pn.setAttribute(wt,"")}catch(tr){}},Th=function(wt){var Pn,tr;if(Mh)wt="<remove></remove>"+wt;else{var Ni=st(wt,/^[\r\n\t ]+/);tr=Ni&&Ni[0]}"application/xhtml+xml"===Vi&&Pd===Sl&&(wt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+wt+"</body></html>");var Ti=oa?oa.createHTML(wt):wt;if(Pd===Sl)try{Pn=(new Jo).parseFromString(Ti,Vi)}catch(es){}if(!Pn||!Pn.documentElement){Pn=zl.createDocument(Pd,"template",null);try{Pn.documentElement.innerHTML=pn?vl:Ti}catch(es){}}var ps=Pn.body||Pn.documentElement;return wt&&tr&&ps.insertBefore(Lt.createTextNode(tr),ps.childNodes[0]||null),Pd===Sl?bf.call(Pn,eu?"html":"body")[0]:eu?Pn.documentElement:ps},Pg=function(wt){return Ap.call(wt.ownerDocument||wt,wt,Mr.SHOW_ELEMENT|Mr.SHOW_COMMENT|Mr.SHOW_TEXT|Mr.SHOW_PROCESSING_INSTRUCTION,null,!1)},ol=function(wt){return wt instanceof Er&&("string"!=typeof wt.nodeName||"string"!=typeof wt.textContent||"function"!=typeof wt.removeChild||!(wt.attributes instanceof Zn)||"function"!=typeof wt.removeAttribute||"function"!=typeof wt.setAttribute||"string"!=typeof wt.namespaceURI||"function"!=typeof wt.insertBefore||"function"!=typeof wt.hasChildNodes)},io=function(wt){return"object"===ae(rr)?wt instanceof rr:wt&&"object"===ae(wt)&&"number"==typeof wt.nodeType&&"string"==typeof wt.nodeName},hs=function(wt,Pn,tr){!Vs[wt]||Qe(Vs[wt],function(Ni){Ni.call(Ze,Pn,tr,nu)})},Wc=function(wt){var Pn;if(hs("beforeSanitizeElements",wt,null),ol(wt)||At(/[\u0080-\uFFFF]/,wt.nodeName))return il(wt),!0;var tr=bs(wt.nodeName);if(hs("uponSanitizeElement",wt,{tagName:tr,allowedTags:Wi}),wt.hasChildNodes()&&!io(wt.firstElementChild)&&(!io(wt.content)||!io(wt.content.firstElementChild))&&At(/<[/\w]/g,wt.innerHTML)&&At(/<[/\w]/g,wt.textContent)||"select"===tr&&At(/<template/i,wt.innerHTML))return il(wt),!0;if(!Wi[tr]||Dd[tr]){if(!Dd[tr]&&gn(tr)&&(yo.tagNameCheck instanceof RegExp&&At(yo.tagNameCheck,tr)||yo.tagNameCheck instanceof Function&&yo.tagNameCheck(tr)))return!1;if(is&&!tu[tr]){var Ni=ds(wt)||wt.parentNode,Ti=Bs(wt)||wt.childNodes;if(Ti&&Ni)for(var es=Ti.length-1;es>=0;--es)Ni.insertBefore(tl(Ti[es],!0),nl(wt))}return il(wt),!0}return wt instanceof _r&&!Id(wt)||("noscript"===tr||"noembed"===tr||"noframes"===tr)&&At(/<\/no(script|embed|frames)/i,wt.innerHTML)?(il(wt),!0):(zc&&3===wt.nodeType&&(Pn=dt(Pn=wt.textContent,Io," "),Pn=dt(Pn,Rs," "),Pn=dt(Pn,go," "),wt.textContent!==Pn&&(Ne(Ze.removed,{element:wt.cloneNode()}),wt.textContent=Pn)),hs("afterSanitizeElements",wt,null),!1)},Nd=function(wt,Pn,tr){if(Sf&&("id"===Pn||"name"===Pn)&&(tr in Lt||tr in ba))return!1;if((!Vc||Qo[Pn]||!At(Rd,Pn))&&(!tc||!At(Bc,Pn)))if(!yi[Pn]||Qo[Pn]){if(!(gn(wt)&&(yo.tagNameCheck instanceof RegExp&&At(yo.tagNameCheck,wt)||yo.tagNameCheck instanceof Function&&yo.tagNameCheck(wt))&&(yo.attributeNameCheck instanceof RegExp&&At(yo.attributeNameCheck,Pn)||yo.attributeNameCheck instanceof Function&&yo.attributeNameCheck(Pn))||"is"===Pn&&yo.allowCustomizedBuiltInElements&&(yo.tagNameCheck instanceof RegExp&&At(yo.tagNameCheck,tr)||yo.tagNameCheck instanceof Function&&yo.tagNameCheck(tr))))return!1}else if(!Cu[Pn]&&!At(fs,dt(tr,_l,""))&&("src"!==Pn&&"xlink:href"!==Pn&&"href"!==Pn||"script"===wt||0!==kt(tr,"data:")||!Mf[wt])&&(!Ad||At(_s,dt(tr,_l,"")))&&tr)return!1;return!0},gn=function(wt){return"annotation-xml"!==wt&&st(wt,jl)},kp=function(wt){var Pn,tr,Ni,Ti;hs("beforeSanitizeAttributes",wt,null);var ps=wt.attributes;if(ps){var es={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yi};for(Ti=ps.length;Ti--;){var pr=(Pn=ps[Ti]).name,Cf=Pn.namespaceURI;if(tr="value"===pr?Pn.value:It(Pn.value),Ni=bs(pr),es.attrName=Ni,es.attrValue=tr,es.keepAttr=!0,es.forceKeepAttr=void 0,hs("uponSanitizeAttribute",wt,es),tr=es.attrValue,!es.forceKeepAttr&&(xf(pr,wt),es.keepAttr)){if(!xu&&At(/\/>/i,tr)){xf(pr,wt);continue}zc&&(tr=dt(tr,Io," "),tr=dt(tr,Rs," "),tr=dt(tr,go," "));var Lg=bs(wt.nodeName);if(Nd(Lg,Ni,tr)){if(Op&&("id"===Ni||"name"===Ni)&&(xf(pr,wt),tr=Dg+tr),oa&&"object"===ae(Na)&&"function"==typeof Na.getAttributeType&&!Cf)switch(Na.getAttributeType(Lg,Ni)){case"TrustedHTML":tr=oa.createHTML(tr);break;case"TrustedScriptURL":tr=oa.createScriptURL(tr)}try{Cf?wt.setAttributeNS(Cf,pr,tr):wt.setAttribute(pr,tr),qe(Ze.removed)}catch(Ha){}}}}hs("afterSanitizeAttributes",wt,null)}},ei=function Pr(wt){var Pn,tr=Pg(wt);for(hs("beforeSanitizeShadowDOM",wt,null);Pn=tr.nextNode();)hs("uponSanitizeShadowNode",Pn,null),!Wc(Pn)&&(Pn.content instanceof Sn&&Pr(Pn.content),kp(Pn));hs("afterSanitizeShadowDOM",wt,null)};return Ze.sanitize=function(Pr){var Pn,tr,Ni,Ti,ps,wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((pn=!Pr)&&(Pr="\x3c!--\x3e"),"string"!=typeof Pr&&!io(Pr)){if("function"!=typeof Pr.toString)throw Bt("toString is not a function");if("string"!=typeof(Pr=Pr.toString()))throw Bt("dirty is not a string, aborting")}if(!Ze.isSupported){if("object"===ae(et.toStaticHTML)||"function"==typeof et.toStaticHTML){if("string"==typeof Pr)return et.toStaticHTML(Pr);if(io(Pr))return et.toStaticHTML(Pr.outerHTML)}return Pr}if(Od||Ch(wt),Ze.removed=[],"string"==typeof Pr&&(bl=!1),bl){if(Pr.nodeName){var es=bs(Pr.nodeName);if(!Wi[es]||Dd[es])throw Bt("root node is forbidden and cannot be sanitized in-place")}}else if(Pr instanceof rr)1===(tr=(Pn=Th("\x3c!----\x3e")).ownerDocument.importNode(Pr,!0)).nodeType&&"BODY"===tr.nodeName||"HTML"===tr.nodeName?Pn=tr:Pn.appendChild(tr);else{if(!jc&&!zc&&!eu&&-1===Pr.indexOf("<"))return oa&&kd?oa.createHTML(Pr):Pr;if(!(Pn=Th(Pr)))return jc?null:kd?vl:""}Pn&&Mh&&il(Pn.firstChild);for(var Rh=Pg(bl?Pr:Pn);Ni=Rh.nextNode();)3===Ni.nodeType&&Ni===Ti||Wc(Ni)||(Ni.content instanceof Sn&&ei(Ni.content),kp(Ni),Ti=Ni);if(Ti=null,bl)return Pr;if(jc){if(wf)for(ps=Hc.call(Pn.ownerDocument);Pn.firstChild;)ps.appendChild(Pn.firstChild);else ps=Pn;return(yi.shadowroot||yi.shadowrootmod)&&(ps=ir.call(ht,ps,!0)),ps}var pr=eu?Pn.outerHTML:Pn.innerHTML;return eu&&Wi["!doctype"]&&Pn.ownerDocument&&Pn.ownerDocument.doctype&&Pn.ownerDocument.doctype.name&&At(nt,Pn.ownerDocument.doctype.name)&&(pr="<!DOCTYPE "+Pn.ownerDocument.doctype.name+">\n"+pr),zc&&(pr=dt(pr,Io," "),pr=dt(pr,Rs," "),pr=dt(pr,go," ")),oa&&kd?oa.createHTML(pr):pr},Ze.setConfig=function(Pr){Ch(Pr),Od=!0},Ze.clearConfig=function(){nu=null,Od=!1},Ze.isValidAttribute=function(Pr,wt,Pn){nu||Ch({});var tr=bs(Pr),Ni=bs(wt);return Nd(tr,Ni,Pn)},Ze.addHook=function(Pr,wt){"function"==typeof wt&&(Vs[Pr]=Vs[Pr]||[],Ne(Vs[Pr],wt))},Ze.removeHook=function(Pr){if(Vs[Pr])return qe(Vs[Pr])},Ze.removeHooks=function(Pr){Vs[Pr]&&(Vs[Pr]=[])},Ze.removeAllHooks=function(){Vs={}},Ze}()}()},5226:function(Z,ae){var S;void 0!==(S=function(){"use strict";function E(te,se,oe){var fe=new XMLHttpRequest;fe.open("GET",te),fe.responseType="blob",fe.onload=function(){$(fe.response,se,oe)},fe.onerror=function(){console.error("could not download file")},fe.send()}function A(te){var se=new XMLHttpRequest;se.open("HEAD",te,!1);try{se.send()}catch(oe){}return 200<=se.status&&299>=se.status}function I(te){try{te.dispatchEvent(new MouseEvent("click"))}catch(oe){var se=document.createEvent("MouseEvents");se.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),te.dispatchEvent(se)}}var N="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,W=N.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),$=N.saveAs||("object"!=typeof window||window!==N?function(){}:"download"in HTMLAnchorElement.prototype&&!W?function(te,se,oe){var fe=N.URL||N.webkitURL,K=document.createElement("a");K.download=se=se||te.name||"download",K.rel="noopener","string"==typeof te?(K.href=te,K.origin===location.origin?I(K):A(K.href)?E(te,se,oe):I(K,K.target="_blank")):(K.href=fe.createObjectURL(te),setTimeout(function(){fe.revokeObjectURL(K.href)},4e4),setTimeout(function(){I(K)},0))}:"msSaveOrOpenBlob"in navigator?function(te,se,oe){if(se=se||te.name||"download","string"!=typeof te)navigator.msSaveOrOpenBlob(function R(te,se){return void 0===se?se={autoBom:!1}:"object"!=typeof se&&(console.warn("Deprecated: Expected third argument to be a object"),se={autoBom:!se}),se.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(te.type)?new Blob(["\ufeff",te],{type:te.type}):te}(te,oe),se);else if(A(te))E(te,se,oe);else{var fe=document.createElement("a");fe.href=te,fe.target="_blank",setTimeout(function(){I(fe)})}}:function(te,se,oe,fe){if((fe=fe||open("","_blank"))&&(fe.document.title=fe.document.body.innerText="downloading..."),"string"==typeof te)return E(te,se,oe);var K="application/octet-stream"===te.type,ce=/constructor/i.test(N.HTMLElement)||N.safari,we=/CriOS\/[\d]+/.test(navigator.userAgent);if((we||K&&ce||W)&&"undefined"!=typeof FileReader){var Fe=new FileReader;Fe.onloadend=function(){var Qe=Fe.result;Qe=we?Qe:Qe.replace(/^data:[^;]*;/,"data:attachment/file;"),fe?fe.location.href=Qe:location=Qe,fe=null},Fe.readAsDataURL(te)}else{var Ae=N.URL||N.webkitURL,Ve=Ae.createObjectURL(te);fe?fe.location=Ve:location.href=Ve,fe=null,setTimeout(function(){Ae.revokeObjectURL(Ve)},4e4)}});N.saveAs=$.saveAs=$,Z.exports=$}.apply(ae,[]))&&(Z.exports=S)},8685:function(Z,ae,b){!function(O){"use strict";O.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(R){return/^nm$/i.test(R)},meridiem:function(R,E,A){return R<12?A?"vm":"VM":A?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(R){return R+(1===R||8===R||R>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},4312:function(Z,ae,b){!function(O){"use strict";var S=function(N){return 0===N?0:1===N?1:2===N?2:N%100>=3&&N%100<=10?3:N%100>=11?4:5},R={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},E=function(N){return function(W,$,te,se){var oe=S(W),fe=R[N][S(W)];return 2===oe&&(fe=fe[$?0:1]),fe.replace(/%d/i,W)}},A=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar-dz",{months:A,monthsShort:A,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(N){return"\u0645"===N},meridiem:function(N,W,$){return N<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:E("s"),ss:E("s"),m:E("m"),mm:E("m"),h:E("h"),hh:E("h"),d:E("d"),dd:E("d"),M:E("M"),MM:E("M"),y:E("y"),yy:E("y")},postformat:function(N){return N.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(b(6908))},2614:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(b(6908))},8630:function(Z,ae,b){!function(O){"use strict";var S={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},R=function(W){return 0===W?0:1===W?1:2===W?2:W%100>=3&&W%100<=10?3:W%100>=11?4:5},E={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},A=function(W){return function($,te,se,oe){var fe=R($),K=E[W][R($)];return 2===fe&&(K=K[te?0:1]),K.replace(/%d/i,$)}},I=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar-ly",{months:I,monthsShort:I,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(W){return"\u0645"===W},meridiem:function(W,$,te){return W<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:A("s"),ss:A("s"),m:A("m"),mm:A("m"),h:A("h"),hh:A("h"),d:A("d"),dd:A("d"),M:A("M"),MM:A("M"),y:A("y"),yy:A("y")},preparse:function(W){return W.replace(/\u060c/g,",")},postformat:function(W){return W.replace(/\d/g,function($){return S[$]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},8674:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},9032:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},R={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};O.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(A){return"\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(A){return A.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(I){return R[I]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(b(6908))},4730:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(b(6908))},254:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},R={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},E=function($){return 0===$?0:1===$?1:2===$?2:$%100>=3&&$%100<=10?3:$%100>=11?4:5},A={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},I=function($){return function(te,se,oe,fe){var K=E(te),ce=A[$][E(te)];return 2===K&&(ce=ce[se?0:1]),ce.replace(/%d/i,te)}},N=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];O.defineLocale("ar",{months:N,monthsShort:N,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function($){return"\u0645"===$},meridiem:function($,te,se){return $<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:I("s"),ss:I("s"),m:I("m"),mm:I("m"),h:I("h"),hh:I("h"),d:I("d"),dd:I("d"),M:I("M"),MM:I("M"),y:I("y"),yy:I("y")},preparse:function($){return $.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(te){return R[te]}).replace(/\u060c/g,",")},postformat:function($){return $.replace(/\d/g,function(te){return S[te]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},3052:function(Z,ae,b){!function(O){"use strict";var S={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};O.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(E){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(E)},meridiem:function(E,A,I){return E<4?"gec\u0259":E<12?"s\u0259h\u0259r":E<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(E){if(0===E)return E+"-\u0131nc\u0131";var A=E%10;return E+(S[A]||S[E%100-A]||S[E>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},150:function(Z,ae,b){!function(O){"use strict";function R(A,I,N){return"m"===N?I?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===N?I?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":A+" "+function S(A,I){var N=A.split("_");return I%10==1&&I%100!=11?N[0]:I%10>=2&&I%10<=4&&(I%100<10||I%100>=20)?N[1]:N[2]}({ss:I?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:I?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:I?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[N],+A)}O.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:R,mm:R,h:R,hh:R,d:"\u0434\u0437\u0435\u043d\u044c",dd:R,M:"\u043c\u0435\u0441\u044f\u0446",MM:R,y:"\u0433\u043e\u0434",yy:R},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(A){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(A)},meridiem:function(A,I,N){return A<4?"\u043d\u043e\u0447\u044b":A<12?"\u0440\u0430\u043d\u0456\u0446\u044b":A<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(A,I){switch(I){case"M":case"d":case"DDD":case"w":case"W":return A%10!=2&&A%10!=3||A%100==12||A%100==13?A+"-\u044b":A+"-\u0456";case"D":return A+"-\u0433\u0430";default:return A}},week:{dow:1,doy:7}})}(b(6908))},3069:function(Z,ae,b){!function(O){"use strict";O.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(R){var E=R%10,A=R%100;return 0===R?R+"-\u0435\u0432":0===A?R+"-\u0435\u043d":A>10&&A<20?R+"-\u0442\u0438":1===E?R+"-\u0432\u0438":2===E?R+"-\u0440\u0438":7===E||8===E?R+"-\u043c\u0438":R+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},3466:function(Z,ae,b){!function(O){"use strict";O.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(b(6908))},557:function(Z,ae,b){!function(O){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},R={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};O.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===I?A<4?A:A+12:"\u09ad\u09cb\u09b0"===I||"\u09b8\u0995\u09be\u09b2"===I?A:"\u09a6\u09c1\u09aa\u09c1\u09b0"===I?A>=3?A:A+12:"\u09ac\u09bf\u0995\u09be\u09b2"===I||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u09b0\u09be\u09a4":A<6?"\u09ad\u09cb\u09b0":A<12?"\u09b8\u0995\u09be\u09b2":A<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<18?"\u09ac\u09bf\u0995\u09be\u09b2":A<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},8516:function(Z,ae,b){!function(O){"use strict";var S={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},R={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};O.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(A){return A.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u09b0\u09be\u09a4"===I&&A>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===I&&A<5||"\u09ac\u09bf\u0995\u09be\u09b2"===I?A+12:A},meridiem:function(A,I,N){return A<4?"\u09b0\u09be\u09a4":A<10?"\u09b8\u0995\u09be\u09b2":A<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":A<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(b(6908))},6273:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},R={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};O.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(A){return A.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===I&&A>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===I&&A<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===I?A+12:A},meridiem:function(A,I,N){return A<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":A<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":A<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":A<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(b(6908))},9588:function(Z,ae,b){!function(O){"use strict";function S(ce,we,Fe){return ce+" "+function A(ce,we){return 2===we?function I(ce){var we={m:"v",b:"v",d:"z"};return void 0===we[ce.charAt(0)]?ce:we[ce.charAt(0)]+ce.substring(1)}(ce):ce}({mm:"munutenn",MM:"miz",dd:"devezh"}[Fe],ce)}function E(ce){return ce>9?E(ce%10):ce}var N=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],W=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,fe=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];O.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:fe,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:fe,monthsRegex:W,monthsShortRegex:W,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:N,longMonthsParse:N,shortMonthsParse:N,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:S,h:"un eur",hh:"%d eur",d:"un devezh",dd:S,M:"ur miz",MM:S,y:"ur bloaz",yy:function R(ce){switch(E(ce)){case 1:case 3:case 4:case 5:case 9:return ce+" bloaz";default:return ce+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(ce){return ce+(1===ce?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(ce){return"g.m."===ce},meridiem:function(ce,we,Fe){return ce<12?"a.m.":"g.m."}})}(b(6908))},9815:function(Z,ae,b){!function(O){"use strict";function S(E,A,I){var N=E+" ";switch(I){case"ss":return N+(1===E?"sekunda":2===E||3===E||4===E?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return N+(1===E?"minuta":2===E||3===E||4===E?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return N+(1===E?"sat":2===E||3===E||4===E?"sata":"sati");case"dd":return N+(1===E?"dan":"dana");case"MM":return N+(1===E?"mjesec":2===E||3===E||4===E?"mjeseca":"mjeseci");case"yy":return N+(1===E?"godina":2===E||3===E||4===E?"godine":"godina")}}O.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3331:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(R,E){var A=1===R?"r":2===R?"n":3===R?"r":4===R?"t":"\xe8";return("w"===E||"W"===E)&&(A="a"),R+A},week:{dow:1,doy:4}})}(b(6908))},1320:function(Z,ae,b){!function(O){"use strict";var S={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},R="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),E=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],A=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function I($){return $>1&&$<5&&1!=~~($/10)}function N($,te,se,oe){var fe=$+" ";switch(se){case"s":return te||oe?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return te||oe?fe+(I($)?"sekundy":"sekund"):fe+"sekundami";case"m":return te?"minuta":oe?"minutu":"minutou";case"mm":return te||oe?fe+(I($)?"minuty":"minut"):fe+"minutami";case"h":return te?"hodina":oe?"hodinu":"hodinou";case"hh":return te||oe?fe+(I($)?"hodiny":"hodin"):fe+"hodinami";case"d":return te||oe?"den":"dnem";case"dd":return te||oe?fe+(I($)?"dny":"dn\xed"):fe+"dny";case"M":return te||oe?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return te||oe?fe+(I($)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):fe+"m\u011bs\xedci";case"y":return te||oe?"rok":"rokem";case"yy":return te||oe?fe+(I($)?"roky":"let"):fe+"lety"}}O.defineLocale("cs",{months:S,monthsShort:R,monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:N,ss:N,m:N,mm:N,h:N,hh:N,d:N,dd:N,M:N,MM:N,y:N,yy:N},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2219:function(Z,ae,b){!function(O){"use strict";O.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(R){return R+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(R)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(R)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(b(6908))},8266:function(Z,ae,b){!function(O){"use strict";O.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(R){var A="";return R>20?A=40===R||50===R||60===R||80===R||100===R?"fed":"ain":R>0&&(A=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][R]),R+A},week:{dow:1,doy:4}})}(b(6908))},6427:function(Z,ae,b){!function(O){"use strict";O.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2871:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[E+" Tage",E+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[E+" Monate",E+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[E+" Jahre",E+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2994:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[E+" Tage",E+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[E+" Monate",E+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[E+" Jahre",E+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7435:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[E+" Tage",E+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[E+" Monate",E+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[E+" Jahre",E+" Jahren"]};return A?W[I][0]:W[I][1]}O.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,w:S,ww:"%d Wochen",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2357:function(Z,ae,b){!function(O){"use strict";var S=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],R=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];O.defineLocale("dv",{months:S,monthsShort:S,weekdays:R,weekdaysShort:R,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(A){return"\u0789\u078a"===A},meridiem:function(A,I,N){return A<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(b(6908))},5649:function(Z,ae,b){!function(O){"use strict";O.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(E,A){return E?"string"==typeof A&&/D/.test(A.substring(0,A.indexOf("MMMM")))?this._monthsGenitiveEl[E.month()]:this._monthsNominativeEl[E.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(E,A,I){return E>11?I?"\u03bc\u03bc":"\u039c\u039c":I?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(E){return"\u03bc"===(E+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(E,A){var I=this._calendarEl[E],N=A&&A.hours();return function S(E){return"undefined"!=typeof Function&&E instanceof Function||"[object Function]"===Object.prototype.toString.call(E)}(I)&&(I=I.apply(A)),I.replace("{}",N%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(b(6908))},9961:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:0,doy:4}})}(b(6908))},9878:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")}})}(b(6908))},3924:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},864:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1579:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")}})}(b(6908))},940:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:0,doy:6}})}(b(6908))},6181:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},4301:function(Z,ae,b){!function(O){"use strict";O.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},5291:function(Z,ae,b){!function(O){"use strict";O.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(R){return"p"===R.charAt(0).toLowerCase()},meridiem:function(R,E,A){return R>11?A?"p.t.m.":"P.T.M.":A?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(b(6908))},3764:function(Z,ae,b){!function(O){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),R="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),E=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2584:function(Z,ae,b){!function(O){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),R="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),E=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},3425:function(Z,ae,b){!function(O){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),R="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),E=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(b(6908))},4529:function(Z,ae,b){!function(O){"use strict";var S="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),R="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),E=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],A=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;O.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(b(6908))},5203:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[E+"sekundi",E+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[E+" minuti",E+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[E+" tunni",E+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[E+" kuu",E+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[E+" aasta",E+" aastat"]};return A?W[I][2]?W[I][2]:W[I][1]:N?W[I][0]:W[I][1]}O.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:"%d p\xe4eva",M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},678:function(Z,ae,b){!function(O){"use strict";O.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},3483:function(Z,ae,b){!function(O){"use strict";var S={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},R={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};O.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(A){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(A)},meridiem:function(A,I,N){return A<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/[\u06f0-\u06f9]/g,function(I){return R[I]}).replace(/\u060c/g,",")},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(b(6908))},6262:function(Z,ae,b){!function(O){"use strict";var S="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),R=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",S[7],S[8],S[9]];function E(N,W,$,te){var se="";switch($){case"s":return te?"muutaman sekunnin":"muutama sekunti";case"ss":se=te?"sekunnin":"sekuntia";break;case"m":return te?"minuutin":"minuutti";case"mm":se=te?"minuutin":"minuuttia";break;case"h":return te?"tunnin":"tunti";case"hh":se=te?"tunnin":"tuntia";break;case"d":return te?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":se=te?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return te?"kuukauden":"kuukausi";case"MM":se=te?"kuukauden":"kuukautta";break;case"y":return te?"vuoden":"vuosi";case"yy":se=te?"vuoden":"vuotta"}return function A(N,W){return N<10?W?R[N]:S[N]:N}(N,te)+" "+se}O.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},2521:function(Z,ae,b){!function(O){"use strict";O.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(R){return R},week:{dow:1,doy:4}})}(b(6908))},9486:function(Z,ae,b){!function(O){"use strict";O.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8239:function(Z,ae,b){!function(O){"use strict";O.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(R,E){switch(E){default:case"M":case"Q":case"D":case"DDD":case"d":return R+(1===R?"er":"e");case"w":case"W":return R+(1===R?"re":"e")}}})}(b(6908))},1702:function(Z,ae,b){!function(O){"use strict";O.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(R,E){switch(E){default:case"M":case"Q":case"D":case"DDD":case"d":return R+(1===R?"er":"e");case"w":case"W":return R+(1===R?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},3131:function(Z,ae,b){!function(O){"use strict";var E=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,A=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];O.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:E,monthsShortRegex:E,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:A,longMonthsParse:A,shortMonthsParse:A,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(N,W){switch(W){case"D":return N+(1===N?"er":"");default:case"M":case"Q":case"DDD":case"d":return N+(1===N?"er":"e");case"w":case"W":return N+(1===N?"re":"e")}},week:{dow:1,doy:4}})}(b(6908))},267:function(Z,ae,b){!function(O){"use strict";var S="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),R="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");O.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(A,I){return A?/-MMM-/.test(I)?R[A.month()]:S[A.month()]:S},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(A){return A+(1===A||8===A||A>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3821:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},1753:function(Z,ae,b){!function(O){"use strict";O.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}(b(6908))},4074:function(Z,ae,b){!function(O){"use strict";O.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(R){return 0===R.indexOf("un")?"n"+R:"en "+R},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},2762:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[E+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",E+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[E+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",E+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[E+" \u0935\u0930\u093e\u0902\u0928\u0940",E+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[E+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",E+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[E+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",E+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[E+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",E+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return N?W[I][0]:W[I][1]}O.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(E,A){return"D"===A?E+"\u0935\u0947\u0930":E},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(E,A){return 12===E&&(E=0),"\u0930\u093e\u0924\u0940"===A?E<4?E:E+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===A?E:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===A?E>12?E:E+12:"\u0938\u093e\u0902\u091c\u0947"===A?E+12:void 0},meridiem:function(E,A,I){return E<4?"\u0930\u093e\u0924\u0940":E<12?"\u0938\u0915\u093e\u0933\u0940\u0902":E<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":E<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(b(6908))},5969:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W={s:["thoddea sekondamni","thodde sekond"],ss:[E+" sekondamni",E+" sekond"],m:["eka mintan","ek minut"],mm:[E+" mintamni",E+" mintam"],h:["eka voran","ek vor"],hh:[E+" voramni",E+" voram"],d:["eka disan","ek dis"],dd:[E+" disamni",E+" dis"],M:["eka mhoinean","ek mhoino"],MM:[E+" mhoineamni",E+" mhoine"],y:["eka vorsan","ek voros"],yy:[E+" vorsamni",E+" vorsam"]};return N?W[I][0]:W[I][1]}O.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(E,A){return"D"===A?E+"er":E},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(E,A){return 12===E&&(E=0),"rati"===A?E<4?E:E+12:"sokallim"===A?E:"donparam"===A?E>12?E:E+12:"sanje"===A?E+12:void 0},meridiem:function(E,A,I){return E<4?"rati":E<12?"sokallim":E<16?"donparam":E<20?"sanje":"rati"}})}(b(6908))},2809:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},R={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};O.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(A){return A.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0ab0\u0abe\u0aa4"===I?A<4?A:A+12:"\u0ab8\u0ab5\u0abe\u0ab0"===I?A:"\u0aac\u0aaa\u0acb\u0ab0"===I?A>=10?A:A+12:"\u0ab8\u0abe\u0a82\u0a9c"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0ab0\u0abe\u0aa4":A<10?"\u0ab8\u0ab5\u0abe\u0ab0":A<17?"\u0aac\u0aaa\u0acb\u0ab0":A<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(b(6908))},5402:function(Z,ae,b){!function(O){"use strict";O.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(R){return 2===R?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":R+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(R){return 2===R?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":R+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(R){return 2===R?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":R+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(R){return 2===R?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":R%10==0&&10!==R?R+" \u05e9\u05e0\u05d4":R+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(R){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(R)},meridiem:function(R,E,A){return R<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":R<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":R<12?A?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":R<18?A?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(b(6908))},315:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},R={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},E=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];O.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:E,longMonthsParse:E,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(N){return N.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(W){return R[W]})},postformat:function(N){return N.replace(/\d/g,function(W){return S[W]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(N,W){return 12===N&&(N=0),"\u0930\u093e\u0924"===W?N<4?N:N+12:"\u0938\u0941\u092c\u0939"===W?N:"\u0926\u094b\u092a\u0939\u0930"===W?N>=10?N:N+12:"\u0936\u093e\u092e"===W?N+12:void 0},meridiem:function(N,W,$){return N<4?"\u0930\u093e\u0924":N<10?"\u0938\u0941\u092c\u0939":N<17?"\u0926\u094b\u092a\u0939\u0930":N<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(b(6908))},410:function(Z,ae,b){!function(O){"use strict";function S(E,A,I){var N=E+" ";switch(I){case"ss":return N+(1===E?"sekunda":2===E||3===E||4===E?"sekunde":"sekundi");case"m":return A?"jedna minuta":"jedne minute";case"mm":return N+(1===E?"minuta":2===E||3===E||4===E?"minute":"minuta");case"h":return A?"jedan sat":"jednog sata";case"hh":return N+(1===E?"sat":2===E||3===E||4===E?"sata":"sati");case"dd":return N+(1===E?"dan":"dana");case"MM":return N+(1===E?"mjesec":2===E||3===E||4===E?"mjeseca":"mjeseci");case"yy":return N+(1===E?"godina":2===E||3===E||4===E?"godine":"godina")}}O.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:S,m:S,mm:S,h:S,hh:S,d:"dan",dd:S,M:"mjesec",MM:S,y:"godinu",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8288:function(Z,ae,b){!function(O){"use strict";var S="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function R(I,N,W,$){var te=I;switch(W){case"s":return $||N?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return te+($||N)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+($||N?" perc":" perce");case"mm":return te+($||N?" perc":" perce");case"h":return"egy"+($||N?" \xf3ra":" \xf3r\xe1ja");case"hh":return te+($||N?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+($||N?" nap":" napja");case"dd":return te+($||N?" nap":" napja");case"M":return"egy"+($||N?" h\xf3nap":" h\xf3napja");case"MM":return te+($||N?" h\xf3nap":" h\xf3napja");case"y":return"egy"+($||N?" \xe9v":" \xe9ve");case"yy":return te+($||N?" \xe9v":" \xe9ve")}return""}function E(I){return(I?"":"[m\xfalt] ")+"["+S[this.day()]+"] LT[-kor]"}O.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(I){return"u"===I.charAt(1).toLowerCase()},meridiem:function(I,N,W){return I<12?!0===W?"de":"DE":!0===W?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return E.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return E.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},7928:function(Z,ae,b){!function(O){"use strict";O.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(R){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(R)},meridiem:function(R){return R<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":R<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":R<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(R,E){switch(E){case"DDD":case"w":case"W":case"DDDo":return 1===R?R+"-\u056b\u0576":R+"-\u0580\u0564";default:return R}},week:{dow:1,doy:7}})}(b(6908))},1647:function(Z,ae,b){!function(O){"use strict";O.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(R,E){return 12===R&&(R=0),"pagi"===E?R:"siang"===E?R>=11?R:R+12:"sore"===E||"malam"===E?R+12:void 0},meridiem:function(R,E,A){return R<11?"pagi":R<15?"siang":R<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(b(6908))},6959:function(Z,ae,b){!function(O){"use strict";function S(A){return A%100==11||A%10!=1}function R(A,I,N,W){var $=A+" ";switch(N){case"s":return I||W?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return S(A)?$+(I||W?"sek\xfandur":"sek\xfandum"):$+"sek\xfanda";case"m":return I?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return S(A)?$+(I||W?"m\xedn\xfatur":"m\xedn\xfatum"):I?$+"m\xedn\xfata":$+"m\xedn\xfatu";case"hh":return S(A)?$+(I||W?"klukkustundir":"klukkustundum"):$+"klukkustund";case"d":return I?"dagur":W?"dag":"degi";case"dd":return S(A)?I?$+"dagar":$+(W?"daga":"d\xf6gum"):I?$+"dagur":$+(W?"dag":"degi");case"M":return I?"m\xe1nu\xf0ur":W?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return S(A)?I?$+"m\xe1nu\xf0ir":$+(W?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):I?$+"m\xe1nu\xf0ur":$+(W?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return I||W?"\xe1r":"\xe1ri";case"yy":return S(A)?$+(I||W?"\xe1r":"\xe1rum"):$+(I||W?"\xe1r":"\xe1ri")}}O.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:R,ss:R,m:R,mm:R,h:"klukkustund",hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1124:function(Z,ae,b){!function(O){"use strict";O.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(R){return(/^[0-9].+$/.test(R)?"tra":"in")+" "+R},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},4864:function(Z,ae,b){!function(O){"use strict";O.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},6141:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(R,E){return"\u5143"===E[1]?1:parseInt(E[1]||R,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(R){return"\u5348\u5f8c"===R},meridiem:function(R,E,A){return R<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(R){return R.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(R){return this.week()!==R.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(R,E){switch(E){case"y":return 1===R?"\u5143\u5e74":R+"\u5e74";case"d":case"D":case"DDD":return R+"\u65e5";default:return R}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(b(6908))},9187:function(Z,ae,b){!function(O){"use strict";O.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(R,E){return 12===R&&(R=0),"enjing"===E?R:"siyang"===E?R>=11?R:R+12:"sonten"===E||"ndalu"===E?R+12:void 0},meridiem:function(R,E,A){return R<11?"enjing":R<15?"siyang":R<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(b(6908))},2136:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(R){return R.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(E,A,I){return"\u10d8"===I?A+"\u10e8\u10d8":A+I+"\u10e8\u10d8"})},past:function(R){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(R)?R.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(R)?R.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):R},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(R){return 0===R?R:1===R?R+"-\u10da\u10d8":R<20||R<=100&&R%20==0||R%100==0?"\u10db\u10d4-"+R:R+"-\u10d4"},week:{dow:1,doy:7}})}(b(6908))},4332:function(Z,ae,b){!function(O){"use strict";var S={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};O.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(E){return E+(S[E]||S[E%10]||S[E>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},8607:function(Z,ae,b){!function(O){"use strict";var S={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},R={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};O.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(A){return"\u179b\u17d2\u1784\u17b6\u1785"===A},meridiem:function(A,I,N){return A<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(A){return A.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},week:{dow:1,doy:4}})}(b(6908))},4305:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},R={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};O.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(A){return A.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===I?A<4?A:A+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===I?A:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===I?A>=10?A:A+12:"\u0cb8\u0c82\u0c9c\u0cc6"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":A<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":A<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":A<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(A){return A+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(b(6908))},234:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"\uc77c";case"M":return R+"\uc6d4";case"w":case"W":return R+"\uc8fc";default:return R}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(R){return"\uc624\ud6c4"===R},meridiem:function(R,E,A){return R<12?"\uc624\uc804":"\uc624\ud6c4"}})}(b(6908))},6003:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},R={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},E=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];O.defineLocale("ku",{months:E,monthsShort:E,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(I){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(I)},meridiem:function(I,N,W){return I<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(I){return I.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(N){return R[N]}).replace(/\u060c/g,",")},postformat:function(I){return I.replace(/\d/g,function(N){return S[N]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(b(6908))},5061:function(Z,ae,b){!function(O){"use strict";var S={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};O.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(E){return E+(S[E]||S[E%10]||S[E>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},2786:function(Z,ae,b){!function(O){"use strict";function S(N,W,$,te){var se={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return W?se[$][0]:se[$][1]}function A(N){if(N=parseInt(N,10),isNaN(N))return!1;if(N<0)return!0;if(N<10)return 4<=N&&N<=7;if(N<100){var W=N%10;return A(0===W?N/10:W)}if(N<1e4){for(;N>=10;)N/=10;return A(N)}return A(N/=1e3)}O.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function R(N){return A(N.substr(0,N.indexOf(" ")))?"a "+N:"an "+N},past:function E(N){return A(N.substr(0,N.indexOf(" ")))?"viru "+N:"virun "+N},s:"e puer Sekonnen",ss:"%d Sekonnen",m:S,mm:"%d Minutten",h:S,hh:"%d Stonnen",d:S,dd:"%d Deeg",M:S,MM:"%d M\xe9int",y:S,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6183:function(Z,ae,b){!function(O){"use strict";O.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(R){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===R},meridiem:function(R,E,A){return R<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(R){return"\u0e97\u0eb5\u0ec8"+R}})}(b(6908))},29:function(Z,ae,b){!function(O){"use strict";var S={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function E($,te,se,oe){return te?I(se)[0]:oe?I(se)[1]:I(se)[2]}function A($){return $%10==0||$>10&&$<20}function I($){return S[$].split("_")}function N($,te,se,oe){var fe=$+" ";return 1===$?fe+E(0,te,se[0],oe):te?fe+(A($)?I(se)[1]:I(se)[0]):oe?fe+I(se)[1]:fe+(A($)?I(se)[1]:I(se)[2])}O.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function R($,te,se,oe){return te?"kelios sekund\u0117s":oe?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:N,m:E,mm:N,h:E,hh:N,d:E,dd:N,M:E,MM:N,y:E,yy:N},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function($){return $+"-oji"},week:{dow:1,doy:4}})}(b(6908))},4169:function(Z,ae,b){!function(O){"use strict";var S={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function R(W,$,te){return te?$%10==1&&$%100!=11?W[2]:W[3]:$%10==1&&$%100!=11?W[0]:W[1]}function E(W,$,te){return W+" "+R(S[te],W,$)}function A(W,$,te){return R(S[te],W,$)}O.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function I(W,$){return $?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:E,m:A,mm:E,h:A,hh:E,d:A,dd:E,M:A,MM:E,y:A,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8577:function(Z,ae,b){!function(O){"use strict";var S={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(E,A){return 1===E?A[0]:E>=2&&E<=4?A[1]:A[2]},translate:function(E,A,I){var N=S.words[I];return 1===I.length?A?N[0]:N[1]:E+" "+S.correctGrammaticalCase(E,N)}};O.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:"dan",dd:S.translate,M:"mjesec",MM:S.translate,y:"godinu",yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8177:function(Z,ae,b){!function(O){"use strict";O.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},7039:function(Z,ae,b){!function(O){"use strict";O.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(R){var E=R%10,A=R%100;return 0===R?R+"-\u0435\u0432":0===A?R+"-\u0435\u043d":A>10&&A<20?R+"-\u0442\u0438":1===E?R+"-\u0432\u0438":2===E?R+"-\u0440\u0438":7===E||8===E?R+"-\u043c\u0438":R+"-\u0442\u0438"},week:{dow:1,doy:7}})}(b(6908))},5260:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(R,E){return 12===R&&(R=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===E&&R>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===E||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===E?R+12:R},meridiem:function(R,E,A){return R<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":R<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":R<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":R<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(b(6908))},9428:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){switch(I){case"s":return A?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return E+(A?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return E+(A?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return E+(A?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return E+(A?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return E+(A?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return E+(A?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return E}}O.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(E){return"\u04ae\u0425"===E},meridiem:function(E,A,I){return E<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(E,A){switch(A){case"d":case"D":case"DDD":return E+" \u04e9\u0434\u04e9\u0440";default:return E}}})}(b(6908))},4695:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},R={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function E(I,N,W,$){var te="";if(N)switch(W){case"s":te="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":te="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":te="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":te="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":te="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":te="%d \u0924\u093e\u0938";break;case"d":te="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":te="%d \u0926\u093f\u0935\u0938";break;case"M":te="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":te="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":te="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":te="%d \u0935\u0930\u094d\u0937\u0947"}else switch(W){case"s":te="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":te="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":te="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":te="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":te="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":te="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":te="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":te="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":te="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":te="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":te="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":te="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return te.replace(/%d/i,I)}O.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},preparse:function(I){return I.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(N){return R[N]})},postformat:function(I){return I.replace(/\d/g,function(N){return S[N]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(I,N){return 12===I&&(I=0),"\u092a\u0939\u093e\u091f\u0947"===N||"\u0938\u0915\u093e\u0933\u0940"===N?I:"\u0926\u0941\u092a\u093e\u0930\u0940"===N||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===N||"\u0930\u093e\u0924\u094d\u0930\u0940"===N?I>=12?I:I+12:void 0},meridiem:function(I,N,W){return I>=0&&I<6?"\u092a\u0939\u093e\u091f\u0947":I<12?"\u0938\u0915\u093e\u0933\u0940":I<17?"\u0926\u0941\u092a\u093e\u0930\u0940":I<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(b(6908))},7151:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(R,E){return 12===R&&(R=0),"pagi"===E?R:"tengahari"===E?R>=11?R:R+12:"petang"===E||"malam"===E?R+12:void 0},meridiem:function(R,E,A){return R<11?"pagi":R<15?"tengahari":R<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},5334:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(R,E){return 12===R&&(R=0),"pagi"===E?R:"tengahari"===E?R>=11?R:R+12:"petang"===E||"malam"===E?R+12:void 0},meridiem:function(R,E,A){return R<11?"pagi":R<15?"tengahari":R<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(b(6908))},3570:function(Z,ae,b){!function(O){"use strict";O.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},7963:function(Z,ae,b){!function(O){"use strict";var S={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},R={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};O.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(A){return A.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},week:{dow:1,doy:4}})}(b(6908))},8028:function(Z,ae,b){!function(O){"use strict";O.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},6638:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},R={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};O.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(A){return A.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0930\u093e\u0924\u093f"===I?A<4?A:A+12:"\u092c\u093f\u0939\u093e\u0928"===I?A:"\u0926\u093f\u0909\u0901\u0938\u094b"===I?A>=10?A:A+12:"\u0938\u093e\u0901\u091d"===I?A+12:void 0},meridiem:function(A,I,N){return A<3?"\u0930\u093e\u0924\u093f":A<12?"\u092c\u093f\u0939\u093e\u0928":A<16?"\u0926\u093f\u0909\u0901\u0938\u094b":A<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(b(6908))},6782:function(Z,ae,b){!function(O){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),R="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),E=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;O.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(N){return N+(1===N||8===N||N>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},302:function(Z,ae,b){!function(O){"use strict";var S="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),R="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),E=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],A=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;O.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(N,W){return N?/-MMM-/.test(W)?R[N.month()]:S[N.month()]:S},monthsRegex:A,monthsShortRegex:A,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(N){return N+(1===N||8===N||N>=20?"ste":"de")},week:{dow:1,doy:4}})}(b(6908))},3501:function(Z,ae,b){!function(O){"use strict";O.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},563:function(Z,ae,b){!function(O){"use strict";O.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(R,E){var A=1===R?"r":2===R?"n":3===R?"r":4===R?"t":"\xe8";return("w"===E||"W"===E)&&(A="a"),R+A},week:{dow:1,doy:4}})}(b(6908))},869:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},R={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};O.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(A){return A.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(A,I){return 12===A&&(A=0),"\u0a30\u0a3e\u0a24"===I?A<4?A:A+12:"\u0a38\u0a35\u0a47\u0a30"===I?A:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===I?A>=10?A:A+12:"\u0a38\u0a3c\u0a3e\u0a2e"===I?A+12:void 0},meridiem:function(A,I,N){return A<4?"\u0a30\u0a3e\u0a24":A<10?"\u0a38\u0a35\u0a47\u0a30":A<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":A<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(b(6908))},5302:function(Z,ae,b){!function(O){"use strict";var S="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),R="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),E=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function A(W){return W%10<5&&W%10>1&&~~(W/10)%10!=1}function I(W,$,te){var se=W+" ";switch(te){case"ss":return se+(A(W)?"sekundy":"sekund");case"m":return $?"minuta":"minut\u0119";case"mm":return se+(A(W)?"minuty":"minut");case"h":return $?"godzina":"godzin\u0119";case"hh":return se+(A(W)?"godziny":"godzin");case"ww":return se+(A(W)?"tygodnie":"tygodni");case"MM":return se+(A(W)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return se+(A(W)?"lata":"lat")}}O.defineLocale("pl",{months:function(W,$){return W?/D MMMM/.test($)?R[W.month()]:S[W.month()]:S},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:E,longMonthsParse:E,shortMonthsParse:E,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:I,m:I,mm:I,h:I,hh:I,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:I,M:"miesi\u0105c",MM:I,y:"rok",yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},4884:function(Z,ae,b){!function(O){"use strict";O.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(b(6908))},9687:function(Z,ae,b){!function(O){"use strict";O.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(b(6908))},9107:function(Z,ae,b){!function(O){"use strict";function S(E,A,I){var W=" ";return(E%100>=20||E>=100&&E%100==0)&&(W=" de "),E+W+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[I]}O.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:S,m:"un minut",mm:S,h:"o or\u0103",hh:S,d:"o zi",dd:S,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:S,M:"o lun\u0103",MM:S,y:"un an",yy:S},week:{dow:1,doy:7}})}(b(6908))},3627:function(Z,ae,b){!function(O){"use strict";function R(I,N,W){return"m"===W?N?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":I+" "+function S(I,N){var W=I.split("_");return N%10==1&&N%100!=11?W[0]:N%10>=2&&N%10<=4&&(N%100<10||N%100>=20)?W[1]:W[2]}({ss:N?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:N?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[W],+I)}var E=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];O.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:E,longMonthsParse:E,shortMonthsParse:E,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(I){if(I.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(I){if(I.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:R,m:R,mm:R,h:"\u0447\u0430\u0441",hh:R,d:"\u0434\u0435\u043d\u044c",dd:R,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:R,M:"\u043c\u0435\u0441\u044f\u0446",MM:R,y:"\u0433\u043e\u0434",yy:R},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(I){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(I)},meridiem:function(I,N,W){return I<4?"\u043d\u043e\u0447\u0438":I<12?"\u0443\u0442\u0440\u0430":I<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(I,N){switch(N){case"M":case"d":case"DDD":return I+"-\u0439";case"D":return I+"-\u0433\u043e";case"w":case"W":return I+"-\u044f";default:return I}},week:{dow:1,doy:4}})}(b(6908))},355:function(Z,ae,b){!function(O){"use strict";var S=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],R=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];O.defineLocale("sd",{months:S,monthsShort:S,weekdays:R,weekdaysShort:R,weekdaysMin:R,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},3427:function(Z,ae,b){!function(O){"use strict";O.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1848:function(Z,ae,b){!function(O){"use strict";O.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(R){return R+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(R){return"\u0db4.\u0dc0."===R||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===R},meridiem:function(R,E,A){return R>11?A?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":A?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(b(6908))},4590:function(Z,ae,b){!function(O){"use strict";var S="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),R="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function E(N){return N>1&&N<5}function A(N,W,$,te){var se=N+" ";switch($){case"s":return W||te?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return W||te?se+(E(N)?"sekundy":"sek\xfand"):se+"sekundami";case"m":return W?"min\xfata":te?"min\xfatu":"min\xfatou";case"mm":return W||te?se+(E(N)?"min\xfaty":"min\xfat"):se+"min\xfatami";case"h":return W?"hodina":te?"hodinu":"hodinou";case"hh":return W||te?se+(E(N)?"hodiny":"hod\xedn"):se+"hodinami";case"d":return W||te?"de\u0148":"d\u0148om";case"dd":return W||te?se+(E(N)?"dni":"dn\xed"):se+"d\u0148ami";case"M":return W||te?"mesiac":"mesiacom";case"MM":return W||te?se+(E(N)?"mesiace":"mesiacov"):se+"mesiacmi";case"y":return W||te?"rok":"rokom";case"yy":return W||te?se+(E(N)?"roky":"rokov"):se+"rokmi"}}O.defineLocale("sk",{months:S,monthsShort:R,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},184:function(Z,ae,b){!function(O){"use strict";function S(E,A,I,N){var W=E+" ";switch(I){case"s":return A||N?"nekaj sekund":"nekaj sekundami";case"ss":return W+(1===E?A?"sekundo":"sekundi":2===E?A||N?"sekundi":"sekundah":E<5?A||N?"sekunde":"sekundah":"sekund");case"m":return A?"ena minuta":"eno minuto";case"mm":return W+(1===E?A?"minuta":"minuto":2===E?A||N?"minuti":"minutama":E<5?A||N?"minute":"minutami":A||N?"minut":"minutami");case"h":return A?"ena ura":"eno uro";case"hh":return W+(1===E?A?"ura":"uro":2===E?A||N?"uri":"urama":E<5?A||N?"ure":"urami":A||N?"ur":"urami");case"d":return A||N?"en dan":"enim dnem";case"dd":return W+(1===E?A||N?"dan":"dnem":2===E?A||N?"dni":"dnevoma":A||N?"dni":"dnevi");case"M":return A||N?"en mesec":"enim mesecem";case"MM":return W+(1===E?A||N?"mesec":"mesecem":2===E?A||N?"meseca":"mesecema":E<5?A||N?"mesece":"meseci":A||N?"mesecev":"meseci");case"y":return A||N?"eno leto":"enim letom";case"yy":return W+(1===E?A||N?"leto":"letom":2===E?A||N?"leti":"letoma":E<5?A||N?"leta":"leti":A||N?"let":"leti")}}O.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},6361:function(Z,ae,b){!function(O){"use strict";O.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(R){return"M"===R.charAt(0)},meridiem:function(R,E,A){return R<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},1287:function(Z,ae,b){!function(O){"use strict";var S={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(E,A){return E%10>=1&&E%10<=4&&(E%100<10||E%100>=20)?E%10==1?A[0]:A[1]:A[2]},translate:function(E,A,I,N){var $,W=S.words[I];return 1===I.length?"y"===I&&A?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":N||A?W[0]:W[1]:($=S.correctGrammaticalCase(E,W),"yy"===I&&A&&"\u0433\u043e\u0434\u0438\u043d\u0443"===$?E+" \u0433\u043e\u0434\u0438\u043d\u0430":E+" "+$)}};O.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:S.translate,dd:S.translate,M:S.translate,MM:S.translate,y:S.translate,yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},8965:function(Z,ae,b){!function(O){"use strict";var S={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(E,A){return E%10>=1&&E%10<=4&&(E%100<10||E%100>=20)?E%10==1?A[0]:A[1]:A[2]},translate:function(E,A,I,N){var $,W=S.words[I];return 1===I.length?"y"===I&&A?"jedna godina":N||A?W[0]:W[1]:($=S.correctGrammaticalCase(E,W),"yy"===I&&A&&"godinu"===$?E+" godina":E+" "+$)}};O.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:S.translate,m:S.translate,mm:S.translate,h:S.translate,hh:S.translate,d:S.translate,dd:S.translate,M:S.translate,MM:S.translate,y:S.translate,yy:S.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(b(6908))},5456:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(R,E,A){return R<11?"ekuseni":R<15?"emini":R<19?"entsambama":"ebusuku"},meridiemHour:function(R,E){return 12===R&&(R=0),"ekuseni"===E?R:"emini"===E?R>=11?R:R+12:"entsambama"===E||"ebusuku"===E?0===R?0:R+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(b(6908))},451:function(Z,ae,b){!function(O){"use strict";O.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?":e":1===E||2===E?":a":":e")},week:{dow:1,doy:4}})}(b(6908))},7558:function(Z,ae,b){!function(O){"use strict";O.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(b(6908))},1356:function(Z,ae,b){!function(O){"use strict";var S={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},R={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};O.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(A){return A+"\u0bb5\u0ba4\u0bc1"},preparse:function(A){return A.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(I){return R[I]})},postformat:function(A){return A.replace(/\d/g,function(I){return S[I]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(A,I,N){return A<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":A<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":A<10?" \u0b95\u0bbe\u0bb2\u0bc8":A<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":A<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":A<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(A,I){return 12===A&&(A=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===I?A<2?A:A+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===I||"\u0b95\u0bbe\u0bb2\u0bc8"===I||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===I&&A>=10?A:A+12},week:{dow:0,doy:6}})}(b(6908))},3693:function(Z,ae,b){!function(O){"use strict";O.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===E?R<4?R:R+12:"\u0c09\u0c26\u0c2f\u0c02"===E?R:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===E?R>=10?R:R+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===E?R+12:void 0},meridiem:function(R,E,A){return R<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":R<10?"\u0c09\u0c26\u0c2f\u0c02":R<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":R<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(b(6908))},1243:function(Z,ae,b){!function(O){"use strict";O.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},2500:function(Z,ae,b){!function(O){"use strict";var S={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};O.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(E,A){return 12===E&&(E=0),"\u0448\u0430\u0431"===A?E<4?E:E+12:"\u0441\u0443\u0431\u04b3"===A?E:"\u0440\u04ef\u0437"===A?E>=11?E:E+12:"\u0431\u0435\u0433\u043e\u04b3"===A?E+12:void 0},meridiem:function(E,A,I){return E<4?"\u0448\u0430\u0431":E<11?"\u0441\u0443\u0431\u04b3":E<16?"\u0440\u04ef\u0437":E<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(E){return E+(S[E]||S[E%10]||S[E>=100?100:null])},week:{dow:1,doy:7}})}(b(6908))},5768:function(Z,ae,b){!function(O){"use strict";O.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(R){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===R},meridiem:function(R,E,A){return R<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(b(6908))},623:function(Z,ae,b){!function(O){"use strict";var S={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};O.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(E,A){switch(A){case"d":case"D":case"Do":case"DD":return E;default:if(0===E)return E+"'unjy";var I=E%10;return E+(S[I]||S[E%100-I]||S[E>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},5780:function(Z,ae,b){!function(O){"use strict";O.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(R){return R},week:{dow:1,doy:4}})}(b(6908))},9590:function(Z,ae,b){!function(O){"use strict";var S="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function A(W,$,te,se){var oe=function I(W){var $=Math.floor(W%1e3/100),te=Math.floor(W%100/10),se=W%10,oe="";return $>0&&(oe+=S[$]+"vatlh"),te>0&&(oe+=(""!==oe?" ":"")+S[te]+"maH"),se>0&&(oe+=(""!==oe?" ":"")+S[se]),""===oe?"pagh":oe}(W);switch(te){case"ss":return oe+" lup";case"mm":return oe+" tup";case"hh":return oe+" rep";case"dd":return oe+" jaj";case"MM":return oe+" jar";case"yy":return oe+" DIS"}}O.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function R(W){var $=W;return-1!==W.indexOf("jaj")?$.slice(0,-3)+"leS":-1!==W.indexOf("jar")?$.slice(0,-3)+"waQ":-1!==W.indexOf("DIS")?$.slice(0,-3)+"nem":$+" pIq"},past:function E(W){var $=W;return-1!==W.indexOf("jaj")?$.slice(0,-3)+"Hu\u2019":-1!==W.indexOf("jar")?$.slice(0,-3)+"wen":-1!==W.indexOf("DIS")?$.slice(0,-3)+"ben":$+" ret"},s:"puS lup",ss:A,m:"wa\u2019 tup",mm:A,h:"wa\u2019 rep",hh:A,d:"wa\u2019 jaj",dd:A,M:"wa\u2019 jar",MM:A,y:"wa\u2019 DIS",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},3807:function(Z,ae,b){!function(O){"use strict";var S={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};O.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(E,A,I){return E<12?I?"\xf6\xf6":"\xd6\xd6":I?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(E){return"\xf6s"===E||"\xd6S"===E},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(E,A){switch(A){case"d":case"D":case"Do":case"DD":return E;default:if(0===E)return E+"'\u0131nc\u0131";var I=E%10;return E+(S[I]||S[E%100-I]||S[E>=100?100:null])}},week:{dow:1,doy:7}})}(b(6908))},3857:function(Z,ae,b){!function(O){"use strict";function R(E,A,I,N){var W={s:["viensas secunds","'iensas secunds"],ss:[E+" secunds",E+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[E+" m\xeduts",E+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[E+" \xfeoras",E+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[E+" ziuas",E+" ziuas"],M:["'n mes","'iens mes"],MM:[E+" mesen",E+" mesen"],y:["'n ar","'iens ar"],yy:[E+" ars",E+" ars"]};return N||A?W[I][0]:W[I][1]}O.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(E){return"d'o"===E.toLowerCase()},meridiem:function(E,A,I){return E>11?I?"d'o":"D'O":I?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:R,ss:R,m:R,mm:R,h:R,hh:R,d:R,dd:R,M:R,MM:R,y:R,yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(b(6908))},8806:function(Z,ae,b){!function(O){"use strict";O.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(b(6908))},654:function(Z,ae,b){!function(O){"use strict";O.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(b(6908))},845:function(Z,ae,b){!function(O){"use strict";O.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===E||"\u0633\u06d5\u06be\u06d5\u0631"===E||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===E?R:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===E||"\u0643\u06d5\u0686"===E?R+12:R>=11?R:R+12},meridiem:function(R,E,A){var I=100*R+E;return I<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":I<900?"\u0633\u06d5\u06be\u06d5\u0631":I<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":I<1230?"\u0686\u06c8\u0634":I<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return R+"-\u06be\u06d5\u067e\u062a\u06d5";default:return R}},preparse:function(R){return R.replace(/\u060c/g,",")},postformat:function(R){return R.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(b(6908))},9232:function(Z,ae,b){!function(O){"use strict";function R(N,W,$){return"m"===$?W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===$?W?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":N+" "+function S(N,W){var $=N.split("_");return W%10==1&&W%100!=11?$[0]:W%10>=2&&W%10<=4&&(W%100<10||W%100>=20)?$[1]:$[2]}({ss:W?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:W?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[$],+N)}function A(N){return function(){return N+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}O.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function E(N,W){var $={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===N?$.nominative.slice(1,7).concat($.nominative.slice(0,1)):N?$[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(W)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(W)?"genitive":"nominative"][N.day()]:$.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:A("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:A("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:A("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:A("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return A("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:R,m:R,mm:R,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:R,d:"\u0434\u0435\u043d\u044c",dd:R,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:R,y:"\u0440\u0456\u043a",yy:R},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(N){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(N)},meridiem:function(N,W,$){return N<4?"\u043d\u043e\u0447\u0456":N<12?"\u0440\u0430\u043d\u043a\u0443":N<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(N,W){switch(W){case"M":case"d":case"DDD":case"w":case"W":return N+"-\u0439";case"D":return N+"-\u0433\u043e";default:return N}},week:{dow:1,doy:7}})}(b(6908))},7052:function(Z,ae,b){!function(O){"use strict";var S=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],R=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];O.defineLocale("ur",{months:S,monthsShort:S,weekdays:R,weekdaysShort:R,weekdaysMin:R,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(A){return"\u0634\u0627\u0645"===A},meridiem:function(A,I,N){return A<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(A){return A.replace(/\u060c/g,",")},postformat:function(A){return A.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(b(6908))},2233:function(Z,ae,b){!function(O){"use strict";O.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(b(6908))},7967:function(Z,ae,b){!function(O){"use strict";O.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(b(6908))},8615:function(Z,ae,b){!function(O){"use strict";O.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(R){return/^ch$/i.test(R)},meridiem:function(R,E,A){return R<12?A?"sa":"SA":A?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(R){return R},week:{dow:1,doy:4}})}(b(6908))},2320:function(Z,ae,b){!function(O){"use strict";O.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(R){var E=R%10;return R+(1==~~(R%100/10)?"th":1===E?"st":2===E?"nd":3===E?"rd":"th")},week:{dow:1,doy:4}})}(b(6908))},1313:function(Z,ae,b){!function(O){"use strict";O.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(b(6908))},4490:function(Z,ae,b){!function(O){"use strict";O.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u51cc\u6668"===E||"\u65e9\u4e0a"===E||"\u4e0a\u5348"===E?R:"\u4e0b\u5348"===E||"\u665a\u4e0a"===E?R+12:R>=11?R:R+12},meridiem:function(R,E,A){var I=100*R+E;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(R){return R.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(R){return this.week()!==R.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"\u65e5";case"M":return R+"\u6708";case"w":case"W":return R+"\u5468";default:return R}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(b(6908))},5910:function(Z,ae,b){!function(O){"use strict";O.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u51cc\u6668"===E||"\u65e9\u4e0a"===E||"\u4e0a\u5348"===E?R:"\u4e2d\u5348"===E?R>=11?R:R+12:"\u4e0b\u5348"===E||"\u665a\u4e0a"===E?R+12:void 0},meridiem:function(R,E,A){var I=100*R+E;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1200?"\u4e0a\u5348":1200===I?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"\u65e5";case"M":return R+"\u6708";case"w":case"W":return R+"\u9031";default:return R}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},8262:function(Z,ae,b){!function(O){"use strict";O.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u51cc\u6668"===E||"\u65e9\u4e0a"===E||"\u4e0a\u5348"===E?R:"\u4e2d\u5348"===E?R>=11?R:R+12:"\u4e0b\u5348"===E||"\u665a\u4e0a"===E?R+12:void 0},meridiem:function(R,E,A){var I=100*R+E;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"\u65e5";case"M":return R+"\u6708";case"w":case"W":return R+"\u9031";default:return R}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},4223:function(Z,ae,b){!function(O){"use strict";O.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(R,E){return 12===R&&(R=0),"\u51cc\u6668"===E||"\u65e9\u4e0a"===E||"\u4e0a\u5348"===E?R:"\u4e2d\u5348"===E?R>=11?R:R+12:"\u4e0b\u5348"===E||"\u665a\u4e0a"===E?R+12:void 0},meridiem:function(R,E,A){var I=100*R+E;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1130?"\u4e0a\u5348":I<1230?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(R,E){switch(E){case"d":case"D":case"DDD":return R+"\u65e5";case"M":return R+"\u6708";case"w":case"W":return R+"\u9031";default:return R}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(b(6908))},6908:function(Z,ae,b){(Z=b.nmd(Z)).exports=function(){"use strict";var O,we;function S(){return O.apply(null,arguments)}function E(T){return T instanceof Array||"[object Array]"===Object.prototype.toString.call(T)}function A(T){return null!=T&&"[object Object]"===Object.prototype.toString.call(T)}function I(T,F){return Object.prototype.hasOwnProperty.call(T,F)}function N(T){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(T).length;var F;for(F in T)if(I(T,F))return!1;return!0}function W(T){return void 0===T}function $(T){return"number"==typeof T||"[object Number]"===Object.prototype.toString.call(T)}function te(T){return T instanceof Date||"[object Date]"===Object.prototype.toString.call(T)}function se(T,F){var le,J=[],ve=T.length;for(le=0;le<ve;++le)J.push(F(T[le],le));return J}function oe(T,F){for(var J in F)I(F,J)&&(T[J]=F[J]);return I(F,"toString")&&(T.toString=F.toString),I(F,"valueOf")&&(T.valueOf=F.valueOf),T}function fe(T,F,J,le){return Lp(T,F,J,le,!0).utc()}function ce(T){return null==T._pf&&(T._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),T._pf}function Fe(T){if(null==T._isValid){var F=ce(T),J=we.call(F.parsedDateParts,function(ve){return null!=ve}),le=!isNaN(T._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&J);if(T._strict&&(le=le&&0===F.charsLeftOver&&0===F.unusedTokens.length&&void 0===F.bigHour),null!=Object.isFrozen&&Object.isFrozen(T))return le;T._isValid=le}return T._isValid}function Ae(T){var F=fe(NaN);return null!=T?oe(ce(F),T):ce(F).userInvalidated=!0,F}we=Array.prototype.some?Array.prototype.some:function(T){var le,F=Object(this),J=F.length>>>0;for(le=0;le<J;le++)if(le in F&&T.call(this,F[le],le,F))return!0;return!1};var Ve=S.momentProperties=[],Qe=!1;function qe(T,F){var J,le,ve,ft=Ve.length;if(W(F._isAMomentObject)||(T._isAMomentObject=F._isAMomentObject),W(F._i)||(T._i=F._i),W(F._f)||(T._f=F._f),W(F._l)||(T._l=F._l),W(F._strict)||(T._strict=F._strict),W(F._tzm)||(T._tzm=F._tzm),W(F._isUTC)||(T._isUTC=F._isUTC),W(F._offset)||(T._offset=F._offset),W(F._pf)||(T._pf=ce(F)),W(F._locale)||(T._locale=F._locale),ft>0)for(J=0;J<ft;J++)W(ve=F[le=Ve[J]])||(T[le]=ve);return T}function Ne(T){qe(this,T),this._d=new Date(null!=T._d?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Qe&&(Qe=!0,S.updateOffset(this),Qe=!1)}function Ke(T){return T instanceof Ne||null!=T&&null!=T._isAMomentObject}function ct(T){!1===S.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+T)}function st(T,F){var J=!0;return oe(function(){if(null!=S.deprecationHandler&&S.deprecationHandler(null,T),J){var ve,ft,qt,le=[],Gr=arguments.length;for(ft=0;ft<Gr;ft++){if(ve="","object"==typeof arguments[ft]){for(qt in ve+="\n["+ft+"] ",arguments[0])I(arguments[0],qt)&&(ve+=qt+": "+arguments[0][qt]+", ");ve=ve.slice(0,-2)}else ve=arguments[ft];le.push(ve)}ct(T+"\nArguments: "+Array.prototype.slice.call(le).join("")+"\n"+(new Error).stack),J=!1}return F.apply(this,arguments)},F)}var sn,dt={};function kt(T,F){null!=S.deprecationHandler&&S.deprecationHandler(T,F),dt[T]||(ct(F),dt[T]=!0)}function It(T){return"undefined"!=typeof Function&&T instanceof Function||"[object Function]"===Object.prototype.toString.call(T)}function Bt(T,F){var le,J=oe({},T);for(le in F)I(F,le)&&(A(T[le])&&A(F[le])?(J[le]={},oe(J[le],T[le]),oe(J[le],F[le])):null!=F[le]?J[le]=F[le]:delete J[le]);for(le in T)I(T,le)&&!I(F,le)&&A(T[le])&&(J[le]=oe({},J[le]));return J}function Ut(T){null!=T&&this.set(T)}S.suppressDeprecationWarnings=!1,S.deprecationHandler=null,sn=Object.keys?Object.keys:function(T){var F,J=[];for(F in T)I(T,F)&&J.push(F);return J};function gt(T,F,J){var le=""+Math.abs(T);return(T>=0?J?"+":"":"-")+Math.pow(10,Math.max(0,F-le.length)).toString().substr(1)+le}var Et=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Xt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,an={},kn={};function Pt(T,F,J,le){var ve=le;"string"==typeof le&&(ve=function(){return this[le]()}),T&&(kn[T]=ve),F&&(kn[F[0]]=function(){return gt(ve.apply(this,arguments),F[1],F[2])}),J&&(kn[J]=function(){return this.localeData().ordinal(ve.apply(this,arguments),T)})}function zn(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function dr(T,F){return T.isValid()?(F=$n(F,T.localeData()),an[F]=an[F]||function vr(T){var J,le,F=T.match(Et);for(J=0,le=F.length;J<le;J++)F[J]=kn[F[J]]?kn[F[J]]:zn(F[J]);return function(ve){var qt,ft="";for(qt=0;qt<le;qt++)ft+=It(F[qt])?F[qt].call(ve,T):F[qt];return ft}}(F),an[F](T)):T.localeData().invalidDate()}function $n(T,F){var J=5;function le(ve){return F.longDateFormat(ve)||ve}for(Xt.lastIndex=0;J>=0&&Xt.test(T);)T=T.replace(Xt,le),Xt.lastIndex=0,J-=1;return T}var nt={};function Ct(T,F){var J=T.toLowerCase();nt[J]=nt[J+"s"]=nt[F]=T}function it(T){return"string"==typeof T?nt[T]||nt[T.toLowerCase()]:void 0}function Ot(T){var J,le,F={};for(le in T)I(T,le)&&(J=it(le))&&(F[J]=T[le]);return F}var St={};function pt(T,F){St[T]=F}function Ze(T){return T%4==0&&T%100!=0||T%400==0}function ht(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function Lt(T){var F=+T,J=0;return 0!==F&&isFinite(F)&&(J=ht(F)),J}function Sn(T,F){return function(J){return null!=J?(rr(this,T,J),S.updateOffset(this,F),this):lr(this,T)}}function lr(T,F){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+F]():NaN}function rr(T,F,J){T.isValid()&&!isNaN(J)&&("FullYear"===F&&Ze(T.year())&&1===T.month()&&29===T.date()?(J=Lt(J),T._d["set"+(T._isUTC?"UTC":"")+F](J,T.month(),tc(J,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+F](J))}var bf,Kn=/\d/,Zn=/\d\d/,Er=/\d{3}/,Jo=/\d{4}/,Na=/[+-]?\d{6}/,Oi=/\d\d?/,tl=/\d\d\d\d?/,nl=/\d\d\d\d\d\d?/,Bs=/\d{1,3}/,ds=/\d{1,4}/,ao=/[+-]?\d{1,6}/,oa=/\d+/,vl=/[+-]?\d+/,rl=/Z|[+-]\d\d:?\d\d/gi,zl=/Z|[+-]\d\d(?::?\d\d)?/gi,Hc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ir(T,F,J){bf[T]=It(F)?F:function(le,ve){return le&&J?J:F}}function Sh(T,F){return I(bf,T)?bf[T](F._strict,F._locale):new RegExp(function Vs(T){return Io(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,J,le,ve,ft){return J||le||ve||ft}))}(T))}function Io(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}bf={};var Rs={};function go(T,F){var J,ve,le=F;for("string"==typeof T&&(T=[T]),$(F)&&(le=function(ft,qt){qt[F]=Lt(ft)}),ve=T.length,J=0;J<ve;J++)Rs[T[J]]=le}function Rd(T,F){go(T,function(J,le,ve,ft){ve._w=ve._w||{},F(J,ve._w,ve,ft)})}function Bc(T,F,J){null!=F&&I(Rs,T)&&Rs[T](F,J._a,J,T)}var Qo;function tc(T,F){if(isNaN(T)||isNaN(F))return NaN;var J=function Dd(T,F){return(T%F+F)%F}(F,12);return T+=(F-J)/12,1===J?Ze(T)?29:28:31-J%7%2}Qo=Array.prototype.indexOf?Array.prototype.indexOf:function(T){var F;for(F=0;F<this.length;++F)if(this[F]===T)return F;return-1},Pt("M",["MM",2],"Mo",function(){return this.month()+1}),Pt("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),Pt("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Ct("month","M"),pt("month",8),ir("M",Oi),ir("MM",Oi,Zn),ir("MMM",function(T,F){return F.monthsShortRegex(T)}),ir("MMMM",function(T,F){return F.monthsRegex(T)}),go(["M","MM"],function(T,F){F[1]=Lt(T)-1}),go(["MMM","MMMM"],function(T,F,J,le){var ve=J._locale.monthsParse(T,le,J._strict);null!=ve?F[1]=ve:ce(J).invalidMonth=T});var Vc="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ad="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,zc=Hc,eu=Hc;function jc(T,F,J){var le,ve,ft,qt=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],le=0;le<12;++le)ft=fe([2e3,le]),this._shortMonthsParse[le]=this.monthsShort(ft,"").toLocaleLowerCase(),this._longMonthsParse[le]=this.months(ft,"").toLocaleLowerCase();return J?"MMM"===F?-1!==(ve=Qo.call(this._shortMonthsParse,qt))?ve:null:-1!==(ve=Qo.call(this._longMonthsParse,qt))?ve:null:"MMM"===F?-1!==(ve=Qo.call(this._shortMonthsParse,qt))||-1!==(ve=Qo.call(this._longMonthsParse,qt))?ve:null:-1!==(ve=Qo.call(this._longMonthsParse,qt))||-1!==(ve=Qo.call(this._shortMonthsParse,qt))?ve:null}function kd(T,F){var J;if(!T.isValid())return T;if("string"==typeof F)if(/^\d+$/.test(F))F=Lt(F);else if(!$(F=T.localeData().monthsParse(F)))return T;return J=Math.min(T.date(),tc(T.year(),F)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](F,J),T}function Sf(T){return null!=T?(kd(this,T),S.updateOffset(this,!0),this):lr(this,"Month")}function bl(){function T(qt,Gr){return Gr.length-qt.length}var ve,ft,F=[],J=[],le=[];for(ve=0;ve<12;ve++)ft=fe([2e3,ve]),F.push(this.monthsShort(ft,"")),J.push(this.months(ft,"")),le.push(this.months(ft,"")),le.push(this.monthsShort(ft,""));for(F.sort(T),J.sort(T),le.sort(T),ve=0;ve<12;ve++)F[ve]=Io(F[ve]),J[ve]=Io(J[ve]);for(ve=0;ve<24;ve++)le[ve]=Io(le[ve]);this._monthsRegex=new RegExp("^("+le.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}function wl(T){return Ze(T)?366:365}Pt("Y",0,0,function(){var T=this.year();return T<=9999?gt(T,4):"+"+T}),Pt(0,["YY",2],0,function(){return this.year()%100}),Pt(0,["YYYY",4],0,"year"),Pt(0,["YYYYY",5],0,"year"),Pt(0,["YYYYYY",6,!0],0,"year"),Ct("year","y"),pt("year",1),ir("Y",vl),ir("YY",Oi,Zn),ir("YYYY",ds,Jo),ir("YYYYY",ao,Na),ir("YYYYYY",ao,Na),go(["YYYYY","YYYYYY"],0),go("YYYY",function(T,F){F[0]=2===T.length?S.parseTwoDigitYear(T):Lt(T)}),go("YY",function(T,F){F[0]=S.parseTwoDigitYear(T)}),go("Y",function(T,F){F[0]=parseInt(T,10)}),S.parseTwoDigitYear=function(T){return Lt(T)+(Lt(T)>68?1900:2e3)};var tu=Sn("FullYear",!0);function Mf(T,F,J,le,ve,ft,qt){var Gr;return T<100&&T>=0?(Gr=new Date(T+400,F,J,le,ve,ft,qt),isFinite(Gr.getFullYear())&&Gr.setFullYear(T)):Gr=new Date(T,F,J,le,ve,ft,qt),Gr}function lo(T){var F,J;return T<100&&T>=0?((J=Array.prototype.slice.call(arguments))[0]=T+400,F=new Date(Date.UTC.apply(null,J)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(T)):F=new Date(Date.UTC.apply(null,arguments)),F}function Cu(T,F,J){var le=7+F-J;return-(7+lo(T,0,le).getUTCDay()-F)%7+le-1}function xh(T,F,J,le,ve){var Fi,jo,Gr=1+7*(F-1)+(7+J-le)%7+Cu(T,le,ve);return Gr<=0?jo=wl(Fi=T-1)+Gr:Gr>wl(T)?(Fi=T+1,jo=Gr-wl(T)):(Fi=T,jo=Gr),{year:Fi,dayOfYear:jo}}function Ii(T,F,J){var ft,qt,le=Cu(T.year(),F,J),ve=Math.floor((T.dayOfYear()-le-1)/7)+1;return ve<1?ft=ve+kr(qt=T.year()-1,F,J):ve>kr(T.year(),F,J)?(ft=ve-kr(T.year(),F,J),qt=T.year()+1):(qt=T.year(),ft=ve),{week:ft,year:qt}}function kr(T,F,J){var le=Cu(T,F,J),ve=Cu(T+1,F,J);return(wl(T)-le+ve)/7}Pt("w",["ww",2],"wo","week"),Pt("W",["WW",2],"Wo","isoWeek"),Ct("week","w"),Ct("isoWeek","W"),pt("week",5),pt("isoWeek",5),ir("w",Oi),ir("ww",Oi,Zn),ir("W",Oi),ir("WW",Oi,Zn),Rd(["w","ww","W","WW"],function(T,F,J,le){F[le.substr(0,1)]=Lt(T)});function bs(T,F){return T.slice(F,7).concat(T.slice(0,F))}Pt("d",0,"do","day"),Pt("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),Pt("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),Pt("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),Pt("e",0,0,"weekday"),Pt("E",0,0,"isoWeekday"),Ct("day","d"),Ct("weekday","e"),Ct("isoWeekday","E"),pt("day",11),pt("weekday",11),pt("isoWeekday",11),ir("d",Oi),ir("e",Oi),ir("E",Oi),ir("dd",function(T,F){return F.weekdaysMinRegex(T)}),ir("ddd",function(T,F){return F.weekdaysShortRegex(T)}),ir("dddd",function(T,F){return F.weekdaysRegex(T)}),Rd(["dd","ddd","dddd"],function(T,F,J,le){var ve=J._locale.weekdaysParse(T,le,J._strict);null!=ve?F.d=ve:ce(J).invalidWeekday=T}),Rd(["d","e","E"],function(T,F,J,le){F[le]=Lt(T)});var nu="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ba="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Og="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ch=Hc,kg=Hc,Fa=Hc;function Id(T,F,J){var le,ve,ft,qt=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],le=0;le<7;++le)ft=fe([2e3,1]).day(le),this._minWeekdaysParse[le]=this.weekdaysMin(ft,"").toLocaleLowerCase(),this._shortWeekdaysParse[le]=this.weekdaysShort(ft,"").toLocaleLowerCase(),this._weekdaysParse[le]=this.weekdays(ft,"").toLocaleLowerCase();return J?"dddd"===F?-1!==(ve=Qo.call(this._weekdaysParse,qt))?ve:null:"ddd"===F?-1!==(ve=Qo.call(this._shortWeekdaysParse,qt))?ve:null:-1!==(ve=Qo.call(this._minWeekdaysParse,qt))?ve:null:"dddd"===F?-1!==(ve=Qo.call(this._weekdaysParse,qt))||-1!==(ve=Qo.call(this._shortWeekdaysParse,qt))||-1!==(ve=Qo.call(this._minWeekdaysParse,qt))?ve:null:"ddd"===F?-1!==(ve=Qo.call(this._shortWeekdaysParse,qt))||-1!==(ve=Qo.call(this._weekdaysParse,qt))||-1!==(ve=Qo.call(this._minWeekdaysParse,qt))?ve:null:-1!==(ve=Qo.call(this._minWeekdaysParse,qt))||-1!==(ve=Qo.call(this._weekdaysParse,qt))||-1!==(ve=Qo.call(this._shortWeekdaysParse,qt))?ve:null}function Wc(){function T(Va,pc){return pc.length-Va.length}var ft,qt,Gr,Fi,jo,F=[],J=[],le=[],ve=[];for(ft=0;ft<7;ft++)qt=fe([2e3,1]).day(ft),Gr=Io(this.weekdaysMin(qt,"")),Fi=Io(this.weekdaysShort(qt,"")),jo=Io(this.weekdays(qt,"")),F.push(Gr),J.push(Fi),le.push(jo),ve.push(Gr),ve.push(Fi),ve.push(jo);F.sort(T),J.sort(T),le.sort(T),ve.sort(T),this._weekdaysRegex=new RegExp("^("+ve.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+le.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function Nd(){return this.hours()%12||12}function kp(T,F){Pt(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}function ei(T,F){return F._meridiemParse}Pt("H",["HH",2],0,"hour"),Pt("h",["hh",2],0,Nd),Pt("k",["kk",2],0,function gn(){return this.hours()||24}),Pt("hmm",0,0,function(){return""+Nd.apply(this)+gt(this.minutes(),2)}),Pt("hmmss",0,0,function(){return""+Nd.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)}),Pt("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)}),Pt("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)}),kp("a",!0),kp("A",!1),Ct("hour","h"),pt("hour",13),ir("a",ei),ir("A",ei),ir("H",Oi),ir("h",Oi),ir("k",Oi),ir("HH",Oi,Zn),ir("hh",Oi,Zn),ir("kk",Oi,Zn),ir("hmm",tl),ir("hmmss",nl),ir("Hmm",tl),ir("Hmmss",nl),go(["H","HH"],3),go(["k","kk"],function(T,F,J){var le=Lt(T);F[3]=24===le?0:le}),go(["a","A"],function(T,F,J){J._isPm=J._locale.isPM(T),J._meridiem=T}),go(["h","hh"],function(T,F,J){F[3]=Lt(T),ce(J).bigHour=!0}),go("hmm",function(T,F,J){var le=T.length-2;F[3]=Lt(T.substr(0,le)),F[4]=Lt(T.substr(le)),ce(J).bigHour=!0}),go("hmmss",function(T,F,J){var le=T.length-4,ve=T.length-2;F[3]=Lt(T.substr(0,le)),F[4]=Lt(T.substr(le,2)),F[5]=Lt(T.substr(ve)),ce(J).bigHour=!0}),go("Hmm",function(T,F,J){var le=T.length-2;F[3]=Lt(T.substr(0,le)),F[4]=Lt(T.substr(le))}),go("Hmmss",function(T,F,J){var le=T.length-4,ve=T.length-2;F[3]=Lt(T.substr(0,le)),F[4]=Lt(T.substr(le,2)),F[5]=Lt(T.substr(ve))});var Pn=Sn("Hours",!0);var es,Ni={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Vc,monthsShort:Ad,week:{dow:0,doy:6},weekdays:nu,weekdaysMin:Og,weekdaysShort:ba,meridiemParse:/[ap]\.?m?\.?/i},Ti={},ps={};function Rh(T,F){var J,le=Math.min(T.length,F.length);for(J=0;J<le;J+=1)if(T[J]!==F[J])return J;return le}function pr(T){return T&&T.toLowerCase().replace("_","-")}function Ha(T){var F=null;if(void 0===Ti[T]&&Z&&Z.exports&&function Lg(T){return null!=T.match("^[^/\\\\]*$")}(T))try{F=es._abbr,b(6700)("./"+T),Yc(F)}catch(le){Ti[T]=null}return Ti[T]}function Yc(T,F){var J;return T&&((J=W(F)?Ks(T):l0(T,F))?es=J:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),es._abbr}function l0(T,F){if(null!==F){var J,le=Ni;if(F.abbr=T,null!=Ti[T])kt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),le=Ti[T]._config;else if(null!=F.parentLocale)if(null!=Ti[F.parentLocale])le=Ti[F.parentLocale]._config;else{if(null==(J=Ha(F.parentLocale)))return ps[F.parentLocale]||(ps[F.parentLocale]=[]),ps[F.parentLocale].push({name:T,config:F}),null;le=J._config}return Ti[T]=new Ut(Bt(le,F)),ps[T]&&ps[T].forEach(function(ve){l0(ve.name,ve.config)}),Yc(T),Ti[T]}return delete Ti[T],null}function Ks(T){var F;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return es;if(!E(T)){if(F=Ha(T))return F;T=[T]}return function Cf(T){for(var J,le,ve,ft,F=0;F<T.length;){for(J=(ft=pr(T[F]).split("-")).length,le=(le=pr(T[F+1]))?le.split("-"):null;J>0;){if(ve=Ha(ft.slice(0,J).join("-")))return ve;if(le&&le.length>=J&&Rh(ft,le)>=J-1)break;J--}F++}return es}(T)}function u0(T){var F,J=T._a;return J&&-2===ce(T).overflow&&(F=J[1]<0||J[1]>11?1:J[2]<1||J[2]>tc(J[0],J[1])?2:J[3]<0||J[3]>24||24===J[3]&&(0!==J[4]||0!==J[5]||0!==J[6])?3:J[4]<0||J[4]>59?4:J[5]<0||J[5]>59?5:J[6]<0||J[6]>999?6:-1,ce(T)._overflowDayOfYear&&(F<0||F>2)&&(F=2),ce(T)._overflowWeeks&&-1===F&&(F=7),ce(T)._overflowWeekday&&-1===F&&(F=8),ce(T).overflow=F),T}var Eu=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qE=/Z|[+-]\d\d(?::?\d\d)?/,Ef=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ml=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Po=/^\/?Date\((-?\d+)/i,Ig=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qv={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ng(T){var F,J,ft,qt,Gr,Fi,le=T._i,ve=Eu.exec(le)||Wo.exec(le),jo=Ef.length,Va=Ml.length;if(ve){for(ce(T).iso=!0,F=0,J=jo;F<J;F++)if(Ef[F][1].exec(ve[1])){qt=Ef[F][0],ft=!1!==Ef[F][2];break}if(null==qt)return void(T._isValid=!1);if(ve[3]){for(F=0,J=Va;F<J;F++)if(Ml[F][1].exec(ve[3])){Gr=(ve[2]||" ")+Ml[F][0];break}if(null==Gr)return void(T._isValid=!1)}if(!ft&&null!=Gr)return void(T._isValid=!1);if(ve[4]){if(!qE.exec(ve[4]))return void(T._isValid=!1);Fi="Z"}T._f=qt+(Gr||"")+(Fi||""),Mn(T)}else T._isValid=!1}function Gc(T){var F=parseInt(T,10);return F<=49?2e3+F:F<=999?1900+F:F}function rc(T){var J,F=Ig.exec(function Pp(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(T._i));if(F){if(J=function c0(T,F,J,le,ve,ft){var qt=[Gc(T),Ad.indexOf(F),parseInt(J,10),parseInt(le,10),parseInt(ve,10)];return ft&&qt.push(parseInt(ft,10)),qt}(F[4],F[3],F[2],F[5],F[6],F[7]),!function JE(T,F,J){return!T||ba.indexOf(T)===new Date(F[0],F[1],F[2]).getDay()||(ce(J).weekdayMismatch=!0,J._isValid=!1,!1)}(F[1],J,T))return;T._a=J,T._tzm=function vi(T,F,J){if(T)return qv[T];if(F)return 0;var le=parseInt(J,10),ve=le%100;return(le-ve)/100*60+ve}(F[8],F[9],F[10]),T._d=lo.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),ce(T).rfc2822=!0}else T._isValid=!1}function ic(T,F,J){return null!=T?T:null!=F?F:J}function bn(T){var F,J,ve,ft,qt,le=[];if(!T._d){for(ve=function An(T){var F=new Date(S.now());return T._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}(T),T._w&&null==T._a[2]&&null==T._a[1]&&function zs(T){var F,J,le,ve,ft,qt,Gr,Fi,jo;null!=(F=T._w).GG||null!=F.W||null!=F.E?(ft=1,qt=4,J=ic(F.GG,T._a[0],Ii(pi(),1,4).year),le=ic(F.W,1),((ve=ic(F.E,1))<1||ve>7)&&(Fi=!0)):(ft=T._locale._week.dow,qt=T._locale._week.doy,jo=Ii(pi(),ft,qt),J=ic(F.gg,T._a[0],jo.year),le=ic(F.w,jo.week),null!=F.d?((ve=F.d)<0||ve>6)&&(Fi=!0):null!=F.e?(ve=F.e+ft,(F.e<0||F.e>6)&&(Fi=!0)):ve=ft),le<1||le>kr(J,ft,qt)?ce(T)._overflowWeeks=!0:null!=Fi?ce(T)._overflowWeekday=!0:(Gr=xh(J,le,ve,ft,qt),T._a[0]=Gr.year,T._dayOfYear=Gr.dayOfYear)}(T),null!=T._dayOfYear&&(qt=ic(T._a[0],ve[0]),(T._dayOfYear>wl(qt)||0===T._dayOfYear)&&(ce(T)._overflowDayOfYear=!0),J=lo(qt,0,T._dayOfYear),T._a[1]=J.getUTCMonth(),T._a[2]=J.getUTCDate()),F=0;F<3&&null==T._a[F];++F)T._a[F]=le[F]=ve[F];for(;F<7;F++)T._a[F]=le[F]=null==T._a[F]?2===F?1:0:T._a[F];24===T._a[3]&&0===T._a[4]&&0===T._a[5]&&0===T._a[6]&&(T._nextDay=!0,T._a[3]=0),T._d=(T._useUTC?lo:Mf).apply(null,le),ft=T._useUTC?T._d.getUTCDay():T._d.getDay(),null!=T._tzm&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[3]=24),T._w&&void 0!==T._w.d&&T._w.d!==ft&&(ce(T).weekdayMismatch=!0)}}function Mn(T){if(T._f!==S.ISO_8601)if(T._f!==S.RFC_2822){T._a=[],ce(T).empty=!0;var J,le,ve,ft,qt,jo,Va,F=""+T._i,Gr=F.length,Fi=0;for(Va=(ve=$n(T._f,T._locale).match(Et)||[]).length,J=0;J<Va;J++)(le=(F.match(Sh(ft=ve[J],T))||[])[0])&&((qt=F.substr(0,F.indexOf(le))).length>0&&ce(T).unusedInput.push(qt),F=F.slice(F.indexOf(le)+le.length),Fi+=le.length),kn[ft]?(le?ce(T).empty=!1:ce(T).unusedTokens.push(ft),Bc(ft,le,T)):T._strict&&!le&&ce(T).unusedTokens.push(ft);ce(T).charsLeftOver=Gr-Fi,F.length>0&&ce(T).unusedInput.push(F),T._a[3]<=12&&!0===ce(T).bigHour&&T._a[3]>0&&(ce(T).bigHour=void 0),ce(T).parsedDateParts=T._a.slice(0),ce(T).meridiem=T._meridiem,T._a[3]=function js(T,F,J){var le;return null==J?F:null!=T.meridiemHour?T.meridiemHour(F,J):(null!=T.isPM&&((le=T.isPM(J))&&F<12&&(F+=12),!le&&12===F&&(F=0)),F)}(T._locale,T._a[3],T._meridiem),null!==(jo=ce(T).era)&&(T._a[0]=T._locale.erasConvertYear(jo,T._a[0])),bn(T),u0(T)}else rc(T);else Ng(T)}function Ri(T){var F=T._i,J=T._f;return T._locale=T._locale||Ks(T._l),null===F||void 0===J&&""===F?Ae({nullInput:!0}):("string"==typeof F&&(T._i=F=T._locale.preparse(F)),Ke(F)?new Ne(u0(F)):(te(F)?T._d=F:E(J)?function Vo(T){var F,J,le,ve,ft,qt,Gr=!1,Fi=T._f.length;if(0===Fi)return ce(T).invalidFormat=!0,void(T._d=new Date(NaN));for(ve=0;ve<Fi;ve++)ft=0,qt=!1,F=qe({},T),null!=T._useUTC&&(F._useUTC=T._useUTC),F._f=T._f[ve],Mn(F),Fe(F)&&(qt=!0),ft+=ce(F).charsLeftOver,ft+=10*ce(F).unusedTokens.length,ce(F).score=ft,Gr?ft<le&&(le=ft,J=F):(null==le||ft<le||qt)&&(le=ft,J=F,qt&&(Gr=!0));oe(T,J||F)}(T):J?Mn(T):function ru(T){var F=T._i;W(F)?T._d=new Date(S.now()):te(F)?T._d=new Date(F.valueOf()):"string"==typeof F?function sa(T){var F=Po.exec(T._i);null===F?(Ng(T),!1===T._isValid&&(delete T._isValid,rc(T),!1===T._isValid&&(delete T._isValid,T._strict?T._isValid=!1:S.createFromInputFallback(T)))):T._d=new Date(+F[1])}(T):E(F)?(T._a=se(F.slice(0),function(J){return parseInt(J,10)}),bn(T)):A(F)?function vo(T){if(!T._d){var F=Ot(T._i);T._a=se([F.year,F.month,void 0===F.day?F.date:F.day,F.hour,F.minute,F.second,F.millisecond],function(le){return le&&parseInt(le,10)}),bn(T)}}(T):$(F)?T._d=new Date(F):S.createFromInputFallback(T)}(T),Fe(T)||(T._d=null),T))}function Lp(T,F,J,le,ve){var ft={};return(!0===F||!1===F)&&(le=F,F=void 0),(!0===J||!1===J)&&(le=J,J=void 0),(A(T)&&N(T)||E(T)&&0===T.length)&&(T=void 0),ft._isAMomentObject=!0,ft._useUTC=ft._isUTC=ve,ft._l=J,ft._i=T,ft._f=F,ft._strict=le,function wa(T){var F=new Ne(u0(Ri(T)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}(ft)}function pi(T,F,J,le){return Lp(T,F,J,le,!1)}S.createFromInputFallback=st("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))}),S.ISO_8601=function(){},S.RFC_2822=function(){};var De=st("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=pi.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:Ae()}),$c=st("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=pi.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:Ae()});function aa(T,F){var J,le;if(1===F.length&&E(F[0])&&(F=F[0]),!F.length)return pi();for(J=F[0],le=1;le<F.length;++le)(!F[le].isValid()||F[le][T](J))&&(J=F[le]);return J}var ui=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yo(T){var F=Ot(T),J=F.year||0,le=F.quarter||0,ve=F.month||0,ft=F.week||F.isoWeek||0,qt=F.day||0,Gr=F.hour||0,Fi=F.minute||0,jo=F.second||0,Va=F.millisecond||0;this._isValid=function zo(T){var F,le,J=!1,ve=ui.length;for(F in T)if(I(T,F)&&(-1===Qo.call(ui,F)||null!=T[F]&&isNaN(T[F])))return!1;for(le=0;le<ve;++le)if(T[ui[le]]){if(J)return!1;parseFloat(T[ui[le]])!==Lt(T[ui[le]])&&(J=!0)}return!0}(F),this._milliseconds=+Va+1e3*jo+6e4*Fi+1e3*Gr*60*60,this._days=+qt+7*ft,this._months=+ve+3*le+12*J,this._data={},this._locale=Ks(),this._bubble()}function Sa(T){return T instanceof Yo}function No(T){return T<0?-1*Math.round(-1*T):Math.round(T)}function oc(T,F){Pt(T,0,0,function(){var J=this.utcOffset(),le="+";return J<0&&(J=-J,le="-"),le+gt(~~(J/60),2)+F+gt(~~J%60,2)})}oc("Z",":"),oc("ZZ",""),ir("Z",zl),ir("ZZ",zl),go(["Z","ZZ"],function(T,F,J){J._useUTC=!0,J._tzm=ou(zl,T)});var Di=/([\+\-]|\d\d)/gi;function ou(T,F){var ve,ft,J=(F||"").match(T);return null===J?null:0===(ft=60*(ve=((J[J.length-1]||[])+"").match(Di)||["-",0,0])[1]+Lt(ve[2]))?0:"+"===ve[0]?ft:-ft}function sc(T,F){var J,le;return F._isUTC?(J=F.clone(),le=(Ke(T)||te(T)?T.valueOf():pi(T).valueOf())-J.valueOf(),J._d.setTime(J._d.valueOf()+le),S.updateOffset(J,!1),J):pi(T).local()}function Ip(T){return-Math.round(T._d.getTimezoneOffset())}function Ws(){return!!this.isValid()&&this._isUTC&&0===this._offset}S.updateOffset=function(){};var Ds=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Jv=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function El(T,F){var ve,ft,qt,J=T,le=null;return Sa(T)?J={ms:T._milliseconds,d:T._days,M:T._months}:$(T)||!isNaN(+T)?(J={},F?J[F]=+T:J.milliseconds=+T):(le=Ds.exec(T))?(ve="-"===le[1]?-1:1,J={y:0,d:Lt(le[2])*ve,h:Lt(le[3])*ve,m:Lt(le[4])*ve,s:Lt(le[5])*ve,ms:Lt(No(1e3*le[6]))*ve}):(le=Jv.exec(T))?J={y:Ma(le[2],ve="-"===le[1]?-1:1),M:Ma(le[3],ve),w:Ma(le[4],ve),d:Ma(le[5],ve),h:Ma(le[6],ve),m:Ma(le[7],ve),s:Ma(le[8],ve)}:null==J?J={}:"object"==typeof J&&("from"in J||"to"in J)&&(qt=function Wl(T,F){var J;return T.isValid()&&F.isValid()?(F=sc(F,T),T.isBefore(F)?J=sl(T,F):((J=sl(F,T)).milliseconds=-J.milliseconds,J.months=-J.months),J):{milliseconds:0,months:0}}(pi(J.from),pi(J.to)),(J={}).ms=qt.milliseconds,J.M=qt.months),ft=new Yo(J),Sa(T)&&I(T,"_locale")&&(ft._locale=T._locale),Sa(T)&&I(T,"_isValid")&&(ft._isValid=T._isValid),ft}function Ma(T,F){var J=T&&parseFloat(T.replace(",","."));return(isNaN(J)?0:J)*F}function sl(T,F){var J={};return J.months=F.month()-T.month()+12*(F.year()-T.year()),T.clone().add(J.months,"M").isAfter(F)&&--J.months,J.milliseconds=+F-+T.clone().add(J.months,"M"),J}function d0(T,F){return function(J,le){var ft;return null!==le&&!isNaN(+le)&&(kt(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ft=J,J=le,le=ft),Qv(this,El(J,le),T),this}}function Qv(T,F,J,le){var ve=F._milliseconds,ft=No(F._days),qt=No(F._months);!T.isValid()||(le=null==le||le,qt&&kd(T,lr(T,"Month")+qt*J),ft&&rr(T,"Date",lr(T,"Date")+ft*J),ve&&T._d.setTime(T._d.valueOf()+ve*J),le&&S.updateOffset(T,ft||qt))}El.fn=Yo.prototype,El.invalid=function iu(){return El(NaN)};var Rf=d0(1,"add"),f0=d0(-1,"subtract");function QE(T){return"string"==typeof T||T instanceof String}function eT(T){return Ke(T)||te(T)||QE(T)||$(T)||function Vd(T){var F=E(T),J=!1;return F&&(J=0===T.filter(function(le){return!$(le)&&QE(T)}).length),F&&J}(T)||function Fp(T){var ve,F=A(T)&&!N(T),J=!1,le=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],qt=le.length;for(ve=0;ve<qt;ve+=1)J=J||I(T,le[ve]);return F&&J}(T)||null==T}function e_(T){var ve,F=A(T)&&!N(T),J=!1,le=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(ve=0;ve<le.length;ve+=1)J=J||I(T,le[ve]);return F&&J}function t_(T,F){if(T.date()<F.date())return-t_(F,T);var J=12*(F.year()-T.year())+(F.month()-T.month()),le=T.clone().add(J,"months");return-(J+(F-le<0?(F-le)/(le-T.clone().add(J-1,"months")):(F-le)/(T.clone().add(J+1,"months")-le)))||0}function Hg(T){var F;return void 0===T?this._locale._abbr:(null!=(F=Ks(T))&&(this._locale=F),this)}S.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",S.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Bp=st("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return void 0===T?this.localeData():this.locale(T)});function Bg(){return this._locale}var os=6e4,al=60*os,$o=3506328*al;function Df(T,F){return(T%F+F)%F}function Tl(T,F,J){return T<100&&T>=0?new Date(T+400,F,J)-$o:new Date(T,F,J).valueOf()}function Vp(T,F,J){return T<100&&T>=0?Date.UTC(T+400,F,J)-$o:Date.UTC(T,F,J)}function Yl(T,F){return F.erasAbbrRegex(T)}function zi(){var ve,ft,T=[],F=[],J=[],le=[],qt=this.eras();for(ve=0,ft=qt.length;ve<ft;++ve)F.push(Io(qt[ve].name)),T.push(Io(qt[ve].abbr)),J.push(Io(qt[ve].narrow)),le.push(Io(qt[ve].name)),le.push(Io(qt[ve].abbr)),le.push(Io(qt[ve].narrow));this._erasRegex=new RegExp("^("+le.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+J.join("|")+")","i")}function uo(T,F){Pt(0,[T,T.length],0,F)}function Tu(T,F,J,le,ve){var ft;return null==T?Ii(this,le,ve).year:(F>(ft=kr(T,le,ve))&&(F=ft),p0.call(this,T,F,J,le,ve))}function p0(T,F,J,le,ve){var ft=xh(T,F,J,le,ve),qt=lo(ft.year,0,ft.dayOfYear);return this.year(qt.getUTCFullYear()),this.month(qt.getUTCMonth()),this.date(qt.getUTCDate()),this}Pt("N",0,0,"eraAbbr"),Pt("NN",0,0,"eraAbbr"),Pt("NNN",0,0,"eraAbbr"),Pt("NNNN",0,0,"eraName"),Pt("NNNNN",0,0,"eraNarrow"),Pt("y",["y",1],"yo","eraYear"),Pt("y",["yy",2],0,"eraYear"),Pt("y",["yyy",3],0,"eraYear"),Pt("y",["yyyy",4],0,"eraYear"),ir("N",Yl),ir("NN",Yl),ir("NNN",Yl),ir("NNNN",function r_(T,F){return F.erasNameRegex(T)}),ir("NNNNN",function Ph(T,F){return F.erasNarrowRegex(T)}),go(["N","NN","NNN","NNNN","NNNNN"],function(T,F,J,le){var ve=J._locale.erasParse(T,le,J._strict);ve?ce(J).era=ve:ce(J).invalidEra=T}),ir("y",oa),ir("yy",oa),ir("yyy",oa),ir("yyyy",oa),ir("yo",function ln(T,F){return F._eraYearOrdinalRegex||oa}),go(["y","yy","yyy","yyyy"],0),go(["yo"],function(T,F,J,le){var ve;J._locale._eraYearOrdinalRegex&&(ve=T.match(J._locale._eraYearOrdinalRegex)),F[0]=J._locale.eraYearOrdinalParse?J._locale.eraYearOrdinalParse(T,ve):parseInt(T,10)}),Pt(0,["gg",2],0,function(){return this.weekYear()%100}),Pt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),uo("gggg","weekYear"),uo("ggggg","weekYear"),uo("GGGG","isoWeekYear"),uo("GGGGG","isoWeekYear"),Ct("weekYear","gg"),Ct("isoWeekYear","GG"),pt("weekYear",1),pt("isoWeekYear",1),ir("G",vl),ir("g",vl),ir("GG",Oi,Zn),ir("gg",Oi,Zn),ir("GGGG",ds,Jo),ir("gggg",ds,Jo),ir("GGGGG",ao,Na),ir("ggggg",ao,Na),Rd(["gggg","ggggg","GGGG","GGGGG"],function(T,F,J,le){F[le.substr(0,2)]=Lt(T)}),Rd(["gg","GG"],function(T,F,J,le){F[le]=S.parseTwoDigitYear(T)}),Pt("Q",0,"Qo","quarter"),Ct("quarter","Q"),pt("quarter",7),ir("Q",Kn),go("Q",function(T,F){F[1]=3*(Lt(T)-1)}),Pt("D",["DD",2],"Do","date"),Ct("date","D"),pt("date",9),ir("D",Oi),ir("DD",Oi,Zn),ir("Do",function(T,F){return T?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),go(["D","DD"],2),go("Do",function(T,F){F[2]=Lt(T.match(Oi)[0])});var o_=Sn("Date",!0);Pt("DDD",["DDDD",3],"DDDo","dayOfYear"),Ct("dayOfYear","DDD"),pt("dayOfYear",4),ir("DDD",Bs),ir("DDDD",Er),go(["DDD","DDDD"],function(T,F,J){J._dayOfYear=Lt(T)}),Pt("m",["mm",2],0,"minute"),Ct("minute","m"),pt("minute",14),ir("m",Oi),ir("mm",Oi,Zn),go(["m","mm"],4);var ca=Sn("Minutes",!1);Pt("s",["ss",2],0,"second"),Ct("second","s"),pt("second",15),ir("s",Oi),ir("ss",Oi,Zn),go(["s","ss"],5);var uu,dc,lu=Sn("Seconds",!1);for(Pt("S",0,0,function(){return~~(this.millisecond()/100)}),Pt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Pt(0,["SSS",3],0,"millisecond"),Pt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Pt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Pt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Pt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Pt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Pt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ct("millisecond","ms"),pt("millisecond",16),ir("S",Bs,Kn),ir("SS",Bs,Zn),ir("SSS",Bs,Er),uu="SSSS";uu.length<=9;uu+="S")ir(uu,oa);function cu(T,F){F[6]=Lt(1e3*("0."+T))}for(uu="S";uu.length<=9;uu+="S")go(uu,cu);dc=Sn("Milliseconds",!1),Pt("z",0,0,"zoneAbbr"),Pt("zz",0,0,"zoneName");var dn=Ne.prototype;function fc(T){return T}dn.add=Rf,dn.calendar=function _k(T,F){1===arguments.length&&(arguments[0]?eT(arguments[0])?(T=arguments[0],F=void 0):e_(arguments[0])&&(F=arguments[0],T=void 0):(T=void 0,F=void 0));var J=T||pi(),le=sc(J,this).startOf("day"),ve=S.calendarFormat(this,le)||"sameElse",ft=F&&(It(F[ve])?F[ve].call(this,J):F[ve]);return this.format(ft||this.localeData().calendar(ve,this,pi(J)))},dn.clone=function bk(){return new Ne(this)},dn.diff=function Hp(T,F,J){var le,ve,ft;if(!this.isValid())return NaN;if(!(le=sc(T,this)).isValid())return NaN;switch(ve=6e4*(le.utcOffset()-this.utcOffset()),F=it(F)){case"year":ft=t_(this,le)/12;break;case"month":ft=t_(this,le);break;case"quarter":ft=t_(this,le)/3;break;case"second":ft=(this-le)/1e3;break;case"minute":ft=(this-le)/6e4;break;case"hour":ft=(this-le)/36e5;break;case"day":ft=(this-le-ve)/864e5;break;case"week":ft=(this-le-ve)/6048e5;break;default:ft=this-le}return J?ft:ht(ft)},dn.endOf=function xs(T){var F,J;if(void 0===(T=it(T))||"millisecond"===T||!this.isValid())return this;switch(J=this._isUTC?Vp:Tl,T){case"year":F=J(this.year()+1,0,1)-1;break;case"quarter":F=J(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=J(this.year(),this.month()+1,1)-1;break;case"week":F=J(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=J(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=J(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=al-Df(F+(this._isUTC?0:this.utcOffset()*os),al)-1;break;case"minute":F=this._d.valueOf(),F+=os-Df(F,os)-1;break;case"second":F=this._d.valueOf(),F+=1e3-Df(F,1e3)-1}return this._d.setTime(F),S.updateOffset(this,!0),this},dn.format=function Zc(T){T||(T=this.isUtc()?S.defaultFormatUtc:S.defaultFormat);var F=dr(this,T);return this.localeData().postformat(F)},dn.from=function As(T,F){return this.isValid()&&(Ke(T)&&T.isValid()||pi(T).isValid())?El({to:this,from:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},dn.fromNow=function lc(T){return this.from(pi(),T)},dn.to=function Dh(T,F){return this.isValid()&&(Ke(T)&&T.isValid()||pi(T).isValid())?El({from:this,to:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()},dn.toNow=function Ah(T){return this.to(pi(),T)},dn.get=function _r(T){return It(this[T=it(T)])?this[T]():this},dn.invalidAt=function Oh(){return ce(this).overflow},dn.isAfter=function tT(T,F){var J=Ke(T)?T:pi(T);return!(!this.isValid()||!J.isValid())&&("millisecond"===(F=it(F)||"millisecond")?this.valueOf()>J.valueOf():J.valueOf()<this.clone().startOf(F).valueOf())},dn.isBefore=function nT(T,F){var J=Ke(T)?T:pi(T);return!(!this.isValid()||!J.isValid())&&("millisecond"===(F=it(F)||"millisecond")?this.valueOf()<J.valueOf():this.clone().endOf(F).valueOf()<J.valueOf())},dn.isBetween=function rT(T,F,J,le){var ve=Ke(T)?T:pi(T),ft=Ke(F)?F:pi(F);return!!(this.isValid()&&ve.isValid()&&ft.isValid())&&("("===(le=le||"()")[0]?this.isAfter(ve,J):!this.isBefore(ve,J))&&(")"===le[1]?this.isBefore(ft,J):!this.isAfter(ft,J))},dn.isSame=function wk(T,F){var le,J=Ke(T)?T:pi(T);return!(!this.isValid()||!J.isValid())&&("millisecond"===(F=it(F)||"millisecond")?this.valueOf()===J.valueOf():(le=J.valueOf(),this.clone().startOf(F).valueOf()<=le&&le<=this.clone().endOf(F).valueOf()))},dn.isSameOrAfter=function iT(T,F){return this.isSame(T,F)||this.isAfter(T,F)},dn.isSameOrBefore=function $r(T,F){return this.isSame(T,F)||this.isBefore(T,F)},dn.isValid=function uc(){return Fe(this)},dn.lang=Bp,dn.locale=Hg,dn.localeData=Bg,dn.max=$c,dn.min=De,dn.parsingFlags=function Ca(){return oe({},ce(this))},dn.set=function Mr(T,F){if("object"==typeof T){var le,J=function et(T){var J,F=[];for(J in T)I(T,J)&&F.push({unit:J,priority:St[J]});return F.sort(function(le,ve){return le.priority-ve.priority}),F}(T=Ot(T)),ve=J.length;for(le=0;le<ve;le++)this[J[le].unit](T[J[le].unit])}else if(It(this[T=it(T)]))return this[T](F);return this},dn.startOf=function h0(T){var F,J;if(void 0===(T=it(T))||"millisecond"===T||!this.isValid())return this;switch(J=this._isUTC?Vp:Tl,T){case"year":F=J(this.year(),0,1);break;case"quarter":F=J(this.year(),this.month()-this.month()%3,1);break;case"month":F=J(this.year(),this.month(),1);break;case"week":F=J(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=J(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=J(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=Df(F+(this._isUTC?0:this.utcOffset()*os),al);break;case"minute":F=this._d.valueOf(),F-=Df(F,os);break;case"second":F=this._d.valueOf(),F-=Df(F,1e3)}return this._d.setTime(F),S.updateOffset(this,!0),this},dn.subtract=f0,dn.toArray=function Zi(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]},dn.toObject=function Vg(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}},dn.toDate=function su(){return new Date(this.valueOf())},dn.toISOString=function ac(T){if(!this.isValid())return null;var F=!0!==T,J=F?this.clone().utc():this;return J.year()<0||J.year()>9999?dr(J,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):It(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",dr(J,"Z")):dr(J,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function xa(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var J,le,T="moment",F="";return this.isLocal()||(T=0===this.utcOffset()?"moment.utc":"moment.parseZone",F="Z"),J="["+T+'("]',le=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(J+le+"-MM-DD[T]HH:mm:ss.SSS"+F+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(dn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),dn.toJSON=function Kr(){return this.isValid()?this.toISOString():null},dn.toString=function Sk(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function xr(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function n_(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function jd(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.eraName=function Of(){var T,F,J,le=this.localeData().eras();for(T=0,F=le.length;T<F;++T)if(J=this.clone().startOf("day").valueOf(),le[T].since<=J&&J<=le[T].until||le[T].until<=J&&J<=le[T].since)return le[T].name;return""},dn.eraNarrow=function yn(){var T,F,J,le=this.localeData().eras();for(T=0,F=le.length;T<F;++T)if(J=this.clone().startOf("day").valueOf(),le[T].since<=J&&J<=le[T].until||le[T].until<=J&&J<=le[T].since)return le[T].narrow;return""},dn.eraAbbr=function kh(){var T,F,J,le=this.localeData().eras();for(T=0,F=le.length;T<F;++T)if(J=this.clone().startOf("day").valueOf(),le[T].since<=J&&J<=le[T].until||le[T].until<=J&&J<=le[T].since)return le[T].abbr;return""},dn.eraYear=function oT(){var T,F,J,le,ve=this.localeData().eras();for(T=0,F=ve.length;T<F;++T)if(J=ve[T].since<=ve[T].until?1:-1,le=this.clone().startOf("day").valueOf(),ve[T].since<=le&&le<=ve[T].until||ve[T].until<=le&&le<=ve[T].since)return(this.year()-S(ve[T].since).year())*J+ve[T].offset;return this.year()},dn.year=tu,dn.isLeapYear=function ko(){return Ze(this.year())},dn.weekYear=function fr(T){return Tu.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function Ys(T){return Tu.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function i_(T){return null==T?Math.ceil((this.month()+1)/3):this.month(3*(T-1)+this.month()%3)},dn.month=Sf,dn.daysInMonth=function Op(){return tc(this.year(),this.month())},dn.week=dn.weeks=function di(T){var F=this.localeData().week(this);return null==T?F:this.add(7*(T-F),"d")},dn.isoWeek=dn.isoWeeks=function Vi(T){var F=Ii(this,1,4).week;return null==T?F:this.add(7*(T-F),"d")},dn.weeksInYear=function Ea(){var T=this.localeData()._week;return kr(this.year(),T.dow,T.doy)},dn.weeksInWeekYear=function cc(){var T=this.localeData()._week;return kr(this.weekYear(),T.dow,T.doy)},dn.isoWeeksInYear=function kf(){return kr(this.year(),1,4)},dn.isoWeeksInISOWeekYear=function Pf(){return kr(this.isoWeekYear(),1,4)},dn.date=o_,dn.day=dn.days=function xf(T){if(!this.isValid())return null!=T?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=T?(T=function Ag(T,F){return"string"!=typeof T?T:isNaN(T)?"number"==typeof(T=F.weekdaysParse(T))?T:null:parseInt(T,10)}(T,this.localeData()),this.add(T-F,"d")):F},dn.weekday=function Th(T){if(!this.isValid())return null!=T?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return null==T?F:this.add(T-F,"d")},dn.isoWeekday=function Pg(T){if(!this.isValid())return null!=T?this:NaN;if(null!=T){var F=function Zv(T,F){return"string"==typeof T?F.weekdaysParse(T)%7||7:isNaN(T)?null:T}(T,this.localeData());return this.day(this.day()%7?F:F-7)}return this.day()||7},dn.dayOfYear=function Lf(T){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==T?F:this.add(T-F,"d")},dn.hour=dn.hours=Pn,dn.minute=dn.minutes=ca,dn.second=dn.seconds=lu,dn.millisecond=dn.milliseconds=dc,dn.utcOffset=function Cl(T,F,J){var ve,le=this._offset||0;if(!this.isValid())return null!=T?this:NaN;if(null!=T){if("string"==typeof T){if(null===(T=ou(zl,T)))return this}else Math.abs(T)<16&&!J&&(T*=60);return!this._isUTC&&F&&(ve=Ip(this)),this._offset=T,this._isUTC=!0,null!=ve&&this.add(ve,"m"),le!==T&&(!F||this._changeInProgress?Qv(this,El(T-le,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,S.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?le:Ip(this)},dn.utc=function Tf(T){return this.utcOffset(0,T)},dn.local=function Xc(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Ip(this),"m")),this},dn.parseZone=function ua(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var T=ou(rl,this._i);null!=T?this.utcOffset(T):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function Hd(T){return!!this.isValid()&&(T=T?pi(T).utcOffset():0,(this.utcOffset()-T)%60==0)},dn.isDST=function Np(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function Bd(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function Br(){return!!this.isValid()&&this._isUTC},dn.isUtc=Ws,dn.isUTC=Ws,dn.zoneAbbr=function s_(){return this._isUTC?"UTC":""},dn.zoneName=function jp(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=st("dates accessor is deprecated. Use date instead.",o_),dn.months=st("months accessor is deprecated. Use month instead",Sf),dn.years=st("years accessor is deprecated. Use year instead",tu),dn.zone=st("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function ms(T,F){return null!=T?("string"!=typeof T&&(T=-T),this.utcOffset(T,F),this):-this.utcOffset()}),dn.isDSTShifted=st("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function Go(){if(!W(this._isDSTShifted))return this._isDSTShifted;var F,T={};return qe(T,this),(T=Ri(T))._a?(F=T._isUTC?fe(T._a):pi(T._a),this._isDSTShifted=this.isValid()&&function Kc(T,F,J){var qt,le=Math.min(T.length,F.length),ve=Math.abs(T.length-F.length),ft=0;for(qt=0;qt<le;qt++)(J&&T[qt]!==F[qt]||!J&&Lt(T[qt])!==Lt(F[qt]))&&ft++;return ft+ve}(T._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Gi=Ut.prototype;function Os(T,F,J,le){var ve=Ks(),ft=fe().set(le,F);return ve[J](ft,T)}function a_(T,F,J){if($(T)&&(F=T,T=void 0),T=T||"",null!=F)return Os(T,F,J,"month");var le,ve=[];for(le=0;le<12;le++)ve[le]=Os(T,le,J,"month");return ve}function zg(T,F,J,le){"boolean"==typeof T?($(F)&&(J=F,F=void 0),F=F||""):(J=F=T,T=!1,$(F)&&(J=F,F=void 0),F=F||"");var qt,ve=Ks(),ft=T?ve._week.dow:0,Gr=[];if(null!=J)return Os(F,(J+ft)%7,le,"day");for(qt=0;qt<7;qt++)Gr[qt]=Os(F,(qt+ft)%7,le,"day");return Gr}Gi.calendar=function ye(T,F,J){var le=this._calendar[T]||this._calendar.sameElse;return It(le)?le.call(F,J):le},Gi.longDateFormat=function vn(T){var F=this._longDateFormat[T],J=this._longDateFormat[T.toUpperCase()];return F||!J?F:(this._longDateFormat[T]=J.match(Et).map(function(le){return"MMMM"===le||"MM"===le||"DD"===le||"dddd"===le?le.slice(1):le}).join(""),this._longDateFormat[T])},Gi.invalidDate=function ci(){return this._invalidDate},Gi.ordinal=function Qr(T){return this._ordinal.replace("%d",T)},Gi.preparse=fc,Gi.postformat=fc,Gi.relativeTime=function xe(T,F,J,le){var ve=this._relativeTime[J];return It(ve)?ve(T,F,J,le):ve.replace(/%d/i,T)},Gi.pastFuture=function Pe(T,F){var J=this._relativeTime[T>0?"future":"past"];return It(J)?J(F):J.replace(/%s/i,F)},Gi.set=function At(T){var F,J;for(J in T)I(T,J)&&(It(F=T[J])?this[J]=F:this["_"+J]=F);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Gi.eras=function Af(T,F){var J,le,ve,ft=this._eras||Ks("en")._eras;for(J=0,le=ft.length;J<le;++J)switch("string"==typeof ft[J].since&&(ve=S(ft[J].since).startOf("day"),ft[J].since=ve.valueOf()),typeof ft[J].until){case"undefined":ft[J].until=1/0;break;case"string":ve=S(ft[J].until).startOf("day").valueOf(),ft[J].until=ve.valueOf()}return ft},Gi.erasParse=function au(T,F,J){var le,ve,qt,Gr,Fi,ft=this.eras();for(T=T.toUpperCase(),le=0,ve=ft.length;le<ve;++le)if(qt=ft[le].name.toUpperCase(),Gr=ft[le].abbr.toUpperCase(),Fi=ft[le].narrow.toUpperCase(),J)switch(F){case"N":case"NN":case"NNN":if(Gr===T)return ft[le];break;case"NNNN":if(qt===T)return ft[le];break;case"NNNNN":if(Fi===T)return ft[le]}else if([qt,Gr,Fi].indexOf(T)>=0)return ft[le]},Gi.erasConvertYear=function Ud(T,F){var J=T.since<=T.until?1:-1;return void 0===F?S(T.since).year():S(T.since).year()+(F-T.offset)*J},Gi.erasAbbrRegex=function zp(T){return I(this,"_erasAbbrRegex")||zi.call(this),T?this._erasAbbrRegex:this._erasRegex},Gi.erasNameRegex=function sT(T){return I(this,"_erasNameRegex")||zi.call(this),T?this._erasNameRegex:this._erasRegex},Gi.erasNarrowRegex=function aT(T){return I(this,"_erasNarrowRegex")||zi.call(this),T?this._erasNarrowRegex:this._erasRegex},Gi.months=function Od(T,F){return T?E(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||xu).test(F)?"format":"standalone"][T.month()]:E(this._months)?this._months:this._months.standalone},Gi.monthsShort=function Mh(T,F){return T?E(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[xu.test(F)?"format":"standalone"][T.month()]:E(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Gi.monthsParse=function wf(T,F,J){var le,ve,ft;if(this._monthsParseExact)return jc.call(this,T,F,J);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),le=0;le<12;le++){if(ve=fe([2e3,le]),J&&!this._longMonthsParse[le]&&(this._longMonthsParse[le]=new RegExp("^"+this.months(ve,"").replace(".","")+"$","i"),this._shortMonthsParse[le]=new RegExp("^"+this.monthsShort(ve,"").replace(".","")+"$","i")),!J&&!this._monthsParse[le]&&(ft="^"+this.months(ve,"")+"|^"+this.monthsShort(ve,""),this._monthsParse[le]=new RegExp(ft.replace(".",""),"i")),J&&"MMMM"===F&&this._longMonthsParse[le].test(T))return le;if(J&&"MMM"===F&&this._shortMonthsParse[le].test(T))return le;if(!J&&this._monthsParse[le].test(T))return le}},Gi.monthsRegex=function is(T){return this._monthsParseExact?(I(this,"_monthsRegex")||bl.call(this),T?this._monthsStrictRegex:this._monthsRegex):(I(this,"_monthsRegex")||(this._monthsRegex=eu),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)},Gi.monthsShortRegex=function Dg(T){return this._monthsParseExact?(I(this,"_monthsRegex")||bl.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(I(this,"_monthsShortRegex")||(this._monthsShortRegex=zc),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)},Gi.week=function Sl(T){return Ii(T,this._week.dow,this._week.doy).week},Gi.firstDayOfYear=function Uc(){return this._week.doy},Gi.firstDayOfWeek=function pn(){return this._week.dow},Gi.weekdays=function Eh(T,F){var J=E(this._weekdays)?this._weekdays:this._weekdays[T&&!0!==T&&this._weekdays.isFormat.test(F)?"format":"standalone"];return!0===T?bs(J,this._week.dow):T?J[T.day()]:J},Gi.weekdaysMin=function nc(T){return!0===T?bs(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin},Gi.weekdaysShort=function Ld(T){return!0===T?bs(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort},Gi.weekdaysParse=function il(T,F,J){var le,ve,ft;if(this._weekdaysParseExact)return Id.call(this,T,F,J);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),le=0;le<7;le++){if(ve=fe([2e3,1]).day(le),J&&!this._fullWeekdaysParse[le]&&(this._fullWeekdaysParse[le]=new RegExp("^"+this.weekdays(ve,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[le]=new RegExp("^"+this.weekdaysShort(ve,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[le]=new RegExp("^"+this.weekdaysMin(ve,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[le]||(ft="^"+this.weekdays(ve,"")+"|^"+this.weekdaysShort(ve,"")+"|^"+this.weekdaysMin(ve,""),this._weekdaysParse[le]=new RegExp(ft.replace(".",""),"i")),J&&"dddd"===F&&this._fullWeekdaysParse[le].test(T))return le;if(J&&"ddd"===F&&this._shortWeekdaysParse[le].test(T))return le;if(J&&"dd"===F&&this._minWeekdaysParse[le].test(T))return le;if(!J&&this._weekdaysParse[le].test(T))return le}},Gi.weekdaysRegex=function ol(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||Wc.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(I(this,"_weekdaysRegex")||(this._weekdaysRegex=Ch),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)},Gi.weekdaysShortRegex=function io(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||Wc.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(I(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kg),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Gi.weekdaysMinRegex=function hs(T){return this._weekdaysParseExact?(I(this,"_weekdaysRegex")||Wc.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(I(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fa),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Gi.isPM=function Pr(T){return"p"===(T+"").toLowerCase().charAt(0)},Gi.meridiem=function tr(T,F,J){return T>11?J?"pm":"PM":J?"am":"AM"},Yc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var F=T%10;return T+(1===Lt(T%100/10)?"th":1===F?"st":2===F?"nd":3===F?"rd":"th")}}),S.lang=st("moment.lang is deprecated. Use moment.locale instead.",Yc),S.langData=st("moment.langData is deprecated. Use moment.localeData instead.",Ks);var Ba=Math.abs;function Nf(T,F,J,le){var ve=El(F,J);return T._milliseconds+=le*ve._milliseconds,T._days+=le*ve._days,T._months+=le*ve._months,T._bubble()}function Ko(T){return T<0?Math.floor(T):Math.ceil(T)}function Ih(T){return 4800*T/146097}function Up(T){return 146097*T/4800}function Qc(T){return function(){return this.as(T)}}var Ug=Qc("ms"),Wg=Qc("s"),Yg=Qc("m"),u_=Qc("h"),m0=Qc("d"),cT=Qc("w"),Wd=Qc("M"),Yp=Qc("Q"),dT=Qc("y");function ed(T){return function(){return this.isValid()?this._data[T]:NaN}}var hT=ed("milliseconds"),pT=ed("seconds"),Mk=ed("minutes"),xk=ed("hours"),Gg=ed("days"),g0=ed("months"),y0=ed("years");var hc=Math.round,Ff={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Nh(T,F,J,le,ve){return ve.relativeTime(F||1,!!J,T,le)}var v0=Math.abs;function Hf(T){return(T>0)-(T<0)||+T}function $p(){if(!this.isValid())return this.localeData().invalidDate();var le,ve,ft,qt,Fi,jo,Va,pc,T=v0(this._milliseconds)/1e3,F=v0(this._days),J=v0(this._months),Gr=this.asSeconds();return Gr?(le=ht(T/60),ve=ht(le/60),T%=60,le%=60,ft=ht(J/12),J%=12,qt=T?T.toFixed(3).replace(/\.?0+$/,""):"",Fi=Gr<0?"-":"",jo=Hf(this._months)!==Hf(Gr)?"-":"",Va=Hf(this._days)!==Hf(Gr)?"-":"",pc=Hf(this._milliseconds)!==Hf(Gr)?"-":"",Fi+"P"+(ft?jo+ft+"Y":"")+(J?jo+J+"M":"")+(F?Va+F+"D":"")+(ve||le||T?"T":"")+(ve?pc+ve+"H":"")+(le?pc+le+"M":"")+(T?pc+qt+"S":"")):"P0D"}var ho=Yo.prototype;return ho.isValid=function la(){return this._isValid},ho.abs=function jg(){var T=this._data;return this._milliseconds=Ba(this._milliseconds),this._days=Ba(this._days),this._months=Ba(this._months),T.milliseconds=Ba(T.milliseconds),T.seconds=Ba(T.seconds),T.minutes=Ba(T.minutes),T.hours=Ba(T.hours),T.months=Ba(T.months),T.years=Ba(T.years),this},ho.add=function da(T,F){return Nf(this,T,F,1)},ho.subtract=function Gl(T,F){return Nf(this,T,F,-1)},ho.as=function uT(T){if(!this.isValid())return NaN;var F,J,le=this._milliseconds;if("month"===(T=it(T))||"quarter"===T||"year"===T)switch(F=this._days+le/864e5,J=this._months+Ih(F),T){case"month":return J;case"quarter":return J/3;case"year":return J/12}else switch(F=this._days+Math.round(Up(this._months)),T){case"week":return F/7+le/6048e5;case"day":return F+le/864e5;case"hour":return 24*F+le/36e5;case"minute":return 1440*F+le/6e4;case"second":return 86400*F+le/1e3;case"millisecond":return Math.floor(864e5*F)+le;default:throw new Error("Unknown unit "+T)}},ho.asMilliseconds=Ug,ho.asSeconds=Wg,ho.asMinutes=Yg,ho.asHours=u_,ho.asDays=m0,ho.asWeeks=cT,ho.asMonths=Wd,ho.asQuarters=Yp,ho.asYears=dT,ho.valueOf=function Wp(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Lt(this._months/12):NaN},ho._bubble=function Jc(){var ve,ft,qt,Gr,Fi,T=this._milliseconds,F=this._days,J=this._months,le=this._data;return T>=0&&F>=0&&J>=0||T<=0&&F<=0&&J<=0||(T+=864e5*Ko(Up(J)+F),F=0,J=0),le.milliseconds=T%1e3,ve=ht(T/1e3),le.seconds=ve%60,ft=ht(ve/60),le.minutes=ft%60,qt=ht(ft/60),le.hours=qt%24,F+=ht(qt/24),J+=Fi=ht(Ih(F)),F-=Ko(Up(Fi)),Gr=ht(J/12),J%=12,le.days=F,le.months=J,le.years=Gr,this},ho.clone=function fT(){return El(this)},ho.get=function Gp(T){return T=it(T),this.isValid()?this[T+"s"]():NaN},ho.milliseconds=hT,ho.seconds=pT,ho.minutes=Mk,ho.hours=xk,ho.days=Gg,ho.weeks=function $g(){return ht(this.days()/7)},ho.months=g0,ho.years=y0,ho.humanize=function Kg(T,F){if(!this.isValid())return this.localeData().invalidDate();var ve,ft,J=!1,le=Ff;return"object"==typeof T&&(F=T,T=!1),"boolean"==typeof T&&(J=T),"object"==typeof F&&(le=Object.assign({},Ff,F),null!=F.s&&null==F.ss&&(le.ss=F.s-1)),ft=function mT(T,F,J,le){var ve=El(T).abs(),ft=hc(ve.as("s")),qt=hc(ve.as("m")),Gr=hc(ve.as("h")),Fi=hc(ve.as("d")),jo=hc(ve.as("M")),Va=hc(ve.as("w")),pc=hc(ve.as("y")),Yd=ft<=J.ss&&["s",ft]||ft<J.s&&["ss",ft]||qt<=1&&["m"]||qt<J.m&&["mm",qt]||Gr<=1&&["h"]||Gr<J.h&&["hh",Gr]||Fi<=1&&["d"]||Fi<J.d&&["dd",Fi];return null!=J.w&&(Yd=Yd||Va<=1&&["w"]||Va<J.w&&["ww",Va]),(Yd=Yd||jo<=1&&["M"]||jo<J.M&&["MM",jo]||pc<=1&&["y"]||["yy",pc])[2]=F,Yd[3]=+T>0,Yd[4]=le,Nh.apply(null,Yd)}(this,!J,le,ve=this.localeData()),J&&(ft=ve.pastFuture(+this,ft)),ve.postformat(ft)},ho.toISOString=$p,ho.toString=$p,ho.toJSON=$p,ho.locale=Hg,ho.localeData=Bg,ho.toIsoString=st("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$p),ho.lang=Bp,Pt("X",0,0,"unix"),Pt("x",0,0,"valueOf"),ir("x",vl),ir("X",/[+-]?\d+(\.\d{1,3})?/),go("X",function(T,F,J){J._d=new Date(1e3*parseFloat(T))}),go("x",function(T,F,J){J._d=new Date(Lt(T))}),S.version="2.29.4",function R(T){O=T}(pi),S.fn=dn,S.min=function xl(){return aa("isBefore",[].slice.call(arguments,0))},S.max=function Us(){return aa("isAfter",[].slice.call(arguments,0))},S.now=function(){return Date.now?Date.now():+new Date},S.utc=fe,S.unix=function lT(T){return pi(1e3*T)},S.months=function l_(T,F){return a_(T,F,"months")},S.isDate=te,S.locale=Yc,S.invalid=Ae,S.duration=El,S.isMoment=Ke,S.weekdays=function qc(T,F,J){return zg(T,F,J,"weekdays")},S.parseZone=function Lh(){return pi.apply(null,arguments).parseZone()},S.localeData=Ks,S.isDuration=Sa,S.monthsShort=function ll(T,F){return a_(T,F,"monthsShort")},S.weekdaysMin=function If(T,F,J){return zg(T,F,J,"weekdaysMin")},S.defineLocale=l0,S.updateLocale=function Fd(T,F){if(null!=F){var J,le,ve=Ni;null!=Ti[T]&&null!=Ti[T].parentLocale?Ti[T].set(Bt(Ti[T]._config,F)):(null!=(le=Ha(T))&&(ve=le._config),F=Bt(ve,F),null==le&&(F.abbr=T),(J=new Ut(F)).parentLocale=Ti[T],Ti[T]=J),Yc(T)}else null!=Ti[T]&&(null!=Ti[T].parentLocale?(Ti[T]=Ti[T].parentLocale,T===Yc()&&Yc(T)):null!=Ti[T]&&delete Ti[T]);return Ti[T]},S.locales=function vk(){return sn(Ti)},S.weekdaysShort=function ks(T,F,J){return zg(T,F,J,"weekdaysShort")},S.normalizeUnits=it,S.relativeTimeRounding=function Fh(T){return void 0===T?hc:"function"==typeof T&&(hc=T,!0)},S.relativeTimeThreshold=function c_(T,F){return void 0!==Ff[T]&&(void 0===F?Ff[T]:(Ff[T]=F,"s"===T&&(Ff.ss=F-1),!0))},S.calendarFormat=function Fg(T,F){var J=T.diff(F,"days",!0);return J<-6?"sameElse":J<-1?"lastWeek":J<0?"lastDay":J<1?"sameDay":J<2?"nextDay":J<7?"nextWeek":"sameElse"},S.prototype=dn,S.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},S}()},1046:Z=>{Z.exports=function ae(b,O,S){function R(I,N){if(!O[I]){if(!b[I]){if(E)return E(I,!0);var $=new Error("Cannot find module '"+I+"'");throw $.code="MODULE_NOT_FOUND",$}var te=O[I]={exports:{}};b[I][0].call(te.exports,function(se){return R(b[I][1][se]||se)},te,te.exports,ae,b,O,S)}return O[I].exports}for(var E=void 0,A=0;A<S.length;A++)R(S[A]);return R}({1:[function(ae,b,O){!function(S){"use strict";var R,E=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,I=Math.floor,N="[BigNumber Error] ",W=N+"Number primitive has more than 15 significant digits: ",$=1e14,se=9007199254740991,oe=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],fe=1e7,K=1e9;function ce(Ne){var Ke=0|Ne;return 0<Ne||Ne===Ke?Ke:Ke-1}function we(Ne){for(var Ke,ct,st=1,dt=Ne.length,kt=Ne[0]+"";st<dt;){for(ct=14-(Ke=Ne[st++]+"").length;ct--;Ke="0"+Ke);kt+=Ke}for(dt=kt.length;48===kt.charCodeAt(--dt););return kt.slice(0,dt+1||1)}function Fe(Ne,Ke){var ct,st,dt=Ne.c,kt=Ke.c,It=Ne.s,At=Ke.s,Bt=Ne.e,Ut=Ke.e;if(!It||!At)return null;if(st=kt&&!kt[0],(ct=dt&&!dt[0])||st)return ct?st?0:-At:It;if(It!=At)return It;if(ct=It<0,st=Bt==Ut,!dt||!kt)return st?0:!dt^ct?1:-1;if(!st)return Ut<Bt^ct?1:-1;for(At=(Bt=dt.length)<(Ut=kt.length)?Bt:Ut,It=0;It<At;It++)if(dt[It]!=kt[It])return dt[It]>kt[It]^ct?1:-1;return Bt==Ut?0:Ut<Bt^ct?1:-1}function Ae(Ne,Ke,ct,st){if(Ne<Ke||ct<Ne||Ne!==(Ne<0?A(Ne):I(Ne)))throw Error(N+(st||"Argument")+("number"==typeof Ne?Ne<Ke||ct<Ne?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Ne))}function Ve(Ne){var Ke=Ne.c.length-1;return ce(Ne.e/14)==Ke&&Ne.c[Ke]%2!=0}function Qe(Ne,Ke){return(1<Ne.length?Ne.charAt(0)+"."+Ne.slice(1):Ne)+(Ke<0?"e":"e+")+Ke}function qe(Ne,Ke,ct){var st,dt;if(Ke<0){for(dt=ct+".";++Ke;dt+=ct);Ne=dt+Ne}else if(++Ke>(st=Ne.length)){for(dt=ct,Ke-=st;--Ke;dt+=ct);Ne+=dt}else Ke<st&&(Ne=Ne.slice(0,Ke)+"."+Ne.slice(Ke));return Ne}(R=function Ne(Ke){var ct,st,dt,kt,It,At,Bt,Ut,sn,Te,ye=Qt.prototype={constructor:Qt,toString:null,valueOf:null},gt=new Qt(1),Et=20,Xt=4,an=-7,kn=21,Pt=-1e7,zn=1e7,vr=!1,dr=1,$n=0,Ur={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},vn="0123456789abcdefghijklmnopqrstuvwxyz";function Qt(xe,Pe){var nt,Ct,it,Ot,St,pt,et,Ze,ht=this;if(!(ht instanceof Qt))return new Qt(xe,Pe);if(null==Pe){if(xe instanceof Qt)return ht.s=xe.s,ht.e=xe.e,void(ht.c=(xe=xe.c)?xe.slice():xe);if((pt="number"==typeof xe)&&0*xe==0){if(ht.s=1/xe<0?(xe=-xe,-1):1,xe===~~xe){for(Ot=0,St=xe;10<=St;St/=10,Ot++);return ht.e=Ot,void(ht.c=[xe])}Ze=String(xe)}else{if(Ze=String(xe),!E.test(Ze))return dt(ht,Ze,pt);ht.s=45==Ze.charCodeAt(0)?(Ze=Ze.slice(1),-1):1}-1<(Ot=Ze.indexOf("."))&&(Ze=Ze.replace(".","")),0<(St=Ze.search(/e/i))?(Ot<0&&(Ot=St),Ot+=+Ze.slice(St+1),Ze=Ze.substring(0,St)):Ot<0&&(Ot=Ze.length)}else{if(Ae(Pe,2,vn.length,"Base"),Ze=String(xe),10==Pe)return Qr(ht=new Qt(xe instanceof Qt?xe:Ze),Et+ht.e+1,Xt);if(pt="number"==typeof xe){if(0*xe!=0)return dt(ht,Ze,pt,Pe);if(ht.s=1/xe<0?(Ze=Ze.slice(1),-1):1,Qt.DEBUG&&15<Ze.replace(/^0\.0*|\./,"").length)throw Error(W+xe);pt=!1}else ht.s=45===Ze.charCodeAt(0)?(Ze=Ze.slice(1),-1):1;for(nt=vn.slice(0,Pe),Ot=St=0,et=Ze.length;St<et;St++)if(nt.indexOf(Ct=Ze.charAt(St))<0){if("."==Ct){if(Ot<St){Ot=et;continue}}else if(!it&&(Ze==Ze.toUpperCase()&&(Ze=Ze.toLowerCase())||Ze==Ze.toLowerCase()&&(Ze=Ze.toUpperCase()))){it=!0,St=-1,Ot=0;continue}return dt(ht,String(xe),pt,Pe)}-1<(Ot=(Ze=st(Ze,Pe,10,ht.s)).indexOf("."))?Ze=Ze.replace(".",""):Ot=Ze.length}for(St=0;48===Ze.charCodeAt(St);St++);for(et=Ze.length;48===Ze.charCodeAt(--et););if(Ze=Ze.slice(St,++et)){if(et-=St,pt&&Qt.DEBUG&&15<et&&(se<xe||xe!==I(xe)))throw Error(W+ht.s*xe);if(zn<(Ot=Ot-St-1))ht.c=ht.e=null;else if(Ot<Pt)ht.c=[ht.e=0];else{if(ht.e=Ot,ht.c=[],St=(Ot+1)%14,Ot<0&&(St+=14),St<et){for(St&&ht.c.push(+Ze.slice(0,St)),et-=14;St<et;)ht.c.push(+Ze.slice(St,St+=14));St=14-(Ze=Ze.slice(St)).length}else St-=et;for(;St--;Ze+="0");ht.c.push(+Ze)}}else ht.c=[ht.e=0]}function ci(xe,Pe,nt,Ct){var it,Ot,St,pt,et;if(null==nt?nt=Xt:Ae(nt,0,8),!xe.c)return xe.toString();if(it=xe.c[0],St=xe.e,null==Pe)et=we(xe.c),et=1==Ct||2==Ct&&(St<=an||kn<=St)?Qe(et,St):qe(et,St,"0");else if(Ot=(xe=Qr(new Qt(xe),Pe,nt)).e,pt=(et=we(xe.c)).length,1==Ct||2==Ct&&(Pe<=Ot||Ot<=an)){for(;pt<Pe;et+="0",pt++);et=Qe(et,Ot)}else if(Pe-=St,et=qe(et,Ot,"0"),pt<Ot+1){if(0<--Pe)for(et+=".";Pe--;et+="0");}else if(0<(Pe+=Ot-pt))for(Ot+1==pt&&(et+=".");Pe--;et+="0");return xe.s<0&&it?"-"+et:et}function ii(xe,Pe){for(var nt,Ct=1,it=new Qt(xe[0]);Ct<xe.length;Ct++){if(!(nt=new Qt(xe[Ct])).s){it=nt;break}Pe.call(it,nt)&&(it=nt)}return it}function li(xe,Pe,nt){for(var Ct=1,it=Pe.length;!Pe[--it];Pe.pop());for(it=Pe[0];10<=it;it/=10,Ct++);return xe.c=(nt=Ct+14*nt-1)>zn?xe.e=null:nt<Pt?[xe.e=0]:(xe.e=nt,Pe),xe}function Qr(xe,Pe,nt,Ct){var it,Ot,St,pt,et,Ze,ht,Lt=xe.c,Sn=oe;if(Lt){e:{for(it=1,pt=Lt[0];10<=pt;pt/=10,it++);if((Ot=Pe-it)<0)Ot+=14,ht=(et=Lt[Ze=0])/Sn[it-(St=Pe)-1]%10|0;else if((Ze=A((Ot+1)/14))>=Lt.length){if(!Ct)break e;for(;Lt.length<=Ze;Lt.push(0));et=ht=0,St=(Ot%=14)-14+(it=1)}else{for(et=pt=Lt[Ze],it=1;10<=pt;pt/=10,it++);ht=(St=(Ot%=14)-14+it)<0?0:et/Sn[it-St-1]%10|0}if(Ct=Ct||Pe<0||null!=Lt[Ze+1]||(St<0?et:et%Sn[it-St-1]),Ct=nt<4?(ht||Ct)&&(0==nt||nt==(xe.s<0?3:2)):5<ht||5==ht&&(4==nt||Ct||6==nt&&(0<Ot?0<St?et/Sn[it-St]:0:Lt[Ze-1])%10&1||nt==(xe.s<0?8:7)),Pe<1||!Lt[0])return Lt.length=0,Ct?(Lt[0]=Sn[(14-(Pe-=xe.e+1)%14)%14],xe.e=-Pe||0):Lt[0]=xe.e=0,xe;if(0==Ot?(Lt.length=Ze,pt=1,Ze--):(Lt.length=Ze+1,pt=Sn[14-Ot],Lt[Ze]=0<St?I(et/Sn[it-St]%Sn[St])*pt:0),Ct)for(;;){if(0==Ze){for(Ot=1,St=Lt[0];10<=St;St/=10,Ot++);for(St=Lt[0]+=pt,pt=1;10<=St;St/=10,pt++);Ot!=pt&&(xe.e++,Lt[0]==$&&(Lt[0]=1));break}if(Lt[Ze]+=pt,Lt[Ze]!=$)break;Lt[Ze--]=0,pt=1}for(Ot=Lt.length;0===Lt[--Ot];Lt.pop());}xe.e>zn?xe.c=xe.e=null:xe.e<Pt&&(xe.c=[xe.e=0])}return xe}function zr(xe){var Pe,nt=xe.e;return null===nt?xe.toString():(Pe=we(xe.c),Pe=nt<=an||kn<=nt?Qe(Pe,nt):qe(Pe,nt,"0"),xe.s<0?"-"+Pe:Pe)}return Qt.clone=Ne,Qt.ROUND_UP=0,Qt.ROUND_DOWN=1,Qt.ROUND_CEIL=2,Qt.ROUND_FLOOR=3,Qt.ROUND_HALF_UP=4,Qt.ROUND_HALF_DOWN=5,Qt.ROUND_HALF_EVEN=6,Qt.ROUND_HALF_CEIL=7,Qt.ROUND_HALF_FLOOR=8,Qt.EUCLID=9,Qt.config=Qt.set=function(xe){var Pe,nt;if(null!=xe){if("object"!=typeof xe)throw Error(N+"Object expected: "+xe);if(xe.hasOwnProperty(Pe="DECIMAL_PLACES")&&(Ae(nt=xe[Pe],0,K,Pe),Et=nt),xe.hasOwnProperty(Pe="ROUNDING_MODE")&&(Ae(nt=xe[Pe],0,8,Pe),Xt=nt),xe.hasOwnProperty(Pe="EXPONENTIAL_AT")&&((nt=xe[Pe])&&nt.pop?(Ae(nt[0],-K,0,Pe),Ae(nt[1],0,K,Pe),an=nt[0],kn=nt[1]):(Ae(nt,-K,K,Pe),an=-(kn=nt<0?-nt:nt))),xe.hasOwnProperty(Pe="RANGE"))if((nt=xe[Pe])&&nt.pop)Ae(nt[0],-K,-1,Pe),Ae(nt[1],1,K,Pe),Pt=nt[0],zn=nt[1];else{if(Ae(nt,-K,K,Pe),!nt)throw Error(N+Pe+" cannot be zero: "+nt);Pt=-(zn=nt<0?-nt:nt)}if(xe.hasOwnProperty(Pe="CRYPTO")){if((nt=xe[Pe])!==!!nt)throw Error(N+Pe+" not true or false: "+nt);if(nt){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw vr=!nt,Error(N+"crypto unavailable");vr=nt}else vr=nt}if(xe.hasOwnProperty(Pe="MODULO_MODE")&&(Ae(nt=xe[Pe],0,9,Pe),dr=nt),xe.hasOwnProperty(Pe="POW_PRECISION")&&(Ae(nt=xe[Pe],0,K,Pe),$n=nt),xe.hasOwnProperty(Pe="FORMAT")){if("object"!=typeof(nt=xe[Pe]))throw Error(N+Pe+" not an object: "+nt);Ur=nt}if(xe.hasOwnProperty(Pe="ALPHABET")){if("string"!=typeof(nt=xe[Pe])||/^.$|[+-.\s]|(.).*\1/.test(nt))throw Error(N+Pe+" invalid: "+nt);vn=nt}}return{DECIMAL_PLACES:Et,ROUNDING_MODE:Xt,EXPONENTIAL_AT:[an,kn],RANGE:[Pt,zn],CRYPTO:vr,MODULO_MODE:dr,POW_PRECISION:$n,FORMAT:Ur,ALPHABET:vn}},Qt.isBigNumber=function(xe){return xe instanceof Qt||xe&&!0===xe._isBigNumber||!1},Qt.maximum=Qt.max=function(){return ii(arguments,ye.lt)},Qt.minimum=Qt.min=function(){return ii(arguments,ye.gt)},Qt.random=(kt=9007199254740992,It=Math.random()*kt&2097151?function(){return I(Math.random()*kt)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(xe){var Pe,nt,Ct,it,Ot,St=0,pt=[],et=new Qt(gt);if(null==xe?xe=Et:Ae(xe,0,K),it=A(xe/14),vr)if(crypto.getRandomValues){for(Pe=crypto.getRandomValues(new Uint32Array(it*=2));St<it;)9e15<=(Ot=131072*Pe[St]+(Pe[St+1]>>>11))?(nt=crypto.getRandomValues(new Uint32Array(2)),Pe[St]=nt[0],Pe[St+1]=nt[1]):(pt.push(Ot%1e14),St+=2);St=it/2}else{if(!crypto.randomBytes)throw vr=!1,Error(N+"crypto unavailable");for(Pe=crypto.randomBytes(it*=7);St<it;)9e15<=(Ot=281474976710656*(31&Pe[St])+1099511627776*Pe[St+1]+4294967296*Pe[St+2]+16777216*Pe[St+3]+(Pe[St+4]<<16)+(Pe[St+5]<<8)+Pe[St+6])?crypto.randomBytes(7).copy(Pe,St):(pt.push(Ot%1e14),St+=7);St=it/7}if(!vr)for(;St<it;)(Ot=It())<9e15&&(pt[St++]=Ot%1e14);for(xe%=14,(it=pt[--St])&&xe&&(pt[St]=I(it/(Ot=oe[14-xe]))*Ot);0===pt[St];pt.pop(),St--);if(St<0)pt=[Ct=0];else{for(Ct=-1;0===pt[0];pt.splice(0,1),Ct-=14);for(St=1,Ot=pt[0];10<=Ot;Ot/=10,St++);St<14&&(Ct-=14-St)}return et.e=Ct,et.c=pt,et}),Qt.sum=function(){for(var xe=1,Pe=arguments,nt=new Qt(Pe[0]);xe<Pe.length;)nt=nt.plus(Pe[xe++]);return nt},st=function(){var xe="0123456789";function Pe(nt,Ct,it,Ot){for(var St,pt,et=[0],Ze=0,ht=nt.length;Ze<ht;){for(pt=et.length;pt--;et[pt]*=Ct);for(et[0]+=Ot.indexOf(nt.charAt(Ze++)),St=0;St<et.length;St++)et[St]>it-1&&(null==et[St+1]&&(et[St+1]=0),et[St+1]+=et[St]/it|0,et[St]%=it)}return et.reverse()}return function(nt,Ct,it,Ot,St){var pt,et,Ze,ht,Lt,Sn,lr,rr,_r=nt.indexOf("."),Mr=Et,Kn=Xt;for(0<=_r&&(ht=$n,$n=0,nt=nt.replace(".",""),Sn=(rr=new Qt(Ct)).pow(nt.length-_r),$n=ht,rr.c=Pe(qe(we(Sn.c),Sn.e,"0"),10,it,xe),rr.e=rr.c.length),Ze=ht=(lr=Pe(nt,Ct,it,St?(pt=vn,xe):(pt=xe,vn))).length;0==lr[--ht];lr.pop());if(!lr[0])return pt.charAt(0);if(_r<0?--Ze:(Sn.c=lr,Sn.e=Ze,Sn.s=Ot,lr=(Sn=ct(Sn,rr,Mr,Kn,it)).c,Lt=Sn.r,Ze=Sn.e),_r=lr[et=Ze+Mr+1],ht=it/2,Lt=Lt||et<0||null!=lr[et+1],Lt=Kn<4?(null!=_r||Lt)&&(0==Kn||Kn==(Sn.s<0?3:2)):ht<_r||_r==ht&&(4==Kn||Lt||6==Kn&&1&lr[et-1]||Kn==(Sn.s<0?8:7)),et<1||!lr[0])nt=Lt?qe(pt.charAt(1),-Mr,pt.charAt(0)):pt.charAt(0);else{if(lr.length=et,Lt)for(--it;++lr[--et]>it;)lr[et]=0,et||(++Ze,lr=[1].concat(lr));for(ht=lr.length;!lr[--ht];);for(_r=0,nt="";_r<=ht;nt+=pt.charAt(lr[_r++]));nt=qe(nt,Ze,pt.charAt(0))}return nt}}(),ct=function(){function xe(Ct,it,Ot){var St,pt,et,Ze,ht=0,Lt=Ct.length,Sn=it%fe,lr=it/fe|0;for(Ct=Ct.slice();Lt--;)ht=((pt=Sn*(et=Ct[Lt]%fe)+(St=lr*et+(Ze=Ct[Lt]/fe|0)*Sn)%fe*fe+ht)/Ot|0)+(St/fe|0)+lr*Ze,Ct[Lt]=pt%Ot;return ht&&(Ct=[ht].concat(Ct)),Ct}function Pe(Ct,it,Ot,St){var pt,et;if(Ot!=St)et=St<Ot?1:-1;else for(pt=et=0;pt<Ot;pt++)if(Ct[pt]!=it[pt]){et=Ct[pt]>it[pt]?1:-1;break}return et}function nt(Ct,it,Ot,St){for(var pt=0;Ot--;)Ct[Ot]-=pt,Ct[Ot]=(pt=Ct[Ot]<it[Ot]?1:0)*St+Ct[Ot]-it[Ot];for(;!Ct[0]&&1<Ct.length;Ct.splice(0,1));}return function(Ct,it,Ot,St,pt){var et,Ze,ht,Lt,Sn,lr,rr,_r,Mr,Kn,Zn,Er,Jo,Na,Oi,tl,nl,Bs=Ct.s==it.s?1:-1,ds=Ct.c,ao=it.c;if(!(ds&&ds[0]&&ao&&ao[0]))return new Qt(Ct.s&&it.s&&(ds?!ao||ds[0]!=ao[0]:ao)?ds&&0==ds[0]||!ao?0*Bs:Bs/0:NaN);for(Mr=(_r=new Qt(Bs)).c=[],Bs=Ot+(Ze=Ct.e-it.e)+1,pt||(pt=$,Ze=ce(Ct.e/14)-ce(it.e/14),Bs=Bs/14|0),ht=0;ao[ht]==(ds[ht]||0);ht++);if(ao[ht]>(ds[ht]||0)&&Ze--,Bs<0)Mr.push(1),Lt=!0;else{for(Na=ds.length,tl=ao.length,Bs+=2,1<(Sn=I(pt/(ao[ht=0]+1)))&&(ao=xe(ao,Sn,pt),ds=xe(ds,Sn,pt),tl=ao.length,Na=ds.length),Jo=tl,Zn=(Kn=ds.slice(0,tl)).length;Zn<tl;Kn[Zn++]=0);nl=ao.slice(),nl=[0].concat(nl),Oi=ao[0],ao[1]>=pt/2&&Oi++;do{if(Sn=0,(et=Pe(ao,Kn,tl,Zn))<0){if(Er=Kn[0],tl!=Zn&&(Er=Er*pt+(Kn[1]||0)),1<(Sn=I(Er/Oi)))for(pt<=Sn&&(Sn=pt-1),rr=(lr=xe(ao,Sn,pt)).length,Zn=Kn.length;1==Pe(lr,Kn,rr,Zn);)Sn--,nt(lr,tl<rr?nl:ao,rr,pt),rr=lr.length,et=1;else 0==Sn&&(et=Sn=1),rr=(lr=ao.slice()).length;if(rr<Zn&&(lr=[0].concat(lr)),nt(Kn,lr,Zn,pt),Zn=Kn.length,-1==et)for(;Pe(ao,Kn,tl,Zn)<1;)Sn++,nt(Kn,tl<Zn?nl:ao,Zn,pt),Zn=Kn.length}else 0===et&&(Sn++,Kn=[0]);Mr[ht++]=Sn,Kn[0]?Kn[Zn++]=ds[Jo]||0:(Kn=[ds[Jo]],Zn=1)}while((Jo++<Na||null!=Kn[0])&&Bs--);Lt=null!=Kn[0],Mr[0]||Mr.splice(0,1)}if(pt==$){for(ht=1,Bs=Mr[0];10<=Bs;Bs/=10,ht++);Qr(_r,Ot+(_r.e=ht+14*Ze-1)+1,St,Lt)}else _r.e=Ze,_r.r=+Lt;return _r}}(),At=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Bt=/^([^.]+)\.$/,Ut=/^\.([^.]+)$/,sn=/^-?(Infinity|NaN)$/,Te=/^\s*\+(?=[\w.])|^\s+|\s+$/g,dt=function(xe,Pe,nt,Ct){var it,Ot=nt?Pe:Pe.replace(Te,"");if(sn.test(Ot))xe.s=isNaN(Ot)?null:Ot<0?-1:1,xe.c=xe.e=null;else{if(!nt&&(Ot=Ot.replace(At,function(St,pt,et){return it="x"==(et=et.toLowerCase())?16:"b"==et?2:8,Ct&&Ct!=it?St:pt}),Ct&&(it=Ct,Ot=Ot.replace(Bt,"$1").replace(Ut,"0.$1")),Pe!=Ot))return new Qt(Ot,it);if(Qt.DEBUG)throw Error(N+"Not a"+(Ct?" base "+Ct:"")+" number: "+Pe);xe.c=xe.e=xe.s=null}},ye.absoluteValue=ye.abs=function(){var xe=new Qt(this);return xe.s<0&&(xe.s=1),xe},ye.comparedTo=function(xe,Pe){return Fe(this,new Qt(xe,Pe))},ye.decimalPlaces=ye.dp=function(xe,Pe){var nt,Ct,it;if(null!=xe)return Ae(xe,0,K),null==Pe?Pe=Xt:Ae(Pe,0,8),Qr(new Qt(this),xe+this.e+1,Pe);if(!(nt=this.c))return null;if(Ct=14*((it=nt.length-1)-ce(this.e/14)),it=nt[it])for(;it%10==0;it/=10,Ct--);return Ct<0&&(Ct=0),Ct},ye.dividedBy=ye.div=function(xe,Pe){return ct(this,new Qt(xe,Pe),Et,Xt)},ye.dividedToIntegerBy=ye.idiv=function(xe,Pe){return ct(this,new Qt(xe,Pe),0,1)},ye.exponentiatedBy=ye.pow=function(xe,Pe){var nt,Ct,it,Ot,St,pt,et,Ze,ht=this;if((xe=new Qt(xe)).c&&!xe.isInteger())throw Error(N+"Exponent not an integer: "+zr(xe));if(null!=Pe&&(Pe=new Qt(Pe)),St=14<xe.e,!ht.c||!ht.c[0]||1==ht.c[0]&&!ht.e&&1==ht.c.length||!xe.c||!xe.c[0])return Ze=new Qt(Math.pow(+zr(ht),St?2-Ve(xe):+zr(xe))),Pe?Ze.mod(Pe):Ze;if(pt=xe.s<0,Pe){if(Pe.c?!Pe.c[0]:!Pe.s)return new Qt(NaN);(Ct=!pt&&ht.isInteger()&&Pe.isInteger())&&(ht=ht.mod(Pe))}else{if(9<xe.e&&(0<ht.e||ht.e<-1||(0==ht.e?1<ht.c[0]||St&&24e7<=ht.c[1]:ht.c[0]<8e13||St&&ht.c[0]<=9999975e7)))return Ot=ht.s<0&&Ve(xe)?-0:0,-1<ht.e&&(Ot=1/Ot),new Qt(pt?1/Ot:Ot);$n&&(Ot=A($n/14+2))}for(et=St?(nt=new Qt(.5),pt&&(xe.s=1),Ve(xe)):(it=Math.abs(+zr(xe)))%2,Ze=new Qt(gt);;){if(et){if(!(Ze=Ze.times(ht)).c)break;Ot?Ze.c.length>Ot&&(Ze.c.length=Ot):Ct&&(Ze=Ze.mod(Pe))}if(it){if(0===(it=I(it/2)))break;et=it%2}else if(Qr(xe=xe.times(nt),xe.e+1,1),14<xe.e)et=Ve(xe);else{if(0==(it=+zr(xe)))break;et=it%2}ht=ht.times(ht),Ot?ht.c&&ht.c.length>Ot&&(ht.c.length=Ot):Ct&&(ht=ht.mod(Pe))}return Ct?Ze:(pt&&(Ze=gt.div(Ze)),Pe?Ze.mod(Pe):Ot?Qr(Ze,$n,Xt,void 0):Ze)},ye.integerValue=function(xe){var Pe=new Qt(this);return null==xe?xe=Xt:Ae(xe,0,8),Qr(Pe,Pe.e+1,xe)},ye.isEqualTo=ye.eq=function(xe,Pe){return 0===Fe(this,new Qt(xe,Pe))},ye.isFinite=function(){return!!this.c},ye.isGreaterThan=ye.gt=function(xe,Pe){return 0<Fe(this,new Qt(xe,Pe))},ye.isGreaterThanOrEqualTo=ye.gte=function(xe,Pe){return 1===(Pe=Fe(this,new Qt(xe,Pe)))||0===Pe},ye.isInteger=function(){return!!this.c&&ce(this.e/14)>this.c.length-2},ye.isLessThan=ye.lt=function(xe,Pe){return Fe(this,new Qt(xe,Pe))<0},ye.isLessThanOrEqualTo=ye.lte=function(xe,Pe){return-1===(Pe=Fe(this,new Qt(xe,Pe)))||0===Pe},ye.isNaN=function(){return!this.s},ye.isNegative=function(){return this.s<0},ye.isPositive=function(){return 0<this.s},ye.isZero=function(){return!!this.c&&0==this.c[0]},ye.minus=function(xe,Pe){var nt,Ct,it,Ot,St=this,pt=St.s;if(Pe=(xe=new Qt(xe,Pe)).s,!pt||!Pe)return new Qt(NaN);if(pt!=Pe)return xe.s=-Pe,St.plus(xe);var et=St.e/14,Ze=xe.e/14,ht=St.c,Lt=xe.c;if(!et||!Ze){if(!ht||!Lt)return ht?(xe.s=-Pe,xe):new Qt(Lt?St:NaN);if(!ht[0]||!Lt[0])return Lt[0]?(xe.s=-Pe,xe):new Qt(ht[0]?St:3==Xt?-0:0)}if(et=ce(et),Ze=ce(Ze),ht=ht.slice(),pt=et-Ze){for((it=(Ot=pt<0)?(pt=-pt,ht):(Ze=et,Lt)).reverse(),Pe=pt;Pe--;it.push(0));it.reverse()}else for(Ct=(Ot=(pt=ht.length)<(Pe=Lt.length))?pt:Pe,pt=Pe=0;Pe<Ct;Pe++)if(ht[Pe]!=Lt[Pe]){Ot=ht[Pe]<Lt[Pe];break}if(Ot&&(it=ht,ht=Lt,Lt=it,xe.s=-xe.s),0<(Pe=(Ct=Lt.length)-(nt=ht.length)))for(;Pe--;ht[nt++]=0);for(Pe=$-1;pt<Ct;){if(ht[--Ct]<Lt[Ct]){for(nt=Ct;nt&&!ht[--nt];ht[nt]=Pe);--ht[nt],ht[Ct]+=$}ht[Ct]-=Lt[Ct]}for(;0==ht[0];ht.splice(0,1),--Ze);return ht[0]?li(xe,ht,Ze):(xe.s=3==Xt?-1:1,xe.c=[xe.e=0],xe)},ye.modulo=ye.mod=function(xe,Pe){var nt,Ct,it=this;return xe=new Qt(xe,Pe),!it.c||!xe.s||xe.c&&!xe.c[0]?new Qt(NaN):!xe.c||it.c&&!it.c[0]?new Qt(it):(9==dr?(Ct=xe.s,xe.s=1,nt=ct(it,xe,0,3),xe.s=Ct,nt.s*=Ct):nt=ct(it,xe,0,dr),(xe=it.minus(nt.times(xe))).c[0]||1!=dr||(xe.s=it.s),xe)},ye.multipliedBy=ye.times=function(xe,Pe){var nt,Ct,it,Ot,St,pt,et,Ze,ht,Lt,Sn,lr,rr,_r,Mr,Kn=this,Zn=Kn.c,Er=(xe=new Qt(xe,Pe)).c;if(!(Zn&&Er&&Zn[0]&&Er[0]))return!Kn.s||!xe.s||Zn&&!Zn[0]&&!Er||Er&&!Er[0]&&!Zn?xe.c=xe.e=xe.s=null:(xe.s*=Kn.s,Zn&&Er?(xe.c=[0],xe.e=0):xe.c=xe.e=null),xe;for(Ct=ce(Kn.e/14)+ce(xe.e/14),xe.s*=Kn.s,(et=Zn.length)<(Lt=Er.length)&&(rr=Zn,Zn=Er,Er=rr,it=et,et=Lt,Lt=it),it=et+Lt,rr=[];it--;rr.push(0));for(_r=$,Mr=fe,it=Lt;0<=--it;){for(nt=0,Sn=Er[it]%Mr,lr=Er[it]/Mr|0,Ot=it+(St=et);it<Ot;)nt=((Ze=Sn*(Ze=Zn[--St]%Mr)+(pt=lr*Ze+(ht=Zn[St]/Mr|0)*Sn)%Mr*Mr+rr[Ot]+nt)/_r|0)+(pt/Mr|0)+lr*ht,rr[Ot--]=Ze%_r;rr[Ot]=nt}return nt?++Ct:rr.splice(0,1),li(xe,rr,Ct)},ye.negated=function(){var xe=new Qt(this);return xe.s=-xe.s||null,xe},ye.plus=function(xe,Pe){var nt,Ct=this,it=Ct.s;if(Pe=(xe=new Qt(xe,Pe)).s,!it||!Pe)return new Qt(NaN);if(it!=Pe)return xe.s=-Pe,Ct.minus(xe);var Ot=Ct.e/14,St=xe.e/14,pt=Ct.c,et=xe.c;if(!Ot||!St){if(!pt||!et)return new Qt(it/0);if(!pt[0]||!et[0])return et[0]?xe:new Qt(pt[0]?Ct:0*it)}if(Ot=ce(Ot),St=ce(St),pt=pt.slice(),it=Ot-St){for((nt=0<it?(St=Ot,et):(it=-it,pt)).reverse();it--;nt.push(0));nt.reverse()}for((it=pt.length)-(Pe=et.length)<0&&(nt=et,et=pt,pt=nt,Pe=it),it=0;Pe;)it=(pt[--Pe]=pt[Pe]+et[Pe]+it)/$|0,pt[Pe]=$===pt[Pe]?0:pt[Pe]%$;return it&&(pt=[it].concat(pt),++St),li(xe,pt,St)},ye.precision=ye.sd=function(xe,Pe){var nt,Ct,it;if(null!=xe&&xe!==!!xe)return Ae(xe,1,K),null==Pe?Pe=Xt:Ae(Pe,0,8),Qr(new Qt(this),xe,Pe);if(!(nt=this.c))return null;if(Ct=14*(it=nt.length-1)+1,it=nt[it]){for(;it%10==0;it/=10,Ct--);for(it=nt[0];10<=it;it/=10,Ct++);}return xe&&this.e+1>Ct&&(Ct=this.e+1),Ct},ye.shiftedBy=function(xe){return Ae(xe,-se,se),this.times("1e"+xe)},ye.squareRoot=ye.sqrt=function(){var xe,Pe,nt,Ct,it,Ot=this,St=Ot.c,pt=Ot.s,et=Ot.e,Ze=Et+4,ht=new Qt("0.5");if(1!==pt||!St||!St[0])return new Qt(!pt||pt<0&&(!St||St[0])?NaN:St?Ot:1/0);if((nt=0==(pt=Math.sqrt(+zr(Ot)))||pt==1/0?(((Pe=we(St)).length+et)%2==0&&(Pe+="0"),pt=Math.sqrt(+Pe),et=ce((et+1)/2)-(et<0||et%2),new Qt(Pe=pt==1/0?"1e"+et:(Pe=pt.toExponential()).slice(0,Pe.indexOf("e")+1)+et)):new Qt(pt+"")).c[0])for((pt=(et=nt.e)+Ze)<3&&(pt=0);;)if(nt=ht.times((it=nt).plus(ct(Ot,it,Ze,1))),we(it.c).slice(0,pt)===(Pe=we(nt.c)).slice(0,pt)){if(nt.e<et&&--pt,"9999"!=(Pe=Pe.slice(pt-3,pt+1))&&(Ct||"4999"!=Pe)){+Pe&&(+Pe.slice(1)||"5"!=Pe.charAt(0))||(Qr(nt,nt.e+Et+2,1),xe=!nt.times(nt).eq(Ot));break}if(!Ct&&(Qr(it,it.e+Et+2,0),it.times(it).eq(Ot))){nt=it;break}Ze+=4,pt+=4,Ct=1}return Qr(nt,nt.e+Et+1,Xt,xe)},ye.toExponential=function(xe,Pe){return null!=xe&&(Ae(xe,0,K),xe++),ci(this,xe,Pe,1)},ye.toFixed=function(xe,Pe){return null!=xe&&(Ae(xe,0,K),xe=xe+this.e+1),ci(this,xe,Pe)},ye.toFormat=function(xe,Pe,nt){var Ct;if(null==nt)null!=xe&&Pe&&"object"==typeof Pe?(nt=Pe,Pe=null):xe&&"object"==typeof xe?(nt=xe,xe=Pe=null):nt=Ur;else if("object"!=typeof nt)throw Error(N+"Argument not an object: "+nt);if(Ct=this.toFixed(xe,Pe),this.c){var it,Ot=Ct.split("."),St=+nt.groupSize,pt=+nt.secondaryGroupSize,et=nt.groupSeparator||"",Ze=Ot[0],ht=Ot[1],Lt=this.s<0,Sn=Lt?Ze.slice(1):Ze,lr=Sn.length;if(pt&&(it=St,St=pt,lr-=pt=it),0<St&&0<lr){for(Ze=Sn.substr(0,it=lr%St||St);it<lr;it+=St)Ze+=et+Sn.substr(it,St);0<pt&&(Ze+=et+Sn.slice(it)),Lt&&(Ze="-"+Ze)}Ct=ht?Ze+(nt.decimalSeparator||"")+((pt=+nt.fractionGroupSize)?ht.replace(new RegExp("\\d{"+pt+"}\\B","g"),"$&"+(nt.fractionGroupSeparator||"")):ht):Ze}return(nt.prefix||"")+Ct+(nt.suffix||"")},ye.toFraction=function(xe){var Pe,nt,Ct,it,Ot,St,pt,et,Ze,ht,Lt,Sn,lr=this,rr=lr.c;if(null!=xe&&(!(pt=new Qt(xe)).isInteger()&&(pt.c||1!==pt.s)||pt.lt(gt)))throw Error(N+"Argument "+(pt.isInteger()?"out of range: ":"not an integer: ")+zr(pt));if(!rr)return new Qt(lr);for(Pe=new Qt(gt),Ze=nt=new Qt(gt),Ct=et=new Qt(gt),Sn=we(rr),Ot=Pe.e=Sn.length-lr.e-1,Pe.c[0]=oe[(St=Ot%14)<0?14+St:St],xe=!xe||0<pt.comparedTo(Pe)?0<Ot?Pe:Ze:pt,St=zn,zn=1/0,pt=new Qt(Sn),et.c[0]=0;ht=ct(pt,Pe,0,1),1!=(it=nt.plus(ht.times(Ct))).comparedTo(xe);)nt=Ct,Ct=it,Ze=et.plus(ht.times(it=Ze)),et=it,Pe=pt.minus(ht.times(it=Pe)),pt=it;return it=ct(xe.minus(nt),Ct,0,1),et=et.plus(it.times(Ze)),nt=nt.plus(it.times(Ct)),et.s=Ze.s=lr.s,Lt=ct(Ze,Ct,Ot*=2,Xt).minus(lr).abs().comparedTo(ct(et,nt,Ot,Xt).minus(lr).abs())<1?[Ze,Ct]:[et,nt],zn=St,Lt},ye.toNumber=function(){return+zr(this)},ye.toPrecision=function(xe,Pe){return null!=xe&&Ae(xe,1,K),ci(this,xe,Pe,2)},ye.toString=function(xe){var Pe,nt=this,Ct=nt.s,it=nt.e;return null===it?Ct?(Pe="Infinity",Ct<0&&(Pe="-"+Pe)):Pe="NaN":(Pe=null==xe?it<=an||kn<=it?Qe(we(nt.c),it):qe(we(nt.c),it,"0"):10===xe?qe(we((nt=Qr(new Qt(nt),Et+it+1,Xt)).c),nt.e,"0"):(Ae(xe,2,vn.length,"Base"),st(qe(we(nt.c),it,"0"),10,xe,Ct,!0)),Ct<0&&nt.c[0]&&(Pe="-"+Pe)),Pe},ye.valueOf=ye.toJSON=function(){return zr(this)},ye._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(ye[Symbol.toStringTag]="BigNumber",ye[Symbol.for("nodejs.util.inspect.custom")]=ye.valueOf),null!=Ke&&Qt.set(Ke),Qt}()).default=R.BigNumber=R,void 0!==b&&b.exports?b.exports=R:(S||(S="undefined"!=typeof self&&self?self:window),S.BigNumber=R)}(this)},{}],2:[function(ae,b,O){"use strict";b.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(S){var R=S%10;return 1==~~(S%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(ae,b,O){"use strict";function S(ce,we){return function(Fe){if(Array.isArray(Fe))return Fe}(ce)||function(Fe,Ae){var Ve=[],Qe=!0,qe=!1,Ne=void 0;try{for(var Ke,ct=Fe[Symbol.iterator]();!(Qe=(Ke=ct.next()).done)&&(Ve.push(Ke.value),!Ae||Ve.length!==Ae);Qe=!0);}catch(st){qe=!0,Ne=st}finally{try{Qe||null==ct.return||ct.return()}finally{if(qe)throw Ne}}return Ve}(ce,we)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var R=ae("./globalState"),E=ae("./validating"),A=ae("./parsing"),I=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],N={general:{scale:1024,suffixes:I,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:I,marker:"d"}},W={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function $(ce){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Fe=2<arguments.length?arguments[2]:void 0;if("string"==typeof we&&(we=A.parseFormat(we)),!E.validateFormat(we))return"ERROR: invalid format";var Ae=we.prefix||"",Ve=we.postfix||"",Qe=function(qe,Ne,Ke){switch(Ne.output){case"currency":return function(vn,Qt,ci){var ii=ci.currentCurrency(),li=Object.assign({},W,Qt),Qr=void 0,zr="",xe=!!li.totalLength||!!li.forceAverage||li.average,Pe=Qt.currencyPosition||ii.position,nt=Qt.currencySymbol||ii.symbol;li.spaceSeparated&&(zr=" "),"infix"===Pe&&(Qr=zr+nt+zr);var Ct=fe({instance:vn,providedFormat:Qt,state:ci,decimalSeparator:Qr});return"prefix"===Pe&&(Ct=vn._value<0&&"sign"===li.negative?"-".concat(zr).concat(nt).concat(Ct.slice(1)):nt+zr+Ct),Pe&&"postfix"!==Pe||(Ct=Ct+(zr=xe?"":zr)+nt),Ct}(qe,Ne=K(Ne,R.currentCurrencyDefaultFormat()),R);case"percent":return Ne=K(Ne,R.currentPercentageDefaultFormat()),ci=R,li=(Qt=Ne).prefixSymbol,Qr=fe({instance:Ke(100*qe._value),providedFormat:Qt,state:ci}),zr=Object.assign({},W,Qt),li?"%".concat(zr.spaceSeparated?" ":"").concat(Qr):"".concat(Qr).concat(zr.spaceSeparated?" ":"","%");case"byte":return Ne=K(Ne,R.currentByteDefaultFormat()),Xt=R,an=Ke,kn=(Et=Ne).base||"binary",dr=(zn=te(qe._value,(Pt=N[kn]).suffixes,Pt.scale)).suffix,$n=fe({instance:an(zn.value),providedFormat:Et,state:Xt,defaults:Xt.currentByteDefaultFormat()}),Ur=Xt.currentAbbreviations(),"".concat($n).concat(Ur.spaced?" ":"").concat(dr);case"time":return Ne=K(Ne,R.currentTimeDefaultFormat()),Ut=qe,sn=Math.floor(Ut._value/60/60),Te=Math.floor((Ut._value-60*sn*60)/60),ye=Math.round(Ut._value-60*sn*60-60*Te),"".concat(sn,":").concat(Te<10?"0":"").concat(Te,":").concat(ye<10?"0":"").concat(ye);case"ordinal":return ct=qe,st=Ne=K(Ne,R.currentOrdinalDefaultFormat()),kt=(dt=R).currentOrdinal(),It=Object.assign({},W,st),At=fe({instance:ct,providedFormat:st,state:dt}),Bt=kt(ct._value),"".concat(At).concat(It.spaceSeparated?" ":"").concat(Bt);default:return fe({instance:qe,providedFormat:Ne,numbro:Ke})}var Qt,ci,li,Qr,zr,ct,st,dt,kt,It,At,Bt,Ut,sn,Te,ye,Et,Xt,an,kn,Pt,zn,dr,$n,Ur}(ce,we,Fe);return(Qe=Ae+Qe)+Ve}function te(ce,we,Fe){var Ae=we[0],Ve=Math.abs(ce);if(Fe<=Ve){for(var Qe=1;Qe<we.length;++Qe){var qe=Math.pow(Fe,Qe),Ne=Math.pow(Fe,Qe+1);if(qe<=Ve&&Ve<Ne){Ae=we[Qe],ce/=qe;break}}Ae===we[0]&&(ce/=Math.pow(Fe,we.length-1),Ae=we[we.length-1])}return{value:ce,suffix:Ae}}function se(ce){for(var we="",Fe=0;Fe<ce;Fe++)we+="0";return we}function fe(ce){var we=ce.instance,Fe=ce.providedFormat,Ae=ce.state,Ve=void 0===Ae?R:Ae,Qe=ce.decimalSeparator,qe=ce.defaults,Ne=void 0===qe?Ve.currentDefaults():qe,Ke=we._value;if(0===Ke&&Ve.hasZeroFormat())return Ve.getZeroFormat();if(!isFinite(Ke))return Ke.toString();var ct,st,dt,kt,It,Bt,Ut,sn=Object.assign({},W,Ne,Fe),Te=sn.totalLength,ye=Te?0:sn.characteristic,gt=sn.optionalCharacteristic,Et=sn.forceAverage,Xt=!!Te||!!Et||sn.average,an=Te?-1:Xt&&void 0===Fe.mantissa?0:sn.mantissa,kn=!Te&&(void 0===Fe.optionalMantissa?-1===an:sn.optionalMantissa),Pt=sn.trimMantissa,zn=sn.thousandSeparated,vr=sn.spaceSeparated,dr=sn.negative,$n=sn.forceSign,Ur=sn.exponential,vn="";if(Xt){var Qt=function(xe){var Pe=xe.value,nt=xe.forceAverage,Ct=xe.abbreviations,it=xe.spaceSeparated,Ot=void 0!==it&&it,St=xe.totalLength,pt=void 0===St?0:St,et="",Ze=Math.abs(Pe),ht=-1;if(Ze>=Math.pow(10,12)&&!nt||"trillion"===nt?(et=Ct.trillion,Pe/=Math.pow(10,12)):Ze<Math.pow(10,12)&&Ze>=Math.pow(10,9)&&!nt||"billion"===nt?(et=Ct.billion,Pe/=Math.pow(10,9)):Ze<Math.pow(10,9)&&Ze>=Math.pow(10,6)&&!nt||"million"===nt?(et=Ct.million,Pe/=Math.pow(10,6)):(Ze<Math.pow(10,6)&&Ze>=Math.pow(10,3)&&!nt||"thousand"===nt)&&(et=Ct.thousand,Pe/=Math.pow(10,3)),et&&(et=(Ot?" ":"")+et),pt){var Lt=Pe.toString().split(".")[0];ht=Math.max(pt-Lt.length,0)}return{value:Pe,abbreviation:et,mantissaPrecision:ht}}({value:Ke,forceAverage:Et,abbreviations:Ve.currentAbbreviations(),spaceSeparated:vr,totalLength:Te});Ke=Qt.value,vn+=Qt.abbreviation,Te&&(an=Qt.mantissaPrecision)}if(Ur){var ci=(st=(ct={value:Ke,characteristicPrecision:ye}).value,kt=void 0===(dt=ct.characteristicPrecision)?0:dt,Bt=(It=S(st.toExponential().split("e"),2))[1],Ut=+It[0],kt&&1<kt&&(Ut*=Math.pow(10,kt-1),Bt=0<=(Bt=+Bt-(kt-1))?"+".concat(Bt):Bt),{value:Ut,abbreviation:"e".concat(Bt)});Ke=ci.value,vn=ci.abbreviation+vn}var ii,li,Qr,zr=function(xe,Pe,nt,Ct,it){if(-1===Ct)return xe;var Ot=function oe(ce,we){return-1!==ce.toString().indexOf("e")?function(Fe,Ae){var Ve=Fe.toString(),Qe=S(Ve.split("e"),2),Ne=Qe[1],Ke=S(Qe[0].split("."),2),ct=Ke[0],st=Ke[1],dt=void 0===st?"":st;if(0<+Ne)Ve=ct+dt+se(Ne-dt.length);else{var kt=".";kt=+ct<0?"-0".concat(kt):"0".concat(kt);var It=(se(-Ne-1)+Math.abs(ct)+dt).substr(0,Ae);It.length<Ae&&(It+=se(Ae-It.length)),Ve=kt+It}return 0<+Ne&&0<Ae&&(Ve+=".".concat(se(Ae))),Ve}(ce,we):(Math.round(+"".concat(ce,"e+").concat(we))/Math.pow(10,we)).toFixed(we)}(Pe,Ct),St=S(Ot.toString().split("."),2),pt=St[0],et=St[1],Ze=void 0===et?"":et;if(Ze.match(/^0+$/)&&(nt||it))return pt;var ht=Ze.match(/0+$/);return it&&ht?"".concat(pt,".").concat(Ze.toString().slice(0,ht.index)):Ot.toString()}(Ke.toString(),Ke,kn,an,Pt);return zr=function(xe,Pe,nt,Ct,it){var Ot=Ct.currentDelimiters(),St=Ot.thousands;it=it||Ot.decimal;var pt=Ot.thousandsSize||3,et=xe.toString(),Ze=et.split(".")[0],ht=et.split(".")[1];return nt&&(Pe<0&&(Ze=Ze.slice(1)),function(Lt,Sn){for(var lr=[],rr=0,_r=Lt;0<_r;_r--)rr===Sn&&(lr.unshift(_r),rr=0),rr++;return lr}(Ze.length,pt).forEach(function(Lt,Sn){Ze=Ze.slice(0,Lt+Sn)+St+Ze.slice(Lt+Sn)}),Pe<0&&(Ze="-".concat(Ze))),ht?Ze+it+ht:Ze}(zr=function(xe,Pe,nt,Ct){var it=xe,Ot=S(it.toString().split("."),2),St=Ot[0],pt=Ot[1];if(St.match(/^-?0$/)&&nt)return pt?"".concat(St.replace("0",""),".").concat(pt):St.replace("0","");if(St.length<Ct)for(var et=Ct-St.length,Ze=0;Ze<et;Ze++)it="0".concat(it);return it.toString()}(zr,0,gt,ye),Ke,zn,Ve,Qe),(Xt||Ur)&&(zr+=vn),($n||Ke<0)&&(ii=zr,Qr=dr,zr=0===(li=Ke)?ii:0==+ii?ii.replace("-",""):0<li?"+".concat(ii):"sign"===Qr?ii:"(".concat(ii.replace("-",""),")")),zr}function K(ce,we){if(!ce)return we;var Fe=Object.keys(ce);return 1===Fe.length&&"output"===Fe[0]?we:ce}b.exports=function(ce){return{format:function(){for(var we=arguments.length,Fe=new Array(we),Ae=0;Ae<we;Ae++)Fe[Ae]=arguments[Ae];return $.apply(void 0,Fe.concat([ce]))},getByteUnit:function(){for(var we=arguments.length,Fe=new Array(we),Ae=0;Ae<we;Ae++)Fe[Ae]=arguments[Ae];return function(Ve){var Qe=N.general;return te(Ve._value,Qe.suffixes,Qe.scale).suffix}.apply(void 0,Fe.concat([ce]))},getBinaryByteUnit:function(){for(var we=arguments.length,Fe=new Array(we),Ae=0;Ae<we;Ae++)Fe[Ae]=arguments[Ae];return function(Ve){var Qe=N.binary;return te(Ve._value,Qe.suffixes,Qe.scale).suffix}.apply(void 0,Fe.concat([ce]))},getDecimalByteUnit:function(){for(var we=arguments.length,Fe=new Array(we),Ae=0;Ae<we;Ae++)Fe[Ae]=arguments[Ae];return function(Ve){var Qe=N.decimal;return te(Ve._value,Qe.suffixes,Qe.scale).suffix}.apply(void 0,Fe.concat([ce]))},formatOrDefault:K}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(ae,b,O){"use strict";var S=ae("./en-US"),R=ae("./validating"),E=ae("./parsing"),A={},I=void 0,N={},W=null,$={};function te(oe){I=oe}function se(){return N[I]}A.languages=function(){return Object.assign({},N)},A.currentLanguage=function(){return I},A.currentCurrency=function(){return se().currency},A.currentAbbreviations=function(){return se().abbreviations},A.currentDelimiters=function(){return se().delimiters},A.currentOrdinal=function(){return se().ordinal},A.currentDefaults=function(){return Object.assign({},se().defaults,$)},A.currentOrdinalDefaultFormat=function(){return Object.assign({},A.currentDefaults(),se().ordinalFormat)},A.currentByteDefaultFormat=function(){return Object.assign({},A.currentDefaults(),se().byteFormat)},A.currentPercentageDefaultFormat=function(){return Object.assign({},A.currentDefaults(),se().percentageFormat)},A.currentCurrencyDefaultFormat=function(){return Object.assign({},A.currentDefaults(),se().currencyFormat)},A.currentTimeDefaultFormat=function(){return Object.assign({},A.currentDefaults(),se().timeFormat)},A.setDefaults=function(oe){oe=E.parseFormat(oe),R.validateFormat(oe)&&($=oe)},A.getZeroFormat=function(){return W},A.setZeroFormat=function(oe){return W="string"==typeof oe?oe:null},A.hasZeroFormat=function(){return null!==W},A.languageData=function(oe){if(oe){if(N[oe])return N[oe];throw new Error('Unknown tag "'.concat(oe,'"'))}return se()},A.registerLanguage=function(oe){var fe=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!R.validateLanguage(oe))throw new Error("Invalid language data");N[oe.languageTag]=oe,fe&&te(oe.languageTag)},A.setLanguage=function(oe){var fe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:S.languageTag;if(!N[oe]){var K=oe.split("-")[0],ce=Object.keys(N).find(function(we){return we.split("-")[0]===K});return N[ce]?void te(ce):void te(fe)}te(oe)},A.registerLanguage(S),I=S.languageTag,b.exports=A},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(ae,b,O){"use strict";b.exports=function(S){return{loadLanguagesInNode:function(R){return E=S,void R.forEach(function(A){var I=void 0;try{I=ae("../languages/".concat(A))}catch(N){console.error('Unable to load "'.concat(A,'". No matching language file found.'))}I&&E.registerLanguage(I)});var E}}}},{}],6:[function(ae,b,O){"use strict";var S=ae("bignumber.js");function R(E,A,I){var N=new S(E._value),W=A;return I.isNumbro(A)&&(W=A._value),W=new S(W),E._value=N.minus(W).toNumber(),E}b.exports=function(E){return{add:function(A,I){return W=I,$=E,te=new S((N=A)._value),se=W,$.isNumbro(W)&&(se=W._value),se=new S(se),N._value=te.plus(se).toNumber(),N;var N,W,$,te,se},subtract:function(A,I){return R(A,I,E)},multiply:function(A,I){return W=I,$=E,te=new S((N=A)._value),se=W,$.isNumbro(W)&&(se=W._value),se=new S(se),N._value=te.times(se).toNumber(),N;var N,W,$,te,se},divide:function(A,I){return W=I,$=E,te=new S((N=A)._value),se=W,$.isNumbro(W)&&(se=W._value),se=new S(se),N._value=te.dividedBy(se).toNumber(),N;var N,W,$,te,se},set:function(A,I){return N=A,$=W=I,E.isNumbro(W)&&($=W._value),N._value=$,N;var N,W,$},difference:function(A,I){return N=I,R($=(W=E)(A._value),N,W),Math.abs($._value);var N,W,$}}}},{"bignumber.js":1}],7:[function(ae,b,O){"use strict";function S(fe,K){for(var ce=0;ce<K.length;ce++){var we=K[ce];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(fe,we.key,we)}}var R=ae("./globalState"),E=ae("./validating"),A=ae("./loading")(oe),I=ae("./unformatting"),N=ae("./formatting")(oe),W=ae("./manipulating")(oe),$=ae("./parsing"),te=function(){function fe(Fe){(function(Ae,Ve){if(!(Ae instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,fe),this._value=Fe}var K,ce;return K=fe,(ce=[{key:"clone",value:function(){return oe(this._value)}},{key:"format",value:function(){return N.format(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"formatCurrency",value:function(Fe){return"string"==typeof Fe&&(Fe=$.parseFormat(Fe)),(Fe=N.formatOrDefault(Fe,R.currentCurrencyDefaultFormat())).output="currency",N.format(this,Fe)}},{key:"formatTime",value:function(){var Fe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Fe.output="time",N.format(this,Fe)}},{key:"binaryByteUnits",value:function(){return N.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return N.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return N.getByteUnit(this)}},{key:"difference",value:function(Fe){return W.difference(this,Fe)}},{key:"add",value:function(Fe){return W.add(this,Fe)}},{key:"subtract",value:function(Fe){return W.subtract(this,Fe)}},{key:"multiply",value:function(Fe){return W.multiply(this,Fe)}},{key:"divide",value:function(Fe){return W.divide(this,Fe)}},{key:"set",value:function(Fe){return W.set(this,se(Fe))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&S(K.prototype,ce),fe}();function se(fe){var K=fe;return oe.isNumbro(fe)?K=fe._value:"string"==typeof fe?K=oe.unformat(fe):isNaN(fe)&&(K=NaN),K}function oe(fe){return new te(se(fe))}oe.version="2.1.2",oe.isNumbro=function(fe){return fe instanceof te},oe.language=R.currentLanguage,oe.registerLanguage=R.registerLanguage,oe.setLanguage=R.setLanguage,oe.languages=R.languages,oe.languageData=R.languageData,oe.zeroFormat=R.setZeroFormat,oe.defaultFormat=R.currentDefaults,oe.setDefaults=R.setDefaults,oe.defaultCurrencyFormat=R.currentCurrencyDefaultFormat,oe.validate=E.validate,oe.loadLanguagesInNode=A.loadLanguagesInNode,oe.unformat=I.unformat,b.exports=oe},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(ae,b,O){"use strict";b.exports={parseFormat:function(S){var R,E,A,I,N,W,$,te,se,oe,fe,K,ce,we,Fe,Ae,Ve,Qe,qe,Ne,Ke=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof S?S:(E=Ke,N=Ke,function(ct,st){if(-1===ct.indexOf("$")){if(-1===ct.indexOf("%"))return-1!==ct.indexOf("bd")?(st.output="byte",st.base="general"):-1!==ct.indexOf("b")?(st.output="byte",st.base="binary"):-1!==ct.indexOf("d")?(st.output="byte",st.base="decimal"):-1===ct.indexOf(":")?-1!==ct.indexOf("o")&&(st.output="ordinal"):st.output="time";st.output="percent"}else st.output="currency"}(S=(W=(I=S=(A=(R=S).match(/^{([^}]*)}/))?(E.prefix=A[1],R.slice(A[0].length)):R).match(/{([^}]*)}$/))?(N.postfix=W[1],I.slice(0,-W[0].length)):I,Ke),$=Ke,(te=S.match(/[1-9]+[0-9]*/))&&($.totalLength=+te[0]),se=Ke,(oe=S.split(".")[0].match(/0+/))&&(se.characteristic=oe[0].length),function(ct,st){if(-1!==ct.indexOf(".")){var dt=ct.split(".")[0];st.optionalCharacteristic=-1===dt.indexOf("0")}}(S,Ke),fe=Ke,-1!==S.indexOf("a")&&(fe.average=!0),ce=Ke,-1!==(K=S).indexOf("K")?ce.forceAverage="thousand":-1!==K.indexOf("M")?ce.forceAverage="million":-1!==K.indexOf("B")?ce.forceAverage="billion":-1!==K.indexOf("T")&&(ce.forceAverage="trillion"),function(ct,st){var dt=ct.split(".")[1];if(dt){var kt=dt.match(/0+/);kt&&(st.mantissa=kt[0].length)}}(S,Ke),Fe=Ke,(we=S).match(/\[\.]/)?Fe.optionalMantissa=!0:we.match(/\./)&&(Fe.optionalMantissa=!1),Ae=Ke,-1!==S.indexOf(",")&&(Ae.thousandSeparated=!0),Ve=Ke,-1!==S.indexOf(" ")&&(Ve.spaceSeparated=!0),qe=Ke,(Qe=S).match(/^\+?\([^)]*\)$/)&&(qe.negative="parenthesis"),Qe.match(/^\+?-/)&&(qe.negative="sign"),Ne=Ke,S.match(/^\+/)&&(Ne.forceSign=!0),Ke)}}},{}],9:[function(ae,b,O){"use strict";var S=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function R(A){return A.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}b.exports={unformat:function(A,I){var N,te=ae("./globalState"),se=te.currentDelimiters(),oe=te.currentCurrency().symbol,fe=te.currentOrdinal(),K=te.getZeroFormat(),ce=te.currentAbbreviations(),we=void 0;if("string"==typeof A)we=function(Fe,Ae){if(!Fe.indexOf(":")||":"===Ae.thousands)return!1;var Ve=Fe.split(":");if(3!==Ve.length)return!1;var qe=+Ve[1],Ne=+Ve[2];return!isNaN(+Ve[0])&&!isNaN(qe)&&!isNaN(Ne)}(A,se)?+(N=A.split(":"))[2]+60*+N[1]+3600*+N[0]:function E(A,I){var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",W=3<arguments.length?arguments[3]:void 0,$=4<arguments.length?arguments[4]:void 0,te=5<arguments.length?arguments[5]:void 0,se=6<arguments.length?arguments[6]:void 0;if(""!==A)return A===$?0:function oe(fe,K){var ce=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",we=3<arguments.length?arguments[3]:void 0,Fe=4<arguments.length?arguments[4]:void 0,Ae=5<arguments.length?arguments[5]:void 0,Ve=6<arguments.length?arguments[6]:void 0;if(!isNaN(+fe))return+fe;var Qe="",qe=fe.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(qe!==fe)return-1*oe(qe,K,ce,we,Fe,Ae,Ve);for(var Ne=0;Ne<S.length;Ne++){var Ke=S[Ne];if((Qe=fe.replace(Ke.key,""))!==fe)return oe(Qe,K,ce,we,Fe,Ae,Ve)*Ke.factor}if((Qe=fe.replace("%",""))!==fe)return oe(Qe,K,ce,we,Fe,Ae,Ve)/100;var ct=parseFloat(fe);if(!isNaN(ct)){var st=we(ct);if(st&&"."!==st&&(Qe=fe.replace(new RegExp("".concat(R(st),"$")),""))!==fe)return oe(Qe,K,ce,we,Fe,Ae,Ve);var dt={};Object.keys(Ae).forEach(function(Te){dt[Ae[Te]]=Te});for(var kt=Object.keys(dt).sort().reverse(),It=kt.length,At=0;At<It;At++){var Bt=kt[At],Ut=dt[Bt];if((Qe=fe.replace(Bt,""))!==fe){var sn=void 0;switch(Ut){case"thousand":sn=Math.pow(10,3);break;case"million":sn=Math.pow(10,6);break;case"billion":sn=Math.pow(10,9);break;case"trillion":sn=Math.pow(10,12)}return oe(Qe,K,ce,we,Fe,Ae,Ve)*sn}}}}(function(oe,fe){var ce=oe.replace(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"","");return(ce=ce.replace(new RegExp("([0-9])".concat(R(fe.thousands),"([0-9])"),"g"),"$1$2")).replace(fe.decimal,".")}(A,I,N),I,N,W,$,te,se)}(A,se,oe,fe,K,ce,I);else{if("number"!=typeof A)return;we=A}if(void 0!==we)return we}}},{"./globalState":4}],10:[function(ae,b,O){"use strict";function S(se){return function(oe){if(Array.isArray(oe)){for(var fe=0,K=new Array(oe.length);fe<oe.length;fe++)K[fe]=oe[fe];return K}}(se)||function(oe){if(Symbol.iterator in Object(oe)||"[object Arguments]"===Object.prototype.toString.call(oe))return Array.from(oe)}(se)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R(se){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(se)}var E=ae("./unformatting"),A=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,I={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(se,oe){return"byte"===oe.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(se){return"byte"===se.output}},characteristic:{type:"number",restriction:function(se){return 0<=se},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(se){return 0<=se},message:"value must be positive"},{restriction:function(se,oe){return!oe.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(se){return 0<=se},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(se,oe){return"percent"===oe.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},N={languageTag:{type:"string",mandatory:!0,restriction:function(se){return se.match(A)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function W(se){return!!E.unformat(se)}function $(se,oe,fe){var K=3<arguments.length&&void 0!==arguments[3]&&arguments[3],ce=Object.keys(se).map(function(we){if(!oe[we])return console.error("".concat(fe," Invalid key: ").concat(we)),!1;var Fe=se[we],Ae=oe[we];if("string"==typeof Ae&&(Ae={type:Ae}),"format"===Ae.type){if(!$(Fe,I,"[Validate ".concat(we,"]"),!0))return!1}else if(R(Fe)!==Ae.type)return console.error("".concat(fe," ").concat(we,' type mismatched: "').concat(Ae.type,'" expected, "').concat(R(Fe),'" provided')),!1;if(Ae.restrictions&&Ae.restrictions.length)for(var Ve=Ae.restrictions.length,Qe=0;Qe<Ve;Qe++){var qe=Ae.restrictions[Qe],Ke=qe.message;if(!(0,qe.restriction)(Fe,se))return console.error("".concat(fe," ").concat(we," invalid value: ").concat(Ke)),!1}return Ae.restriction&&!Ae.restriction(Fe,se)?(console.error("".concat(fe," ").concat(we," invalid value: ").concat(Ae.message)),!1):Ae.validValues&&-1===Ae.validValues.indexOf(Fe)?(console.error("".concat(fe," ").concat(we," invalid value: must be among ").concat(JSON.stringify(Ae.validValues),', "').concat(Fe,'" provided')),!1):!(Ae.children&&!$(Fe,Ae.children,"[Validate ".concat(we,"]")))});return K||ce.push.apply(ce,S(Object.keys(oe).map(function(we){var Fe=oe[we];if("string"==typeof Fe&&(Fe={type:Fe}),Fe.mandatory){var Ae=Fe.mandatory;if("function"==typeof Ae&&(Ae=Ae(se)),Ae&&void 0===se[we])return console.error("".concat(fe,' Missing mandatory key "').concat(we,'"')),!1}return!0}))),ce.reduce(function(we,Fe){return we&&Fe},!0)}function te(se){return $(se,I,"[Validate format]")}b.exports={validate:function(se,oe){var fe=W(se),K=te(oe);return fe&&K},validateFormat:te,validateInput:W,validateLanguage:function(se){return $(se,N,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},8183:function(Z,ae,b){!function(O,S){"use strict";var R;try{R=b(6908)}catch(E){}Z.exports=function(O){var S="function"==typeof O,R=!!window.addEventListener,E=window.document,A=window.setTimeout,I=function(Te,ye,gt,Et){R?Te.addEventListener(ye,gt,!!Et):Te.attachEvent("on"+ye,gt)},N=function(Te,ye,gt,Et){R?Te.removeEventListener(ye,gt,!!Et):Te.detachEvent("on"+ye,gt)},$=function(Te,ye){return-1!==(" "+Te.className+" ").indexOf(" "+ye+" ")},te=function(Te,ye){$(Te,ye)||(Te.className=""===Te.className?ye:Te.className+" "+ye)},se=function(Te,ye){Te.className=function(Te){return Te.trim?Te.trim():Te.replace(/^\s+|\s+$/g,"")}((" "+Te.className+" ").replace(" "+ye+" "," "))},oe=function(Te){return/Array/.test(Object.prototype.toString.call(Te))},fe=function(Te){return/Date/.test(Object.prototype.toString.call(Te))&&!isNaN(Te.getTime())},K=function(Te){var ye=Te.getDay();return 0===ye||6===ye},ce=function(Te){return Te%4==0&&Te%100!=0||Te%400==0},we=function(Te,ye){return[31,ce(Te)?29:28,31,30,31,30,31,31,30,31,30,31][ye]},Fe=function(Te){fe(Te)&&Te.setHours(0,0,0,0)},Ae=function(Te,ye){return Te.getTime()===ye.getTime()},Ve=function(Te,ye,gt){var Et,Xt;for(Et in ye)(Xt=void 0!==Te[Et])&&"object"==typeof ye[Et]&&null!==ye[Et]&&void 0===ye[Et].nodeName?fe(ye[Et])?gt&&(Te[Et]=new Date(ye[Et].getTime())):oe(ye[Et])?gt&&(Te[Et]=ye[Et].slice(0)):Te[Et]=Ve({},ye[Et],gt):(gt||!Xt)&&(Te[Et]=ye[Et]);return Te},Qe=function(Te,ye,gt){var Et;E.createEvent?((Et=E.createEvent("HTMLEvents")).initEvent(ye,!0,!1),Et=Ve(Et,gt),Te.dispatchEvent(Et)):E.createEventObject&&(Et=E.createEventObject(),Et=Ve(Et,gt),Te.fireEvent("on"+ye,Et))},qe=function(Te){return Te.month<0&&(Te.year-=Math.ceil(Math.abs(Te.month)/12),Te.month+=12),Te.month>11&&(Te.year+=Math.floor(Math.abs(Te.month)/12),Te.month-=12),Te},Ne={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Ke=function(Te,ye,gt){for(ye+=Te.firstDay;ye>=7;)ye-=7;return gt?Te.i18n.weekdaysShort[ye]:Te.i18n.weekdays[ye]},ct=function(Te){var ye=[],gt="false";if(Te.isEmpty){if(!Te.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';ye.push("is-outside-current-month"),Te.enableSelectionDaysInNextAndPreviousMonths||ye.push("is-selection-disabled")}return Te.isDisabled&&ye.push("is-disabled"),Te.isToday&&ye.push("is-today"),Te.isSelected&&(ye.push("is-selected"),gt="true"),Te.hasEvent&&ye.push("has-event"),Te.isInRange&&ye.push("is-inrange"),Te.isStartRange&&ye.push("is-startrange"),Te.isEndRange&&ye.push("is-endrange"),'<td data-day="'+Te.day+'" class="'+ye.join(" ")+'" aria-selected="'+gt+'"><button class="pika-button pika-day" type="button" data-pika-year="'+Te.year+'" data-pika-month="'+Te.month+'" data-pika-day="'+Te.day+'">'+Te.day+"</button></td>"},dt=function(Te,ye,gt,Et){var Xt=new Date(gt,ye,Te);return'<td class="pika-week">'+(S?O(Xt).isoWeek():function(Te,ye){Te.setHours(0,0,0,0);var gt=Te.getDate(),Et=Te.getDay(),Xt=ye,an=Xt-1,Pt=function(Ur){return(Ur+7-1)%7};Te.setDate(gt+an-Pt(Et));var zn=new Date(Te.getFullYear(),0,Xt),dr=(Te.getTime()-zn.getTime())/864e5;return 1+Math.round((dr-an+Pt(zn.getDay()))/7)}(Xt,Et))+"</td>"},kt=function(Te,ye,gt,Et){return'<tr class="pika-row'+(gt?" pick-whole-week":"")+(Et?" is-selected":"")+'">'+(ye?Te.reverse():Te).join("")+"</tr>"},Bt=function(Te,ye,gt,Et,Xt,an){var kn,Pt,zn,vn,Qt,vr=Te._o,dr=gt===vr.minYear,$n=gt===vr.maxYear,Ur='<div id="'+an+'" class="pika-title" role="heading" aria-live="assertive">',ci=!0,ii=!0;for(zn=[],kn=0;kn<12;kn++)zn.push('<option value="'+(gt===Xt?kn-ye:12+kn-ye)+'"'+(kn===Et?' selected="selected"':"")+(dr&&kn<vr.minMonth||$n&&kn>vr.maxMonth?' disabled="disabled"':"")+">"+vr.i18n.months[kn]+"</option>");for(vn='<div class="pika-label">'+vr.i18n.months[Et]+'<select class="pika-select pika-select-month" tabindex="-1">'+zn.join("")+"</select></div>",oe(vr.yearRange)?(kn=vr.yearRange[0],Pt=vr.yearRange[1]+1):(kn=gt-vr.yearRange,Pt=1+gt+vr.yearRange),zn=[];kn<Pt&&kn<=vr.maxYear;kn++)kn>=vr.minYear&&zn.push('<option value="'+kn+'"'+(kn===gt?' selected="selected"':"")+">"+kn+"</option>");return Qt='<div class="pika-label">'+gt+vr.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+zn.join("")+"</select></div>",Ur+=vr.showMonthAfterYear?Qt+vn:vn+Qt,dr&&(0===Et||vr.minMonth>=Et)&&(ci=!1),$n&&(11===Et||vr.maxMonth<=Et)&&(ii=!1),0===ye&&(Ur+='<button class="pika-prev'+(ci?"":" is-disabled")+'" type="button">'+vr.i18n.previousMonth+"</button>"),ye===Te._o.numberOfMonths-1&&(Ur+='<button class="pika-next'+(ii?"":" is-disabled")+'" type="button">'+vr.i18n.nextMonth+"</button>"),Ur+"</div>"},Ut=function(Te,ye,gt){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+gt+'">'+function(Te){var ye,gt=[];for(Te.showWeekNumber&&gt.push("<th></th>"),ye=0;ye<7;ye++)gt.push('<th scope="col"><abbr title="'+Ke(Te,ye)+'">'+Ke(Te,ye,!0)+"</abbr></th>");return"<thead><tr>"+(Te.isRTL?gt.reverse():gt).join("")+"</tr></thead>"}(Te)+function(Te){return"<tbody>"+Te.join("")+"</tbody>"}(ye)+"</table>"},sn=function(Te){var ye=this,gt=ye.config(Te);ye._onMouseDown=function(Xt){if(ye._v){var an=(Xt=Xt||window.event).target||Xt.srcElement;if(an)if($(an,"is-disabled")||(!$(an,"pika-button")||$(an,"is-empty")||$(an.parentNode,"is-disabled")?$(an,"pika-prev")?ye.prevMonth():$(an,"pika-next")&&ye.nextMonth():(ye.setDate(new Date(an.getAttribute("data-pika-year"),an.getAttribute("data-pika-month"),an.getAttribute("data-pika-day"))),gt.bound&&A(function(){ye.hide(),gt.blurFieldOnSelect&&gt.field&&gt.field.blur()},100))),$(an,"pika-select"))ye._c=!0;else{if(!Xt.preventDefault)return Xt.returnValue=!1,!1;Xt.preventDefault()}}},ye._onChange=function(Xt){var an=(Xt=Xt||window.event).target||Xt.srcElement;!an||($(an,"pika-select-month")?ye.gotoMonth(an.value):$(an,"pika-select-year")&&ye.gotoYear(an.value))},ye._onKeyChange=function(Xt){if(Xt=Xt||window.event,ye.isVisible())switch(Xt.keyCode){case 13:case 27:gt.field&&gt.field.blur();break;case 37:ye.adjustDate("subtract",1);break;case 38:ye.adjustDate("subtract",7);break;case 39:ye.adjustDate("add",1);break;case 40:ye.adjustDate("add",7);break;case 8:case 46:ye.setDate(null)}},ye._parseFieldValue=function(){if(gt.parse)return gt.parse(gt.field.value,gt.format);if(S){var Xt=O(gt.field.value,gt.format,gt.formatStrict);return Xt&&Xt.isValid()?Xt.toDate():null}return new Date(Date.parse(gt.field.value))},ye._onInputChange=function(Xt){var an;Xt.firedBy!==ye&&(an=ye._parseFieldValue(),fe(an)&&ye.setDate(an),ye._v||ye.show())},ye._onInputFocus=function(){ye.show()},ye._onInputClick=function(){ye.show()},ye._onInputBlur=function(){var Xt=E.activeElement;do{if($(Xt,"pika-single"))return}while(Xt=Xt.parentNode);ye._c||(ye._b=A(function(){ye.hide()},50)),ye._c=!1},ye._onClick=function(Xt){var an=(Xt=Xt||window.event).target||Xt.srcElement,kn=an;if(an){!R&&$(an,"pika-select")&&(an.onchange||(an.setAttribute("onchange","return;"),I(an,"change",ye._onChange)));do{if($(kn,"pika-single")||kn===gt.trigger)return}while(kn=kn.parentNode);ye._v&&an!==gt.trigger&&kn!==gt.trigger&&ye.hide()}},ye.el=E.createElement("div"),ye.el.className="pika-single"+(gt.isRTL?" is-rtl":"")+(gt.theme?" "+gt.theme:""),I(ye.el,"mousedown",ye._onMouseDown,!0),I(ye.el,"touchend",ye._onMouseDown,!0),I(ye.el,"change",ye._onChange),gt.keyboardInput&&I(E,"keydown",ye._onKeyChange),gt.field&&(gt.container?gt.container.appendChild(ye.el):gt.bound?E.body.appendChild(ye.el):gt.field.parentNode.insertBefore(ye.el,gt.field.nextSibling),I(gt.field,"change",ye._onInputChange),gt.defaultDate||(gt.defaultDate=ye._parseFieldValue(),gt.setDefaultDate=!0));var Et=gt.defaultDate;fe(Et)?gt.setDefaultDate?ye.setDate(Et,!0):ye.gotoDate(Et):ye.gotoDate(new Date),gt.bound?(this.hide(),ye.el.className+=" is-bound",I(gt.trigger,"click",ye._onInputClick),I(gt.trigger,"focus",ye._onInputFocus),I(gt.trigger,"blur",ye._onInputBlur)):this.show()};return sn.prototype={config:function(Te){this._o||(this._o=Ve({},Ne,!0));var ye=Ve(this._o,Te,!0);ye.isRTL=!!ye.isRTL,ye.field=ye.field&&ye.field.nodeName?ye.field:null,ye.theme="string"==typeof ye.theme&&ye.theme?ye.theme:null,ye.bound=!!(void 0!==ye.bound?ye.field&&ye.bound:ye.field),ye.trigger=ye.trigger&&ye.trigger.nodeName?ye.trigger:ye.field,ye.disableWeekends=!!ye.disableWeekends,ye.disableDayFn="function"==typeof ye.disableDayFn?ye.disableDayFn:null;var gt=parseInt(ye.numberOfMonths,10)||1;if(ye.numberOfMonths=gt>4?4:gt,fe(ye.minDate)||(ye.minDate=!1),fe(ye.maxDate)||(ye.maxDate=!1),ye.minDate&&ye.maxDate&&ye.maxDate<ye.minDate&&(ye.maxDate=ye.minDate=!1),ye.minDate&&this.setMinDate(ye.minDate),ye.maxDate&&this.setMaxDate(ye.maxDate),oe(ye.yearRange)){var Et=(new Date).getFullYear()-10;ye.yearRange[0]=parseInt(ye.yearRange[0],10)||Et,ye.yearRange[1]=parseInt(ye.yearRange[1],10)||Et}else ye.yearRange=Math.abs(parseInt(ye.yearRange,10))||Ne.yearRange,ye.yearRange>100&&(ye.yearRange=100);return ye},toString:function(Te){return Te=Te||this._o.format,fe(this._d)?this._o.toString?this._o.toString(this._d,Te):S?O(this._d).format(Te):this._d.toDateString():""},getMoment:function(){return S?O(this._d):null},setMoment:function(Te,ye){S&&O.isMoment(Te)&&this.setDate(Te.toDate(),ye)},getDate:function(){return fe(this._d)?new Date(this._d.getTime()):null},setDate:function(Te,ye){if(!Te)return this._d=null,this._o.field&&(this._o.field.value="",Qe(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof Te&&(Te=new Date(Date.parse(Te))),fe(Te)){var gt=this._o.minDate,Et=this._o.maxDate;fe(gt)&&Te<gt?Te=gt:fe(Et)&&Te>Et&&(Te=Et),this._d=new Date(Te.getTime()),Fe(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),Qe(this._o.field,"change",{firedBy:this})),!ye&&"function"==typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(Te){var ye=!0;if(fe(Te)){if(this.calendars){var gt=new Date(this.calendars[0].year,this.calendars[0].month,1),Et=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),Xt=Te.getTime();Et.setMonth(Et.getMonth()+1),Et.setDate(Et.getDate()-1),ye=Xt<gt.getTime()||Et.getTime()<Xt}ye&&(this.calendars=[{month:Te.getMonth(),year:Te.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(Te,ye){var Xt,gt=this.getDate()||new Date,Et=24*parseInt(ye)*60*60*1e3;"add"===Te?Xt=new Date(gt.valueOf()+Et):"subtract"===Te&&(Xt=new Date(gt.valueOf()-Et)),this.setDate(Xt)},adjustCalendars:function(){this.calendars[0]=qe(this.calendars[0]);for(var Te=1;Te<this._o.numberOfMonths;Te++)this.calendars[Te]=qe({month:this.calendars[0].month+Te,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(Te){isNaN(Te)||(this.calendars[0].month=parseInt(Te,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(Te){isNaN(Te)||(this.calendars[0].year=parseInt(Te,10),this.adjustCalendars())},setMinDate:function(Te){Te instanceof Date?(Fe(Te),this._o.minDate=Te,this._o.minYear=Te.getFullYear(),this._o.minMonth=Te.getMonth()):(this._o.minDate=Ne.minDate,this._o.minYear=Ne.minYear,this._o.minMonth=Ne.minMonth,this._o.startRange=Ne.startRange),this.draw()},setMaxDate:function(Te){Te instanceof Date?(Fe(Te),this._o.maxDate=Te,this._o.maxYear=Te.getFullYear(),this._o.maxMonth=Te.getMonth()):(this._o.maxDate=Ne.maxDate,this._o.maxYear=Ne.maxYear,this._o.maxMonth=Ne.maxMonth,this._o.endRange=Ne.endRange),this.draw()},setStartRange:function(Te){this._o.startRange=Te},setEndRange:function(Te){this._o.endRange=Te},draw:function(Te){if(this._v||Te){var Pt,ye=this._o,gt=ye.minYear,Et=ye.maxYear,Xt=ye.minMonth,an=ye.maxMonth,kn="";this._y<=gt&&(this._y=gt,!isNaN(Xt)&&this._m<Xt&&(this._m=Xt)),this._y>=Et&&(this._y=Et,!isNaN(an)&&this._m>an&&(this._m=an));for(var zn=0;zn<ye.numberOfMonths;zn++)Pt="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),kn+='<div class="pika-lendar">'+Bt(this,zn,this.calendars[zn].year,this.calendars[zn].month,this.calendars[0].year,Pt)+this.render(this.calendars[zn].year,this.calendars[zn].month,Pt)+"</div>";this.el.innerHTML=kn,ye.bound&&"hidden"!==ye.field.type&&A(function(){ye.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),ye.bound&&ye.field.setAttribute("aria-label",ye.ariaLabel)}},adjustPosition:function(){var Te,ye,gt,Et,Xt,an,kn,Pt,zn,vr,dr,$n;if(!this._o.container){if(this.el.style.position="absolute",ye=Te=this._o.trigger,gt=this.el.offsetWidth,Et=this.el.offsetHeight,Xt=window.innerWidth||E.documentElement.clientWidth,an=window.innerHeight||E.documentElement.clientHeight,kn=window.pageYOffset||E.body.scrollTop||E.documentElement.scrollTop,dr=!0,$n=!0,"function"==typeof Te.getBoundingClientRect)Pt=(vr=Te.getBoundingClientRect()).left+window.pageXOffset,zn=vr.bottom+window.pageYOffset;else for(Pt=ye.offsetLeft,zn=ye.offsetTop+ye.offsetHeight;ye=ye.offsetParent;)Pt+=ye.offsetLeft,zn+=ye.offsetTop;(this._o.reposition&&Pt+gt>Xt||this._o.position.indexOf("right")>-1&&Pt-gt+Te.offsetWidth>0)&&(Pt=Pt-gt+Te.offsetWidth,dr=!1),(this._o.reposition&&zn+Et>an+kn||this._o.position.indexOf("top")>-1&&zn-Et-Te.offsetHeight>0)&&(zn=zn-Et-Te.offsetHeight,$n=!1),this.el.style.left=Pt+"px",this.el.style.top=zn+"px",te(this.el,dr?"left-aligned":"right-aligned"),te(this.el,$n?"bottom-aligned":"top-aligned"),se(this.el,dr?"right-aligned":"left-aligned"),se(this.el,$n?"top-aligned":"bottom-aligned")}},render:function(Te,ye,gt){var Et=this._o,Xt=new Date,an=we(Te,ye),kn=new Date(Te,ye,1).getDay(),Pt=[],zn=[];Fe(Xt),Et.firstDay>0&&(kn-=Et.firstDay)<0&&(kn+=7);for(var vr=0===ye?11:ye-1,dr=11===ye?0:ye+1,$n=0===ye?Te-1:Te,Ur=11===ye?Te+1:Te,vn=we($n,vr),Qt=an+kn,ci=Qt;ci>7;)ci-=7;Qt+=7-ci;for(var ii=!1,li=0,Qr=0;li<Qt;li++){var zr=new Date(Te,ye,li-kn+1),xe=!!fe(this._d)&&Ae(zr,this._d),Pe=Ae(zr,Xt),nt=-1!==Et.events.indexOf(zr.toDateString()),Ct=li<kn||li>=an+kn,it=li-kn+1,Ot=ye,St=Te,pt=Et.startRange&&Ae(Et.startRange,zr),et=Et.endRange&&Ae(Et.endRange,zr),Ze=Et.startRange&&Et.endRange&&Et.startRange<zr&&zr<Et.endRange,ht=Et.minDate&&zr<Et.minDate||Et.maxDate&&zr>Et.maxDate||Et.disableWeekends&&K(zr)||Et.disableDayFn&&Et.disableDayFn(zr);Ct&&(li<kn?(it=vn+it,Ot=vr,St=$n):(it-=an,Ot=dr,St=Ur)),Et.pickWholeWeek&&xe&&(ii=!0),zn.push(ct({day:it,month:Ot,year:St,hasEvent:nt,isSelected:xe,isToday:Pe,isDisabled:ht,isEmpty:Ct,isStartRange:pt,isEndRange:et,isInRange:Ze,showDaysInNextAndPreviousMonths:Et.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:Et.enableSelectionDaysInNextAndPreviousMonths})),7==++Qr&&(Et.showWeekNumber&&zn.unshift(dt(li-kn,ye,Te,Et.firstWeekOfYearMinDays)),Pt.push(kt(zn,Et.isRTL,Et.pickWholeWeek,ii)),zn=[],Qr=0,ii=!1)}return Ut(Et,Pt,gt)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),se(this.el,"is-hidden"),this._o.bound&&(I(E,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var Te=this._v;!1!==Te&&(this._o.bound&&N(E,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),te(this.el,"is-hidden"),this._v=!1,void 0!==Te&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var Te=this._o;this.hide(),N(this.el,"mousedown",this._onMouseDown,!0),N(this.el,"touchend",this._onMouseDown,!0),N(this.el,"change",this._onChange),Te.keyboardInput&&N(E,"keydown",this._onKeyChange),Te.field&&(N(Te.field,"change",this._onInputChange),Te.bound&&(N(Te.trigger,"click",this._onInputClick),N(Te.trigger,"focus",this._onInputFocus),N(Te.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},sn}(R)}()},3770:Z=>{window,Z.exports=function(ae){var b={};function O(S){if(b[S])return b[S].exports;var R=b[S]={i:S,l:!1,exports:{}};return ae[S].call(R.exports,R,R.exports,O),R.l=!0,R.exports}return O.m=ae,O.c=b,O.d=function(S,R,E){O.o(S,R)||Object.defineProperty(S,R,{enumerable:!0,get:E})},O.r=function(S){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},O.t=function(S,R){if(1&R&&(S=O(S)),8&R||4&R&&"object"==typeof S&&S&&S.__esModule)return S;var E=Object.create(null);if(O.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:S}),2&R&&"string"!=typeof S)for(var A in S)O.d(E,A,function(I){return S[I]}.bind(null,A));return E},O.n=function(S){var R=S&&S.__esModule?function(){return S.default}:function(){return S};return O.d(R,"a",R),R},O.o=function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},O.p="",O(O.s=0)}({"./src/index.js":function(ae,b,O){"use strict";O.r(b),O("./src/sass/index.scss");var A=O("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=A),b.default=A},"./src/js/browser.js":function(ae,b,O){"use strict";O.r(b);var S={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!S.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};b.default=S},"./src/js/functions.js":function(ae,b,O){"use strict";O.r(b),O.d(b,"addWrapper",function(){return A}),O.d(b,"capitalizePrint",function(){return I}),O.d(b,"collectStyles",function(){return N}),O.d(b,"addHeader",function(){return $}),O.d(b,"cleanUp",function(){return te}),O.d(b,"isRawHTML",function(){return se});var S=O("./src/js/modal.js"),R=O("./src/js/browser.js");function E(oe){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(oe)}function A(oe,fe){return'<div style="font-family:'+fe.font+" !important; font-size: "+fe.font_size+' !important; width:100%;">'+oe+"</div>"}function I(oe){return oe.charAt(0).toUpperCase()+oe.slice(1)}function N(oe,fe){for(var ce="",we=(document.defaultView||window).getComputedStyle(oe,""),Fe=0;Fe<we.length;Fe++)(-1!==fe.targetStyles.indexOf("*")||-1!==fe.targetStyle.indexOf(we[Fe])||W(fe.targetStyles,we[Fe]))&&we.getPropertyValue(we[Fe])&&(ce+=we[Fe]+":"+we.getPropertyValue(we[Fe])+";");return ce+"max-width: "+fe.maxWidth+"px !important; font-size: "+fe.font_size+" !important;"}function W(oe,fe){for(var K=0;K<oe.length;K++)if("object"===E(fe)&&-1!==fe.indexOf(oe[K]))return!0;return!1}function $(oe,fe){var K=document.createElement("div");if(se(fe.header))K.innerHTML=fe.header;else{var ce=document.createElement("h1"),we=document.createTextNode(fe.header);ce.appendChild(we),ce.setAttribute("style",fe.headerStyle),K.appendChild(ce)}oe.insertBefore(K,oe.childNodes[0])}function te(oe){oe.showModal&&S.default.close(),oe.onLoadingEnd&&oe.onLoadingEnd(),(oe.showModal||oe.onLoadingStart)&&window.URL.revokeObjectURL(oe.printable);var fe="mouseover";(R.default.isChrome()||R.default.isFirefox())&&(fe="focus");window.addEventListener(fe,function ce(){window.removeEventListener(fe,ce),oe.onPrintDialogClose();var we=document.getElementById(oe.frameId);we&&we.remove()})}function se(oe){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(oe)}},"./src/js/html.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/functions.js"),R=O("./src/js/print.js");function E(N){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(N)}function A(N,W){for(var $=N.cloneNode(),te=Array.prototype.slice.call(N.childNodes),se=0;se<te.length;se++)if(-1===W.ignoreElements.indexOf(te[se].id)){var oe=A(te[se],W);$.appendChild(oe)}switch(W.scanStyles&&1===N.nodeType&&$.setAttribute("style",Object(S.collectStyles)(N,W)),N.tagName){case"SELECT":$.value=N.value;break;case"CANVAS":$.getContext("2d").drawImage(N,0,0)}return $}b.default={print:function(W,$){var te=function I(N){return"object"===E(N)&&N&&(N instanceof HTMLElement||1===N.nodeType)}(W.printable)?W.printable:document.getElementById(W.printable);te?(W.printableElement=A(te,W),W.header&&Object(S.addHeader)(W.printableElement,W),R.default.send(W,$)):window.console.error("Invalid HTML element id: "+W.printable)}}},"./src/js/image.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/functions.js"),R=O("./src/js/print.js"),E=O("./src/js/browser.js");b.default={print:function(I,N){I.printable.constructor!==Array&&(I.printable=[I.printable]),I.printableElement=document.createElement("div"),I.printable.forEach(function(W){var $=document.createElement("img");$.setAttribute("style",I.imageStyle),$.src=W,E.default.isFirefox()&&($.src=$.src);var se=document.createElement("div");se.appendChild($),I.printableElement.appendChild(se)}),I.header&&Object(S.addHeader)(I.printableElement,I),R.default.send(I,N)}}},"./src/js/init.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/browser.js"),R=O("./src/js/modal.js"),E=O("./src/js/pdf.js"),A=O("./src/js/html.js"),I=O("./src/js/raw-html.js"),N=O("./src/js/image.js"),W=O("./src/js/json.js");function $(se){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(se)}var te=["pdf","html","image","json","raw-html"];b.default={init:function(){var oe={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(Ve){throw Ve},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},fe=arguments[0];if(void 0===fe)throw new Error("printJS expects at least 1 attribute.");switch($(fe)){case"string":oe.printable=encodeURI(fe),oe.fallbackPrintable=oe.printable,oe.type=arguments[1]||oe.type;break;case"object":for(var K in oe.printable=fe.printable,oe.fallbackPrintable=void 0!==fe.fallbackPrintable?fe.fallbackPrintable:oe.printable,oe.fallbackPrintable=oe.base64?"data:application/pdf;base64,".concat(oe.fallbackPrintable):oe.fallbackPrintable,oe)"printable"===K||"fallbackPrintable"===K||(oe[K]=void 0!==fe[K]?fe[K]:oe[K]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+$(fe))}if(!oe.printable)throw new Error("Missing printable information.");if(!oe.type||"string"!=typeof oe.type||-1===te.indexOf(oe.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");oe.showModal&&R.default.show(oe),oe.onLoadingStart&&oe.onLoadingStart();var ce=document.getElementById(oe.frameId);ce&&ce.parentNode.removeChild(ce);var we=document.createElement("iframe");switch(S.default.isFirefox()?we.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):we.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),we.setAttribute("id",oe.frameId),"pdf"!==oe.type&&(we.srcdoc="<html><head><title>"+oe.documentTitle+"</title>",oe.css&&(Array.isArray(oe.css)||(oe.css=[oe.css]),oe.css.forEach(function(Ae){we.srcdoc+='<link rel="stylesheet" href="'+Ae+'">'})),we.srcdoc+="</head><body></body></html>"),oe.type){case"pdf":if(S.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(oe.fallbackPrintable,"_blank").focus(),oe.onIncompatibleBrowser()}catch(Ae){oe.onError(Ae)}finally{oe.showModal&&R.default.close(),oe.onLoadingEnd&&oe.onLoadingEnd()}else E.default.print(oe,we);break;case"image":N.default.print(oe,we);break;case"html":A.default.print(oe,we);break;case"raw-html":I.default.print(oe,we);break;case"json":W.default.print(oe,we)}}}},"./src/js/json.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/functions.js"),R=O("./src/js/print.js");function E(I){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(I)}b.default={print:function(N,W){if("object"!==E(N.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof N.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!N.properties||!Array.isArray(N.properties))throw new Error("Invalid properties array for your JSON data.");N.properties=N.properties.map(function($){return{field:"object"===E($)?$.field:$,displayName:"object"===E($)?$.displayName:$,columnSize:"object"===E($)&&$.columnSize?$.columnSize+";":100/N.properties.length+"%;"}}),N.printableElement=document.createElement("div"),N.header&&Object(S.addHeader)(N.printableElement,N),N.printableElement.innerHTML+=function A(I){var N=I.printable,W=I.properties,$='<table style="border-collapse: collapse; width: 100%;">';I.repeatTableHeader&&($+="<thead>"),$+="<tr>";for(var te=0;te<W.length;te++)$+='<th style="width:'+W[te].columnSize+";"+I.gridHeaderStyle+'">'+Object(S.capitalizePrint)(W[te].displayName)+"</th>";$+="</tr>",I.repeatTableHeader&&($+="</thead>"),$+="<tbody>";for(var se=0;se<N.length;se++){$+="<tr>";for(var oe=0;oe<W.length;oe++){var fe=N[se],K=W[oe].field.split(".");if(K.length>1)for(var ce=0;ce<K.length;ce++)fe=fe[K[ce]];else fe=fe[W[oe].field];$+='<td style="width:'+W[oe].columnSize+I.gridStyle+'">'+fe+"</td>"}$+="</tr>"}return $+"</tbody></table>"}(N),R.default.send(N,W)}}},"./src/js/modal.js":function(ae,b,O){"use strict";O.r(b);var S={show:function(E){var I=document.createElement("div");I.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),I.setAttribute("id","printJS-Modal");var N=document.createElement("div");N.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var W=document.createElement("div");W.setAttribute("class","printClose"),W.setAttribute("id","printClose"),N.appendChild(W);var $=document.createElement("span");$.setAttribute("class","printSpinner"),N.appendChild($);var te=document.createTextNode(E.modalMessage);N.appendChild(te),I.appendChild(N),document.getElementsByTagName("body")[0].appendChild(I),document.getElementById("printClose").addEventListener("click",function(){S.close()})},close:function(){var E=document.getElementById("printJS-Modal");E&&E.parentNode.removeChild(E)}};b.default=S},"./src/js/pdf.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/print.js"),R=O("./src/js/functions.js");function E(A,I,N){var W=new window.Blob([N],{type:"application/pdf"});W=window.URL.createObjectURL(W),I.setAttribute("src",W),S.default.send(A,I)}b.default={print:function(I,N){if(I.base64){var W=Uint8Array.from(atob(I.printable),function(te){return te.charCodeAt(0)});E(I,N,W)}else{I.printable=/^(blob|http|\/\/)/i.test(I.printable)?I.printable:window.location.origin+("/"!==I.printable.charAt(0)?"/"+I.printable:I.printable);var $=new window.XMLHttpRequest;$.responseType="arraybuffer",$.addEventListener("error",function(){Object(R.cleanUp)(I),I.onError($.statusText,$)}),$.addEventListener("load",function(){if(-1===[200,201].indexOf($.status))return Object(R.cleanUp)(I),void I.onError($.statusText,$);E(I,N,$.response)}),$.open("GET",I.printable,!0),$.send()}}}},"./src/js/print.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/browser.js"),R=O("./src/js/functions.js");function A(W,$){try{if(W.focus(),S.default.isEdge()||S.default.isIE())try{W.contentWindow.document.execCommand("print",!1,null)}catch(te){W.contentWindow.print()}else W.contentWindow.print()}catch(te){$.onError(te)}finally{S.default.isFirefox()&&(W.style.visibility="hidden",W.style.left="-1px"),Object(R.cleanUp)($)}}function I(W){var $=W.map(function(te){if(te.src&&te.src!==window.location.href)return function N(W){return new Promise(function($){!function se(){W&&void 0!==W.naturalWidth&&0!==W.naturalWidth&&W.complete?$():setTimeout(se,500)}()})}(te)});return Promise.all($)}b.default={send:function($,te){document.getElementsByTagName("body")[0].appendChild(te);var se=document.getElementById($.frameId);se.onload=function(){if("pdf"!==$.type){var oe=se.contentWindow||se.contentDocument;if(oe.document&&(oe=oe.document),oe.body.appendChild($.printableElement),"pdf"!==$.type&&$.style){var fe=document.createElement("style");fe.innerHTML=$.style,oe.head.appendChild(fe)}var K=oe.getElementsByTagName("img");K.length>0?I(Array.from(K)).then(function(){return A(se,$)}):A(se,$)}else S.default.isFirefox()?setTimeout(function(){return A(se,$)},1e3):A(se,$)}}}},"./src/js/raw-html.js":function(ae,b,O){"use strict";O.r(b);var S=O("./src/js/print.js");b.default={print:function(E,A){E.printableElement=document.createElement("div"),E.printableElement.setAttribute("style","width:100%"),E.printableElement.innerHTML=E.printable,S.default.send(E,A)}}},"./src/sass/index.scss":function(ae,b,O){},0:function(ae,b,O){ae.exports=O("./src/index.js")}}).default},6700:(Z,ae,b)=>{var O={"./af":8685,"./af.js":8685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":2614,"./ar-kw.js":2614,"./ar-ly":8630,"./ar-ly.js":8630,"./ar-ma":8674,"./ar-ma.js":8674,"./ar-sa":9032,"./ar-sa.js":9032,"./ar-tn":4730,"./ar-tn.js":4730,"./ar.js":254,"./az":3052,"./az.js":3052,"./be":150,"./be.js":150,"./bg":3069,"./bg.js":3069,"./bm":3466,"./bm.js":3466,"./bn":8516,"./bn-bd":557,"./bn-bd.js":557,"./bn.js":8516,"./bo":6273,"./bo.js":6273,"./br":9588,"./br.js":9588,"./bs":9815,"./bs.js":9815,"./ca":3331,"./ca.js":3331,"./cs":1320,"./cs.js":1320,"./cv":2219,"./cv.js":2219,"./cy":8266,"./cy.js":8266,"./da":6427,"./da.js":6427,"./de":7435,"./de-at":2871,"./de-at.js":2871,"./de-ch":2994,"./de-ch.js":2994,"./de.js":7435,"./dv":2357,"./dv.js":2357,"./el":5649,"./el.js":5649,"./en-au":9961,"./en-au.js":9961,"./en-ca":9878,"./en-ca.js":9878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":864,"./en-ie.js":864,"./en-il":1579,"./en-il.js":1579,"./en-in":940,"./en-in.js":940,"./en-nz":6181,"./en-nz.js":6181,"./en-sg":4301,"./en-sg.js":4301,"./eo":5291,"./eo.js":5291,"./es":4529,"./es-do":3764,"./es-do.js":3764,"./es-mx":2584,"./es-mx.js":2584,"./es-us":3425,"./es-us.js":3425,"./es.js":4529,"./et":5203,"./et.js":5203,"./eu":678,"./eu.js":678,"./fa":3483,"./fa.js":3483,"./fi":6262,"./fi.js":6262,"./fil":2521,"./fil.js":2521,"./fo":9486,"./fo.js":9486,"./fr":3131,"./fr-ca":8239,"./fr-ca.js":8239,"./fr-ch":1702,"./fr-ch.js":1702,"./fr.js":3131,"./fy":267,"./fy.js":267,"./ga":3821,"./ga.js":3821,"./gd":1753,"./gd.js":1753,"./gl":4074,"./gl.js":4074,"./gom-deva":2762,"./gom-deva.js":2762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":2809,"./gu.js":2809,"./he":5402,"./he.js":5402,"./hi":315,"./hi.js":315,"./hr":410,"./hr.js":410,"./hu":8288,"./hu.js":8288,"./hy-am":7928,"./hy-am.js":7928,"./id":1647,"./id.js":1647,"./is":6959,"./is.js":6959,"./it":4864,"./it-ch":1124,"./it-ch.js":1124,"./it.js":4864,"./ja":6141,"./ja.js":6141,"./jv":9187,"./jv.js":9187,"./ka":2136,"./ka.js":2136,"./kk":4332,"./kk.js":4332,"./km":8607,"./km.js":8607,"./kn":4305,"./kn.js":4305,"./ko":234,"./ko.js":234,"./ku":6003,"./ku.js":6003,"./ky":5061,"./ky.js":5061,"./lb":2786,"./lb.js":2786,"./lo":6183,"./lo.js":6183,"./lt":29,"./lt.js":29,"./lv":4169,"./lv.js":4169,"./me":8577,"./me.js":8577,"./mi":8177,"./mi.js":8177,"./mk":7039,"./mk.js":7039,"./ml":5260,"./ml.js":5260,"./mn":9428,"./mn.js":9428,"./mr":4695,"./mr.js":4695,"./ms":5334,"./ms-my":7151,"./ms-my.js":7151,"./ms.js":5334,"./mt":3570,"./mt.js":3570,"./my":7963,"./my.js":7963,"./nb":8028,"./nb.js":8028,"./ne":6638,"./ne.js":6638,"./nl":302,"./nl-be":6782,"./nl-be.js":6782,"./nl.js":302,"./nn":3501,"./nn.js":3501,"./oc-lnc":563,"./oc-lnc.js":563,"./pa-in":869,"./pa-in.js":869,"./pl":5302,"./pl.js":5302,"./pt":9687,"./pt-br":4884,"./pt-br.js":4884,"./pt.js":9687,"./ro":9107,"./ro.js":9107,"./ru":3627,"./ru.js":3627,"./sd":355,"./sd.js":355,"./se":3427,"./se.js":3427,"./si":1848,"./si.js":1848,"./sk":4590,"./sk.js":4590,"./sl":184,"./sl.js":184,"./sq":6361,"./sq.js":6361,"./sr":8965,"./sr-cyrl":1287,"./sr-cyrl.js":1287,"./sr.js":8965,"./ss":5456,"./ss.js":5456,"./sv":451,"./sv.js":451,"./sw":7558,"./sw.js":7558,"./ta":1356,"./ta.js":1356,"./te":3693,"./te.js":3693,"./tet":1243,"./tet.js":1243,"./tg":2500,"./tg.js":2500,"./th":5768,"./th.js":5768,"./tk":623,"./tk.js":623,"./tl-ph":5780,"./tl-ph.js":5780,"./tlh":9590,"./tlh.js":9590,"./tr":3807,"./tr.js":3807,"./tzl":3857,"./tzl.js":3857,"./tzm":654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":654,"./ug-cn":845,"./ug-cn.js":845,"./uk":9232,"./uk.js":9232,"./ur":7052,"./ur.js":7052,"./uz":7967,"./uz-latn":2233,"./uz-latn.js":2233,"./uz.js":7967,"./vi":8615,"./vi.js":8615,"./x-pseudo":2320,"./x-pseudo.js":2320,"./yo":1313,"./yo.js":1313,"./zh-cn":4490,"./zh-cn.js":4490,"./zh-hk":5910,"./zh-hk.js":5910,"./zh-mo":8262,"./zh-mo.js":8262,"./zh-tw":4223,"./zh-tw.js":4223};function S(E){var A=R(E);return b(A)}function R(E){if(!b.o(O,E)){var A=new Error("Cannot find module '"+E+"'");throw A.code="MODULE_NOT_FOUND",A}return O[E]}S.keys=function(){return Object.keys(O)},S.resolve=R,Z.exports=S,S.id=6700},6022:(Z,ae,b)=>{"use strict";var O=b(337),S=b(8393),R=TypeError;Z.exports=function(E){if(O(E))return E;throw new R(S(E)+" is not a function")}},9938:(Z,ae,b)=>{"use strict";var O=b(2623),S=b(8393),R=TypeError;Z.exports=function(E){if(O(E))return E;throw new R(S(E)+" is not a constructor")}},1610:(Z,ae,b)=>{"use strict";var O=b(4221),S=String,R=TypeError;Z.exports=function(E){if(O(E))return E;throw new R("Can't set "+S(E)+" as a prototype")}},2822:(Z,ae,b)=>{"use strict";var O=b(8713),S=b(5798),R=b(5909).f,E=O("unscopables"),A=Array.prototype;void 0===A[E]&&R(A,E,{configurable:!0,value:S(null)}),Z.exports=function(I){A[E][I]=!0}},8431:(Z,ae,b)=>{"use strict";var O=b(2266).charAt;Z.exports=function(S,R,E){return R+(E?O(S,R).length:1)}},9899:(Z,ae,b)=>{"use strict";var O=b(9807),S=TypeError;Z.exports=function(R,E){if(O(E,R))return R;throw new S("Incorrect invocation")}},858:(Z,ae,b)=>{"use strict";var O=b(6833),S=String,R=TypeError;Z.exports=function(E){if(O(E))return E;throw new R(S(E)+" is not an object")}},7239:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=O(function(){if("function"==typeof ArrayBuffer){var S=new ArrayBuffer(8);Object.isExtensible(S)&&Object.defineProperty(S,"a",{value:8})}})},431:(Z,ae,b)=>{"use strict";var O=b(8274),S=b(9090),R=b(83);Z.exports=function(A){for(var I=O(this),N=R(I),W=arguments.length,$=S(W>1?arguments[1]:void 0,N),te=W>2?arguments[2]:void 0,se=void 0===te?N:S(te,N);se>$;)I[$++]=A;return I}},8370:(Z,ae,b)=>{"use strict";var O=b(482).forEach,R=b(7483)("forEach");Z.exports=R?[].forEach:function(A){return O(this,A,arguments.length>1?arguments[1]:void 0)}},2649:(Z,ae,b)=>{"use strict";var O=b(7761),S=b(1935),R=b(8274),E=b(8046),A=b(4047),I=b(2623),N=b(83),W=b(2894),$=b(2632),te=b(6628),se=Array;Z.exports=function(fe){var K=R(fe),ce=I(this),we=arguments.length,Fe=we>1?arguments[1]:void 0,Ae=void 0!==Fe;Ae&&(Fe=O(Fe,we>2?arguments[2]:void 0));var qe,Ne,Ke,ct,st,dt,Ve=te(K),Qe=0;if(!Ve||this===se&&A(Ve))for(qe=N(K),Ne=ce?new this(qe):se(qe);qe>Qe;Qe++)dt=Ae?Fe(K[Qe],Qe):K[Qe],W(Ne,Qe,dt);else for(Ne=ce?new this:[],st=(ct=$(K,Ve)).next;!(Ke=S(st,ct)).done;Qe++)dt=Ae?E(ct,Fe,[Ke.value,Qe],!0):Ke.value,W(Ne,Qe,dt);return Ne.length=Qe,Ne}},9639:(Z,ae,b)=>{"use strict";var O=b(6050),S=b(9090),R=b(83),E=function(A){return function(I,N,W){var $=O(I),te=R($);if(0===te)return!A&&-1;var oe,se=S(W,te);if(A&&N!=N){for(;te>se;)if((oe=$[se++])!=oe)return!0}else for(;te>se;se++)if((A||se in $)&&$[se]===N)return A||se||0;return!A&&-1}};Z.exports={includes:E(!0),indexOf:E(!1)}},482:(Z,ae,b)=>{"use strict";var O=b(7761),S=b(4450),R=b(4555),E=b(8274),A=b(83),I=b(6100),N=S([].push),W=function($){var te=1===$,se=2===$,oe=3===$,fe=4===$,K=6===$,ce=7===$,we=5===$||K;return function(Fe,Ae,Ve,Qe){for(var It,At,qe=E(Fe),Ne=R(qe),Ke=A(Ne),ct=O(Ae,Ve),st=0,dt=Qe||I,kt=te?dt(Fe,Ke):se||ce?dt(Fe,0):void 0;Ke>st;st++)if((we||st in Ne)&&(At=ct(It=Ne[st],st,qe),$))if(te)kt[st]=At;else if(At)switch($){case 3:return!0;case 5:return It;case 6:return st;case 2:N(kt,It)}else switch($){case 4:return!1;case 7:N(kt,It)}return K?-1:oe||fe?fe:kt}};Z.exports={forEach:W(0),map:W(1),filter:W(2),some:W(3),every:W(4),find:W(5),findIndex:W(6),filterReject:W(7)}},2693:(Z,ae,b)=>{"use strict";var O=b(9769),S=b(6050),R=b(2268),E=b(83),A=b(7483),I=Math.min,N=[].lastIndexOf,W=!!N&&1/[1].lastIndexOf(1,-0)<0,$=A("lastIndexOf");Z.exports=W||!$?function(oe){if(W)return O(N,this,arguments)||0;var fe=S(this),K=E(fe);if(0===K)return-1;var ce=K-1;for(arguments.length>1&&(ce=I(ce,R(arguments[1]))),ce<0&&(ce=K+ce);ce>=0;ce--)if(ce in fe&&fe[ce]===oe)return ce||0;return-1}:N},7885:(Z,ae,b)=>{"use strict";var O=b(2325),S=b(8713),R=b(5521),E=S("species");Z.exports=function(A){return R>=51||!O(function(){var I=[];return(I.constructor={})[E]=function(){return{foo:1}},1!==I[A](Boolean).foo})}},7483:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=function(S,R){var E=[][S];return!!E&&O(function(){E.call(null,R||function(){return 1},1)})}},522:(Z,ae,b)=>{"use strict";var O=b(6022),S=b(8274),R=b(4555),E=b(83),A=TypeError,I="Reduce of empty array with no initial value",N=function(W){return function($,te,se,oe){var fe=S($),K=R(fe),ce=E(fe);if(O(te),0===ce&&se<2)throw new A(I);var we=W?ce-1:0,Fe=W?-1:1;if(se<2)for(;;){if(we in K){oe=K[we],we+=Fe;break}if(we+=Fe,W?we<0:ce<=we)throw new A(I)}for(;W?we>=0:ce>we;we+=Fe)we in K&&(oe=te(oe,K[we],we,fe));return oe}};Z.exports={left:N(!1),right:N(!0)}},2672:(Z,ae,b)=>{"use strict";var O=b(740),S=b(8745),R=TypeError,E=Object.getOwnPropertyDescriptor,A=O&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(I){return I instanceof TypeError}}();Z.exports=A?function(I,N){if(S(I)&&!E(I,"length").writable)throw new R("Cannot set read only .length");return I.length=N}:function(I,N){return I.length=N}},7031:(Z,ae,b)=>{"use strict";var O=b(4450);Z.exports=O([].slice)},4714:(Z,ae,b)=>{"use strict";var O=b(7031),S=Math.floor,R=function(E,A){var I=E.length;if(I<8)for(var W,$,N=1;N<I;){for($=N,W=E[N];$&&A(E[$-1],W)>0;)E[$]=E[--$];$!==N++&&(E[$]=W)}else for(var te=S(I/2),se=R(O(E,0,te),A),oe=R(O(E,te),A),fe=se.length,K=oe.length,ce=0,we=0;ce<fe||we<K;)E[ce+we]=ce<fe&&we<K?A(se[ce],oe[we])<=0?se[ce++]:oe[we++]:ce<fe?se[ce++]:oe[we++];return E};Z.exports=R},8021:(Z,ae,b)=>{"use strict";var O=b(8745),S=b(2623),R=b(6833),A=b(8713)("species"),I=Array;Z.exports=function(N){var W;return O(N)&&(S(W=N.constructor)&&(W===I||O(W.prototype))||R(W)&&null===(W=W[A]))&&(W=void 0),void 0===W?I:W}},6100:(Z,ae,b)=>{"use strict";var O=b(8021);Z.exports=function(S,R){return new(O(S))(0===R?0:R)}},8046:(Z,ae,b)=>{"use strict";var O=b(858),S=b(1031);Z.exports=function(R,E,A,I){try{return I?E(O(A)[0],A[1]):E(A)}catch(N){S(R,"throw",N)}}},7154:(Z,ae,b)=>{"use strict";var S=b(8713)("iterator"),R=!1;try{var E=0,A={next:function(){return{done:!!E++}},return:function(){R=!0}};A[S]=function(){return this},Array.from(A,function(){throw 2})}catch(I){}Z.exports=function(I,N){try{if(!N&&!R)return!1}catch(te){return!1}var W=!1;try{var $={};$[S]=function(){return{next:function(){return{done:W=!0}}}},I($)}catch(te){}return W}},4705:(Z,ae,b)=>{"use strict";var O=b(4450),S=O({}.toString),R=O("".slice);Z.exports=function(E){return R(S(E),8,-1)}},5587:(Z,ae,b)=>{"use strict";var O=b(6760),S=b(337),R=b(4705),A=b(8713)("toStringTag"),I=Object,N="Arguments"===R(function(){return arguments}());Z.exports=O?R:function($){var te,se,oe;return void 0===$?"Undefined":null===$?"Null":"string"==typeof(se=function($,te){try{return $[te]}catch(se){}}(te=I($),A))?se:N?R(te):"Object"===(oe=R(te))&&S(te.callee)?"Arguments":oe}},2782:(Z,ae,b)=>{"use strict";var O=b(5798),S=b(5345),R=b(1719),E=b(7761),A=b(9899),I=b(6710),N=b(308),W=b(321),$=b(72),te=b(6501),se=b(740),oe=b(6438).fastKey,fe=b(2267),K=fe.set,ce=fe.getterFor;Z.exports={getConstructor:function(we,Fe,Ae,Ve){var Qe=we(function(st,dt){A(st,qe),K(st,{type:Fe,index:O(null),first:void 0,last:void 0,size:0}),se||(st.size=0),I(dt)||N(dt,st[Ve],{that:st,AS_ENTRIES:Ae})}),qe=Qe.prototype,Ne=ce(Fe),Ke=function(st,dt,kt){var Bt,Ut,It=Ne(st),At=ct(st,dt);return At?At.value=kt:(It.last=At={index:Ut=oe(dt,!0),key:dt,value:kt,previous:Bt=It.last,next:void 0,removed:!1},It.first||(It.first=At),Bt&&(Bt.next=At),se?It.size++:st.size++,"F"!==Ut&&(It.index[Ut]=At)),st},ct=function(st,dt){var At,kt=Ne(st),It=oe(dt);if("F"!==It)return kt.index[It];for(At=kt.first;At;At=At.next)if(At.key===dt)return At};return R(qe,{clear:function(){for(var kt=Ne(this),It=kt.first;It;)It.removed=!0,It.previous&&(It.previous=It.previous.next=void 0),It=It.next;kt.first=kt.last=void 0,kt.index=O(null),se?kt.size=0:this.size=0},delete:function(st){var kt=Ne(this),It=ct(this,st);if(It){var At=It.next,Bt=It.previous;delete kt.index[It.index],It.removed=!0,Bt&&(Bt.next=At),At&&(At.previous=Bt),kt.first===It&&(kt.first=At),kt.last===It&&(kt.last=Bt),se?kt.size--:this.size--}return!!It},forEach:function(dt){for(var At,kt=Ne(this),It=E(dt,arguments.length>1?arguments[1]:void 0);At=At?At.next:kt.first;)for(It(At.value,At.key,this);At&&At.removed;)At=At.previous},has:function(dt){return!!ct(this,dt)}}),R(qe,Ae?{get:function(dt){var kt=ct(this,dt);return kt&&kt.value},set:function(dt,kt){return Ke(this,0===dt?0:dt,kt)}}:{add:function(dt){return Ke(this,dt=0===dt?0:dt,dt)}}),se&&S(qe,"size",{configurable:!0,get:function(){return Ne(this).size}}),Qe},setStrong:function(we,Fe,Ae){var Ve=Fe+" Iterator",Qe=ce(Fe),qe=ce(Ve);W(we,Fe,function(Ne,Ke){K(this,{type:Ve,target:Ne,state:Qe(Ne),kind:Ke,last:void 0})},function(){for(var Ne=qe(this),Ke=Ne.kind,ct=Ne.last;ct&&ct.removed;)ct=ct.previous;return Ne.target&&(Ne.last=ct=ct?ct.next:Ne.state.first)?$("keys"===Ke?ct.key:"values"===Ke?ct.value:[ct.key,ct.value],!1):(Ne.target=void 0,$(void 0,!0))},Ae?"entries":"values",!Ae,!0),te(Fe)}}},8298:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(1719),R=b(6438).getWeakData,E=b(9899),A=b(858),I=b(6710),N=b(6833),W=b(308),$=b(482),te=b(780),se=b(2267),oe=se.set,fe=se.getterFor,K=$.find,ce=$.findIndex,we=O([].splice),Fe=0,Ae=function(qe){return qe.frozen||(qe.frozen=new Ve)},Ve=function(){this.entries=[]},Qe=function(qe,Ne){return K(qe.entries,function(Ke){return Ke[0]===Ne})};Ve.prototype={get:function(qe){var Ne=Qe(this,qe);if(Ne)return Ne[1]},has:function(qe){return!!Qe(this,qe)},set:function(qe,Ne){var Ke=Qe(this,qe);Ke?Ke[1]=Ne:this.entries.push([qe,Ne])},delete:function(qe){var Ne=ce(this.entries,function(Ke){return Ke[0]===qe});return~Ne&&we(this.entries,Ne,1),!!~Ne}},Z.exports={getConstructor:function(qe,Ne,Ke,ct){var st=qe(function(At,Bt){E(At,dt),oe(At,{type:Ne,id:Fe++,frozen:void 0}),I(Bt)||W(Bt,At[ct],{that:At,AS_ENTRIES:Ke})}),dt=st.prototype,kt=fe(Ne),It=function(At,Bt,Ut){var sn=kt(At),Te=R(A(Bt),!0);return!0===Te?Ae(sn).set(Bt,Ut):Te[sn.id]=Ut,At};return S(dt,{delete:function(At){var Bt=kt(this);if(!N(At))return!1;var Ut=R(At);return!0===Ut?Ae(Bt).delete(At):Ut&&te(Ut,Bt.id)&&delete Ut[Bt.id]},has:function(Bt){var Ut=kt(this);if(!N(Bt))return!1;var sn=R(Bt);return!0===sn?Ae(Ut).has(Bt):sn&&te(sn,Ut.id)}}),S(dt,Ke?{get:function(Bt){var Ut=kt(this);if(N(Bt)){var sn=R(Bt);return!0===sn?Ae(Ut).get(Bt):sn?sn[Ut.id]:void 0}},set:function(Bt,Ut){return It(this,Bt,Ut)}}:{add:function(Bt){return It(this,Bt,!0)}}),st}}},2848:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),R=b(4450),E=b(9814),A=b(5548),I=b(6438),N=b(308),W=b(9899),$=b(337),te=b(6710),se=b(6833),oe=b(2325),fe=b(7154),K=b(2801),ce=b(9051);Z.exports=function(we,Fe,Ae){var Ve=-1!==we.indexOf("Map"),Qe=-1!==we.indexOf("Weak"),qe=Ve?"set":"add",Ne=S[we],Ke=Ne&&Ne.prototype,ct=Ne,st={},dt=function(Te){var ye=R(Ke[Te]);A(Ke,Te,"add"===Te?function(Et){return ye(this,0===Et?0:Et),this}:"delete"===Te?function(gt){return!(Qe&&!se(gt))&&ye(this,0===gt?0:gt)}:"get"===Te?function(Et){return Qe&&!se(Et)?void 0:ye(this,0===Et?0:Et)}:"has"===Te?function(Et){return!(Qe&&!se(Et))&&ye(this,0===Et?0:Et)}:function(Et,Xt){return ye(this,0===Et?0:Et,Xt),this})};if(E(we,!$(Ne)||!(Qe||Ke.forEach&&!oe(function(){(new Ne).entries().next()}))))ct=Ae.getConstructor(Fe,we,Ve,qe),I.enable();else if(E(we,!0)){var It=new ct,At=It[qe](Qe?{}:-0,1)!==It,Bt=oe(function(){It.has(1)}),Ut=fe(function(Te){new Ne(Te)}),sn=!Qe&&oe(function(){for(var Te=new Ne,ye=5;ye--;)Te[qe](ye,ye);return!Te.has(-0)});Ut||((ct=Fe(function(Te,ye){W(Te,Ke);var gt=ce(new Ne,Te,ct);return te(ye)||N(ye,gt[qe],{that:gt,AS_ENTRIES:Ve}),gt})).prototype=Ke,Ke.constructor=ct),(Bt||sn)&&(dt("delete"),dt("has"),Ve&&dt("get")),(sn||At)&&dt(qe),Qe&&Ke.clear&&delete Ke.clear}return st[we]=ct,O({global:!0,constructor:!0,forced:ct!==Ne},st),K(ct,we),Qe||Ae.setStrong(ct,we,Ve),ct}},7289:(Z,ae,b)=>{"use strict";var O=b(780),S=b(2244),R=b(1200),E=b(5909);Z.exports=function(A,I,N){for(var W=S(I),$=E.f,te=R.f,se=0;se<W.length;se++){var oe=W[se];!O(A,oe)&&(!N||!O(N,oe))&&$(A,oe,te(I,oe))}}},4886:(Z,ae,b)=>{"use strict";var S=b(8713)("match");Z.exports=function(R){var E=/./;try{"/./"[R](E)}catch(A){try{return E[S]=!1,"/./"[R](E)}catch(I){}}return!1}},6701:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=!O(function(){function S(){}return S.prototype.constructor=null,Object.getPrototypeOf(new S)!==S.prototype})},5899:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(5028),R=b(2839),E=/"/g,A=O("".replace);Z.exports=function(I,N,W,$){var te=R(S(I)),se="<"+N;return""!==W&&(se+=" "+W+'="'+A(R($),E,"&quot;")+'"'),se+">"+te+"</"+N+">"}},72:Z=>{"use strict";Z.exports=function(ae,b){return{value:ae,done:b}}},2257:(Z,ae,b)=>{"use strict";var O=b(740),S=b(5909),R=b(2016);Z.exports=O?function(E,A,I){return S.f(E,A,R(1,I))}:function(E,A,I){return E[A]=I,E}},2016:Z=>{"use strict";Z.exports=function(ae,b){return{enumerable:!(1&ae),configurable:!(2&ae),writable:!(4&ae),value:b}}},2894:(Z,ae,b)=>{"use strict";var O=b(740),S=b(5909),R=b(2016);Z.exports=function(E,A,I){O?S.f(E,A,R(0,I)):E[A]=I}},1334:(Z,ae,b)=>{"use strict";var O=b(858),S=b(2617),R=TypeError;Z.exports=function(E){if(O(this),"string"===E||"default"===E)E="string";else if("number"!==E)throw new R("Incorrect hint");return S(this,E)}},5345:(Z,ae,b)=>{"use strict";var O=b(6891),S=b(5909);Z.exports=function(R,E,A){return A.get&&O(A.get,E,{getter:!0}),A.set&&O(A.set,E,{setter:!0}),S.f(R,E,A)}},5548:(Z,ae,b)=>{"use strict";var O=b(337),S=b(5909),R=b(6891),E=b(189);Z.exports=function(A,I,N,W){W||(W={});var $=W.enumerable,te=void 0!==W.name?W.name:I;if(O(N)&&R(N,te,W),W.global)$?A[I]=N:E(I,N);else{try{W.unsafe?A[I]&&($=!0):delete A[I]}catch(se){}$?A[I]=N:S.f(A,I,{value:N,enumerable:!1,configurable:!W.nonConfigurable,writable:!W.nonWritable})}return A}},1719:(Z,ae,b)=>{"use strict";var O=b(5548);Z.exports=function(S,R,E){for(var A in R)O(S,A,R[A],E);return S}},189:(Z,ae,b)=>{"use strict";var O=b(6308),S=Object.defineProperty;Z.exports=function(R,E){try{S(O,R,{value:E,configurable:!0,writable:!0})}catch(A){O[R]=E}return E}},4219:(Z,ae,b)=>{"use strict";var O=b(8393),S=TypeError;Z.exports=function(R,E){if(!delete R[E])throw new S("Cannot delete property "+O(E)+" of "+O(R))}},740:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=!O(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3082:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(6833),R=O.document,E=S(R)&&S(R.createElement);Z.exports=function(A){return E?R.createElement(A):{}}},6397:Z=>{"use strict";var ae=TypeError;Z.exports=function(O){if(O>9007199254740991)throw ae("Maximum allowed index exceeded");return O}},4988:Z=>{"use strict";Z.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5677:(Z,ae,b)=>{"use strict";var S=b(3082)("span").classList,R=S&&S.constructor&&S.constructor.prototype;Z.exports=R===Object.prototype?void 0:R},1337:(Z,ae,b)=>{"use strict";var S=b(3519).match(/firefox\/(\d+)/i);Z.exports=!!S&&+S[1]},1486:Z=>{"use strict";Z.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},7941:(Z,ae,b)=>{"use strict";var O=b(3519);Z.exports=/MSIE|Trident/.test(O)},8711:(Z,ae,b)=>{"use strict";var O=b(3519);Z.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(O)},4373:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(4705);Z.exports="process"===S(O.process)},3519:Z=>{"use strict";Z.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},5521:(Z,ae,b)=>{"use strict";var N,W,O=b(6308),S=b(3519),R=O.process,E=O.Deno,A=R&&R.versions||E&&E.version,I=A&&A.v8;I&&(W=(N=I.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!W&&S&&(!(N=S.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=S.match(/Chrome\/(\d+)/))&&(W=+N[1]),Z.exports=W},5189:(Z,ae,b)=>{"use strict";var S=b(3519).match(/AppleWebKit\/(\d+)\./);Z.exports=!!S&&+S[1]},5142:Z=>{"use strict";Z.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3514:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(1200).f,R=b(2257),E=b(5548),A=b(189),I=b(7289),N=b(9814);Z.exports=function(W,$){var K,ce,we,Fe,Ae,te=W.target,se=W.global,oe=W.stat;if(K=se?O:oe?O[te]||A(te,{}):O[te]&&O[te].prototype)for(ce in $){if(Fe=$[ce],we=W.dontCallGetSet?(Ae=S(K,ce))&&Ae.value:K[ce],!N(se?ce:te+(oe?".":"#")+ce,W.forced)&&void 0!==we){if(typeof Fe==typeof we)continue;I(Fe,we)}(W.sham||we&&we.sham)&&R(Fe,"sham",!0),E(K,ce,Fe,W)}}},2325:Z=>{"use strict";Z.exports=function(ae){try{return!!ae()}catch(b){return!0}}},2916:(Z,ae,b)=>{"use strict";b(9065);var O=b(1935),S=b(5548),R=b(4408),E=b(2325),A=b(8713),I=b(2257),N=A("species"),W=RegExp.prototype;Z.exports=function($,te,se,oe){var fe=A($),K=!E(function(){var Ae={};return Ae[fe]=function(){return 7},7!==""[$](Ae)}),ce=K&&!E(function(){var Ae=!1,Ve=/a/;return"split"===$&&((Ve={}).constructor={},Ve.constructor[N]=function(){return Ve},Ve.flags="",Ve[fe]=/./[fe]),Ve.exec=function(){return Ae=!0,null},Ve[fe](""),!Ae});if(!K||!ce||se){var we=/./[fe],Fe=te(fe,""[$],function(Ae,Ve,Qe,qe,Ne){var Ke=Ve.exec;return Ke===R||Ke===W.exec?K&&!Ne?{done:!0,value:O(we,Ve,Qe,qe)}:{done:!0,value:O(Ae,Qe,Ve,qe)}:{done:!1}});S(String.prototype,$,Fe[0]),S(W,fe,Fe[1])}oe&&I(W[fe],"sham",!0)}},6559:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=!O(function(){return Object.isExtensible(Object.preventExtensions({}))})},9769:(Z,ae,b)=>{"use strict";var O=b(8665),S=Function.prototype,R=S.apply,E=S.call;Z.exports="object"==typeof Reflect&&Reflect.apply||(O?E.bind(R):function(){return E.apply(R,arguments)})},7761:(Z,ae,b)=>{"use strict";var O=b(9222),S=b(6022),R=b(8665),E=O(O.bind);Z.exports=function(A,I){return S(A),void 0===I?A:R?E(A,I):function(){return A.apply(I,arguments)}}},8665:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=!O(function(){var S=function(){}.bind();return"function"!=typeof S||S.hasOwnProperty("prototype")})},9424:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(6022),R=b(6833),E=b(780),A=b(7031),I=b(8665),N=Function,W=O([].concat),$=O([].join),te={},se=function(oe,fe,K){if(!E(te,fe)){for(var ce=[],we=0;we<fe;we++)ce[we]="a["+we+"]";te[fe]=N("C,a","return new C("+$(ce,",")+")")}return te[fe](oe,K)};Z.exports=I?N.bind:function(fe){var K=S(this),ce=K.prototype,we=A(arguments,1),Fe=function(){var Ve=W(we,A(arguments));return this instanceof Fe?se(K,Ve.length,Ve):K.apply(fe,Ve)};return R(ce)&&(Fe.prototype=ce),Fe}},1935:(Z,ae,b)=>{"use strict";var O=b(8665),S=Function.prototype.call;Z.exports=O?S.bind(S):function(){return S.apply(S,arguments)}},8822:(Z,ae,b)=>{"use strict";var O=b(740),S=b(780),R=Function.prototype,E=O&&Object.getOwnPropertyDescriptor,A=S(R,"name"),I=A&&"something"===function(){}.name,N=A&&(!O||O&&E(R,"name").configurable);Z.exports={EXISTS:A,PROPER:I,CONFIGURABLE:N}},541:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(6022);Z.exports=function(R,E,A){try{return O(S(Object.getOwnPropertyDescriptor(R,E)[A]))}catch(I){}}},9222:(Z,ae,b)=>{"use strict";var O=b(4705),S=b(4450);Z.exports=function(R){if("Function"===O(R))return S(R)}},4450:(Z,ae,b)=>{"use strict";var O=b(8665),S=Function.prototype,R=S.call,E=O&&S.bind.bind(R,R);Z.exports=O?E:function(A){return function(){return R.apply(A,arguments)}}},4642:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(337),R=function(E){return S(E)?E:void 0};Z.exports=function(E,A){return arguments.length<2?R(O[E]):O[E]&&O[E][A]}},6628:(Z,ae,b)=>{"use strict";var O=b(5587),S=b(8081),R=b(6710),E=b(2248),I=b(8713)("iterator");Z.exports=function(N){if(!R(N))return S(N,I)||S(N,"@@iterator")||E[O(N)]}},2632:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(6022),R=b(858),E=b(8393),A=b(6628),I=TypeError;Z.exports=function(N,W){var $=arguments.length<2?A(N):W;if(S($))return R(O($,N));throw new I(E(N)+" is not iterable")}},1198:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(8745),R=b(337),E=b(4705),A=b(2839),I=O([].push);Z.exports=function(N){if(R(N))return N;if(S(N)){for(var W=N.length,$=[],te=0;te<W;te++){var se=N[te];"string"==typeof se?I($,se):("number"==typeof se||"Number"===E(se)||"String"===E(se))&&I($,A(se))}var oe=$.length,fe=!0;return function(K,ce){if(fe)return fe=!1,ce;if(S(this))return ce;for(var we=0;we<oe;we++)if($[we]===K)return ce}}}},8081:(Z,ae,b)=>{"use strict";var O=b(6022),S=b(6710);Z.exports=function(R,E){var A=R[E];return S(A)?void 0:O(A)}},6924:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(8274),R=Math.floor,E=O("".charAt),A=O("".replace),I=O("".slice),N=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,W=/\$([$&'`]|\d{1,2})/g;Z.exports=function($,te,se,oe,fe,K){var ce=se+$.length,we=oe.length,Fe=W;return void 0!==fe&&(fe=S(fe),Fe=N),A(K,Fe,function(Ae,Ve){var Qe;switch(E(Ve,0)){case"$":return"$";case"&":return $;case"`":return I(te,0,se);case"'":return I(te,ce);case"<":Qe=fe[I(Ve,1,-1)];break;default:var qe=+Ve;if(0===qe)return Ae;if(qe>we){var Ne=R(qe/10);return 0===Ne?Ae:Ne<=we?void 0===oe[Ne-1]?E(Ve,1):oe[Ne-1]+E(Ve,1):Ae}Qe=oe[qe-1]}return void 0===Qe?"":Qe})}},6308:function(Z){"use strict";var ae=function(b){return b&&b.Math===Math&&b};Z.exports=ae("object"==typeof globalThis&&globalThis)||ae("object"==typeof window&&window)||ae("object"==typeof self&&self)||ae("object"==typeof global&&global)||ae("object"==typeof this&&this)||function(){return this}()||Function("return this")()},780:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(8274),R=O({}.hasOwnProperty);Z.exports=Object.hasOwn||function(A,I){return R(S(A),I)}},2561:Z=>{"use strict";Z.exports={}},9390:(Z,ae,b)=>{"use strict";var O=b(4642);Z.exports=O("document","documentElement")},1734:(Z,ae,b)=>{"use strict";var O=b(740),S=b(2325),R=b(3082);Z.exports=!O&&!S(function(){return 7!==Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})},4555:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(2325),R=b(4705),E=Object,A=O("".split);Z.exports=S(function(){return!E("z").propertyIsEnumerable(0)})?function(I){return"String"===R(I)?A(I,""):E(I)}:E},9051:(Z,ae,b)=>{"use strict";var O=b(337),S=b(6833),R=b(1819);Z.exports=function(E,A,I){var N,W;return R&&O(N=A.constructor)&&N!==I&&S(W=N.prototype)&&W!==I.prototype&&R(E,W),E}},3480:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(337),R=b(5111),E=O(Function.toString);S(R.inspectSource)||(R.inspectSource=function(A){return E(A)}),Z.exports=R.inspectSource},6438:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(2561),E=b(6833),A=b(780),I=b(5909).f,N=b(5245),W=b(2495),$=b(7118),te=b(1154),se=b(6559),oe=!1,fe=te("meta"),K=0,ce=function(qe){I(qe,fe,{value:{objectID:"O"+K++,weakData:{}}})},Qe=Z.exports={enable:function(){Qe.enable=function(){},oe=!0;var qe=N.f,Ne=S([].splice),Ke={};Ke[fe]=1,qe(Ke).length&&(N.f=function(ct){for(var st=qe(ct),dt=0,kt=st.length;dt<kt;dt++)if(st[dt]===fe){Ne(st,dt,1);break}return st},O({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:W.f}))},fastKey:function(qe,Ne){if(!E(qe))return"symbol"==typeof qe?qe:("string"==typeof qe?"S":"P")+qe;if(!A(qe,fe)){if(!$(qe))return"F";if(!Ne)return"E";ce(qe)}return qe[fe].objectID},getWeakData:function(qe,Ne){if(!A(qe,fe)){if(!$(qe))return!0;if(!Ne)return!1;ce(qe)}return qe[fe].weakData},onFreeze:function(qe){return se&&oe&&$(qe)&&!A(qe,fe)&&ce(qe),qe}};R[fe]=!0},2267:(Z,ae,b)=>{"use strict";var oe,fe,K,O=b(359),S=b(6308),R=b(6833),E=b(2257),A=b(780),I=b(5111),N=b(2351),W=b(2561),$="Object already initialized",te=S.TypeError;if(O||I.state){var Fe=I.state||(I.state=new(0,S.WeakMap));Fe.get=Fe.get,Fe.has=Fe.has,Fe.set=Fe.set,oe=function(Ve,Qe){if(Fe.has(Ve))throw new te($);return Qe.facade=Ve,Fe.set(Ve,Qe),Qe},fe=function(Ve){return Fe.get(Ve)||{}},K=function(Ve){return Fe.has(Ve)}}else{var Ae=N("state");W[Ae]=!0,oe=function(Ve,Qe){if(A(Ve,Ae))throw new te($);return Qe.facade=Ve,E(Ve,Ae,Qe),Qe},fe=function(Ve){return A(Ve,Ae)?Ve[Ae]:{}},K=function(Ve){return A(Ve,Ae)}}Z.exports={set:oe,get:fe,has:K,enforce:function(Ve){return K(Ve)?fe(Ve):oe(Ve,{})},getterFor:function(Ve){return function(Qe){var qe;if(!R(Qe)||(qe=fe(Qe)).type!==Ve)throw new te("Incompatible receiver, "+Ve+" required");return qe}}}},4047:(Z,ae,b)=>{"use strict";var O=b(8713),S=b(2248),R=O("iterator"),E=Array.prototype;Z.exports=function(A){return void 0!==A&&(S.Array===A||E[R]===A)}},8745:(Z,ae,b)=>{"use strict";var O=b(4705);Z.exports=Array.isArray||function(R){return"Array"===O(R)}},337:Z=>{"use strict";var ae="object"==typeof document&&document.all;Z.exports=void 0===ae&&void 0!==ae?function(b){return"function"==typeof b||b===ae}:function(b){return"function"==typeof b}},2623:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(2325),R=b(337),E=b(5587),A=b(4642),I=b(3480),N=function(){},W=A("Reflect","construct"),$=/^\s*(?:class|function)\b/,te=O($.exec),se=!$.test(N),oe=function(ce){if(!R(ce))return!1;try{return W(N,[],ce),!0}catch(we){return!1}},fe=function(ce){if(!R(ce))return!1;switch(E(ce)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return se||!!te($,I(ce))}catch(we){return!0}};fe.sham=!0,Z.exports=!W||S(function(){var K;return oe(oe.call)||!oe(Object)||!oe(function(){K=!0})||K})?fe:oe},2063:(Z,ae,b)=>{"use strict";var O=b(780);Z.exports=function(S){return void 0!==S&&(O(S,"value")||O(S,"writable"))}},9814:(Z,ae,b)=>{"use strict";var O=b(2325),S=b(337),R=/#|\.prototype\./,E=function($,te){var se=I[A($)];return se===W||se!==N&&(S(te)?O(te):!!te)},A=E.normalize=function($){return String($).replace(R,".").toLowerCase()},I=E.data={},N=E.NATIVE="N",W=E.POLYFILL="P";Z.exports=E},3882:(Z,ae,b)=>{"use strict";var O=b(6833),S=Math.floor;Z.exports=Number.isInteger||function(E){return!O(E)&&isFinite(E)&&S(E)===E}},6710:Z=>{"use strict";Z.exports=function(ae){return null==ae}},6833:(Z,ae,b)=>{"use strict";var O=b(337);Z.exports=function(S){return"object"==typeof S?null!==S:O(S)}},4221:(Z,ae,b)=>{"use strict";var O=b(6833);Z.exports=function(S){return O(S)||null===S}},777:Z=>{"use strict";Z.exports=!1},6695:(Z,ae,b)=>{"use strict";var O=b(6833),S=b(4705),E=b(8713)("match");Z.exports=function(A){var I;return O(A)&&(void 0!==(I=A[E])?!!I:"RegExp"===S(A))}},4152:(Z,ae,b)=>{"use strict";var O=b(4642),S=b(337),R=b(9807),E=b(1896),A=Object;Z.exports=E?function(I){return"symbol"==typeof I}:function(I){var N=O("Symbol");return S(N)&&R(N.prototype,A(I))}},308:(Z,ae,b)=>{"use strict";var O=b(7761),S=b(1935),R=b(858),E=b(8393),A=b(4047),I=b(83),N=b(9807),W=b(2632),$=b(6628),te=b(1031),se=TypeError,oe=function(K,ce){this.stopped=K,this.result=ce},fe=oe.prototype;Z.exports=function(K,ce,we){var Ke,ct,st,dt,kt,It,At,Ae=!(!we||!we.AS_ENTRIES),Ve=!(!we||!we.IS_RECORD),Qe=!(!we||!we.IS_ITERATOR),qe=!(!we||!we.INTERRUPTED),Ne=O(ce,we&&we.that),Bt=function(sn){return Ke&&te(Ke,"normal",sn),new oe(!0,sn)},Ut=function(sn){return Ae?(R(sn),qe?Ne(sn[0],sn[1],Bt):Ne(sn[0],sn[1])):qe?Ne(sn,Bt):Ne(sn)};if(Ve)Ke=K.iterator;else if(Qe)Ke=K;else{if(!(ct=$(K)))throw new se(E(K)+" is not iterable");if(A(ct)){for(st=0,dt=I(K);dt>st;st++)if((kt=Ut(K[st]))&&N(fe,kt))return kt;return new oe(!1)}Ke=W(K,ct)}for(It=Ve?K.next:Ke.next;!(At=S(It,Ke)).done;){try{kt=Ut(At.value)}catch(sn){te(Ke,"throw",sn)}if("object"==typeof kt&&kt&&N(fe,kt))return kt}return new oe(!1)}},1031:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(858),R=b(8081);Z.exports=function(E,A,I){var N,W;S(E);try{if(!(N=R(E,"return"))){if("throw"===A)throw I;return I}N=O(N,E)}catch($){W=!0,N=$}if("throw"===A)throw I;if(W)throw N;return S(N),I}},9210:(Z,ae,b)=>{"use strict";var O=b(8098).IteratorPrototype,S=b(5798),R=b(2016),E=b(2801),A=b(2248),I=function(){return this};Z.exports=function(N,W,$,te){var se=W+" Iterator";return N.prototype=S(O,{next:R(+!te,$)}),E(N,se,!1,!0),A[se]=I,N}},321:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(1935),R=b(777),E=b(8822),A=b(337),I=b(9210),N=b(3184),W=b(1819),$=b(2801),te=b(2257),se=b(5548),oe=b(8713),fe=b(2248),K=b(8098),ce=E.PROPER,we=E.CONFIGURABLE,Fe=K.IteratorPrototype,Ae=K.BUGGY_SAFARI_ITERATORS,Ve=oe("iterator"),qe="values",Ne="entries",Ke=function(){return this};Z.exports=function(ct,st,dt,kt,It,At,Bt){I(dt,st,kt);var an,kn,Pt,Ut=function(zn){if(zn===It&&Et)return Et;if(!Ae&&zn&&zn in ye)return ye[zn];switch(zn){case"keys":case qe:case Ne:return function(){return new dt(this,zn)}}return function(){return new dt(this)}},sn=st+" Iterator",Te=!1,ye=ct.prototype,gt=ye[Ve]||ye["@@iterator"]||It&&ye[It],Et=!Ae&&gt||Ut(It),Xt="Array"===st&&ye.entries||gt;if(Xt&&(an=N(Xt.call(new ct)))!==Object.prototype&&an.next&&(!R&&N(an)!==Fe&&(W?W(an,Fe):A(an[Ve])||se(an,Ve,Ke)),$(an,sn,!0,!0),R&&(fe[sn]=Ke)),ce&&It===qe&&gt&&gt.name!==qe&&(!R&&we?te(ye,"name",qe):(Te=!0,Et=function(){return S(gt,this)})),It)if(kn={values:Ut(qe),keys:At?Et:Ut("keys"),entries:Ut(Ne)},Bt)for(Pt in kn)(Ae||Te||!(Pt in ye))&&se(ye,Pt,kn[Pt]);else O({target:st,proto:!0,forced:Ae||Te},kn);return(!R||Bt)&&ye[Ve]!==Et&&se(ye,Ve,Et,{name:It}),fe[st]=Et,kn}},8098:(Z,ae,b)=>{"use strict";var se,oe,fe,O=b(2325),S=b(337),R=b(6833),E=b(5798),A=b(3184),I=b(5548),N=b(8713),W=b(777),$=N("iterator"),te=!1;[].keys&&("next"in(fe=[].keys())?(oe=A(A(fe)))!==Object.prototype&&(se=oe):te=!0),!R(se)||O(function(){var ce={};return se[$].call(ce)!==ce})?se={}:W&&(se=E(se)),S(se[$])||I(se,$,function(){return this}),Z.exports={IteratorPrototype:se,BUGGY_SAFARI_ITERATORS:te}},2248:Z=>{"use strict";Z.exports={}},83:(Z,ae,b)=>{"use strict";var O=b(2631);Z.exports=function(S){return O(S.length)}},6891:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(2325),R=b(337),E=b(780),A=b(740),I=b(8822).CONFIGURABLE,N=b(3480),W=b(2267),$=W.enforce,te=W.get,se=String,oe=Object.defineProperty,fe=O("".slice),K=O("".replace),ce=O([].join),we=A&&!S(function(){return 8!==oe(function(){},"length",{value:8}).length}),Fe=String(String).split("String"),Ae=Z.exports=function(Ve,Qe,qe){"Symbol("===fe(se(Qe),0,7)&&(Qe="["+K(se(Qe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),qe&&qe.getter&&(Qe="get "+Qe),qe&&qe.setter&&(Qe="set "+Qe),(!E(Ve,"name")||I&&Ve.name!==Qe)&&(A?oe(Ve,"name",{value:Qe,configurable:!0}):Ve.name=Qe),we&&qe&&E(qe,"arity")&&Ve.length!==qe.arity&&oe(Ve,"length",{value:qe.arity});try{qe&&E(qe,"constructor")&&qe.constructor?A&&oe(Ve,"prototype",{writable:!1}):Ve.prototype&&(Ve.prototype=void 0)}catch(Ke){}var Ne=$(Ve);return E(Ne,"source")||(Ne.source=ce(Fe,"string"==typeof Qe?Qe:"")),Ve};Function.prototype.toString=Ae(function(){return R(this)&&te(this).source||N(this)},"toString")},3408:Z=>{"use strict";var ae=Math.ceil,b=Math.floor;Z.exports=Math.trunc||function(S){var R=+S;return(R>0?b:ae)(R)}},9079:(Z,ae,b)=>{"use strict";var O=b(6695),S=TypeError;Z.exports=function(R){if(O(R))throw new S("The method doesn't accept regular expressions");return R}},7370:(Z,ae,b)=>{"use strict";var O=b(740),S=b(4450),R=b(1935),E=b(2325),A=b(5354),I=b(3729),N=b(1349),W=b(8274),$=b(4555),te=Object.assign,se=Object.defineProperty,oe=S([].concat);Z.exports=!te||E(function(){if(O&&1!==te({b:1},te(se({},"a",{enumerable:!0,get:function(){se(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var fe={},K={},ce=Symbol("assign detection"),we="abcdefghijklmnopqrst";return fe[ce]=7,we.split("").forEach(function(Fe){K[Fe]=Fe}),7!==te({},fe)[ce]||A(te({},K)).join("")!==we})?function(K,ce){for(var we=W(K),Fe=arguments.length,Ae=1,Ve=I.f,Qe=N.f;Fe>Ae;)for(var st,qe=$(arguments[Ae++]),Ne=Ve?oe(A(qe),Ve(qe)):A(qe),Ke=Ne.length,ct=0;Ke>ct;)st=Ne[ct++],(!O||R(Qe,qe,st))&&(we[st]=qe[st]);return we}:te},5798:(Z,ae,b)=>{"use strict";var Fe,O=b(858),S=b(8324),R=b(5142),E=b(2561),A=b(9390),I=b(3082),N=b(2351),te="prototype",oe=N("IE_PROTO"),fe=function(){},K=function(Ve){return"<script>"+Ve+"<\/script>"},ce=function(Ve){Ve.write(K("")),Ve.close();var Qe=Ve.parentWindow.Object;return Ve=null,Qe},Ae=function(){try{Fe=new ActiveXObject("htmlfile")}catch(Qe){}Ae="undefined"!=typeof document?document.domain&&Fe?ce(Fe):function(){var qe,Ve=I("iframe");return Ve.style.display="none",A.appendChild(Ve),Ve.src=String("javascript:"),(qe=Ve.contentWindow.document).open(),qe.write(K("document.F=Object")),qe.close(),qe.F}():ce(Fe);for(var Ve=R.length;Ve--;)delete Ae[te][R[Ve]];return Ae()};E[oe]=!0,Z.exports=Object.create||function(Qe,qe){var Ne;return null!==Qe?(fe[te]=O(Qe),Ne=new fe,fe[te]=null,Ne[oe]=Qe):Ne=Ae(),void 0===qe?Ne:S.f(Ne,qe)}},8324:(Z,ae,b)=>{"use strict";var O=b(740),S=b(7903),R=b(5909),E=b(858),A=b(6050),I=b(5354);ae.f=O&&!S?Object.defineProperties:function(W,$){E(W);for(var K,te=A($),se=I($),oe=se.length,fe=0;oe>fe;)R.f(W,K=se[fe++],te[K]);return W}},5909:(Z,ae,b)=>{"use strict";var O=b(740),S=b(1734),R=b(7903),E=b(858),A=b(263),I=TypeError,N=Object.defineProperty,W=Object.getOwnPropertyDescriptor,$="enumerable",te="configurable",se="writable";ae.f=O?R?function(fe,K,ce){if(E(fe),K=A(K),E(ce),"function"==typeof fe&&"prototype"===K&&"value"in ce&&se in ce&&!ce[se]){var we=W(fe,K);we&&we[se]&&(fe[K]=ce.value,ce={configurable:te in ce?ce[te]:we[te],enumerable:$ in ce?ce[$]:we[$],writable:!1})}return N(fe,K,ce)}:N:function(fe,K,ce){if(E(fe),K=A(K),E(ce),S)try{return N(fe,K,ce)}catch(we){}if("get"in ce||"set"in ce)throw new I("Accessors not supported");return"value"in ce&&(fe[K]=ce.value),fe}},1200:(Z,ae,b)=>{"use strict";var O=b(740),S=b(1935),R=b(1349),E=b(2016),A=b(6050),I=b(263),N=b(780),W=b(1734),$=Object.getOwnPropertyDescriptor;ae.f=O?$:function(se,oe){if(se=A(se),oe=I(oe),W)try{return $(se,oe)}catch(fe){}if(N(se,oe))return E(!S(R.f,se,oe),se[oe])}},2495:(Z,ae,b)=>{"use strict";var O=b(4705),S=b(6050),R=b(5245).f,E=b(7031),A="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Z.exports.f=function(W){return A&&"Window"===O(W)?function(N){try{return R(N)}catch(W){return E(A)}}(W):R(S(W))}},5245:(Z,ae,b)=>{"use strict";var O=b(2637),R=b(5142).concat("length","prototype");ae.f=Object.getOwnPropertyNames||function(A){return O(A,R)}},3729:(Z,ae)=>{"use strict";ae.f=Object.getOwnPropertySymbols},3184:(Z,ae,b)=>{"use strict";var O=b(780),S=b(337),R=b(8274),E=b(2351),A=b(6701),I=E("IE_PROTO"),N=Object,W=N.prototype;Z.exports=A?N.getPrototypeOf:function($){var te=R($);if(O(te,I))return te[I];var se=te.constructor;return S(se)&&te instanceof se?se.prototype:te instanceof N?W:null}},7118:(Z,ae,b)=>{"use strict";var O=b(2325),S=b(6833),R=b(4705),E=b(7239),A=Object.isExtensible,I=O(function(){A(1)});Z.exports=I||E?function(W){return!(!S(W)||E&&"ArrayBuffer"===R(W))&&(!A||A(W))}:A},9807:(Z,ae,b)=>{"use strict";var O=b(4450);Z.exports=O({}.isPrototypeOf)},2637:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(780),R=b(6050),E=b(9639).indexOf,A=b(2561),I=O([].push);Z.exports=function(N,W){var oe,$=R(N),te=0,se=[];for(oe in $)!S(A,oe)&&S($,oe)&&I(se,oe);for(;W.length>te;)S($,oe=W[te++])&&(~E(se,oe)||I(se,oe));return se}},5354:(Z,ae,b)=>{"use strict";var O=b(2637),S=b(5142);Z.exports=Object.keys||function(E){return O(E,S)}},1349:(Z,ae)=>{"use strict";var b={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,S=O&&!b.call({1:2},1);ae.f=S?function(E){var A=O(this,E);return!!A&&A.enumerable}:b},1819:(Z,ae,b)=>{"use strict";var O=b(541),S=b(6833),R=b(5028),E=b(1610);Z.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var N,A=!1,I={};try{(N=O(Object.prototype,"__proto__","set"))(I,[]),A=I instanceof Array}catch(W){}return function($,te){return R($),E(te),S($)&&(A?N($,te):$.__proto__=te),$}}():void 0)},7090:(Z,ae,b)=>{"use strict";var O=b(740),S=b(2325),R=b(4450),E=b(3184),A=b(5354),I=b(6050),W=R(b(1349).f),$=R([].push),te=O&&S(function(){var oe=Object.create(null);return oe[2]=2,!W(oe,2)}),se=function(oe){return function(fe){for(var Qe,K=I(fe),ce=A(K),we=te&&null===E(K),Fe=ce.length,Ae=0,Ve=[];Fe>Ae;)Qe=ce[Ae++],(!O||(we?Qe in K:W(K,Qe)))&&$(Ve,oe?[Qe,K[Qe]]:K[Qe]);return Ve}};Z.exports={entries:se(!0),values:se(!1)}},8205:(Z,ae,b)=>{"use strict";var O=b(6760),S=b(5587);Z.exports=O?{}.toString:function(){return"[object "+S(this)+"]"}},2617:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(337),R=b(6833),E=TypeError;Z.exports=function(A,I){var N,W;if("string"===I&&S(N=A.toString)&&!R(W=O(N,A))||S(N=A.valueOf)&&!R(W=O(N,A))||"string"!==I&&S(N=A.toString)&&!R(W=O(N,A)))return W;throw new E("Can't convert object to primitive value")}},2244:(Z,ae,b)=>{"use strict";var O=b(4642),S=b(4450),R=b(5245),E=b(3729),A=b(858),I=S([].concat);Z.exports=O("Reflect","ownKeys")||function(W){var $=R.f(A(W)),te=E.f;return te?I($,te(W)):$}},6281:(Z,ae,b)=>{"use strict";var O=b(6308);Z.exports=O},890:(Z,ae,b)=>{"use strict";var O=b(5909).f;Z.exports=function(S,R,E){E in S||O(S,E,{configurable:!0,get:function(){return R[E]},set:function(A){R[E]=A}})}},8626:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(858),R=b(337),E=b(4705),A=b(4408),I=TypeError;Z.exports=function(N,W){var $=N.exec;if(R($)){var te=O($,N,W);return null!==te&&S(te),te}if("RegExp"===E(N))return O(A,N,W);throw new I("RegExp#exec called on incompatible receiver")}},4408:(Z,ae,b)=>{"use strict";var Ne,Ke,O=b(1935),S=b(4450),R=b(2839),E=b(6734),A=b(2684),I=b(3576),N=b(5798),W=b(2267).get,$=b(8112),te=b(2666),se=I("native-string-replace",String.prototype.replace),oe=RegExp.prototype.exec,fe=oe,K=S("".charAt),ce=S("".indexOf),we=S("".replace),Fe=S("".slice),Ae=(Ke=/b*/g,O(oe,Ne=/a/,"a"),O(oe,Ke,"a"),0!==Ne.lastIndex||0!==Ke.lastIndex),Ve=A.BROKEN_CARET,Qe=void 0!==/()??/.exec("")[1];(Ae||Qe||Ve||$||te)&&(fe=function(Ke){var It,At,Bt,Ut,sn,Te,ye,ct=this,st=W(ct),dt=R(Ke),kt=st.raw;if(kt)return kt.lastIndex=ct.lastIndex,It=O(fe,kt,dt),ct.lastIndex=kt.lastIndex,It;var gt=st.groups,Et=Ve&&ct.sticky,Xt=O(E,ct),an=ct.source,kn=0,Pt=dt;if(Et&&(Xt=we(Xt,"y",""),-1===ce(Xt,"g")&&(Xt+="g"),Pt=Fe(dt,ct.lastIndex),ct.lastIndex>0&&(!ct.multiline||ct.multiline&&"\n"!==K(dt,ct.lastIndex-1))&&(an="(?: "+an+")",Pt=" "+Pt,kn++),At=new RegExp("^(?:"+an+")",Xt)),Qe&&(At=new RegExp("^"+an+"$(?!\\s)",Xt)),Ae&&(Bt=ct.lastIndex),Ut=O(oe,Et?At:ct,Pt),Et?Ut?(Ut.input=Fe(Ut.input,kn),Ut[0]=Fe(Ut[0],kn),Ut.index=ct.lastIndex,ct.lastIndex+=Ut[0].length):ct.lastIndex=0:Ae&&Ut&&(ct.lastIndex=ct.global?Ut.index+Ut[0].length:Bt),Qe&&Ut&&Ut.length>1&&O(se,Ut[0],At,function(){for(sn=1;sn<arguments.length-2;sn++)void 0===arguments[sn]&&(Ut[sn]=void 0)}),Ut&&gt)for(Ut.groups=Te=N(null),sn=0;sn<gt.length;sn++)Te[(ye=gt[sn])[0]]=Ut[ye[1]];return Ut}),Z.exports=fe},6734:(Z,ae,b)=>{"use strict";var O=b(858);Z.exports=function(){var S=O(this),R="";return S.hasIndices&&(R+="d"),S.global&&(R+="g"),S.ignoreCase&&(R+="i"),S.multiline&&(R+="m"),S.dotAll&&(R+="s"),S.unicode&&(R+="u"),S.unicodeSets&&(R+="v"),S.sticky&&(R+="y"),R}},891:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(780),R=b(9807),E=b(6734),A=RegExp.prototype;Z.exports=function(I){var N=I.flags;return void 0!==N||"flags"in A||S(I,"flags")||!R(A,I)?N:O(E,I)}},2684:(Z,ae,b)=>{"use strict";var O=b(2325),R=b(6308).RegExp,E=O(function(){var N=R("a","y");return N.lastIndex=2,null!==N.exec("abcd")}),A=E||O(function(){return!R("a","y").sticky}),I=E||O(function(){var N=R("^r","gy");return N.lastIndex=2,null!==N.exec("str")});Z.exports={BROKEN_CARET:I,MISSED_STICKY:A,UNSUPPORTED_Y:E}},8112:(Z,ae,b)=>{"use strict";var O=b(2325),R=b(6308).RegExp;Z.exports=O(function(){var E=R(".","s");return!(E.dotAll&&E.test("\n")&&"s"===E.flags)})},2666:(Z,ae,b)=>{"use strict";var O=b(2325),R=b(6308).RegExp;Z.exports=O(function(){var E=R("(?<a>b)","g");return"b"!==E.exec("b").groups.a||"bc"!=="b".replace(E,"$<a>c")})},5028:(Z,ae,b)=>{"use strict";var O=b(6710),S=TypeError;Z.exports=function(R){if(O(R))throw new S("Can't call method on "+R);return R}},7931:Z=>{"use strict";Z.exports=Object.is||function(b,O){return b===O?0!==b||1/b==1/O:b!=b&&O!=O}},3994:(Z,ae,b)=>{"use strict";var te,O=b(6308),S=b(9769),R=b(337),E=b(1486),A=b(3519),I=b(7031),N=b(6127),W=O.Function,$=/MSIE .\./.test(A)||E&&((te=O.Bun.version.split(".")).length<3||"0"===te[0]&&(te[1]<3||"3"===te[1]&&"0"===te[2]));Z.exports=function(te,se){var oe=se?2:1;return $?function(fe,K){var ce=N(arguments.length,1)>oe,we=R(fe)?fe:W(fe),Fe=ce?I(arguments,oe):[],Ae=ce?function(){S(we,this,Fe)}:we;return se?te(Ae,K):te(Ae)}:te}},6501:(Z,ae,b)=>{"use strict";var O=b(4642),S=b(5345),R=b(8713),E=b(740),A=R("species");Z.exports=function(I){var N=O(I);E&&N&&!N[A]&&S(N,A,{configurable:!0,get:function(){return this}})}},2801:(Z,ae,b)=>{"use strict";var O=b(5909).f,S=b(780),E=b(8713)("toStringTag");Z.exports=function(A,I,N){A&&!N&&(A=A.prototype),A&&!S(A,E)&&O(A,E,{configurable:!0,value:I})}},2351:(Z,ae,b)=>{"use strict";var O=b(3576),S=b(1154),R=O("keys");Z.exports=function(E){return R[E]||(R[E]=S(E))}},5111:(Z,ae,b)=>{"use strict";var O=b(777),S=b(6308),R=b(189),E="__core-js_shared__",A=Z.exports=S[E]||R(E,{});(A.versions||(A.versions=[])).push({version:"3.36.1",mode:O?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},3576:(Z,ae,b)=>{"use strict";var O=b(5111);Z.exports=function(S,R){return O[S]||(O[S]=R||{})}},1487:(Z,ae,b)=>{"use strict";var O=b(858),S=b(9938),R=b(6710),A=b(8713)("species");Z.exports=function(I,N){var $,W=O(I).constructor;return void 0===W||R($=O(W)[A])?N:S($)}},5648:(Z,ae,b)=>{"use strict";var O=b(2325);Z.exports=function(S){return O(function(){var R=""[S]('"');return R!==R.toLowerCase()||R.split('"').length>3})}},2266:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(2268),R=b(2839),E=b(5028),A=O("".charAt),I=O("".charCodeAt),N=O("".slice),W=function($){return function(te,se){var ce,we,oe=R(E(te)),fe=S(se),K=oe.length;return fe<0||fe>=K?$?"":void 0:(ce=I(oe,fe))<55296||ce>56319||fe+1===K||(we=I(oe,fe+1))<56320||we>57343?$?A(oe,fe):ce:$?N(oe,fe,fe+2):we-56320+(ce-55296<<10)+65536}};Z.exports={codeAt:W(!1),charAt:W(!0)}},1562:(Z,ae,b)=>{"use strict";var O=b(3519);Z.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(O)},1660:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(2631),R=b(2839),E=b(109),A=b(5028),I=O(E),N=O("".slice),W=Math.ceil,$=function(te){return function(se,oe,fe){var Ae,Ve,K=R(A(se)),ce=S(oe),we=K.length,Fe=void 0===fe?" ":R(fe);return ce<=we||""===Fe?K:((Ve=I(Fe,W((Ae=ce-we)/Fe.length))).length>Ae&&(Ve=N(Ve,0,Ae)),te?K+Ve:Ve+K)}};Z.exports={start:$(!1),end:$(!0)}},109:(Z,ae,b)=>{"use strict";var O=b(2268),S=b(2839),R=b(5028),E=RangeError;Z.exports=function(I){var N=S(R(this)),W="",$=O(I);if($<0||$===1/0)throw new E("Wrong number of repetitions");for(;$>0;($>>>=1)&&(N+=N))1&$&&(W+=N);return W}},145:(Z,ae,b)=>{"use strict";var O=b(8822).PROPER,S=b(2325),R=b(2933);Z.exports=function(A){return S(function(){return!!R[A]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[A]()||O&&R[A].name!==A})}},4179:(Z,ae,b)=>{"use strict";var O=b(4450),S=b(5028),R=b(2839),E=b(2933),A=O("".replace),I=RegExp("^["+E+"]+"),N=RegExp("(^|[^"+E+"])["+E+"]+$"),W=function($){return function(te){var se=R(S(te));return 1&$&&(se=A(se,I,"")),2&$&&(se=A(se,N,"$1")),se}};Z.exports={start:W(1),end:W(2),trim:W(3)}},6762:(Z,ae,b)=>{"use strict";var O=b(5521),S=b(2325),E=b(6308).String;Z.exports=!!Object.getOwnPropertySymbols&&!S(function(){var A=Symbol("symbol detection");return!E(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&O&&O<41})},7958:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(4642),R=b(8713),E=b(5548);Z.exports=function(){var A=S("Symbol"),I=A&&A.prototype,N=I&&I.valueOf,W=R("toPrimitive");I&&!I[W]&&E(I,W,function($){return O(N,this)},{arity:1})}},3159:(Z,ae,b)=>{"use strict";var O=b(6762);Z.exports=O&&!!Symbol.for&&!!Symbol.keyFor},58:(Z,ae,b)=>{"use strict";var Ke,ct,st,dt,O=b(6308),S=b(9769),R=b(7761),E=b(337),A=b(780),I=b(2325),N=b(9390),W=b(7031),$=b(3082),te=b(6127),se=b(8711),oe=b(4373),fe=O.setImmediate,K=O.clearImmediate,ce=O.process,we=O.Dispatch,Fe=O.Function,Ae=O.MessageChannel,Ve=O.String,Qe=0,qe={},Ne="onreadystatechange";I(function(){Ke=O.location});var kt=function(Ut){if(A(qe,Ut)){var sn=qe[Ut];delete qe[Ut],sn()}},It=function(Ut){return function(){kt(Ut)}},At=function(Ut){kt(Ut.data)},Bt=function(Ut){O.postMessage(Ve(Ut),Ke.protocol+"//"+Ke.host)};(!fe||!K)&&(fe=function(sn){te(arguments.length,1);var Te=E(sn)?sn:Fe(sn),ye=W(arguments,1);return qe[++Qe]=function(){S(Te,void 0,ye)},ct(Qe),Qe},K=function(sn){delete qe[sn]},oe?ct=function(Ut){ce.nextTick(It(Ut))}:we&&we.now?ct=function(Ut){we.now(It(Ut))}:Ae&&!se?(dt=(st=new Ae).port2,st.port1.onmessage=At,ct=R(dt.postMessage,dt)):O.addEventListener&&E(O.postMessage)&&!O.importScripts&&Ke&&"file:"!==Ke.protocol&&!I(Bt)?(ct=Bt,O.addEventListener("message",At,!1)):ct=Ne in $("script")?function(Ut){N.appendChild($("script"))[Ne]=function(){N.removeChild(this),kt(Ut)}}:function(Ut){setTimeout(It(Ut),0)}),Z.exports={set:fe,clear:K}},4101:(Z,ae,b)=>{"use strict";var O=b(4450);Z.exports=O(1..valueOf)},9090:(Z,ae,b)=>{"use strict";var O=b(2268),S=Math.max,R=Math.min;Z.exports=function(E,A){var I=O(E);return I<0?S(I+A,0):R(I,A)}},6050:(Z,ae,b)=>{"use strict";var O=b(4555),S=b(5028);Z.exports=function(R){return O(S(R))}},2268:(Z,ae,b)=>{"use strict";var O=b(3408);Z.exports=function(S){var R=+S;return R!=R||0===R?0:O(R)}},2631:(Z,ae,b)=>{"use strict";var O=b(2268),S=Math.min;Z.exports=function(R){var E=O(R);return E>0?S(E,9007199254740991):0}},8274:(Z,ae,b)=>{"use strict";var O=b(5028),S=Object;Z.exports=function(R){return S(O(R))}},470:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(6833),R=b(4152),E=b(8081),A=b(2617),I=b(8713),N=TypeError,W=I("toPrimitive");Z.exports=function($,te){if(!S($)||R($))return $;var oe,se=E($,W);if(se){if(void 0===te&&(te="default"),oe=O(se,$,te),!S(oe)||R(oe))return oe;throw new N("Can't convert object to primitive value")}return void 0===te&&(te="number"),A($,te)}},263:(Z,ae,b)=>{"use strict";var O=b(470),S=b(4152);Z.exports=function(R){var E=O(R,"string");return S(E)?E:E+""}},6760:(Z,ae,b)=>{"use strict";var R={};R[b(8713)("toStringTag")]="z",Z.exports="[object z]"===String(R)},2839:(Z,ae,b)=>{"use strict";var O=b(5587),S=String;Z.exports=function(R){if("Symbol"===O(R))throw new TypeError("Cannot convert a Symbol value to a string");return S(R)}},8393:Z=>{"use strict";var ae=String;Z.exports=function(b){try{return ae(b)}catch(O){return"Object"}}},1154:(Z,ae,b)=>{"use strict";var O=b(4450),S=0,R=Math.random(),E=O(1..toString);Z.exports=function(A){return"Symbol("+(void 0===A?"":A)+")_"+E(++S+R,36)}},1896:(Z,ae,b)=>{"use strict";var O=b(6762);Z.exports=O&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7903:(Z,ae,b)=>{"use strict";var O=b(740),S=b(2325);Z.exports=O&&S(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},6127:Z=>{"use strict";var ae=TypeError;Z.exports=function(b,O){if(b<O)throw new ae("Not enough arguments");return b}},359:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(337),R=O.WeakMap;Z.exports=S(R)&&/native code/.test(String(R))},4665:(Z,ae,b)=>{"use strict";var O=b(6281),S=b(780),R=b(8219),E=b(5909).f;Z.exports=function(A){var I=O.Symbol||(O.Symbol={});S(I,A)||E(I,A,{value:R.f(A)})}},8219:(Z,ae,b)=>{"use strict";var O=b(8713);ae.f=O},8713:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(3576),R=b(780),E=b(1154),A=b(6762),I=b(1896),N=O.Symbol,W=S("wks"),$=I?N.for||N:N&&N.withoutSetter||E;Z.exports=function(te){return R(W,te)||(W[te]=A&&R(N,te)?N[te]:$("Symbol."+te)),W[te]}},2933:Z=>{"use strict";Z.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},9885:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2325),R=b(8745),E=b(6833),A=b(8274),I=b(83),N=b(6397),W=b(2894),$=b(6100),te=b(7885),se=b(8713),oe=b(5521),fe=se("isConcatSpreadable"),K=oe>=51||!S(function(){var Fe=[];return Fe[fe]=!1,Fe.concat()[0]!==Fe}),ce=function(Fe){if(!E(Fe))return!1;var Ae=Fe[fe];return void 0!==Ae?!!Ae:R(Fe)};O({target:"Array",proto:!0,arity:1,forced:!K||!te("concat")},{concat:function(Ae){var Ne,Ke,ct,st,dt,Ve=A(this),Qe=$(Ve,0),qe=0;for(Ne=-1,ct=arguments.length;Ne<ct;Ne++)if(ce(dt=-1===Ne?Ve:arguments[Ne]))for(st=I(dt),N(qe+st),Ke=0;Ke<st;Ke++,qe++)Ke in dt&&W(Qe,qe,dt[Ke]);else N(qe+1),W(Qe,qe++,dt);return Qe.length=qe,Qe}})},3815:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(431),R=b(2822);O({target:"Array",proto:!0},{fill:S}),R("fill")},4466:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(482).filter;O({target:"Array",proto:!0,forced:!b(7885)("filter")},{filter:function(I){return S(this,I,arguments.length>1?arguments[1]:void 0)}})},8282:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(482).findIndex,R=b(2822),E="findIndex",A=!0;E in[]&&Array(1)[E](function(){A=!1}),O({target:"Array",proto:!0,forced:A},{findIndex:function(N){return S(this,N,arguments.length>1?arguments[1]:void 0)}}),R(E)},6126:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(482).find,R=b(2822),E="find",A=!0;E in[]&&Array(1)[E](function(){A=!1}),O({target:"Array",proto:!0,forced:A},{find:function(N){return S(this,N,arguments.length>1?arguments[1]:void 0)}}),R(E)},9285:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2649);O({target:"Array",stat:!0,forced:!b(7154)(function(A){Array.from(A)})},{from:S})},5511:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(9639).includes,R=b(2325),E=b(2822);O({target:"Array",proto:!0,forced:R(function(){return!Array(1).includes()})},{includes:function(N){return S(this,N,arguments.length>1?arguments[1]:void 0)}}),E("includes")},8350:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(9222),R=b(9639).indexOf,E=b(7483),A=S([].indexOf),I=!!A&&1/A([1],1,-0)<0;O({target:"Array",proto:!0,forced:I||!E("indexOf")},{indexOf:function($){var te=arguments.length>1?arguments[1]:void 0;return I?A(this,$,te)||0:R(this,$,te)}})},346:(Z,ae,b)=>{"use strict";var O=b(6050),S=b(2822),R=b(2248),E=b(2267),A=b(5909).f,I=b(321),N=b(72),W=b(777),$=b(740),te="Array Iterator",se=E.set,oe=E.getterFor(te);Z.exports=I(Array,"Array",function(K,ce){se(this,{type:te,target:O(K),index:0,kind:ce})},function(){var K=oe(this),ce=K.target,we=K.index++;if(!ce||we>=ce.length)return K.target=void 0,N(void 0,!0);switch(K.kind){case"keys":return N(we,!1);case"values":return N(ce[we],!1)}return N([we,ce[we]],!1)},"values");var fe=R.Arguments=R.Array;if(S("keys"),S("values"),S("entries"),!W&&$&&"values"!==fe.name)try{A(fe,"name",{value:"values"})}catch(K){}},970:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(4555),E=b(6050),A=b(7483),I=S([].join);O({target:"Array",proto:!0,forced:R!==Object||!A("join",",")},{join:function(te){return I(E(this),void 0===te?",":te)}})},4121:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2693);O({target:"Array",proto:!0,forced:S!==[].lastIndexOf},{lastIndexOf:S})},6496:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(482).map;O({target:"Array",proto:!0,forced:!b(7885)("map")},{map:function(I){return S(this,I,arguments.length>1?arguments[1]:void 0)}})},5446:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(522).left,R=b(7483),E=b(5521);O({target:"Array",proto:!0,forced:!b(4373)&&E>79&&E<83||!R("reduce")},{reduce:function($){var te=arguments.length;return S(this,$,te,te>1?arguments[1]:void 0)}})},6062:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(8745),E=S([].reverse),A=[1,2];O({target:"Array",proto:!0,forced:String(A)===String(A.reverse())},{reverse:function(){return R(this)&&(this.length=this.length),E(this)}})},2516:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(8745),R=b(2623),E=b(6833),A=b(9090),I=b(83),N=b(6050),W=b(2894),$=b(8713),te=b(7885),se=b(7031),oe=te("slice"),fe=$("species"),K=Array,ce=Math.max;O({target:"Array",proto:!0,forced:!oe},{slice:function(Fe,Ae){var Ke,ct,st,Ve=N(this),Qe=I(Ve),qe=A(Fe,Qe),Ne=A(void 0===Ae?Qe:Ae,Qe);if(S(Ve)&&((R(Ke=Ve.constructor)&&(Ke===K||S(Ke.prototype))||E(Ke)&&null===(Ke=Ke[fe]))&&(Ke=void 0),Ke===K||void 0===Ke))return se(Ve,qe,Ne);for(ct=new(void 0===Ke?K:Ke)(ce(Ne-qe,0)),st=0;qe<Ne;qe++,st++)qe in Ve&&W(ct,st,Ve[qe]);return ct.length=st,ct}})},403:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(6022),E=b(8274),A=b(83),I=b(4219),N=b(2839),W=b(2325),$=b(4714),te=b(7483),se=b(1337),oe=b(7941),fe=b(5521),K=b(5189),ce=[],we=S(ce.sort),Fe=S(ce.push),Ae=W(function(){ce.sort(void 0)}),Ve=W(function(){ce.sort(null)}),Qe=te("sort"),qe=!W(function(){if(fe)return fe<70;if(!(se&&se>3)){if(oe)return!0;if(K)return K<603;var st,dt,kt,It,ct="";for(st=65;st<76;st++){switch(dt=String.fromCharCode(st),st){case 66:case 69:case 70:case 72:kt=3;break;case 68:case 71:kt=4;break;default:kt=2}for(It=0;It<47;It++)ce.push({k:dt+It,v:kt})}for(ce.sort(function(At,Bt){return Bt.v-At.v}),It=0;It<ce.length;It++)dt=ce[It].k.charAt(0),ct.charAt(ct.length-1)!==dt&&(ct+=dt);return"DGBEFHACIJK"!==ct}});O({target:"Array",proto:!0,forced:Ae||!Ve||!Qe||!qe},{sort:function(st){void 0!==st&&R(st);var dt=E(this);if(qe)return void 0===st?we(dt):we(dt,st);var At,Bt,kt=[],It=A(dt);for(Bt=0;Bt<It;Bt++)Bt in dt&&Fe(kt,dt[Bt]);for($(kt,function(ct){return function(st,dt){return void 0===dt?-1:void 0===st?1:void 0!==ct?+ct(st,dt)||0:N(st)>N(dt)?1:-1}}(st)),At=A(kt),Bt=0;Bt<At;)dt[Bt]=kt[Bt++];for(;Bt<It;)I(dt,Bt++);return dt}})},3277:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(8274),R=b(9090),E=b(2268),A=b(83),I=b(2672),N=b(6397),W=b(6100),$=b(2894),te=b(4219),oe=b(7885)("splice"),fe=Math.max,K=Math.min;O({target:"Array",proto:!0,forced:!oe},{splice:function(we,Fe){var Ne,Ke,ct,st,dt,kt,Ae=S(this),Ve=A(Ae),Qe=R(we,Ve),qe=arguments.length;for(0===qe?Ne=Ke=0:1===qe?(Ne=0,Ke=Ve-Qe):(Ne=qe-2,Ke=K(fe(E(Fe),0),Ve-Qe)),N(Ve+Ne-Ke),ct=W(Ae,Ke),st=0;st<Ke;st++)(dt=Qe+st)in Ae&&$(ct,st,Ae[dt]);if(ct.length=Ke,Ne<Ke){for(st=Qe;st<Ve-Ke;st++)kt=st+Ne,(dt=st+Ke)in Ae?Ae[kt]=Ae[dt]:te(Ae,kt);for(st=Ve;st>Ve-Ke+Ne;st--)te(Ae,st-1)}else if(Ne>Ke)for(st=Ve-Ke;st>Qe;st--)kt=st+Ne-1,(dt=st+Ke-1)in Ae?Ae[kt]=Ae[dt]:te(Ae,kt);for(st=0;st<Ne;st++)Ae[st+Qe]=arguments[st+2];return I(Ae,Ve-Ke+Ne),ct}})},4922:(Z,ae,b)=>{"use strict";var O=b(780),S=b(5548),R=b(1334),A=b(8713)("toPrimitive"),I=Date.prototype;O(I,A)||S(I,A,R)},8530:(Z,ae,b)=>{"use strict";var O=b(740),S=b(8822).EXISTS,R=b(4450),E=b(5345),A=Function.prototype,I=R(A.toString),N=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,W=R(N.exec);O&&!S&&E(A,"name",{configurable:!0,get:function(){try{return W(N,I(this))[1]}catch(te){return""}}})},8539:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4642),R=b(9769),E=b(1935),A=b(4450),I=b(2325),N=b(337),W=b(4152),$=b(7031),te=b(1198),se=b(6762),oe=String,fe=S("JSON","stringify"),K=A(/./.exec),ce=A("".charAt),we=A("".charCodeAt),Fe=A("".replace),Ae=A(1..toString),Ve=/[\uD800-\uDFFF]/g,Qe=/^[\uD800-\uDBFF]$/,qe=/^[\uDC00-\uDFFF]$/,Ne=!se||I(function(){var dt=S("Symbol")("stringify detection");return"[null]"!==fe([dt])||"{}"!==fe({a:dt})||"{}"!==fe(Object(dt))}),Ke=I(function(){return'"\\udf06\\ud834"'!==fe("\udf06\ud834")||'"\\udead"'!==fe("\udead")}),ct=function(dt,kt){var It=$(arguments),At=te(kt);if(N(At)||void 0!==dt&&!W(dt))return It[1]=function(Bt,Ut){if(N(At)&&(Ut=E(At,this,oe(Bt),Ut)),!W(Ut))return Ut},R(fe,null,It)},st=function(dt,kt,It){var At=ce(It,kt-1),Bt=ce(It,kt+1);return K(Qe,dt)&&!K(qe,Bt)||K(qe,dt)&&!K(Qe,At)?"\\u"+Ae(we(dt,0),16):dt};fe&&O({target:"JSON",stat:!0,arity:3,forced:Ne||Ke},{stringify:function(kt,It,At){var Bt=$(arguments),Ut=R(Ne?ct:fe,null,Bt);return Ke&&"string"==typeof Ut?Fe(Ut,Ve,st):Ut}})},5526:(Z,ae,b)=>{"use strict";b(2848)("Map",function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},b(2782))},9255:(Z,ae,b)=>{"use strict";b(5526)},8252:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(777),R=b(740),E=b(6308),A=b(6281),I=b(4450),N=b(9814),W=b(780),$=b(9051),te=b(9807),se=b(4152),oe=b(470),fe=b(2325),K=b(5245).f,ce=b(1200).f,we=b(5909).f,Fe=b(4101),Ae=b(4179).trim,Ve="Number",Qe=E[Ve],qe=A[Ve],Ne=Qe.prototype,Ke=E.TypeError,ct=I("".slice),st=I("".charCodeAt),dt=function(sn){var Te=oe(sn,"number");return"bigint"==typeof Te?Te:kt(Te)},kt=function(sn){var ye,gt,Et,Xt,an,kn,Pt,zn,Te=oe(sn,"number");if(se(Te))throw new Ke("Cannot convert a Symbol value to a number");if("string"==typeof Te&&Te.length>2)if(Te=Ae(Te),43===(ye=st(Te,0))||45===ye){if(88===(gt=st(Te,2))||120===gt)return NaN}else if(48===ye){switch(st(Te,1)){case 66:case 98:Et=2,Xt=49;break;case 79:case 111:Et=8,Xt=55;break;default:return+Te}for(kn=(an=ct(Te,2)).length,Pt=0;Pt<kn;Pt++)if((zn=st(an,Pt))<48||zn>Xt)return NaN;return parseInt(an,Et)}return+Te},It=N(Ve,!Qe(" 0o1")||!Qe("0b1")||Qe("+0x1")),At=function(sn){return te(Ne,sn)&&fe(function(){Fe(sn)})},Bt=function(Te){var ye=arguments.length<1?0:Qe(dt(Te));return At(this)?$(Object(ye),this,Bt):ye};Bt.prototype=Ne,It&&!S&&(Ne.constructor=Bt),O({global:!0,constructor:!0,wrap:!0,forced:It},{Number:Bt});var Ut=function(sn,Te){for(var Et,ye=R?K(Te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),gt=0;ye.length>gt;gt++)W(Te,Et=ye[gt])&&!W(sn,Et)&&we(sn,Et,ce(Te,Et))};S&&qe&&Ut(A[Ve],qe),(It||S)&&Ut(A[Ve],Qe)},9669:(Z,ae,b)=>{"use strict";b(3514)({target:"Number",stat:!0},{isInteger:b(3882)})},6992:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(2268),E=b(4101),A=b(109),I=b(2325),N=RangeError,W=String,$=Math.floor,te=S(A),se=S("".slice),oe=S(1..toFixed),fe=function(Ve,Qe,qe){return 0===Qe?qe:Qe%2==1?fe(Ve,Qe-1,qe*Ve):fe(Ve*Ve,Qe/2,qe)},ce=function(Ve,Qe,qe){for(var Ne=-1,Ke=qe;++Ne<6;)Ve[Ne]=(Ke+=Qe*Ve[Ne])%1e7,Ke=$(Ke/1e7)},we=function(Ve,Qe){for(var qe=6,Ne=0;--qe>=0;)Ve[qe]=$((Ne+=Ve[qe])/Qe),Ne=Ne%Qe*1e7},Fe=function(Ve){for(var Qe=6,qe="";--Qe>=0;)if(""!==qe||0===Qe||0!==Ve[Qe]){var Ne=W(Ve[Qe]);qe=""===qe?Ne:qe+te("0",7-Ne.length)+Ne}return qe};O({target:"Number",proto:!0,forced:I(function(){return"0.000"!==oe(8e-5,3)||"1"!==oe(.9,0)||"1.25"!==oe(1.255,2)||"1000000000000000128"!==oe(0xde0b6b3a7640080,0)})||!I(function(){oe({})})},{toFixed:function(Qe){var dt,kt,It,At,qe=E(this),Ne=R(Qe),Ke=[0,0,0,0,0,0],ct="",st="0";if(Ne<0||Ne>20)throw new N("Incorrect fraction digits");if(qe!=qe)return"NaN";if(qe<=-1e21||qe>=1e21)return W(qe);if(qe<0&&(ct="-",qe=-qe),qe>1e-21)if(dt=function(Ve){for(var Qe=0,qe=Ve;qe>=4096;)Qe+=12,qe/=4096;for(;qe>=2;)Qe+=1,qe/=2;return Qe}(qe*fe(2,69,1))-69,kt=dt<0?qe*fe(2,-dt,1):qe/fe(2,dt,1),kt*=4503599627370496,(dt=52-dt)>0){for(ce(Ke,0,kt),It=Ne;It>=7;)ce(Ke,1e7,0),It-=7;for(ce(Ke,fe(10,It,1),0),It=dt-1;It>=23;)we(Ke,1<<23),It-=23;we(Ke,1<<It),ce(Ke,1,1),we(Ke,2),st=Fe(Ke)}else ce(Ke,0,kt),ce(Ke,1<<-dt,0),st=Fe(Ke)+te("0",Ne);return st=Ne>0?ct+((At=st.length)<=Ne?"0."+te("0",Ne-At)+st:se(st,0,At-Ne)+"."+se(st,At-Ne)):ct+st}})},7790:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(7370);O({target:"Object",stat:!0,arity:2,forced:Object.assign!==S},{assign:S})},9302:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6559),R=b(2325),E=b(6833),A=b(6438).onFreeze,I=Object.freeze;O({target:"Object",stat:!0,forced:R(function(){I(1)}),sham:!S},{freeze:function($){return I&&E($)?I(A($)):$}})},9202:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2325),R=b(6050),E=b(1200).f,A=b(740);O({target:"Object",stat:!0,forced:!A||S(function(){E(1)}),sham:!A},{getOwnPropertyDescriptor:function(W,$){return E(R(W),$)}})},4655:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(740),R=b(2244),E=b(6050),A=b(1200),I=b(2894);O({target:"Object",stat:!0,sham:!S},{getOwnPropertyDescriptors:function(W){for(var K,ce,$=E(W),te=A.f,se=R($),oe={},fe=0;se.length>fe;)void 0!==(ce=te($,K=se[fe++]))&&I(oe,K,ce);return oe}})},5197:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6762),R=b(2325),E=b(3729),A=b(8274);O({target:"Object",stat:!0,forced:!S||R(function(){E.f(1)})},{getOwnPropertySymbols:function(W){var $=E.f;return $?$(A(W)):[]}})},4679:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2325),R=b(8274),E=b(3184),A=b(6701);O({target:"Object",stat:!0,forced:S(function(){E(1)}),sham:!A},{getPrototypeOf:function(W){return E(R(W))}})},8821:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(8274),R=b(5354);O({target:"Object",stat:!0,forced:b(2325)(function(){R(1)})},{keys:function(N){return R(S(N))}})},7526:(Z,ae,b)=>{"use strict";b(3514)({target:"Object",stat:!0},{setPrototypeOf:b(1819)})},7250:(Z,ae,b)=>{"use strict";var O=b(6760),S=b(5548),R=b(8205);O||S(Object.prototype,"toString",R,{unsafe:!0})},9523:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(7090).values;O({target:"Object",stat:!0},{values:function(E){return S(E)}})},2318:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4642),R=b(9769),E=b(9424),A=b(9938),I=b(858),N=b(6833),W=b(5798),$=b(2325),te=S("Reflect","construct"),se=Object.prototype,oe=[].push,fe=$(function(){function we(){}return!(te(function(){},[],we)instanceof we)}),K=!$(function(){te(function(){})}),ce=fe||K;O({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(Fe,Ae){A(Fe),I(Ae);var Ve=arguments.length<3?Fe:A(arguments[2]);if(K&&!fe)return te(Fe,Ae,Ve);if(Fe===Ve){switch(Ae.length){case 0:return new Fe;case 1:return new Fe(Ae[0]);case 2:return new Fe(Ae[0],Ae[1]);case 3:return new Fe(Ae[0],Ae[1],Ae[2]);case 4:return new Fe(Ae[0],Ae[1],Ae[2],Ae[3])}var Qe=[null];return R(oe,Qe,Ae),new(R(E,Fe,Qe))}var qe=Ve.prototype,Ne=W(N(qe)?qe:se),Ke=R(Fe,Ne,Ae);return N(Ke)?Ke:Ne}})},1074:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(1935),R=b(6833),E=b(858),A=b(2063),I=b(1200),N=b(3184);O({target:"Reflect",stat:!0},{get:function W($,te){var oe,fe,se=arguments.length<3?$:arguments[2];return E($)===se?$[te]:(oe=I.f($,te))?A(oe)?oe.value:void 0===oe.get?void 0:S(oe.get,se):R(fe=N($))?W(fe,te,se):void 0}})},5718:(Z,ae,b)=>{"use strict";var O=b(740),S=b(6308),R=b(4450),E=b(9814),A=b(9051),I=b(2257),N=b(5798),W=b(5245).f,$=b(9807),te=b(6695),se=b(2839),oe=b(891),fe=b(2684),K=b(890),ce=b(5548),we=b(2325),Fe=b(780),Ae=b(2267).enforce,Ve=b(6501),Qe=b(8713),qe=b(8112),Ne=b(2666),Ke=Qe("match"),ct=S.RegExp,st=ct.prototype,dt=S.SyntaxError,kt=R(st.exec),It=R("".charAt),At=R("".replace),Bt=R("".indexOf),Ut=R("".slice),sn=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Te=/a/g,ye=/a/g,gt=new ct(Te)!==Te,Et=fe.MISSED_STICKY,Xt=fe.UNSUPPORTED_Y;if(E("RegExp",O&&(!gt||Et||qe||Ne||we(function(){return ye[Ke]=!1,ct(Te)!==Te||ct(ye)===ye||"/a/i"!==String(ct(Te,"i"))})))){for(var zn=function(Ur,vn){var zr,xe,Pe,nt,Ct,it,Qt=$(st,this),ci=te(Ur),ii=void 0===vn,li=[],Qr=Ur;if(!Qt&&ci&&ii&&Ur.constructor===zn)return Ur;if((ci||$(st,Ur))&&(Ur=Ur.source,ii&&(vn=oe(Qr))),Ur=void 0===Ur?"":se(Ur),vn=void 0===vn?"":se(vn),Qr=Ur,qe&&"dotAll"in Te&&(xe=!!vn&&Bt(vn,"s")>-1)&&(vn=At(vn,/s/g,"")),zr=vn,Et&&"sticky"in Te&&(Pe=!!vn&&Bt(vn,"y")>-1)&&Xt&&(vn=At(vn,/y/g,"")),Ne&&(nt=function($n){for(var Pe,Ur=$n.length,vn=0,Qt="",ci=[],ii=N(null),li=!1,Qr=!1,zr=0,xe="";vn<=Ur;vn++){if("\\"===(Pe=It($n,vn)))Pe+=It($n,++vn);else if("]"===Pe)li=!1;else if(!li)switch(!0){case"["===Pe:li=!0;break;case"("===Pe:kt(sn,Ut($n,vn+1))&&(vn+=2,Qr=!0),Qt+=Pe,zr++;continue;case">"===Pe&&Qr:if(""===xe||Fe(ii,xe))throw new dt("Invalid capture group name");ii[xe]=!0,ci[ci.length]=[xe,zr],Qr=!1,xe="";continue}Qr?xe+=Pe:Qt+=Pe}return[Qt,ci]}(Ur),Ur=nt[0],li=nt[1]),Ct=A(ct(Ur,vn),Qt?this:st,zn),(xe||Pe||li.length)&&(it=Ae(Ct),xe&&(it.dotAll=!0,it.raw=zn(function($n){for(var ii,Ur=$n.length,vn=0,Qt="",ci=!1;vn<=Ur;vn++)"\\"!==(ii=It($n,vn))?ci||"."!==ii?("["===ii?ci=!0:"]"===ii&&(ci=!1),Qt+=ii):Qt+="[\\s\\S]":Qt+=ii+It($n,++vn);return Qt}(Ur),zr)),Pe&&(it.sticky=!0),li.length&&(it.groups=li)),Ur!==Qr)try{I(Ct,"source",""===Qr?"(?:)":Qr)}catch(Ot){}return Ct},vr=W(ct),dr=0;vr.length>dr;)K(zn,ct,vr[dr++]);st.constructor=zn,zn.prototype=st,ce(S,"RegExp",zn,{constructor:!0})}Ve("RegExp")},9065:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4408);O({target:"RegExp",proto:!0,forced:/./.exec!==S},{exec:S})},4892:(Z,ae,b)=>{"use strict";var O=b(8822).PROPER,S=b(5548),R=b(858),E=b(2839),A=b(2325),I=b(891),N="toString",W=RegExp.prototype,$=W[N];(A(function(){return"/a/b"!==$.call({source:"a",flags:"b"})})||O&&$.name!==N)&&S(W,N,function(){var fe=R(this);return"/"+E(fe.source)+"/"+E(I(fe))},{unsafe:!0})},2104:(Z,ae,b)=>{"use strict";b(2848)("Set",function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},b(2782))},3494:(Z,ae,b)=>{"use strict";b(2104)},9088:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(2266).codeAt;O({target:"String",proto:!0},{codePointAt:function(E){return S(this,E)}})},8971:(Z,ae,b)=>{"use strict";var K,O=b(3514),S=b(9222),R=b(1200).f,E=b(2631),A=b(2839),I=b(9079),N=b(5028),W=b(4886),$=b(777),te=S("".slice),se=Math.min,oe=W("endsWith");O({target:"String",proto:!0,forced:!(!$&&!oe&&(K=R(String.prototype,"endsWith"),K&&!K.writable)||oe)},{endsWith:function(ce){var we=A(N(this));I(ce);var Fe=arguments.length>1?arguments[1]:void 0,Ae=we.length,Ve=void 0===Fe?Ae:se(E(Fe),Ae),Qe=A(ce);return te(we,Ve-Qe.length,Ve)===Qe}})},1295:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4450),R=b(9079),E=b(5028),A=b(2839),I=b(4886),N=S("".indexOf);O({target:"String",proto:!0,forced:!I("includes")},{includes:function($){return!!~N(A(E(this)),A(R($)),arguments.length>1?arguments[1]:void 0)}})},3119:(Z,ae,b)=>{"use strict";var O=b(2266).charAt,S=b(2839),R=b(2267),E=b(321),A=b(72),I="String Iterator",N=R.set,W=R.getterFor(I);E(String,"String",function($){N(this,{type:I,string:S($),index:0})},function(){var fe,te=W(this),se=te.string,oe=te.index;return oe>=se.length?A(void 0,!0):(fe=O(se,oe),te.index+=fe.length,A(fe,!1))})},6541:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(5899);O({target:"String",proto:!0,forced:b(5648)("link")},{link:function(A){return S(this,"a","href",A)}})},3808:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(2916),R=b(858),E=b(6710),A=b(2631),I=b(2839),N=b(5028),W=b(8081),$=b(8431),te=b(8626);S("match",function(se,oe,fe){return[function(ce){var we=N(this),Fe=E(ce)?void 0:W(ce,se);return Fe?O(Fe,ce,we):new RegExp(ce)[se](I(we))},function(K){var ce=R(this),we=I(K),Fe=fe(oe,ce,we);if(Fe.done)return Fe.value;if(!ce.global)return te(ce,we);var Ae=ce.unicode;ce.lastIndex=0;for(var qe,Ve=[],Qe=0;null!==(qe=te(ce,we));){var Ne=I(qe[0]);Ve[Qe]=Ne,""===Ne&&(ce.lastIndex=$(we,A(ce.lastIndex),Ae)),Qe++}return 0===Qe?null:Ve}]})},3945:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(1660).start;O({target:"String",proto:!0,forced:b(1562)},{padStart:function(A){return S(this,A,arguments.length>1?arguments[1]:void 0)}})},3799:(Z,ae,b)=>{"use strict";b(3514)({target:"String",proto:!0},{repeat:b(109)})},8634:(Z,ae,b)=>{"use strict";var O=b(9769),S=b(1935),R=b(4450),E=b(2916),A=b(2325),I=b(858),N=b(337),W=b(6710),$=b(2268),te=b(2631),se=b(2839),oe=b(5028),fe=b(8431),K=b(8081),ce=b(6924),we=b(8626),Ae=b(8713)("replace"),Ve=Math.max,Qe=Math.min,qe=R([].concat),Ne=R([].push),Ke=R("".indexOf),ct=R("".slice),st=function(At){return void 0===At?At:String(At)},dt="$0"==="a".replace(/./,"$0"),kt=!!/./[Ae]&&""===/./[Ae]("a","$0");E("replace",function(At,Bt,Ut){var sn=kt?"$":"$0";return[function(ye,gt){var Et=oe(this),Xt=W(ye)?void 0:K(ye,Ae);return Xt?S(Xt,ye,Et,gt):S(Bt,se(Et),ye,gt)},function(Te,ye){var gt=I(this),Et=se(Te);if("string"==typeof ye&&-1===Ke(ye,sn)&&-1===Ke(ye,"$<")){var Xt=Ut(Bt,gt,Et,ye);if(Xt.done)return Xt.value}var an=N(ye);an||(ye=se(ye));var Pt,kn=gt.global;kn&&(Pt=gt.unicode,gt.lastIndex=0);for(var vr,zn=[];null!==(vr=we(gt,Et))&&(Ne(zn,vr),kn);)""===se(vr[0])&&(gt.lastIndex=fe(Et,te(gt.lastIndex),Pt));for(var $n="",Ur=0,vn=0;vn<zn.length;vn++){for(var li,Qt=se((vr=zn[vn])[0]),ci=Ve(Qe($(vr.index),Et.length),0),ii=[],Qr=1;Qr<vr.length;Qr++)Ne(ii,st(vr[Qr]));var zr=vr.groups;if(an){var xe=qe([Qt],ii,ci,Et);void 0!==zr&&Ne(xe,zr),li=se(O(ye,void 0,xe))}else li=ce(Qt,Et,ci,ii,zr,ye);ci>=Ur&&($n+=ct(Et,Ur,ci)+li,Ur=ci+Qt.length)}return $n+ct(Et,Ur)}]},!!A(function(){var At=/./;return At.exec=function(){var Bt=[];return Bt.groups={a:"7"},Bt},"7"!=="".replace(At,"$<a>")})||!dt||kt)},8859:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(2916),R=b(858),E=b(6710),A=b(5028),I=b(7931),N=b(2839),W=b(8081),$=b(8626);S("search",function(te,se,oe){return[function(K){var ce=A(this),we=E(K)?void 0:W(K,te);return we?O(we,K,ce):new RegExp(K)[te](N(ce))},function(fe){var K=R(this),ce=N(fe),we=oe(se,K,ce);if(we.done)return we.value;var Fe=K.lastIndex;I(Fe,0)||(K.lastIndex=0);var Ae=$(K,ce);return I(K.lastIndex,Fe)||(K.lastIndex=Fe),null===Ae?-1:Ae.index}]})},620:(Z,ae,b)=>{"use strict";var O=b(1935),S=b(4450),R=b(2916),E=b(858),A=b(6710),I=b(5028),N=b(1487),W=b(8431),$=b(2631),te=b(2839),se=b(8081),oe=b(8626),fe=b(2684),K=b(2325),ce=fe.UNSUPPORTED_Y,Fe=Math.min,Ae=S([].push),Ve=S("".slice),Qe=!K(function(){var Ne=/(?:)/,Ke=Ne.exec;Ne.exec=function(){return Ke.apply(this,arguments)};var ct="ab".split(Ne);return 2!==ct.length||"a"!==ct[0]||"b"!==ct[1]}),qe="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;R("split",function(Ne,Ke,ct){var st="0".split(void 0,0).length?function(dt,kt){return void 0===dt&&0===kt?[]:O(Ke,this,dt,kt)}:Ke;return[function(kt,It){var At=I(this),Bt=A(kt)?void 0:se(kt,Ne);return Bt?O(Bt,kt,At,It):O(st,te(At),kt,It)},function(dt,kt){var It=E(this),At=te(dt);if(!qe){var Bt=ct(st,It,At,kt,st!==Ke);if(Bt.done)return Bt.value}var Ut=N(It,RegExp),sn=It.unicode,ye=new Ut(ce?"^(?:"+It.source+")":It,(It.ignoreCase?"i":"")+(It.multiline?"m":"")+(It.unicode?"u":"")+(ce?"g":"y")),gt=void 0===kt?4294967295:kt>>>0;if(0===gt)return[];if(0===At.length)return null===oe(ye,At)?[At]:[];for(var Et=0,Xt=0,an=[];Xt<At.length;){ye.lastIndex=ce?0:Xt;var Pt,kn=oe(ye,ce?Ve(At,Xt):At);if(null===kn||(Pt=Fe($(ye.lastIndex+(ce?Xt:0)),At.length))===Et)Xt=W(At,Xt,sn);else{if(Ae(an,Ve(At,Et,Xt)),an.length===gt)return an;for(var zn=1;zn<=kn.length-1;zn++)if(Ae(an,kn[zn]),an.length===gt)return an;Xt=Et=Pt}}return Ae(an,Ve(At,Et)),an}]},qe||!Qe,ce)},3112:(Z,ae,b)=>{"use strict";var K,O=b(3514),S=b(9222),R=b(1200).f,E=b(2631),A=b(2839),I=b(9079),N=b(5028),W=b(4886),$=b(777),te=S("".slice),se=Math.min,oe=W("startsWith");O({target:"String",proto:!0,forced:!(!$&&!oe&&(K=R(String.prototype,"startsWith"),K&&!K.writable)||oe)},{startsWith:function(ce){var we=A(N(this));I(ce);var Fe=E(se(arguments.length>1?arguments[1]:void 0,we.length)),Ae=A(ce);return te(we,Fe,Fe+Ae.length)===Ae}})},4994:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4179).trim;O({target:"String",proto:!0,forced:b(145)("trim")},{trim:function(){return S(this)}})},5815:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),R=b(1935),E=b(4450),A=b(777),I=b(740),N=b(6762),W=b(2325),$=b(780),te=b(9807),se=b(858),oe=b(6050),fe=b(263),K=b(2839),ce=b(2016),we=b(5798),Fe=b(5354),Ae=b(5245),Ve=b(2495),Qe=b(3729),qe=b(1200),Ne=b(5909),Ke=b(8324),ct=b(1349),st=b(5548),dt=b(5345),kt=b(3576),It=b(2351),At=b(2561),Bt=b(1154),Ut=b(8713),sn=b(8219),Te=b(4665),ye=b(7958),gt=b(2801),Et=b(2267),Xt=b(482).forEach,an=It("hidden"),kn="Symbol",Pt="prototype",zn=Et.set,vr=Et.getterFor(kn),dr=Object[Pt],$n=S.Symbol,Ur=$n&&$n[Pt],vn=S.RangeError,Qt=S.TypeError,ci=S.QObject,ii=qe.f,li=Ne.f,Qr=Ve.f,zr=ct.f,xe=E([].push),Pe=kt("symbols"),nt=kt("op-symbols"),Ct=kt("wks"),it=!ci||!ci[Pt]||!ci[Pt].findChild,Ot=function(_r,Mr,Kn){var Zn=ii(dr,Mr);Zn&&delete dr[Mr],li(_r,Mr,Kn),Zn&&_r!==dr&&li(dr,Mr,Zn)},St=I&&W(function(){return 7!==we(li({},"a",{get:function(){return li(this,"a",{value:7}).a}})).a})?Ot:li,pt=function(_r,Mr){var Kn=Pe[_r]=we(Ur);return zn(Kn,{type:kn,tag:_r,description:Mr}),I||(Kn.description=Mr),Kn},et=function(Mr,Kn,Zn){Mr===dr&&et(nt,Kn,Zn),se(Mr);var Er=fe(Kn);return se(Zn),$(Pe,Er)?(Zn.enumerable?($(Mr,an)&&Mr[an][Er]&&(Mr[an][Er]=!1),Zn=we(Zn,{enumerable:ce(0,!1)})):($(Mr,an)||li(Mr,an,ce(1,we(null))),Mr[an][Er]=!0),St(Mr,Er,Zn)):li(Mr,Er,Zn)},Ze=function(Mr,Kn){se(Mr);var Zn=oe(Kn),Er=Fe(Zn).concat(rr(Zn));return Xt(Er,function(Jo){(!I||R(Lt,Zn,Jo))&&et(Mr,Jo,Zn[Jo])}),Mr},Lt=function(Mr){var Kn=fe(Mr),Zn=R(zr,this,Kn);return!(this===dr&&$(Pe,Kn)&&!$(nt,Kn))&&(!(Zn||!$(this,Kn)||!$(Pe,Kn)||$(this,an)&&this[an][Kn])||Zn)},Sn=function(Mr,Kn){var Zn=oe(Mr),Er=fe(Kn);if(Zn!==dr||!$(Pe,Er)||$(nt,Er)){var Jo=ii(Zn,Er);return Jo&&$(Pe,Er)&&!($(Zn,an)&&Zn[an][Er])&&(Jo.enumerable=!0),Jo}},lr=function(Mr){var Kn=Qr(oe(Mr)),Zn=[];return Xt(Kn,function(Er){!$(Pe,Er)&&!$(At,Er)&&xe(Zn,Er)}),Zn},rr=function(_r){var Mr=_r===dr,Kn=Qr(Mr?nt:oe(_r)),Zn=[];return Xt(Kn,function(Er){$(Pe,Er)&&(!Mr||$(dr,Er))&&xe(Zn,Pe[Er])}),Zn};N||(st(Ur=($n=function(){if(te(Ur,this))throw new Qt("Symbol is not a constructor");var Mr=arguments.length&&void 0!==arguments[0]?K(arguments[0]):void 0,Kn=Bt(Mr),Zn=function(Er){var Jo=void 0===this?S:this;Jo===dr&&R(Zn,nt,Er),$(Jo,an)&&$(Jo[an],Kn)&&(Jo[an][Kn]=!1);var Na=ce(1,Er);try{St(Jo,Kn,Na)}catch(Oi){if(!(Oi instanceof vn))throw Oi;Ot(Jo,Kn,Na)}};return I&&it&&St(dr,Kn,{configurable:!0,set:Zn}),pt(Kn,Mr)})[Pt],"toString",function(){return vr(this).tag}),st($n,"withoutSetter",function(_r){return pt(Bt(_r),_r)}),ct.f=Lt,Ne.f=et,Ke.f=Ze,qe.f=Sn,Ae.f=Ve.f=lr,Qe.f=rr,sn.f=function(_r){return pt(Ut(_r),_r)},I&&(dt(Ur,"description",{configurable:!0,get:function(){return vr(this).description}}),A||st(dr,"propertyIsEnumerable",Lt,{unsafe:!0}))),O({global:!0,constructor:!0,wrap:!0,forced:!N,sham:!N},{Symbol:$n}),Xt(Fe(Ct),function(_r){Te(_r)}),O({target:kn,stat:!0,forced:!N},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),O({target:"Object",stat:!0,forced:!N,sham:!I},{create:function(Mr,Kn){return void 0===Kn?we(Mr):Ze(we(Mr),Kn)},defineProperty:et,defineProperties:Ze,getOwnPropertyDescriptor:Sn}),O({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:lr}),ye(),gt($n,kn),At[an]=!0},5986:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(740),R=b(6308),E=b(4450),A=b(780),I=b(337),N=b(9807),W=b(2839),$=b(5345),te=b(7289),se=R.Symbol,oe=se&&se.prototype;if(S&&I(se)&&(!("description"in oe)||void 0!==se().description)){var fe={},K=function(){var Ne=arguments.length<1||void 0===arguments[0]?void 0:W(arguments[0]),Ke=N(oe,this)?new se(Ne):void 0===Ne?se():se(Ne);return""===Ne&&(fe[Ke]=!0),Ke};te(K,se),K.prototype=oe,oe.constructor=K;var ce="Symbol(description detection)"===String(se("description detection")),we=E(oe.valueOf),Fe=E(oe.toString),Ae=/^Symbol\((.*)\)[^)]+$/,Ve=E("".replace),Qe=E("".slice);$(oe,"description",{configurable:!0,get:function(){var Ne=we(this);if(A(fe,Ne))return"";var Ke=Fe(Ne),ct=ce?Qe(Ke,7,-1):Ve(Ke,Ae,"$1");return""===ct?void 0:ct}}),O({global:!0,constructor:!0,forced:!0},{Symbol:K})}},1750:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(4642),R=b(780),E=b(2839),A=b(3576),I=b(3159),N=A("string-to-symbol-registry"),W=A("symbol-to-string-registry");O({target:"Symbol",stat:!0,forced:!I},{for:function($){var te=E($);if(R(N,te))return N[te];var se=S("Symbol")(te);return N[te]=se,W[se]=te,se}})},5845:(Z,ae,b)=>{"use strict";b(4665)("iterator")},183:(Z,ae,b)=>{"use strict";b(5815),b(1750),b(4823),b(8539),b(5197)},4823:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(780),R=b(4152),E=b(8393),A=b(3576),I=b(3159),N=A("symbol-to-string-registry");O({target:"Symbol",stat:!0,forced:!I},{keyFor:function($){if(!R($))throw new TypeError(E($)+" is not a symbol");if(S(N,$))return N[$]}})},7344:(Z,ae,b)=>{"use strict";var O=b(4665),S=b(7958);O("toPrimitive"),S()},6595:(Z,ae,b)=>{"use strict";var Qe,O=b(6559),S=b(6308),R=b(4450),E=b(1719),A=b(6438),I=b(2848),N=b(8298),W=b(6833),$=b(2267).enforce,te=b(2325),se=b(359),oe=Object,fe=Array.isArray,K=oe.isExtensible,ce=oe.isFrozen,we=oe.isSealed,Fe=oe.freeze,Ae=oe.seal,Ve=!S.ActiveXObject&&"ActiveXObject"in S,qe=function(At){return function(){return At(this,arguments.length?arguments[0]:void 0)}},Ne=I("WeakMap",qe,N),Ke=Ne.prototype,ct=R(Ke.set);if(se)if(Ve){Qe=N.getConstructor(qe,"WeakMap",!0),A.enable();var dt=R(Ke.delete),kt=R(Ke.has),It=R(Ke.get);E(Ke,{delete:function(At){if(W(At)&&!K(At)){var Bt=$(this);return Bt.frozen||(Bt.frozen=new Qe),dt(this,At)||Bt.frozen.delete(At)}return dt(this,At)},has:function(Bt){if(W(Bt)&&!K(Bt)){var Ut=$(this);return Ut.frozen||(Ut.frozen=new Qe),kt(this,Bt)||Ut.frozen.has(Bt)}return kt(this,Bt)},get:function(Bt){if(W(Bt)&&!K(Bt)){var Ut=$(this);return Ut.frozen||(Ut.frozen=new Qe),kt(this,Bt)?It(this,Bt):Ut.frozen.get(Bt)}return It(this,Bt)},set:function(Bt,Ut){if(W(Bt)&&!K(Bt)){var sn=$(this);sn.frozen||(sn.frozen=new Qe),kt(this,Bt)?ct(this,Bt,Ut):sn.frozen.set(Bt,Ut)}else ct(this,Bt,Ut);return this}})}else O&&te(function(){var At=Fe([]);return ct(new Ne,At,1),!ce(At)})&&E(Ke,{set:function(Bt,Ut){var sn;return fe(Bt)&&(ce(Bt)?sn=Fe:we(Bt)&&(sn=Ae)),ct(this,Bt,Ut),sn&&sn(Bt),this}})},9336:(Z,ae,b)=>{"use strict";b(6595)},3889:(Z,ae,b)=>{"use strict";b(2848)("WeakSet",function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},b(8298))},6557:(Z,ae,b)=>{"use strict";b(3889)},9043:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),R=b(58).clear;O({global:!0,bind:!0,enumerable:!0,forced:S.clearImmediate!==R},{clearImmediate:R})},6112:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(4988),R=b(5677),E=b(8370),A=b(2257),I=function(W){if(W&&W.forEach!==E)try{A(W,"forEach",E)}catch($){W.forEach=E}};for(var N in S)S[N]&&I(O[N]&&O[N].prototype);I(R)},3217:(Z,ae,b)=>{"use strict";var O=b(6308),S=b(4988),R=b(5677),E=b(346),A=b(2257),I=b(2801),W=b(8713)("iterator"),$=E.values,te=function(oe,fe){if(oe){if(oe[W]!==$)try{A(oe,W,$)}catch(ce){oe[W]=$}if(I(oe,fe,!0),S[fe])for(var K in E)if(oe[K]!==E[K])try{A(oe,K,E[K])}catch(ce){oe[K]=E[K]}}};for(var se in S)te(O[se]&&O[se].prototype,se);te(R,"DOMTokenList")},2056:(Z,ae,b)=>{"use strict";b(9043),b(4553)},4553:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),R=b(58).set,E=b(3994),A=S.setImmediate?E(R,!1):R;O({global:!0,bind:!0,enumerable:!0,forced:S.setImmediate!==A},{setImmediate:A})},7309:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),E=b(3994)(S.setInterval,!0);O({global:!0,bind:!0,forced:S.setInterval!==E},{setInterval:E})},747:(Z,ae,b)=>{"use strict";var O=b(3514),S=b(6308),E=b(3994)(S.setTimeout,!0);O({global:!0,bind:!0,forced:S.setTimeout!==E},{setTimeout:E})},1983:(Z,ae,b)=>{"use strict";b(7309),b(747)},1670:(Z,ae,b)=>{"use strict";function O(R,E,A,I,N,W,$){try{var te=R[W]($),se=te.value}catch(oe){return void A(oe)}te.done?E(se):Promise.resolve(se).then(I,N)}function S(R){return function(){var E=this,A=arguments;return new Promise(function(I,N){var W=R.apply(E,A);function $(se){O(W,I,N,$,te,"next",se)}function te(se){O(W,I,N,$,te,"throw",se)}$(void 0)})}}b.d(ae,{Z:()=>S})}},Z=>{Z(Z.s=3784)}]);
//# sourceMappingURL=main.c5e2054722bcf17e.js.map